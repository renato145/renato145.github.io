{"version":3,"sources":["webpack:///./src/components/Search.js","webpack:///./src/pages/search.tsx"],"names":["Search","indexQuery","useStaticQuery","siteSearchIndex","index","useState","results","setResults","useMemo","Index","load","search","useCallback","event","query","target","value","expand","map","ref","documentStore","getDoc","className","type","placeholder","onChange","sort","a","b","ascending","title","toLowerCase","id","name","tags","description","slug","isRepo","undefined","key","href","to","TagList","linkClassName","SearchPage","location","Layout","headerConfig"],"mappings":"wLAOaA,EAAS,WACpB,IAAMC,EAAaC,yBAAe,cAQhCC,gBAAgBC,MATQ,EAUIC,mBAAS,IAAhCC,EAVmB,KAUVC,EAVU,KAWpBH,EAAQI,mBAAQ,kBAAMC,QAAMC,KAAKT,KAAa,CAACA,IAE/CU,EAASC,uBACb,SAACC,GACC,IAAMC,EAAQD,EAAME,OAAOC,MAC3BT,EACEH,EACGO,OAAOG,EAAO,CAAEG,QAAQ,IACxBC,KAAI,gBAAGC,EAAH,EAAGA,IAAH,OAAaf,EAAMgB,cAAcC,OAAOF,SAGnD,CAACf,IAGH,OACE,oCAIE,2BACEkB,UAAU,wIACVC,KAAK,OACLC,YAAY,mBACZC,SAAUd,IAEZ,yBAAKW,UAAU,kBACZhB,EACEoB,MAAK,SAACC,EAAGC,GAAJ,OACJC,YAAUF,EAAEG,MAAMC,cAAeH,EAAEE,MAAMC,kBAE1Cb,KAAI,YAAmD,IAAhDc,EAA+C,EAA/CA,GAAIF,EAA2C,EAA3CA,MAAOG,EAAoC,EAApCA,KAAMC,EAA8B,EAA9BA,KAAMC,EAAwB,EAAxBA,YAAaC,EAAW,EAAXA,KACpCC,OAAkBC,IAATF,EACf,OACE,yBACEG,IAAKP,EACLV,UAAU,iGAEV,6BACGe,EACC,uBACEG,KAAI,gCAAkCP,EACtCX,UAAU,WAETQ,GAGH,kBAAC,OAAD,CAAMW,GAAIL,EAAMd,UAAU,WACvBQ,IAIP,kBAACY,EAAA,EAAD,CAASR,KAAMA,EAAMS,cAAc,YACnC,uBAAGrB,UAAU,2EACVe,EAAS,qBAAuBF,UCnDpCS,UAfyB,SAAC,GAAiB,IAAfC,EAAe,EAAfA,SAGzC,OACE,kBAACC,EAAA,EAAD,CACED,SAAUA,EACVf,MAAM,GAENiB,aAAc,CAAEjB,MAPN,WASV,kBAAC,EAAD","file":"component---src-pages-search-tsx-4a0b939d097d14efb425.js","sourcesContent":["import React, { useState, useCallback, useMemo } from 'react';\nimport { graphql, useStaticQuery } from 'gatsby';\nimport { Index } from 'elasticlunr';\nimport { Link } from 'gatsby';\nimport { ascending } from 'd3';\nimport { TagList } from './TagList';\n\nexport const Search = () => {\n  const indexQuery = useStaticQuery(\n    graphql`\n      query SearchIndexQuery {\n        siteSearchIndex {\n          index\n        }\n      }\n    `\n  ).siteSearchIndex.index;\n  const [results, setResults] = useState([]);\n  const index = useMemo(() => Index.load(indexQuery), [indexQuery]);\n\n  const search = useCallback(\n    (event) => {\n      const query = event.target.value;\n      setResults(\n        index\n          .search(query, { expand: true })\n          .map(({ ref }) => index.documentStore.getDoc(ref))\n      );\n    },\n    [index]\n  );\n\n  return (\n    <>\n      {/* <Link to=\"/searchGraph\" className=\"text-xs\">\n        Try search graph\n      </Link> */}\n      <input\n        className=\"mt-1 mb-2 bg-white focus:outline-none focus:ring border border-gray-300 rounded py-2 px-4 block w-full appearance-none leading-normal\"\n        type=\"text\"\n        placeholder=\"Search something\"\n        onChange={search}\n      />\n      <div className=\"flex flex-wrap\">\n        {results\n          .sort((a, b) =>\n            ascending(a.title.toLowerCase(), b.title.toLowerCase())\n          )\n          .map(({ id, title, name, tags, description, slug }) => {\n            const isRepo = slug === undefined;\n            return (\n              <div\n                key={id}\n                className=\"w-full lg:w-1/2 xl:w-1/3 px-4 py-3 rounded hover:bg-blue-100 transition duration-200 ease-out\"\n              >\n                <div>\n                  {isRepo ? (\n                    <a\n                      href={`https://github.com/renato145/${name}`}\n                      className=\"text-xl\"\n                    >\n                      {title}\n                    </a>\n                  ) : (\n                    <Link to={slug} className=\"text-xl\">\n                      {title}\n                    </Link>\n                  )}\n                </div>\n                <TagList tags={tags} linkClassName=\"text-xs\" />\n                <p className=\"mt-1 transition duration-200 ease-out text-gray-700 hover:text-gray-900\">\n                  {isRepo ? 'Github repository.' : description}\n                </p>\n              </div>\n            );\n          })}\n      </div>\n    </>\n  );\n};\n","import { PageProps } from 'gatsby';\nimport React from 'react';\nimport { Layout } from '../components/Layout';\nimport { Search } from '../components/Search';\n\nconst SearchPage: React.FC<PageProps> = ({ location }) => {\n  const title = 'Search';\n\n  return (\n    <Layout\n      location={location}\n      title=\"\"\n      // description=\"some description\"\n      headerConfig={{ title}}\n    >\n      <Search />\n    </Layout>\n  );\n};\n\nexport default SearchPage;\n"],"sourceRoot":""}