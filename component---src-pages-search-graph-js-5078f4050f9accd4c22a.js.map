{"version":3,"sources":["webpack:///./node_modules/aframe-extras/src/controls/touch-controls.js","webpack:///./node_modules/accessor-fn/dist/accessor-fn.module.js","webpack:///./node_modules/ngraph.quadtreebh3d/insertStack.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/core-js/modules/es6.math.cbrt.js","webpack:///./node_modules/ngraph.physics.simulator/lib/dragForce.js","webpack:///./node_modules/@emotion/stylis/dist/stylis.browser.esm.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/aframe-extras/lib/ColladaLoader.js","webpack:///./node_modules/bezier-js/lib/utils.js","webpack:///./node_modules/d3-zoom/src/constant.js","webpack:///./node_modules/d3-zoom/src/event.js","webpack:///./node_modules/d3-zoom/src/transform.js","webpack:///./node_modules/d3-zoom/src/noevent.js","webpack:///./node_modules/d3-zoom/src/zoom.js","webpack:///./node_modules/ngraph.random/index.js","webpack:///./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/aframe-extras/src/loaders/fbx-model.js","webpack:///./node_modules/aframe-extras/src/loaders/object-model.js","webpack:///./node_modules/d3-selection/src/mouse.js","webpack:///./node_modules/d3-selection/src/namespaces.js","webpack:///./node_modules/aframe-extras/src/controls/checkpoint-controls.js","webpack:///./node_modules/aframe-extras/src/primitives/a-grid.js","webpack:///./node_modules/d3-selection/src/selection/sparse.js","webpack:///./node_modules/d3-selection/src/selection/enter.js","webpack:///./node_modules/d3-selection/src/selection/data.js","webpack:///./node_modules/d3-selection/src/selection/sort.js","webpack:///./node_modules/d3-selection/src/selection/call.js","webpack:///./node_modules/d3-selection/src/selection/attr.js","webpack:///./node_modules/d3-selection/src/selection/property.js","webpack:///./node_modules/d3-selection/src/selection/classed.js","webpack:///./node_modules/d3-selection/src/selection/text.js","webpack:///./node_modules/d3-selection/src/selection/html.js","webpack:///./node_modules/d3-selection/src/selection/raise.js","webpack:///./node_modules/d3-selection/src/selection/lower.js","webpack:///./node_modules/d3-selection/src/creator.js","webpack:///./node_modules/d3-selection/src/selection/insert.js","webpack:///./node_modules/d3-selection/src/selection/remove.js","webpack:///./node_modules/d3-selection/src/selection/clone.js","webpack:///./node_modules/d3-selection/src/selection/dispatch.js","webpack:///./node_modules/d3-selection/src/selection/index.js","webpack:///./node_modules/d3-selection/src/selection/select.js","webpack:///./node_modules/d3-selection/src/selection/selectAll.js","webpack:///./node_modules/d3-selection/src/selection/filter.js","webpack:///./node_modules/d3-selection/src/constant.js","webpack:///./node_modules/d3-selection/src/selection/exit.js","webpack:///./node_modules/d3-selection/src/selection/join.js","webpack:///./node_modules/d3-selection/src/selection/merge.js","webpack:///./node_modules/d3-selection/src/selection/order.js","webpack:///./node_modules/d3-selection/src/selection/nodes.js","webpack:///./node_modules/d3-selection/src/selection/node.js","webpack:///./node_modules/d3-selection/src/selection/size.js","webpack:///./node_modules/d3-selection/src/selection/empty.js","webpack:///./node_modules/d3-selection/src/selection/each.js","webpack:///./node_modules/d3-selection/src/selection/append.js","webpack:///./node_modules/d3-selection/src/selection/datum.js","webpack:///./node_modules/ngraph.expose/index.js","webpack:///./node_modules/aframe-extras/src/misc/normal-material.js","webpack:///./node_modules/aframe-extras/src/primitives/a-hexgrid.js","webpack:///./node_modules/core-js/modules/es6.array.of.js","webpack:///./node_modules/aframe-extras/lib/default-hex-grid.js","webpack:///./node_modules/core-js/modules/es6.string.small.js","webpack:///./node_modules/ngraph.forcelayout3d/lib/verletIntegrator.js","webpack:///./node_modules/d3-selection/src/point.js","webpack:///./node_modules/aframe-extras/lib/fetch-script.js","webpack:///./node_modules/react-bootstrap/esm/FormContext.js","webpack:///./node_modules/core-js/modules/es7.string.pad-start.js","webpack:///./node_modules/aframe-extras/src/misc/jump-ability.js","webpack:///./node_modules/@emotion/memoize/dist/memoize.browser.esm.js","webpack:///./node_modules/@emotion/is-prop-valid/dist/is-prop-valid.browser.esm.js","webpack:///./node_modules/d3-selection/src/select.js","webpack:///./node_modules/ngraph.events/index.js","webpack:///./node_modules/d3-selection/src/selection/on.js","webpack:///./node_modules/aframe-extras/lib/GamepadButton.js","webpack:///./node_modules/ngraph.forcelayout3d/lib/createBody.js","webpack:///./node_modules/core-js/modules/es7.promise.finally.js","webpack:///./node_modules/ngraph.physics.simulator/lib/spring.js","webpack:///./node_modules/ngraph.physics.simulator/lib/springForce.js","webpack:///./node_modules/d3-selection/src/matcher.js","webpack:///./node_modules/bezier-js/lib/poly-bezier.js","webpack:///./node_modules/aframe-extras/src/controls/gamepad-controls.js","webpack:///./node_modules/aframe-extras/src/misc/mesh-smooth.js","webpack:///./node_modules/three-fly-controls/index.js","webpack:///./node_modules/core-js/modules/es6.object.freeze.js","webpack:///./node_modules/aframe-extras/src/primitives/a-tube.js","webpack:///./node_modules/aframe-extras/src/pathfinding/nav-mesh.js","webpack:///./node_modules/aframe-extras/src/controls/index.js","webpack:///./node_modules/aframe-extras/src/pathfinding/system.js","webpack:///./node_modules/ngraph.quadtreebh3d/index.js","webpack:///./node_modules/ngraph.graph/index.js","webpack:///./node_modules/aframe-extras/src/pathfinding/nav-agent.js","webpack:///./node_modules/core-js/modules/es6.typed.int16-array.js","webpack:///./node_modules/aframe-extras/src/misc/kinematic-body.js","webpack:///./node_modules/aframe-extras/lib/FBXLoader.js","webpack:///./node_modules/shallowequal/index.js","webpack:///./node_modules/aframe-extras/src/misc/sphere-collider.js","webpack:///./node_modules/core-js/modules/es7.string.trim-left.js","webpack:///./node_modules/@tweenjs/tween.js/dist/tween.esm.js","webpack:///./node_modules/ngraph.forcelayout3d/index.js","webpack:///./node_modules/core-js/modules/es6.string.sup.js","webpack:///./node_modules/aframe-extras/lib/keyboard.polyfill.js","webpack:///./node_modules/jerrypick/dist/jerrypick.module.js","webpack:///./node_modules/react-kapsule/dist/react-kapsule.module.js","webpack:///./node_modules/3d-force-graph-vr/dist/3d-force-graph-vr.module.js","webpack:///./node_modules/3d-force-graph-ar/dist/3d-force-graph-ar.module.js","webpack:///./node_modules/three-dragcontrols/lib/index.module.js","webpack:///./node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack:///./node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/construct.js","webpack:///./node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","webpack:///./node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","webpack:///./node_modules/polished/dist/polished.es.js","webpack:///./node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/three-render-objects/dist/three-render-objects.module.js","webpack:///./node_modules/3d-force-graph/dist/3d-force-graph.module.js","webpack:///./node_modules/d3-drag/src/constant.js","webpack:///./node_modules/d3-drag/src/event.js","webpack:///./node_modules/d3-drag/src/drag.js","webpack:///./node_modules/canvas-color-tracker/dist/canvas-color-tracker.module.js","webpack:///./node_modules/force-graph/node_modules/d3-scale/src/init.js","webpack:///./node_modules/force-graph/node_modules/d3-scale/src/ordinal.js","webpack:///./node_modules/force-graph/dist/force-graph.module.js","webpack:///./node_modules/react-force-graph/dist/react-force-graph.module.js","webpack:///./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js","webpack:///./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js","webpack:///./node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js","webpack:///./node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js","webpack:///./node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js","webpack:///./node_modules/@juggle/resize-observer/lib/utils/element.js","webpack:///./node_modules/@juggle/resize-observer/lib/utils/global.js","webpack:///./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js","webpack:///./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js","webpack:///./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js","webpack:///./node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js","webpack:///./node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js","webpack:///./node_modules/@juggle/resize-observer/lib/utils/process.js","webpack:///./node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js","webpack:///./node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js","webpack:///./node_modules/@juggle/resize-observer/lib/utils/scheduler.js","webpack:///./node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js","webpack:///./node_modules/@juggle/resize-observer/lib/ResizeObservation.js","webpack:///./node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js","webpack:///./node_modules/@juggle/resize-observer/lib/ResizeObserverController.js","webpack:///./node_modules/@juggle/resize-observer/lib/ResizeObserver.js","webpack:///./src/components/SearchGraph.js","webpack:///./src/utils/useDimensions.js","webpack:///./src/pages/searchGraph.js","webpack:///./node_modules/ngraph.quadtreebh/node.js","webpack:///./node_modules/ngraph.forcelayout/index.js","webpack:///./node_modules/ngraph.physics.primitives/index.js","webpack:///./node_modules/d3-force-3d/src/center.js","webpack:///./node_modules/d3-binarytree/src/add.js","webpack:///./node_modules/d3-binarytree/src/cover.js","webpack:///./node_modules/d3-binarytree/src/half.js","webpack:///./node_modules/d3-binarytree/src/x.js","webpack:///./node_modules/d3-binarytree/src/binarytree.js","webpack:///./node_modules/d3-binarytree/src/data.js","webpack:///./node_modules/d3-binarytree/src/extent.js","webpack:///./node_modules/d3-binarytree/src/find.js","webpack:///./node_modules/d3-binarytree/src/remove.js","webpack:///./node_modules/d3-binarytree/src/root.js","webpack:///./node_modules/d3-binarytree/src/size.js","webpack:///./node_modules/d3-binarytree/src/visit.js","webpack:///./node_modules/d3-binarytree/src/visitAfter.js","webpack:///./node_modules/d3-octree/src/add.js","webpack:///./node_modules/d3-octree/src/cover.js","webpack:///./node_modules/d3-octree/src/octant.js","webpack:///./node_modules/d3-octree/src/x.js","webpack:///./node_modules/d3-octree/src/y.js","webpack:///./node_modules/d3-octree/src/z.js","webpack:///./node_modules/d3-octree/src/octree.js","webpack:///./node_modules/d3-octree/src/data.js","webpack:///./node_modules/d3-octree/src/extent.js","webpack:///./node_modules/d3-octree/src/find.js","webpack:///./node_modules/d3-octree/src/remove.js","webpack:///./node_modules/d3-octree/src/root.js","webpack:///./node_modules/d3-octree/src/size.js","webpack:///./node_modules/d3-octree/src/visit.js","webpack:///./node_modules/d3-octree/src/visitAfter.js","webpack:///./node_modules/d3-force-3d/src/constant.js","webpack:///./node_modules/d3-force-3d/src/jiggle.js","webpack:///./node_modules/d3-force-3d/src/link.js","webpack:///./node_modules/d3-force-3d/src/simulation.js","webpack:///./node_modules/d3-force-3d/src/manyBody.js","webpack:///./node_modules/d3-force-3d/src/radial.js","webpack:///./node_modules/bezier-js/lib/bezier.js","webpack:///./node_modules/core-js/modules/_string-pad.js","webpack:///./node_modules/core-js/modules/es6.number.epsilon.js","webpack:///./node_modules/@emotion/unitless/dist/unitless.browser.esm.js","webpack:///./node_modules/react-bootstrap/esm/Feedback.js","webpack:///./node_modules/aframe-extras/index.js","webpack:///./node_modules/kapsule/dist/kapsule.module.js","webpack:///./node_modules/d3-selection/src/selection/style.js","webpack:///./node_modules/ngraph.physics.simulator/lib/createBody.js","webpack:///./node_modules/ngraph.quadtreebh3d/node.js","webpack:///./node_modules/ngraph.forcelayout3d/lib/bounds.js","webpack:///./node_modules/aframe-extras/src/loaders/animation-mixer.js","webpack:///./node_modules/d3-selection/src/selectorAll.js","webpack:///./node_modules/react-bootstrap/esm/FormCheckInput.js","webpack:///./node_modules/react-bootstrap/esm/FormCheckLabel.js","webpack:///./node_modules/react-bootstrap/esm/FormCheck.js","webpack:///./node_modules/react-bootstrap/esm/FormFileInput.js","webpack:///./node_modules/react-bootstrap/esm/FormFileLabel.js","webpack:///./node_modules/react-bootstrap/esm/FormFile.js","webpack:///./node_modules/react-bootstrap/esm/FormGroup.js","webpack:///./node_modules/react-bootstrap/esm/Col.js","webpack:///./node_modules/react-bootstrap/esm/FormLabel.js","webpack:///./node_modules/react-bootstrap/esm/FormText.js","webpack:///./node_modules/react-bootstrap/esm/Switch.js","webpack:///./node_modules/react-bootstrap/esm/Form.js","webpack:///./node_modules/d3-selection/src/sourceEvent.js","webpack:///./node_modules/bezier-js/lib/svg-to-beziers.js","webpack:///./node_modules/react-is/index.js","webpack:///./node_modules/ngraph.quadtreebh/index.js","webpack:///./node_modules/d3/dist/package.js","webpack:///./node_modules/d3-axis/src/array.js","webpack:///./node_modules/d3-brush/src/brush.js","webpack:///./node_modules/d3-chord/src/math.js","webpack:///./node_modules/d3-chord/src/array.js","webpack:///./node_modules/d3-collection/src/map.js","webpack:///./node_modules/d3-collection/src/set.js","webpack:///./node_modules/d3-contour/src/array.js","webpack:///./node_modules/d3-fetch/src/buffer.js","webpack:///./node_modules/d3-dsv/src/csv.js","webpack:///./node_modules/d3-dsv/src/tsv.js","webpack:///./node_modules/d3-fetch/src/text.js","webpack:///./node_modules/d3-fetch/src/dsv.js","webpack:///./node_modules/d3-fetch/src/xml.js","webpack:///./node_modules/d3-force/src/constant.js","webpack:///./node_modules/d3-force/src/jiggle.js","webpack:///./node_modules/d3-force/src/collide.js","webpack:///./node_modules/d3-force/src/simulation.js","webpack:///./node_modules/d3-random/src/defaultSource.js","webpack:///./node_modules/d3-random/src/normal.js","webpack:///./node_modules/d3-random/src/uniform.js","webpack:///./node_modules/d3-random/src/irwinHall.js","webpack:///./node_modules/d3-random/src/logNormal.js","webpack:///./node_modules/d3-random/src/bates.js","webpack:///./node_modules/d3-random/src/exponential.js","webpack:///./node_modules/d3-scale/src/array.js","webpack:///./node_modules/d3-voronoi/src/RedBlackTree.js","webpack:///./node_modules/d3-voronoi/src/Edge.js","webpack:///./node_modules/d3-voronoi/src/Cell.js","webpack:///./node_modules/d3-voronoi/src/Circle.js","webpack:///./node_modules/d3-voronoi/src/Beach.js","webpack:///./node_modules/d3-voronoi/src/Diagram.js","webpack:///./node_modules/bezier-js/lib/normalise-svg.js","webpack:///./node_modules/aframe-extras/src/misc/cube-env-map.js","webpack:///./node_modules/ngraph.merge/index.js","webpack:///./node_modules/d3-selection/src/touch.js","webpack:///./node_modules/aframe-extras/src/misc/index.js","webpack:///./node_modules/elasticlunr/elasticlunr.js","webpack:///./node_modules/tinycolor2/tinycolor.js","webpack:///./node_modules/core-js/modules/es6.string.sub.js","webpack:///./node_modules/core-js/modules/es6.typed.uint8-clamped-array.js","webpack:///./node_modules/d3-selection/src/selector.js","webpack:///./node_modules/d3-selection/src/namespace.js","webpack:///./node_modules/aframe-extras/src/primitives/index.js","webpack:///./node_modules/ngraph.forcelayout3d/lib/springForce.js","webpack:///./node_modules/aframe-extras/src/misc/checkpoint.js","webpack:///./node_modules/aframe-forcegraph-component/index.js","webpack:///./node_modules/d3-drag/src/noevent.js","webpack:///./node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/ngraph.physics.simulator/lib/bounds.js","webpack:///./node_modules/ngraph.forcelayout3d/lib/dragForce.js","webpack:///./node_modules/aframe-extras/src/misc/grab.js","webpack:///./node_modules/aframe-extras/src/controls/movement-controls.js","webpack:///./node_modules/lodash.throttle/index.js","webpack:///./node_modules/aframe-extras/src/controls/keyboard-controls.js","webpack:///./node_modules/data-joint/dist/data-joint.module.js","webpack:///./node_modules/three-forcegraph/node_modules/d3-scale/src/init.js","webpack:///./node_modules/three-forcegraph/node_modules/d3-scale/src/ordinal.js","webpack:///./node_modules/three-forcegraph/dist/three-forcegraph.module.js","webpack:///./node_modules/react-bootstrap/esm/FormControl.js","webpack:///./node_modules/core-js/modules/es6.number.min-safe-integer.js","webpack:///./node_modules/aframe-extras/src/primitives/a-ocean.js","webpack:///./node_modules/ngraph.quadtreebh/insertStack.js","webpack:///./node_modules/aframe-extras/src/loaders/index.js","webpack:///./node_modules/index-array-by/dist/index-array-by.module.js","webpack:///./node_modules/fromentries/index.js","webpack:///./node_modules/aframe-extras/src/pathfinding/index.js","webpack:///./node_modules/aframe-extras/src/loaders/collada-model-legacy.js","webpack:///./node_modules/aframe-extras/lib/GamepadButtonEvent.js","webpack:///./node_modules/d3-selection/src/window.js","webpack:///./node_modules/three-trackballcontrols/index.js","webpack:///./node_modules/react-is/cjs/react-is.production.min.js","webpack:///./node_modules/ngraph.quadtreebh3d/isSamePosition.js","webpack:///./node_modules/ngraph.forcelayout3d/lib/eulerIntegrator.js","webpack:///./node_modules/three-orbit-controls/index.js","webpack:///./node_modules/debounce/index.js","webpack:///./node_modules/core-js/modules/es6.typed.int8-array.js","webpack:///./node_modules/d3-timer/src/timeout.js","webpack:///./node_modules/d3-transition/src/transition/schedule.js","webpack:///./node_modules/d3-transition/src/interrupt.js","webpack:///./node_modules/d3-transition/src/transition/tween.js","webpack:///./node_modules/d3-transition/src/transition/interpolate.js","webpack:///./node_modules/d3-transition/src/transition/attr.js","webpack:///./node_modules/d3-transition/src/transition/attrTween.js","webpack:///./node_modules/d3-transition/src/transition/delay.js","webpack:///./node_modules/d3-transition/src/transition/duration.js","webpack:///./node_modules/d3-transition/src/transition/ease.js","webpack:///./node_modules/d3-transition/src/transition/on.js","webpack:///./node_modules/d3-transition/src/transition/remove.js","webpack:///./node_modules/d3-transition/src/transition/selection.js","webpack:///./node_modules/d3-transition/src/transition/style.js","webpack:///./node_modules/d3-transition/src/transition/styleTween.js","webpack:///./node_modules/d3-transition/src/transition/textTween.js","webpack:///./node_modules/d3-transition/src/transition/index.js","webpack:///./node_modules/d3-transition/src/transition/select.js","webpack:///./node_modules/d3-transition/src/transition/selectAll.js","webpack:///./node_modules/d3-transition/src/transition/filter.js","webpack:///./node_modules/d3-transition/src/transition/merge.js","webpack:///./node_modules/d3-transition/src/transition/transition.js","webpack:///./node_modules/d3-transition/src/transition/text.js","webpack:///./node_modules/d3-transition/src/transition/end.js","webpack:///./node_modules/d3-transition/src/selection/transition.js","webpack:///./node_modules/d3-ease/src/cubic.js","webpack:///./node_modules/d3-transition/src/selection/index.js","webpack:///./node_modules/d3-transition/src/selection/interrupt.js","webpack:///./node_modules/aframe-extras/src/loaders/gltf-model-legacy.js","webpack:///./node_modules/bezier-js/index.js","webpack:///./node_modules/d3-drag/src/nodrag.js","webpack:///./node_modules/core-js/modules/es6.string.link.js","webpack:///./node_modules/ngraph.physics.simulator/lib/eulerIntegrator.js","webpack:///./node_modules/three-pathfinding/dist/three-pathfinding.module.js","webpack:///./node_modules/ngraph.physics.simulator/index.js","webpack:///./node_modules/styled-components/dist/styled-components.browser.esm.js","webpack:///./node_modules/d3-scale-chromatic/src/categorical/Paired.js","webpack:///./node_modules/d3-scale-chromatic/src/colors.js","webpack:///./node_modules/core-js/modules/es6.weak-set.js","webpack:///./node_modules/ngraph.quadtreebh/isSamePosition.js","webpack:///./node_modules/aframe-extras/src/controls/trackpad-controls.js","webpack:///./node_modules/aframe-extras/lib/hex-grid.min.js"],"names":["module","exports","AFRAME","registerComponent","schema","enabled","reverseEnabled","init","this","dVelocity","THREE","Vector3","bindMethods","direction","play","addEventListeners","pause","removeEventListeners","set","remove","sceneEl","el","canvasEl","canvas","addEventListener","onTouchStart","onTouchEnd","bind","removeEventListener","isVelocityActive","data","getVelocityDelta","z","clone","e","touches","length","preventDefault","p","Function","obj","InsertStack","stack","popIdx","InsertStackElement","node","body","prototype","isEmpty","push","item","pop","reset","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","arr","$export","sign","S","cbrt","x","Math","pow","abs","options","merge","api","update","force","dragCoeff","velocity","y","expose","W","X","d","c","h","trim","split","ia","a","m","b","Z","v","n","charCodeAt","replace","F","indexOf","P","substring","w","L","ja","ka","test","aa","G","ba","la","ma","R","na","ea","oa","H","q","g","A","call","B","U","prefix","D","M","k","C","K","u","l","r","I","t","J","f","N","charAt","ca","O","join","da","fa","Y","E","ha","Q","use","T","iter","Symbol","iterator","Object","Array","from","ColladaLoader","manager","undefined","DefaultLoadingManager","constructor","crossOrigin","load","url","onLoad","onProgress","onError","scope","path","LoaderUtils","extractUrlBase","loader","FileLoader","setPath","text","parse","value","setResourcePath","resourcePath","console","warn","setCrossOrigin","getElementsByTagName","xml","name","array","childNodes","i","child","nodeName","parseStrings","parts","parseFloats","parseFloat","parseInts","parseInt","parseId","object","keys","parseAssetUnit","hasAttribute","getAttribute","parseAssetUpAxis","textContent","parseLibrary","libraryName","parser","library","elements","buildLibrary","builder","build","getBuild","parseAnimationSampler","inputs","nodeType","id","semantic","parseAnimationChannel","shift","sid","arraySyntax","memberSyntax","member","indices","sampler","buildAnimation","tracks","channels","samplers","sources","target","hasOwnProperty","channel","inputId","INPUT","outputId","OUTPUT","createKeyframeTracks","buildAnimationChannel","getAnimation","animations","inputSource","outputSource","time","stride","il","j","jl","nodes","object3D","getNode","transform","transforms","defaultMatrix","matrix","transpose","index","keyframes","sort","transformAnimationData","prepareAnimationData","uuid","position","scale","quaternion","Quaternion","animation","times","positionData","quaternionData","scaleData","keyframe","fromArray","decompose","VectorKeyframeTrack","QuaternionKeyframeTrack","property","defaultValue","empty","prev","next","getPrev","getNext","interpolate","createMissingKeyframes","key","buildAnimationClip","duration","end","start","animationTracks","AnimationClip","getAnimationClip","clips","parseSkin","bindShapeMatrix","parseSource","joints","parseJoints","vertexWeights","parseVertexWeights","offset","vcount","buildController","geometry","geometries","skin","weights","jointOffset","JOINT","weightOffset","WEIGHT","jointSource","inverseSource","INV_BIND_MATRIX","jointCount","vertexSkinData","skinIndex","weightId","skinWeight","weight","descending","bindMatrix","Matrix4","identity","boneInverse","buildSkin","skinIndices","skinWeights","buildImage","init_from","getImage","images","parseEffectProfileCOMMON","surfaces","parseEffectNewparam","technique","parseEffectTechnique","extra","parseEffectExtra","parseEffectSurface","parseEffectSampler","source","type","parameters","parseEffectParameters","parseEffectParameter","opaque","parseEffectParameterTexture","parseEffectParameterTextureExtra","parseEffectParameterTextureExtraTechnique","toUpperCase","parseEffectExtraTechnique","buildEffect","buildMaterial","material","effect","effects","profile","MeshPhongMaterial","MeshLambertMaterial","MeshBasicMaterial","getTexture","textureObject","image","extension","slice","lastIndexOf","toLowerCase","tgaLoader","textureLoader","getTextureLoader","texture","wrapS","wrapU","RepeatWrapping","ClampToEdgeWrapping","wrapT","wrapV","offsetU","offsetV","repeat","repeatU","repeatV","parameter","color","map","specular","specularMap","normalMap","lightMap","shininess","emissive","emissiveMap","transparent","transparency","opacity","double_sided","side","DoubleSide","getMaterial","materials","parseCameraOptics","parseCameraTechnique","parseCameraParameters","buildCamera","camera","optics","PerspectiveCamera","yfov","aspect_ratio","znear","zfar","ymag","xmag","aspectRatio","OrthographicCamera","getCamera","cameras","parseLightTechnique","parseLightParameters","Color","falloffAngle","distance","sqrt","buildLight","light","DirectionalLight","PointLight","SpotLight","AmbientLight","copy","getLight","lights","accessor","parseGeometryVertices","parseGeometryPrimitive","primitive","count","hasUV","inputname","max","checkUVCoordinates","primitives","uvsNeedsFix","buildGeometry","vertices","groupedPrimitives","groupPrimitives","primitiveType","buildGeometryType","normal","uv","uv2","BufferGeometry","materialKeys","vc","addGroup","input","prevLength","buildGeometryData","addAttribute","Float32BufferAttribute","pushVector","sourceStride","sourceArray","kl","getGeometry","buildKinematicsModel","parseKinematicsTechniqueCommon","parseKinematicsJoint","links","parseKinematicsLink","parseKinematicsJointParameter","axis","limits","min","zeroPosition","middlePosition","attachments","parseKinematicsAttachment","parseKinematicsTransform","joint","angle","degToRad","parsePhysicsRigidBody","parsePhysicsTechniqueCommon","inertia","mass","parseKinematicsBindJointAxis","param","tmpJointIndex","jointIndex","substr","buildKinematicsScene","buildTransformList","collada","querySelector","vector","parseNode","instanceCameras","instanceControllers","instanceLights","instanceGeometries","instanceNodes","parseNodeInstance","multiply","makeTranslation","makeRotationAxis","log","hasNode","skeletons","instances","instance","symbol","buildSkeleton","boneData","sortedBoneData","skeleton","buildBoneHierarchy","visualScenes","children","error","bone","processed","bones","boneInverses","Skeleton","root","traverse","isBone","buildNode","objects","instanceCamera","controller","controllers","newObjects","buildObjects","isSkinnedMesh","normalizeSkinWeights","instanceLight","Bone","Group","add","fallbackMaterial","resolveMaterialBinding","instanceMaterials","LineBasicMaterial","skinning","attributes","LineSegments","Line","SkinnedMesh","Mesh","buildVisualScene","group","getVisualScene","scene","Scene","DOMParser","parseFromString","version","asset","unit","upAxis","parseAsset","TextureLoader","TGALoader","kinematics","kinematicsModels","physicsModels","kinematicsScenes","mesh","element","setAttribute","prepareNodes","rigidBodies","bindJointAxis","setupAnimations","kinematicsModelId","kinematicsSceneId","visualSceneId","kinematicsModel","kinematicsScene","getKinematicsScene","visualScene","jointMap","targetElement","parentVisualElement","parentElement","connect","m0","getJointValue","jointData","setJointValue","visualElement","visualElementName","setupKinematics","parseScene","setFromEuler","Euler","PI","multiplyScalar","cos","sin","acos","atan2","crt","pi","tau","quart","nMax","Number","MAX_SAFE_INTEGER","nMin","MIN_SAFE_INTEGER","ZERO","utils","Tvalues","Cvalues","arcfn","derivativeFn","compute","points","_3d","order","mt","ret","mt2","t2","dCpts","JSON","stringify","splice","computeWithRatios","ratios","f1","f2","f3","f4","derive","dpoints","dpt","list","between","approximately","precision","sum","len","ds","de","ts","te","lerp","v1","v2","pointToString","s","pointsToString","o","dx1","dy1","dx2","dy2","round","pos","dist","p1","p2","dx","dy","closest","LUT","point","mpos","mdist","forEach","idx","abcratio","bottom","projectionratio","top","lli8","x1","y1","x2","y2","x3","y3","x4","y4","lli4","p3","p4","lli","makeline","Bezier","findbbox","sections","mx","my","MX","MY","bbox","mid","size","shapeintersections","s1","bbox1","s2","bbox2","curveIntersectionThreshold","bboxoverlap","intersections","a1","startcap","forward","back","endcap","a2","l1","virtual","l2","iss","intersects","c1","c2","makeshape","bpl","fpl","shape","self","getminmax","curve","concat","get","align","line","tx","ty","roots","reduce","m1","m2","filter","pa","pb","pc","u1","q2","discriminant","mp3","phi","t1","sd","droots","curvature","kOnly","num","dnm","adk","dk","d1","d2","dd","qdsum","pk","nk","inflections","v3","trm","sq","b1","b2","dim","dims","expandbox","_bbox","pairiteration","c1b","c2b","threshold","_t1","_t2","cc1","cc2","pairs","left","right","pair","results","getccenter","_","dx1p","dy1p","dx2p","dy2p","mx1","my1","mx2","my2","mx1n","my1n","mx2n","my2n","arc","numberSort","ZoomEvent","Transform","translate","apply","applyX","applyY","invert","location","invertX","invertY","rescaleX","domain","range","rescaleY","toString","__zoom","parentNode","nopropagation","stopImmediatePropagation","defaultFilter","ctrlKey","button","defaultExtent","SVGElement","ownerSVGElement","viewBox","baseVal","width","height","clientWidth","clientHeight","defaultTransform","defaultWheelDelta","deltaY","deltaMode","defaultTouchable","navigator","maxTouchPoints","defaultConstrain","extent","translateExtent","dx0","dy0","touchstarting","touchending","constrain","wheelDelta","touchable","scaleExtent","Infinity","listeners","dispatch","clickDistance2","zoom","selection","on","wheeled","mousedowned","dblclicked","touchstarted","touchmoved","touchended","style","p0","centroid","schedule","transition","gesture","arguments","tween","that","args","clean","__zooming","Gesture","active","taps","mouse","wheel","clearTimeout","noevent","setTimeout","wheelidled","view","mousemoved","mouseupped","x0","clientX","y0","clientY","moved","t0","k1","shiftKey","started","changedTouches","touch","identifier","touch0","touch1","l0","dp","dl","collection","interrupt","each","scaleBy","scaleTo","k0","translateBy","translateTo","emit","constant","clickDistance","random","inputSeed","Generator","Date","seed","nextDouble","randomIterator","customRandom","localRandom","Error","callback","shuffle","maxValue","floor","uniform","gaussian","reactIs","REACT_STATICS","childContextTypes","contextType","contextTypes","defaultProps","displayName","getDefaultProps","getDerivedStateFromError","getDerivedStateFromProps","mixins","propTypes","KNOWN_STATICS","caller","callee","arity","MEMO_STATICS","compare","TYPE_STATICS","getStatics","component","isMemo","ForwardRef","render","Memo","defineProperty","getOwnPropertyNames","getOwnPropertySymbols","getOwnPropertyDescriptor","getPrototypeOf","objectPrototype","hoistNonReactStatics","targetComponent","sourceComponent","blacklist","inheritedComponent","targetStatics","sourceStatics","descriptor","arrayLikeToArray","isArray","FBXLoader","src","crossorigin","model","setObject3D","format","removeObject3D","_this","ObjectLoader","event","xhtml","svg","xlink","xmlns","mode","oneOf","animateSpeed","checkpoint","isNavMeshConstrained","targetPosition","setCheckpoint","sync","distanceTo","components","updateNavLocation","getVelocity","setLength","getWorldPosition","getOffset","sub","registerPrimitive","defaultComponents","rotation","mappings","EnterNode","parent","datum","ownerDocument","namespaceURI","_next","_parent","__data__","appendChild","insertBefore","selector","querySelectorAll","bindIndex","enter","exit","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","ascending","NaN","attrRemove","removeAttribute","attrRemoveNS","fullname","removeAttributeNS","space","local","attrConstant","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","propertyRemove","propertyConstant","propertyFunction","classArray","string","classList","ClassList","_node","_names","classedAdd","names","classedRemove","classedTrue","classedFalse","classedFunction","contains","textRemove","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","lower","previousSibling","firstChild","creatorInherit","document","uri","documentElement","createElement","createElementNS","creatorFixed","namespace","constantNull","removeChild","selection_cloneShallow","cloneNode","selection_cloneDeep","dispatchEvent","params","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","Selection","groups","parents","_groups","_parents","select","subgroups","subnode","subgroup","selectAll","selectorAll","match","matcher","enterGroup","updateGroup","previous","i0","i1","_enter","_exit","sparse","onenter","append","onupdate","onexit","groups0","groups1","merges","group0","group1","compareDocumentPosition","compareNode","sortgroups","sortgroup","attr","getAttributeNS","classed","html","create","creator","insert","before","deep","augment","settings","MeshNormalMaterial","flatShading","applyMaterial","isMesh","vg","defaultHexGrid","Primitive","Component","dependencies","fetch","then","response","json","addMesh","grid","HexGrid","fromJSON","board","Board","generateTilemap","addMaterial","createProperty","of","aLen","result","createHTML","bodies","timeStep","tz","coeff","prevPos","createSVGPoint","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","clientLeft","clientTop","removeScript","script","getElementById","fetchScriptInternal","Promise","resolve","reject","timeout","scriptId","now","ceil","async","createScript","timeoutId","disableTimeout","ok","firstScript","appendScript","FormContext","createContext","controlId","$pad","userAgent","WEBKIT_BUG","padStart","maxLength","playerHeight","maxJumps","debug","numJumps","beginJump","events","bindings","collide","onCollide","initialVelocity","reactPropsRegex","fn","cache","arg","prop","subject","reservedWords","validateSubject","eventsStorage","registeredEvents","eventName","ctx","handlers","off","callbacks","fire","fireArguments","callbackInfo","createEventsStorage","filterEvents","mouseenter","mouseleave","filterContextListener","listener","contextListener","related","relatedTarget","event1","event0","parseTypenames","typenames","onRemove","typename","__on","capture","onAdd","wrap","customEvent","sourceEvent","assign","FACE_1","FACE_2","FACE_3","FACE_4","L_SHOULDER_1","R_SHOULDER_1","L_SHOULDER_2","R_SHOULDER_2","SELECT","START","DPAD_UP","DPAD_DOWN","DPAD_LEFT","DPAD_RIGHT","VENDOR","physics","Body3d","core","global","speciesConstructor","promiseResolve","onFinally","isFunction","fromBody","toBody","to","spring","body1","body2","springLength","springCoeff","matches","PolyBezier","curves","valueOf","addCurve","GamepadButton","GamepadButtonEvent","Joystick","rotationSensitivity","system","systems","prevTime","performance","buttons","pitch","Object3D","yaw","_lookVector","Vector2","_moveVector","_dpadVector","addBehavior","tick","dt","updateButtonState","updateRotation","isConnected","dpad","joystick","getDpad","getJoystick","inputX","inputY","isRotationActive","lookControls","hasLookControls","pitchObject","yawObject","lookVector","gamepad","getGamepad","pressed","stdGamepad","getGamepads","xrController","xrGamepad","proxyControls","getButton","getAxis","axes","mapping","connected","getID","computeVertexNormals","FlyControls","domElement","opts","contextmenu","movementSpeed","rollSpeed","dragToLook","autoForward","tmpQuaternion","mouseStatus","moveState","up","down","pitchUp","pitchDown","yawLeft","yawRight","rollLeft","rollRight","moveVector","rotationVector","keydown","altKey","keyCode","movementSpeedMultiplier","updateMovementVector","updateRotationVector","keyup","mousedown","focus","stopPropagation","mousemove","container","getContainerDimensions","halfWidth","halfHeight","pageX","pageY","mouseup","delta","moveMult","rotMult","translateX","translateY","translateZ","normalize","setFromQuaternion","offsetWidth","offsetHeight","offsetLeft","offsetTop","innerWidth","innerHeight","dispose","_mousedown","_mousemove","_mouseup","_keydown","_keyup","isObject","meta","onFreeze","$freeze","it","tube","segments","radius","closed","radialSegments","CatmullRomCurve3","TubeGeometry","prevData","nav","hasLoadedNavMesh","loadNavMesh","navMesh","getObject3D","navMeshGeometry","isBufferGeometry","Geometry","fromBufferGeometry","updateMatrixWorld","applyMatrix","matrixWorld","setNavMeshGeometry","Pathfinding","pathfinder","ZONE","registerSystem","agents","Set","setZoneData","createZone","agent","getNavMesh","addAgent","ctrl","removeAgent","getPath","groupID","findPath","getGroup","getClosestNode","clampStep","endTarget","getChild","quad0","quad1","quad2","quad3","quad4","quad5","quad6","quad7","setChild","gravity","theta","Node","isSamePosition","updateQueue","insertStack","nodesCache","currentInCache","newNode","massX","massY","massZ","front","newBody","stackItem","oldBody","retriesCount","dz","quadIdx","oldLeft","oldTop","oldBack","insertBodies","MAX_VALUE","z1","MIN_VALUE","z2","maxSide","updateBodyForce","sourceBody","queue","fx","fy","fz","queueLength","shiftIdx","pushIdx","differentBody","newOptions","multigraph","uniqueLinkId","Map","multiEdges","suspendEvents","createLink","fromId","toId","linkId","makeLinkId","isMultiEdge","getLink","suffix","Link","changes","recordLinkChange","noop","recordNodeChange","enterModification","exitModification","graphPart","addNode","addLink","fromNode","toNode","link","addLinkToNode","removeLink","removeNode","getNodeCount","getLinkCount","getLinksCount","getNodesCount","getLinks","nodeId","forEachNode","forEachLinkedNode","oriented","forEachOrientedLink","linkedNodeId","forEachNonOrientedLink","forEachLink","beginUpdate","endUpdate","clear","hasLink","eventify","realOn","enterModificationReal","exitModificationReal","recordLinkChangeReal","recordNodeChangeReal","monitorSubscribers","changeType","prevLinks","indexOfElementInArray","fromNodeId","toNodeId","valuesIterator","values","nextValue","done","vDest","vDelta","vNext","destination","speed","raycaster","Raycaster","gazeTarget","vCurrent","vWaypoint","subVectors","lookAt","ray","origin","intersectObject","byteOffset","normalizedVelocity","currentSurfaceNormal","groundNormal","linearDamping","enableSlopes","enableJumps","addComponent","CANNON","Vec3","Body","fixedRotation","addShape","Sphere","addBody","removeBody","removeComponent","beforeStep","step","groundBody","groundHeight","contacts","getContacts","maxInterval","contact","bi","ni","negate","bj","dot","projectOnPlane","rj","ri","raycastToGround","driver","world","hitNormal","vFrom","vTo","Ray","_updateDirection","intersectBody","hasHit","hitNormalWorld","fbxTree","connections","sceneGraph","FBXTreeParser","GeometryParser","AnimationParser","TextParser","BinaryParser","BinaryReader","buffer","littleEndian","dv","DataView","FBXTree","getFbxVersion","convertFBXTimeToSeconds","resourceDirectory","setResponseType","itemError","FBXBuffer","CORRECT","byteLength","convertArrayBufferToString","FBXText","cursor","isFbxFormatASCII","parseConnections","parseImages","textures","parseTextures","parseMaterials","deformers","parseDeformers","geometryMap","connectionMap","Connections","rawConnection","fromID","toID","relationship","has","parentRelationship","ID","childRelationship","blobs","Objects","videoNodes","Video","nodeID","videoNode","RelativeFilename","Filename","arrayBufferContent","Content","ArrayBuffer","base64Content","parseImage","filename","content","fileName","Loader","Handlers","Uint8Array","URL","createObjectURL","Blob","textureMap","textureNodes","Texture","parseTexture","textureNode","loadTexture","attrName","wrapModeU","WrapModeU","wrapModeV","WrapModeV","valueU","valueV","Scaling","currentPath","FileName","materialMap","materialNodes","Material","parseMaterial","materialNode","ShadingModel","parseParameters","setValues","BumpFactor","bumpScale","Diffuse","DiffuseColor","DisplacementFactor","displacementScale","Emissive","EmissiveColor","EmissiveFactor","emissiveIntensity","Opacity","ReflectionFactor","reflectivity","Shininess","Specular","SpecularColor","bumpMap","displacementMap","envMap","EquirectangularReflectionMapping","alphaMap","LayeredTexture","morphTargets","DeformerNodes","Deformer","deformerNode","relationships","attrType","parseSkeleton","geometryID","morphTarget","rawTargets","parseMorphTargets","deformerNodes","rawBones","boneNode","rawBone","transformLink","TransformLink","linkMode","Mode","Indexes","Weights","rawMorphTargets","morphTargetNode","rawMorphTarget","initialWeight","DeformPercent","fullWeights","FullWeights","geoID","modelMap","parseModels","modelNodes","Model","modelNode","setLookAtProperties","connection","bindSkeleton","createAmbientLight","setupMorphMaterials","isGroup","createCamera","createLight","createMesh","createCurve","PropertyBinding","sanitizeNodeName","setModelTransforms","subBone","cameraAttribute","NodeAttribute","CameraProjectionType","nearClippingPlane","NearPlane","farClippingPlane","FarPlane","AspectWidth","AspectHeight","aspect","fov","FieldOfView","focalLength","FocalLength","setFocalLength","lightAttribute","LightType","intensity","Intensity","CastLightOnObject","FarAttenuationEnd","EnableFarAttenuation","InnerAngle","penumbra","OuterAngle","CastShadows","castShadow","vertexColors","VertexColors","FBX_Deformer","geo","linewidth","transformData","eulerOrder","RotationOrder","translation","Lcl_Translation","rotationOffset","RotationOffset","Lcl_Rotation","preRotation","PreRotation","postRotation","PostRotation","Lcl_Scaling","generateTransform","lookAtTarget","bindMatrices","parsePoseNodes","geoConnParent","BindPoseNode","Pose","poseNodes","PoseNode","poseNode","Matrix","GlobalSettings","ambientColor","AmbientColor","morphAttributes","matUuid","sharedMat","geoNodes","parseGeometry","geoNode","parseMeshGeometry","parseNurbsGeometry","GeometricTranslation","GeometricRotation","GeometricScaling","genGeometry","preTransform","geoInfo","parseGeoNode","buffers","genBuffers","positionAttribute","vertex","applyToBufferAttribute","colors","Uint16BufferAttribute","weightsIndices","normalAttribute","Matrix3","getNormalMatrix","uvs","uvBuffer","mappingType","prevMaterialIndex","materialIndex","startIndex","currentIndex","lastGroup","lastIndex","addMorphTargets","vertexPositions","Vertices","vertexIndices","PolygonVertexIndex","LayerElementColor","parseVertexColors","LayerElementMaterial","parseMaterialIndices","LayerElementNormal","parseNormals","LayerElementUV","parseUVs","weightTable","polygonIndex","faceLength","displayedWeightsWarning","facePositionIndexes","faceNormals","faceColors","faceUVs","faceWeights","faceWeightIndices","vertexIndex","polygonVertexIndex","endOfFace","weightIndices","getData","wt","wIndex","Weight","weightIndex","currentWeight","comparedWeight","comparedWeightIndex","comparedWeightArray","tmp","genFace","parentGeo","parentGeoNode","rawTarget","morphGeoNode","genMorphGeometry","morphGeo","morphPositions","morphIndex","morphGeoInfo","morphBuffers","NormalNode","MappingInformationType","referenceType","ReferenceInformationType","Normals","indexBuffer","NormalIndex","NormalsIndex","dataSize","UVNode","UV","UVIndex","ColorNode","Colors","ColorIndex","MaterialNode","materialIndexBuffer","Materials","materialIndices","NURBSCurve","Order","isNaN","startKnot","endKnot","degree","knots","KnotVector","controlPoints","pointsValues","Points","Vector4","Form","getPoints","positions","Float32Array","toArray","BufferAttribute","animationClips","rawClips","parseClips","rawClip","clip","addClip","AnimationCurve","curveNodesMap","parseAnimationCurveNodes","parseAnimationCurves","layersMap","parseAnimationLayers","parseAnimStacks","rawCurveNodes","AnimationCurveNode","rawCurveNode","curveNode","rawCurves","animationCurve","KeyTime","KeyValueFloat","animationCurveID","animationCurveRelationship","rawLayers","AnimationLayer","layerCurveNodes","modelID","rawModel","modelName","initialPosition","initialRotation","initialScale","getModelAnimTransform","preRotations","postRotations","morph","deformerID","morpherID","morphName","rawStacks","AnimationStack","layer","rawTracks","generateTracks","positionTrack","generateVectorTrack","rotationTrack","generateRotationTrack","scaleTrack","morphTrack","generateMorphTrack","initialValue","getTimesForAllAxes","getKeyframeTrackValues","interpolateRotations","euler","quaternionValues","premultiply","val","morphNum","getObjectByName","morphTargetDictionary","NumberKeyframeTrack","elem","prevValue","xIndex","yIndex","zIndex","xValue","yValue","zValue","valuesSpan","absoluteSpan","numSubIntervals","initialTime","interval","nextTime","interpolatedTimes","interpolatedValues","inject","getPrevNode","nodeStack","currentIndent","getCurrentNode","getCurrentProp","currentProp","pushStack","popStack","setCurrentProp","currentPropName","allNodes","matchComment","matchEmpty","matchBeginning","matchProperty","matchEnd","parseNodeBegin","parseNodeProperty","parseNodePropertyContinued","nodeAttrs","attrs","parseNodeAttr","currentNode","contentLine","propName","propValue","connProps","rest","parseNumberArray","parseNodeSpecialProperty","props","innerPropName","innerPropType1","innerPropType2","innerPropFlag","innerPropValue","reader","skip","getUint32","endOfContent","endOffset","getUint64","numProperties","nameLen","getUint8","getString","propertyList","parseProperty","singleProperty","subNode","parseSubNode","getBoolean","getFloat64","getFloat32","getInt32","getInt64","getArrayBuffer","getInt16","arrayLength","encoding","compressedLength","getBooleanArray","getFloat64Array","getFloat32Array","getInt32Array","getInt64Array","Zlib","reader2","Inflate","decompress","low","high","nullByte","decodeText","dataArray","infoObject","tempMat","tempEuler","tempVec","getEulerOrder","makeRotationFromEuler","getInverse","setPosition","enums","objA","objB","compareContext","keysA","keysB","bHasOwnProperty","valueA","valueB","meshPosition","colliderScale","box","distanceMap","state","watch","observer","els","collisions","handleHit","handleHitEnd","MutationObserver","observe","childList","subtree","disconnect","objectEls","Box3","colliderRadius","scaleVec","getWorldScale","isEntity","setFromObject","getSize","getCenter","targetEl","addState","removeState","$trim","_Group","_tweens","_tweensAddedDuringUpdate","getAll","tweenId","removeAll","getId","preserve","tweenIds","TWEEN","_isPlaying","_nextId","nextId","process","hrtime","getTime","Tween","_isPaused","_pauseStart","_object","_valuesStart","_valuesEnd","_valuesStartRepeat","_duration","_repeat","_repeatDelayTime","_yoyo","_reversed","_delayTime","_startTime","_easingFunction","Easing","Linear","None","_interpolationFunction","Interpolation","_chainedTweens","_onStartCallback","_onStartCallbackFired","_onUpdateCallback","_onRepeatCallback","_onCompleteCallback","_onStopCallback","_group","_id","isPlaying","isPaused","properties","stop","stopChainedTweens","resume","numChainedTweens","delay","amount","repeatDelay","yoyo","easing","easingFunction","interpolation","interpolationFunction","chain","onStart","onUpdate","onRepeat","onComplete","onStop","elapsed","isFinite","Quadratic","In","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","Exponential","Circular","Elastic","Back","Bounce","Utils","pw","bn","Bernstein","CatmullRom","fc","Factorial","v0","createLayout","graph","physicsSettings","createQuadTree","createBounds","createDragForce","createSpringForce","integrator","getIntegrator","createBody","get2dLayout","nativeKeyboardEvent","KeyboardEvent","TypeError","DOM_KEY_LOCATION_STANDARD","DOM_KEY_LOCATION_LEFT","DOM_KEY_LOCATION_RIGHT","DOM_KEY_LOCATION_NUMPAD","STANDARD","LEFT","RIGHT","NUMPAD","ss","String","os","platform","browser","vendor","browser_os","mergeIf","baseTable","table","keyCodeToInfoTable","code","keyCap","keyIdentifierTable","locationTable","codeToKeyTable","ShiftLeft","ShiftRight","ControlLeft","ControlRight","AltLeft","AltRight","OSLeft","OSRight","NumpadEnter","Space","Digit0","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","KeyA","KeyB","KeyC","KeyD","KeyE","KeyF","KeyG","KeyH","KeyI","KeyJ","KeyK","KeyL","KeyM","KeyN","KeyO","KeyP","KeyQ","KeyR","KeyS","KeyT","KeyU","KeyV","KeyW","KeyX","KeyY","KeyZ","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","NumpadMultiply","NumpadAdd","NumpadComma","NumpadSubtract","NumpadDecimal","NumpadDivide","Semicolon","Equal","Comma","Minus","Period","Slash","Backquote","BracketLeft","Backslash","BracketRight","Quote","IntlBackslash","keyFixTable","Esc","Nonconvert","Left","Up","Right","Down","Del","Menu","MediaNextTrack","MediaPreviousTrack","SelectMedia","HalfWidth","FullWidth","RomanCharacters","Crsel","Exsel","Zoom","codeTable","nativeLocation","keyInfoForEvent","which","keyInfo","keyLocation","keyIdentifier","entry","define","desc","queryKeyCap","locale","identifyKey","_defineProperty","enumerable","configurable","writable","_slicedToArray","_arrayWithHoles","_arr","_n","_d","_e","_s","_i","err","_iterableToArrayLimit","_nonIterableRest","_toConsumableArray","arr2","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","omit","keySet","entries","_ref2","_ref4","_ref5","_typeof","_unsupportedIterableToArray","_arrayLikeToArray","minLen","kapsuleComponent","comboParam","_ref","wrapperElementType","methodNames","initPropNames","_ref$wrapperElementTy","_ref$methodNames","_ref$initPropNames","ref","domEl","_useState2","prevProps","setPrevProps","comp","configOptions","current","_destructor","_call","method","_len","_key","dynamicProps","_len2","_key2","ownKeys","enumerableOnly","symbols","sym","css","insertAt","head","styleSheet","cssText","createTextNode","styleInject","triggerUpdate","onChange","jsonUrl","graphData","numDimensions","dagMode","dagLevelDistance","backgroundColor","showNavInfo","nodeRelSize","nodeLabel","nodeDesc","onNodeCenterHover","nodeVal","nodeResolution","nodeVisibility","nodeColor","nodeAutoColorBy","nodeOpacity","nodeThreeObject","nodeThreeObjectExtend","linkSource","linkTarget","linkLabel","linkDesc","onLinkCenterHover","linkHoverPrecision","linkVisibility","linkColor","linkAutoColorBy","linkOpacity","linkWidth","linkResolution","linkCurvature","linkCurveRotation","linkMaterial","linkThreeObject","linkThreeObjectExtend","linkPositionUpdate","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","forceEngine","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop","methods","getOwnPropertyDescriptors","defineProperties","_objectSpread2","aframeComp","forcegraph","returnVal","domNode","navInfo","className","cameraG","sky","changedProps","display","passThroughProps","newProps","_ref3","_ref7","_ref8","yOffset","glScale","_ref2$markerAttrs","markerAttrs","preset","arMarker","cameraEntity","_ref6","_ref10","_ref11","DragControls","_objects","_camera","_domElement","isCamera","temp","_plane","_raycaster","_mouse","_offset","_intersection","_selected","_hovered","activate","onDocumentMouseMove","onDocumentMouseDown","onDocumentMouseCancel","onDocumentTouchMove","onDocumentTouchStart","onDocumentTouchEnd","deactivate","setFromCamera","intersectPlane","intersectObjects","setFromNormalAndCoplanarPoint","getWorldDirection","setObjects","notify","_getPrototypeOf","setPrototypeOf","__proto__","_setPrototypeOf","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Parent","Class","_cache","Wrapper","_Error","PolishedError","ReferenceError","_assertThisInitialized","colorToInt","convertToInt","red","green","blue","hslToRgb","hue","saturation","lightness","convert","huePrime","chroma","secondComponent","lightnessModification","namedColorMap","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","hexRegex","hexRgbaRegex","reducedHexRegex","reducedRgbaHexRegex","rgbRegex","rgbaRegex","hslRegex","hslaRegex","parseToRgb","normalizedColor","normalizedColorName","nameToHex","alpha","toFixed","_alpha","rgbMatched","exec","rgbaMatched","hslMatched","rgbColorString","hslRgbMatched","hslaMatched","_rgbColorString","_hslRgbMatched","reduceHexValue","numberToHex","hex","rgb","rgba","firstValue","secondValue","thirdValue","fourthValue","rgbValue","curry","curried","acc","combined","guard","lowerBoundary","upperBoundary","opacify","parsedColor","curriedOpacify","three","WebGLRenderer","SphereGeometry","BackSide","EventDispatcher","MOUSE","Spherical","Clock","ThreeOrbitControls","ThreeFlyControls","prevWidth","prevHeight","backgroundImageUrl","onBackgroundImageLoaded","skyRadius","postProcessingComposer","enablePointerInteraction","hoverObj","toolTipElem","lineHoverPrecision","hoverOrderComparator","tooltipContent","hoverDuringDrag","onHover","onClick","onRightClick","initialised","controls","clock","getDelta","renderer","topObject","controlsDragging","mousePos","cameraPosition","transitionDuration","finalPos","finalLookAt","camPos","camLookAt","getLookAt","setCameraPos","setLookAt","applyQuaternion","tbControls","stateInit","_ref2$controlType","controlType","_ref2$rendererConfig","rendererConfig","_ref2$waitForLoadComp","waitForLoadComplete","orbit","trackball","fly","ev","scrollLeft","pageXOffset","scrollTop","pageYOffset","relPos","ignoreOneClick","antialias","setPixelRatio","devicePixelRatio","minDistance","maxDistance","controlsEngaged","setSize","updateProjectionMatrix","skysphere","visible","loadComplete","far","setClearColor","finishLoad","linkKapsule","kapsulePropName","kapsuleType","dummyK","linkProp","linkMethod","kapsuleInstance","bindFG","linkedFGProps","linkedFGMethods","bindRenderObjs","linkedRenderObjsProps","linkedRenderObjsMethods","renderObjs","enableNavigationControls","enable","enableNodeDrag","onNodeDrag","onNodeDragEnd","onNodeClick","onNodeRightClick","onNodeHover","onLinkClick","onLinkRightClick","onLinkHover","onBackgroundClick","onBackgroundRightClick","graph2ScreenCoords","vec","project","pauseAnimation","animationFrameRequestId","cancelAnimationFrame","resumeAnimation","_animationCycle","forceGraph","tickFrame","requestAnimationFrame","roDomNode","infoElem","lastSetCameraZ","onLoading","onFinishLoading","onFinishUpdate","_dragControls","curNodeDrag","find","__initialFixedPos","__disposeControlsAfterDrag","dragControls","__threeObj","__data","__initialPos","newPos","d3AlphaTarget","resetCountdown","__dragged","initFixedPos","initPos","getGraphObj","aObj","bObj","isNode","__graphObjType","graphObj","prevObjType","prevObjData","objType","objData","DragEvent","defaultContainer","defaultSubject","_classCallCheck","Constructor","_defineProperties","rgb2Int","checksum","csBits","_default","registry","protoProps","staticProps","cs","str","_tinyColor$toRgb","toRgb","initRange","_createForOfIteratorHelper","normalCompletion","didErr","_e2","implicit","autoColorScale","ordinal","unknown","_step","_iterator","autoColorObjects","colorByAccessor","colorField","CanvasForceGraph","engineRunning","nodeCanvasObject","nodeCanvasObjectMode","linkLineDash","linkCanvasObject","linkCanvasObjectMode","globalScale","alphaDecay","forceLayout","alphaTarget","velocityDecay","isShadow","d3Force","forceName","forceFn","d3ReheatSimulation","cntTicks","startTickTime","getLength","getRelPos","getVisibility","getColor","getNodeVal","getWidth","getLineDash","getCurvature","getLinkCanvasObjectMode","padAmount","visibleLinks","__controlPoints","cp","beforeCustomLinks","afterCustomLinks","defaultPaintLinks","replaceCustomLinks","otherCustomLinks","after","save","restore","linksPerColor","linksPerWidth","lineColor","linesPerLineDash","lineWidth","lineDashSegments","beginPath","moveTo","lineTo","strokeStyle","setLineDash","stroke","paintLinks","arrowLength","startR","endR","arrowRelPos","arrowColor","arrowHalfWidth","bzLine","getCoordsAlongLine","lineLen","posAlongLine","arrowHead","arrowTail","arrowTailVertex","arrowTailAngle","fillStyle","fill","getNumPhotons","getSpeed","getDiameter","numCyclePhotons","__photons","particleSpeed","photons","photonR","photonColor","cyclePhotonIdx","needsCleanup","photon","singleHop","__singleHop","__progressRatio","photonPosRatio","coords","paintPhotons","getVal","getNodeCanvasObjectMode","visibleNodes","paintNodes","emitParticle","canvasCtx","linkParticlesAccessor","numPhotons","linkForce","idAccessor","nodeDepths","out","depth","sourceId","getNodeId","targetId","sourceNode","targetNode","currentDepth","loop","maxDepth","getFFn","fix","fxFn","fyFn","nodeDepth","strength","kapsulePropNames","propNames","returnVals","bindBoth","linkedProps","linkedMethods","adjustCanvasSize","curWidth","curHeight","pxScale","shadowCanvas","getContext","__baseElem","resetTransform","pxRatio","setTransform","clearCanvas","clearRect","info","objs","cur","colorTracker","lookup","__indexColor","register","shadowGraph","background","enableZoomPanInteraction","onZoom","onZoomEnd","aliases","stopAnimation","screen2GraphCoords","centerAt","setCenter","getZoom","setZoom","lastSetZoom","shadowCtx","mousedownx","mousedowny","mousemoving","gestures","drag","beforestart","nodrag","sublisteners","__initialDragPos","dragPos","refreshShadowCanvas","animate","px","getImageData","prevObj","visibility","commonPropTypes","number","arrayOf","isRequired","oneOfType","func","bool","pointerBasedPropTypes","threeBasedPropTypes","ForceGraph2DPropTypes","ForceGraph3DPropTypes","ForceGraphVRPropTypes","ForceGraphARPropTypes","ForceGraphVR","ForceGraphAR","ForceGraph3D","ForceGraph2D","ResizeObserverBoxOptions","resizeObservers","msg","trigger","DOMRectReadOnly","freeze","toJSON","_a","fromRect","rectangle","isSVG","isHidden","getBBox","_b","getClientRects","isElement","defaultView","Element","scrollRegexp","verticalRegexp","IE","parseDimension","pixel","inlineSize","blockSize","switchSizes","zeroBoxes","devicePixelContentBoxSize","borderBoxSize","contentBoxSize","contentRect","getComputedStyle","removePadding","boxSizing","writingMode","canScrollVertically","overflowY","canScrollHorizontally","overflowX","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTop","borderTopWidth","borderRight","borderRightWidth","borderBottom","borderBottomWidth","horizontalPadding","verticalPadding","horizontalBorderArea","borderLeftWidth","verticalBorderArea","horizontalScrollbarThickness","verticalScrollbarThickness","widthReduction","heightReduction","contentWidth","contentHeight","borderBoxWidth","borderBoxHeight","boxes","observedBox","DEVICE_PIXEL_CONTENT_BOX","BORDER_BOX","shallowestDepth","ro","activeTargets","ot","targetDepth","lastReportedSize","callbacks_1","skippedTargets","observationTargets","isActive","some","ErrorEvent","message","queueMicroTask","toggle_1","el_1","cb","characterData","watching","observerConfig","scheduled","scheduler","Scheduler","stopped","run","frames","elementsHaveResized","updateCount","ResizeObservation","CONTENT_BOX","tagName","isReplacedElement","ResizeObserverDetail","resizeObserver","observerMap","getObservationIndex","ResizeObserverController","unobserve","ResizeObserver","SearchInput","styled","SearchGraph","indexQuery","siteSearchIndex","useRef","useState","setWidth","setHeight","useMemo","useEffect","useDimensions","viewRef","viewWidth","setGraphData","setResults","highlightLinks","setHighlightLinks","Index","forceCollide","search","useCallback","query","expand","documentStore","getDoc","tmpNodes","newNodes","newTags","tags","flat","includes","currentNodes","title","slug","kebabCase","tag","fontSize","FormControl","placeholder","open","navigate","padding","linePadding","font","maxWidth","words","widths","measureText","lines","word","finalWidth","measures","getTextWithMeasures","fillRect","textAlign","textBaseline","fillText","SearchGraphPage","Layout","headerConfig","physicsSimulator","createSimulator","nodeMass","nodeBodies","springs","bodiesCount","springTransform","initBody","initLink","onGraphChanged","wasStable","lastMove","isStable","isStableNow","getNodePosition","getInitializedBody","setNodePosition","invalidateBBox","getLinkPosition","getGraphRect","forEachBody","bodyId","pinNode","isPinned","isNodePinned","getBody","getSpring","simulator","change","releaseNode","releaseLink","neighbors","maxNeighbors","otherBody","getNeighborBodies","getBestNewBodyPosition","addBodyAt","updateBodyMass","isNodeOriginallyPinned","addSpring","removeSpring","Vector2d","Vector3d","sx","sy","sz","initialize","tree","xm","xp","_root","leaf","_x0","_x1","_x","defaultX","binarytree","Binarytree","addAll","leaf_copy","treeProto","cover","xz","visit","halves","retainer","visitAfter","ym","zm","yp","zp","_y0","z0","_z0","_y1","_z1","_y","_z","defaultY","defaultZ","octree","Octree","yz","zz","z3","octs","nodeById","strengths","distances","nDim","bias","iterations","vx","jiggle","vy","vz","initializeStrength","initializeDistance","initNodes","initialAngleRoll","initialAngleYaw","simulation","_alphaMin","_alphaDecay","_alphaTarget","_velocityDecay","forces","stepper","timer","_nodes","initializeNodes","rollAngle","yawAngle","initializeForce","restart","alphaMin","distanceMin2","distanceMax2","theta2","quadtree","accumulate","treeNode","numChildren","arg1","arg2","arg3","distanceMin","distanceMax","radiuses","coordlen","newargs","higher","dimlen","_linear","svgToBeziers","getABC","um","SVGtoBeziers","quadraticFromPoints","abc","cubicFromPoints","selen","lx","ly","bx1","by1","bx2","by2","e1","e2","nc1","nc2","getUtils","toSVG","relative","last","setRatios","_lut","verify","print","coordDigest","_print","newprint","computedirection","clockwise","derivative","getLUT","steps","lut","hits","ft","pim","np","__normal3","__normal2","r1","r2","q1","hull","pt","_p","span","extrema","mfn","overlaps","lbbox","tbbox","nv","simple","n1","n2","segment","pass1","pass2","distanceFn","ov","rc","outline","d3","d4","reduced","fcurves","bcurves","alen","tlen","graduated","linearDistanceFunction","slen","reverse","fs","fe","bs","be","ls","le","outlineshapes","shapes","lineIntersects","curveintersects","selfintersects","arcs","errorThreshold","_iterate","_error","np1","circles","safety","t_s","t_e","np2","np3","prev_arc","curr_good","prev_good","t_m","prev_e","toLength","defined","fillString","stringLength","fillStr","intMaxLength","fillLen","stringFiller","EPSILON","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","msGridRow","msGridRowSpan","msGridColumn","msGridColumnSpan","fontWeight","lineHeight","orphans","tabSize","widows","WebkitLineClamp","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","as","elementType","Feedback","forwardRef","_ref$as","Prop","_ref$default","defaultVal","_ref$triggerUpdate","_ref$onChange","newVal","_ref2$stateInit","_ref2$props","rawProps","_ref2$methods","_ref2$aliases","_ref2$init","initFn","_ref2$update","updateFn","nodeElement","initStatic","digest","_ref3$triggerUpdate","redigest","_ref3$onChange","_ref3$defaultVal","curVal","getSetProp","methodName","_methods$methodName","alias","resetProps","_rerender","styleRemove","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","boundingBox","getBestNewPosition","graphRect","baseX","baseY","baseZ","LoopMode","once","LoopOnce","LoopRepeat","pingpong","LoopPingPong","regExpEscape","clampWhenFinished","crossFadeDuration","repetitions","timeScale","mixer","activeActions","AnimationMixer","action","loopDelta","stopAllAction","diff","stopAction","playAction","setDuration","setLoop","setEffectiveTimeScale","fadeOut","re","RegExp","clipAction","fadeIn","FormCheckInput","bsPrefix","bsCustomPrefix","isValid","isInvalid","isStatic","_useContext","custom","defaultPrefix","FormCheckLabel","htmlFor","FormCheck","inline","disabled","feedback","label","propCustom","innerFormContext","hasLabel","Provider","Fragment","Input","Label","FormFileInput","lang","FormFileLabel","FormFile","dataBrowse","_ref$inputAs","inputAs","FormGroup","context","DEVICE_SIZES","Col","spans","classes","brkPoint","_propValue$span","infix","FormLabel","column","srOnly","columnClass","FormText","muted","Switch","validated","Row","createWithBsPrefix","Control","Check","File","Text","normalise","makeBezier","term","cvalues","terms","ARGS","getRoot","number1","number2","proto","csv","dsv","csvParse","tsv","parseRows","formatBody","formatRows","formatRow","formatValue","tsvParse","responseText","status","statusText","dsvParse","row","radii","xi","yi","ri2","prepare","quad","randomUniform","sourceRandomUniform","randomNormal","mu","sigma","sourceRandomNormal","randomLogNormal","exp","sourceRandomLogNormal","randomIrwinHall","sourceRandomIrwinHall","randomBates","irwinHall","sourceRandomBates","randomExponential","lambda","sourceRandomExponential","RedBlackTree","RedBlackNode","RedBlackRotateLeft","RedBlackRotateRight","RedBlackFirst","grandpa","uncle","sibling","createEdge","edge","setEdgeEnd","cells","halfedges","createBorderEdge","clipEdge","ax","ay","connectEdge","fm","fb","rx","ry","cellHalfedgeAngle","cell","site","va","vb","cellHalfedgeStart","cellHalfedgeEnd","firstCircle","circlePool","Circle","cy","attachCircle","lArc","rArc","lSite","cSite","rSite","bx","by","cx","epsilon2","hc","circle","detachCircle","beachPool","Beach","createBeach","beach","detachBeach","beaches","removeBeach","disappearing","unshift","iArc","nArcs","addBeach","dxl","dxr","directrix","leftBreakPoint","rightBreakPoint","createCell","newArc","hb","rfocx","rfocy","pby2","lfocx","lfocy","plby2","hl","aby2","lexicographic","Diagram","sites","sortCellHalfedges","clipEdges","iCell","iHalfedge","nHalfedges","startX","startY","endX","endY","nCells","dc","v00","v01","v11","v10","clipCells","edges","polygons","polygon","triangles","s0","_found","instruction","op","lop","instructions","instructionLength","cx2","cy2","normalized","applyEnvMap","materialNames","needsUpdate","multiple","enableBackground","CubeTextureLoader","object3dsetHandler","oldData","addedMaterialNames","removedMaterialNames","maintainedMaterialNames","setBackground","targetHasIt","optionsValueType","step2list","step3list","re_mgr0","re_mgr1","re_meq1","re_s_v","re_1a","re2_1a","re_1b","re2_1b","re_1b_2","re2_1b_2","re3_1b_2","re4_1b_2","re_1c","re_2","re_3","re_4","re2_4","re_5","re_5_1","re3_5","elasticlunr","config","pipeline","trimmer","stopWordFilter","stemmer","lunr","EventEmitter","addListener","hasHandler","removeListener","fnIndex","tokenizer","token","tokens","seperator","defaultSeperator","setSeperator","sep","resetSeperator","getSeperator","Pipeline","_queue","registeredFunctions","registerFunction","getRegisteredFunction","warnIfFunctionNotRegistered","serialised","fnName","fns","existingFn","newFn","tokenLength","pipelineLength","_fields","DocumentStore","eventEmitter","_idfCache","serialisedData","field","fields","InvertedIndex","addField","fieldName","setRef","refName","saveDocument","addDoc","doc","emitEvent","docRef","fieldTokens","addFieldLength","tokenCount","termFrequency","addToken","tf","removeDocByRef","isDocStored","hasDoc","removeDoc","removeToken","updateDoc","idf","cacheKey","df","getDocFreq","getFields","userConfig","configStr","Configuration","queryTokens","queryResults","fieldSearchResults","fieldSearch","fieldBoost","boost","score","booleanType","scores","docTokens","expandToken","queryTokenScores","docs","getDocs","filteredDocs","fieldSearchStats","getTermFrequency","fieldLength","getFieldLength","fieldLengthNorm","penality","mergeScores","coordNorm","accumScores","intersection","indexJson","plugin","_save","docInfo","store","updateFieldLength","stem","firstch","re2","re3","re4","fp","stopWords","clearStopWords","addStopWords","resetStopWords","defaultStopWords","tokenInfo","hasToken","memo","buildUserConfig","buildDefaultConfig","global_bool","global_expand","field_config","field_expand","addAllFields2UserConfig","SortedSet","locationFor","sectionLength","pivot","pivotElem","intersect","otherSet","intersectSet","a_len","b_len","union","longSet","shortSet","unionSet","shortSetElements","trimLeft","trimRight","tinyCounter","mathRound","mathMin","mathMax","mathRandom","tinycolor","named","matchers","hsl","hsla","hsv","hsva","hex8","parseIntFromHex","convertHexToDecimal","hex6","hex4","hex3","stringInputToObject","isValidCSSUnit","bound01","convertToPercentage","mod","hsvToRgb","hue2rgb","boundAlpha","inputToRGB","_originalInput","_r","_g","_roundA","_format","_gradientType","gradientType","_ok","_tc_id","rgbToHsl","rgbToHsv","rgbToHex","allow3Char","pad2","rgbaToArgbHex","convertDecimalToHex","_desaturate","toHsl","clamp01","_saturate","_greyscale","desaturate","_lighten","_brighten","_darken","_spin","_complement","_triad","_tetrad","_splitcomplement","_analogous","slices","part","_monochromatic","toHsv","modification","isDark","getBrightness","isLight","getOriginalInput","getFormat","getAlpha","getLuminance","RsRGB","GsRGB","BsRGB","setAlpha","toHsvString","toHslString","toHex","toHexString","toHex8","allow4Char","rgbaToHex","toHex8String","toRgbString","toPercentageRgb","toPercentageRgbString","toName","hexNames","toFilter","secondColor","hex8String","secondHex8String","formatSet","formattedString","hasAlpha","_applyModification","lighten","brighten","darken","saturate","greyscale","spin","_applyCombination","analogous","complement","monochromatic","splitcomplement","triad","tetrad","fromRatio","newColor","equals","color1","color2","mix","rgb1","rgb2","readability","isReadable","wcag2","wcag2Parms","parms","level","validateWCAG2Parms","mostReadable","baseColor","colorList","includeFallbackColors","bestColor","bestScore","burntsienna","flipped","flip","isOnePointZero","processPercent","isPercentage","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","none","accessorFn","ThreeForceGraph","parseJson","parseFn","geval","eval","parseAccessor","refresh","infoEl","tooltipEl","subTooltipEl","cameraEl","cameraObj","evt","elData","td","centerRaycaster","linePrecision","GRABBED_STATE","grabbing","hitEl","constraint","onHit","onGripOpen","onGripClose","removeConstraint","is","LockConstraint","addConstraint","vector2","clampedEnd","constrainToNavMesh","velocityCtrl","heading","navGroup","navNode","hasLoaded","injectControls","updateVelocityCtrl","updateVelocity","lengthSq","control","getPositionDelta","factor","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","freeSelf","objectToString","nativeMax","nativeMin","debounce","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","thisArg","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","debounced","isInvoking","toNumber","cancel","flush","isObjectLike","isSymbol","other","isBinary","localKeys","onKeyDown","onKeyUp","blur","onBlur","attachEventListeners","getKeys","ArrowUp","ArrowLeft","ArrowDown","ArrowRight","shouldCaptureKeyEvent","isPressed","isProxied","getKeyboard","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","dataBindDiff","existingObjs","_ref3$objBindAttr","objBindAttr","_ref3$dataBindAttr","dataBindAttr","_ref3$purge","purge","isObjValid","removeObjs","prevD","prevById","nextById","byId","prevSet","nextSet","diffArrays","nextD","appendObj","removeObj","_ref7$createObj","createObj","_ref7$updateObj","updateObj","_ref7$exitObj","exitObj","_ref7$objBindAttr","_ref7$dataBindAttr","dataDiffOptions","_dataBindDiff","newObjs","createObjs","updateObjs","_inherits","subClass","superClass","_construct","_possibleConstructorReturn","_createSuper","Derived","Super","NewTarget","deallocate","materialDispose","emptyObject","childObj","threeDigest","_ref$objFilter","objFilter","SphereBufferGeometry","CylinderBufferGeometry","TubeBufferGeometry","ConeBufferGeometry","QuadraticBezierCurve3","CubicBezierCurve3","ngraph","forcelayout","forcelayout3d","setAttributeFn","applyMatrix4Fn","applyMatrix4","threeForcegraph","kapsule","baseClass","initKapsuleWithSelf","FromKapsule","_baseClass","_super","__kapsuleInstance","_this$__kapsuleInstan","fromKapsule","fetchingJson","numDim","chargeForce","d3ForceLayout","eraseDimension","_flushObjects","arrowRelPosAccessor","arrowLengthAccessor","nodeValAccessor","particleSpeedAccessor","isD3Sim","layout","linkWidthAccessor","linkCurvatureAccessor","linkCurveRotationAccessor","linkThreeObjectExtendAccessor","lineObj","__lineObj","vStart","vEnd","curveRotation","vLine","cross","applyAxisAngle","addVectors","divideScalar","endAngle","startAngle","__curve","calcLinkCurve","extendedObj","setFromPoints","linePos","computeBoundingSphere","_geometry","makeRotationX","localToWorld","layoutTick","arrowObj","__arrowObj","getPosAlongLine","getPoint","iplt","headVec","cyclePhotons","__photonsObj","singleHopPhotons","__singleHopPhotonsObj","getPhotonPos","__linkThreeObjType","graphScene","particleWidthAccessor","numSegments","particleGeometry","linkColorAccessor","particleColorAccessor","materialColor","particleMaterial","threeObj","hasAnyPropChanged","propList","customObjectAccessor","customObjectExtendAccessor","valAccessor","colorAccessor","visibilityAccessor","sphereGeometries","sphereMaterials","customObj","extendObj","__graphDefaultObj","widthSegments","_customObjectAccessor","_customObjectExtendAccessor","customMaterialAccessor","_visibilityAccessor","_colorAccessor","widthAccessor","lineMaterials","cylinderGeometries","defaultObj","lineGeometry","renderOrder","updObj","radiusTop","customMaterial","depthWrite","arrowColorAccessor","coneGeometry","rotateX","particlesAccessor","particleMaterials","particleGeometries","curPhoton","fzFn","_graph","_classes","plaintext","readOnly","_classes2","_classes3","_classes4","_classes5","ocean","density","amplitude","amplitudeVariance","speedVariance","PlaneGeometry","mergeVertices","waves","ang","amp","shading","FlatShading","vprops","verts","verticesNeedUpdate","_toPropertyKey","hint","prim","toPrimitive","res","_toPrimitive","keyAccessors","multiItem","flattenKeys","keyAccessor","isProp","indexedResult","iterObj","itemVal","_itemVal","propVal","flatten","accKeys","vals","iterable","rendererSystem","colladaModel","applyColorCorrection","details","TrackballControls","STATE","screen","rotateSpeed","zoomSpeed","panSpeed","noRotate","noZoom","noPan","staticMoving","dynamicDampingFactor","lastPosition","_state","_prevState","_eye","_movePrev","_moveCurr","_lastAxis","_lastAngle","_zoomStart","_zoomEnd","_touchZoomDistanceStart","_touchZoomDistanceEnd","_panStart","_panEnd","target0","position0","up0","changeEvent","startEvent","endEvent","handleResize","handleEvent","eyeDirection","objectUpDirection","objectSidewaysDirection","moveDirection","mouseChange","objectUp","pan","getMouseOnScreen","getMouseOnCircle","containsKey","mousewheel","touchstart","touchmove","touchend","rotateCamera","crossVectors","setFromAxisAngle","zoomCamera","panCamera","checkDistances","distanceToSquared","$$typeof","typeOf","AsyncMode","ConcurrentMode","ContextConsumer","ContextProvider","Lazy","Portal","Profiler","StrictMode","Suspense","isValidElementType","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isForwardRef","isFragment","isLazy","isPortal","isProfiler","isStrictMode","isSuspense","point1","point2","OrbitControls","quat","quatInverse","lastQuaternion","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","enableRotate","enablePan","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","UP","BOTTOM","mouseButtons","ORBIT","ZOOM","MIDDLE","PAN","zoom0","getPolarAngle","spherical","getAzimuthalAngle","NONE","setFromUnitVectors","setFromVector3","rotateLeft","sphericalDelta","makeSafe","panOffset","setFromSpherical","zoomChanged","EPS","onContextMenu","onMouseDown","onMouseWheel","onTouchMove","onMouseMove","onMouseUp","ROTATE","DOLLY","TOUCH_ROTATE","TOUCH_DOLLY","TOUCH_PAN","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","rotateUp","panLeft","objectMatrix","setFromMatrixColumn","panUp","deltaX","targetDistance","dollyIn","dollyScale","dollyOut","handleMouseDownRotate","handleMouseDownDolly","handleMouseDownPan","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","handleMouseWheel","handleKeyDown","handleTouchStartRotate","handleTouchStartDolly","handleTouchStartPan","handleTouchMoveRotate","handleTouchMoveDolly","handleTouchMovePan","center","noKeys","immediate","timestamp","later","callNow","emptyOn","emptyTween","schedules","__transition","ease","timing","tweenRemove","tween0","tween1","tweenFunction","tweenValue","value1","string00","interpolate0","string1","string0","string10","attrInterpolate","attrInterpolateNS","attrTweenNS","_value","attrTween","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","onFunction","on0","on1","sit","every","styleInterpolate","styleTween","textInterpolate","textTween","Transition","_name","newId","selection_prototype","inherit","id0","id1","styleNull","listener0","styleMaybeRemove","defaultTiming","promise","fetchScript","loadLoader","loaderPromise","GLTFLoader","_this2","gltfModel","yesdrag","noclick","MozUserSelect","__noselect","computeCentroids","faces","roundNumber","sample","mergeVertexIds","setPolygonCentroid","vertexIds","cleanPolygon","angleTo","neighbours","isConvex","isPointInPoly","isVectorInPolygon","triarea2","vequal","scoreFunction","sinkDown","bubbleUp","rescoreElement","cost","visited","cleanUp","heap","heuristic","buildZone","_buildNavigationMesh","_buildPolygonGroups","_getSharedVerticesInOrder","portals","_buildPolygonsFromGeometry","_buildPolygonNeighbours","faceVertexUvs","stringPull","zones","getRandomNode","Plane","Triangle","setFromCoplanarPoints","projectPoint","closestPointToPoint","Spring","integrate","quadTree","bounds","springForce","dragForce","bboxNeedsUpdate","publicApi","accumulateForces","movement","springWeight","springCoefficient","getTotalMovement","_extends","interleave","strings","interpolations","isPlainObject","EMPTY_ARRAY","EMPTY_OBJECT","getComponentName","isStyledComponent","styledComponentId","SC_ATTR","REACT_APP_SC_ATTR","IS_BROWSER","DISABLE_SPEEDY","SC_DISABLE_SPEEDY","REACT_APP_SC_DISABLE_SPEEDY","getNonce","throwStyledComponentsError","makeStyleTag","prevStyle","findLastStyleTag","nonce","CSSOMTag","sheet","styleSheets","ownerNode","getSheet","_proto","insertRule","rule","deleteRule","getRule","cssRules","TextTag","_proto2","refNode","VirtualTag","_target","rules","_proto3","DefaultGroupedTag","groupSizes","Uint32Array","indexOfGroup","insertRules","oldBuffer","oldSize","newSize","ruleIndex","clearGroup","endIndex","groupIDRegister","reverseRegister","nextFreeGroup","getGroupForId","getIdForGroup","setGroupForId","SELECTOR","MARKER_RE","rehydrateNamesFromContent","registerName","rehydrateSheetFromTag","marker","getTag","SHOULD_REHYDRATE","defaultOptions","isServer","useCSSOMInjection","StyleSheet","globalStyles","gs","rehydrateSheet","registerId","reconstructWithOptions","allocateGSInstance","hasNameForId","groupNames","clearNames","clearRules","clearTag","outputSheet","phash","hash","COMMENT_REGEX","createStylisInstance","_temp","_componentId","_selector","_selectorRegexp","_ref$options","_ref$plugins","plugins","stylis","parsingRules","parseRulesPlugin","toSheet","block","selectors","ns","at","delimiter","insertRulePlugin","selfReferenceReplacer","stringifyRules","componentId","flatCSS","cssStr","parsedRules","StyleSheetContext","StylisContext","Consumer","masterSheet","masterStylis","useStyleSheet","useStylis","Keyframes","stringifyArgs","getName","uppercasePattern","msPattern","hyphenateStyleName","isFalsish","chunk","objToCssArray","prevKey","executionContext","ruleSet","isReactComponent","styles","isValidKey","mixin","mixinDeep","_rest","AD_REPLACER_R","getAlphabeticChar","fromCharCode","generateAlphabeticName","isStaticRules","ComponentStyle","staticRulesId","baseHash","generateAndInjectStyles","cssStatic","cssStaticFormatted","dynamicHash","partRule","partChunk","partString","cssFormatted","determineTheme","providedTheme","theme","escapeRegex","dashesAtEnds","escape","isTag","generateComponentId","ThemeContext","identifiers","useStyledComponentImpl","forwardedComponent","forwardedRef","componentAttrs","componentStyle","foldedComponentIds","shouldForwardProp","_useResolvedAttrs","resolvedAttrs","attrDef","resolvedAttrDef","useResolvedAttrs","generatedClassName","hasAttrs","warnTooManyClasses","useInjectedStyle","refToForward","elementToBeCreated","$as","isTargetTag","computedProps","propFilterFn","propsForElement","Boolean","createStyledComponent","isTargetStyledComp","isCompositeComponent","_options$displayName","generateDisplayName","_options$componentId","parentComponentId","generateId","_options$attrs","finalAttrs","filterFn","WrappedStyledComponent","withComponent","previousComponentId","optionsToCopy","newComponentId","_foldedDefaultProps","constructWithOptions","componentConstructor","templateFunction","withConfig","specifier","weak","validate","def","enableNegX","enablePosX","enableNegZ","enablePosZ","zVel","xVel","onAxisMove","isMoving","canRecordAxis","startingAxisData","handleSwipeAxis","handleTouchAxis","axisData","velX","velZ","absChangeZ","VERSION","TAU","DEG_TO_RAD","RAD_TO_DEG","SQRT3","TILE","ENT","STR","HEX","SQR","ABS","tiles","tileGroup","overlay","finder","AStarFinder","setGrid","setEntityOnTile","cellToPixel","heightOffset","tile","entity","addTile","snapTileToGrid","removeTile","removeAllTiles","getTileAtCell","cellToHash","snapToGrid","pixelToCell","getRandomTile","Tools","randomInt","generateOverlay","generateTiles","Cell","userData","walkable","_calcCost","_priority","_visited","uniqueID","LinkedList","generateID","cellSize","numCells","extrudeSettings","autogenerated","_createVertex","cellShape","Shape","autoClose","cellGeo","cellShapeGeo","ShapeGeometry","_cellWidth","_cellLength","_hashDelimeter","_directions","_diagonals","_list","_vec3","_cel","_conversionVec","_geoCache","_matCache","TWO_THIRDS","_cubeRound","getCellAt","getNeighbors","getRandomCell","clearPath","generateTile","ExtrudeGeometry","Tile","tileScale","bevelEnabled","bevelSegments","bevelSize","bevelThickness","generateTilePoly","rotateOnAxis","generate","createPointsGeometry","getJSON","SqrGrid","_fullCellSize","randomizeRGB","objectType","selected","highlight","structure","_emissive","getHex","setHex","deselect","toggle","free","first","objToNodeMap","sortArray","swapObjects","showDebug","dump","moveUp","moveDown","_listener","isOnce","signal","execute","detach","isBound","_destroy","_bindings","_prevParams","memorize","_shouldPropagate","validateListener","_registerListener","_indexOfListener","_addBinding","addOnce","getNumListeners","halt","forget","Signal","allowDiagonal","heuristicFilter","PathUtil","backtrace","biBacktrace","pathLength","expandPath","smoothenPath","isWalkableAt","compressPath","imageLoader","LoadingManager","ImageLoader","sourceFile","MouseCaster","rightDown","pickedObject","selectedObject","allHits","screenPosition","_preventDefault","_onDocumentMouseMove","_onDocumentMouseDown","_onDocumentMouseUp","_onMouseWheel","OVER","OUT","DOWN","CLICK","WHEEL","clearColor","sortObjects","fog","lightPosition","cameraType","orthoZoom","contolled","attachTo","updateOrthoZoom","focusOn","SelectionManager","onSelect","onDeselect","toggleSelection","onMouse","clearSelection","clamp","getShortRotation","nwf","Performance","elapsedTime","lastChild","radixSort","XMLHttpRequest","onreadystatechange","setRequestHeader","send"],"mappings":"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","file":"component---src-pages-search-graph-js-5078f4050f9accd4c22a.js","sourcesContent":["require(\"core-js/modules/es6.function.bind\");\n\n/**\n * Touch-to-move-forward controls for mobile.\n */\nmodule.exports = AFRAME.registerComponent('touch-controls', {\n  schema: {\n    enabled: {\n      \"default\": true\n    },\n    reverseEnabled: {\n      \"default\": true\n    }\n  },\n  init: function init() {\n    this.dVelocity = new THREE.Vector3();\n    this.bindMethods();\n    this.direction = 0;\n  },\n  play: function play() {\n    this.addEventListeners();\n  },\n  pause: function pause() {\n    this.removeEventListeners();\n    this.dVelocity.set(0, 0, 0);\n  },\n  remove: function remove() {\n    this.pause();\n  },\n  addEventListeners: function addEventListeners() {\n    var sceneEl = this.el.sceneEl;\n    var canvasEl = sceneEl.canvas;\n\n    if (!canvasEl) {\n      sceneEl.addEventListener('render-target-loaded', this.addEventListeners.bind(this));\n      return;\n    }\n\n    canvasEl.addEventListener('touchstart', this.onTouchStart);\n    canvasEl.addEventListener('touchend', this.onTouchEnd);\n  },\n  removeEventListeners: function removeEventListeners() {\n    var canvasEl = this.el.sceneEl && this.el.sceneEl.canvas;\n\n    if (!canvasEl) {\n      return;\n    }\n\n    canvasEl.removeEventListener('touchstart', this.onTouchStart);\n    canvasEl.removeEventListener('touchend', this.onTouchEnd);\n  },\n  isVelocityActive: function isVelocityActive() {\n    return this.data.enabled && !!this.direction;\n  },\n  getVelocityDelta: function getVelocityDelta() {\n    this.dVelocity.z = this.direction;\n    return this.dVelocity.clone();\n  },\n  bindMethods: function bindMethods() {\n    this.onTouchStart = this.onTouchStart.bind(this);\n    this.onTouchEnd = this.onTouchEnd.bind(this);\n  },\n  onTouchStart: function onTouchStart(e) {\n    this.direction = -1;\n\n    if (this.data.reverseEnabled && e.touches.length === 2) {\n      this.direction = 1;\n    }\n\n    e.preventDefault();\n  },\n  onTouchEnd: function onTouchEnd(e) {\n    this.direction = 0;\n    e.preventDefault();\n  }\n});","var index = function index(p) {\n  return p instanceof Function ? p // fn\n  : typeof p === 'string' ? function (obj) {\n    return obj[p];\n  } // property name\n  : function (obj) {\n    return p;\n  };\n}; // constant\n\n\nexport default index;","module.exports = InsertStack;\n/**\n * Our implementation of QuadTree is non-recursive to avoid GC hit\n * This data structure represent stack of elements\n * which we are trying to insert into quad tree.\n */\n\nfunction InsertStack() {\n  this.stack = [];\n  this.popIdx = 0;\n}\n\nInsertStack.prototype = {\n  isEmpty: function isEmpty() {\n    return this.popIdx === 0;\n  },\n  push: function push(node, body) {\n    var item = this.stack[this.popIdx];\n\n    if (!item) {\n      // we are trying to avoid memory pressure: create new element\n      // only when absolutely necessary\n      this.stack[this.popIdx] = new InsertStackElement(node, body);\n    } else {\n      item.node = node;\n      item.body = body;\n    }\n\n    ++this.popIdx;\n  },\n  pop: function pop() {\n    if (this.popIdx > 0) {\n      return this.stack[--this.popIdx];\n    }\n  },\n  reset: function reset() {\n    this.popIdx = 0;\n  }\n};\n\nfunction InsertStackElement(node, body) {\n  this.node = node; // QuadTree node\n\n  this.body = body; // physical body which needs to be inserted to node\n}","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","// 20.2.2.9 Math.cbrt(x)\nvar $export = require('./_export');\nvar sign = require('./_math-sign');\n\n$export($export.S, 'Math', {\n  cbrt: function cbrt(x) {\n    return sign(x = +x) * Math.pow(Math.abs(x), 1 / 3);\n  }\n});\n","/**\n * Represents drag force, which reduces force value on each step by given\n * coefficient.\n *\n * @param {Object} options for the drag force\n * @param {Number=} options.dragCoeff drag force coefficient. 0.1 by default\n */\nmodule.exports = function (options) {\n  var merge = require('ngraph.merge'),\n      expose = require('ngraph.expose');\n\n  options = merge(options, {\n    dragCoeff: 0.02\n  });\n  var api = {\n    update: function update(body) {\n      body.force.x -= options.dragCoeff * body.velocity.x;\n      body.force.y -= options.dragCoeff * body.velocity.y;\n    }\n  }; // let easy access to dragCoeff:\n\n  expose(options, api, ['dragCoeff']);\n  return api;\n};","import \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.string.trim\";\nimport \"core-js/modules/es6.regexp.replace\";\n\nfunction stylis_min(W) {\n  function M(d, c, e, h, a) {\n    for (var m = 0, b = 0, v = 0, n = 0, q, g, x = 0, K = 0, k, u = k = q = 0, l = 0, r = 0, I = 0, t = 0, B = e.length, J = B - 1, y, f = '', p = '', F = '', G = '', C; l < B;) {\n      g = e.charCodeAt(l);\n      l === J && 0 !== b + n + v + m && (0 !== b && (g = 47 === b ? 10 : 47), n = v = m = 0, B++, J++);\n\n      if (0 === b + n + v + m) {\n        if (l === J && (0 < r && (f = f.replace(N, '')), 0 < f.trim().length)) {\n          switch (g) {\n            case 32:\n            case 9:\n            case 59:\n            case 13:\n            case 10:\n              break;\n\n            default:\n              f += e.charAt(l);\n          }\n\n          g = 59;\n        }\n\n        switch (g) {\n          case 123:\n            f = f.trim();\n            q = f.charCodeAt(0);\n            k = 1;\n\n            for (t = ++l; l < B;) {\n              switch (g = e.charCodeAt(l)) {\n                case 123:\n                  k++;\n                  break;\n\n                case 125:\n                  k--;\n                  break;\n\n                case 47:\n                  switch (g = e.charCodeAt(l + 1)) {\n                    case 42:\n                    case 47:\n                      a: {\n                        for (u = l + 1; u < J; ++u) {\n                          switch (e.charCodeAt(u)) {\n                            case 47:\n                              if (42 === g && 42 === e.charCodeAt(u - 1) && l + 2 !== u) {\n                                l = u + 1;\n                                break a;\n                              }\n\n                              break;\n\n                            case 10:\n                              if (47 === g) {\n                                l = u + 1;\n                                break a;\n                              }\n\n                          }\n                        }\n\n                        l = u;\n                      }\n\n                  }\n\n                  break;\n\n                case 91:\n                  g++;\n\n                case 40:\n                  g++;\n\n                case 34:\n                case 39:\n                  for (; l++ < J && e.charCodeAt(l) !== g;) {}\n\n              }\n\n              if (0 === k) break;\n              l++;\n            }\n\n            k = e.substring(t, l);\n            0 === q && (q = (f = f.replace(ca, '').trim()).charCodeAt(0));\n\n            switch (q) {\n              case 64:\n                0 < r && (f = f.replace(N, ''));\n                g = f.charCodeAt(1);\n\n                switch (g) {\n                  case 100:\n                  case 109:\n                  case 115:\n                  case 45:\n                    r = c;\n                    break;\n\n                  default:\n                    r = O;\n                }\n\n                k = M(c, r, k, g, a + 1);\n                t = k.length;\n                0 < A && (r = X(O, f, I), C = H(3, k, r, c, D, z, t, g, a, h), f = r.join(''), void 0 !== C && 0 === (t = (k = C.trim()).length) && (g = 0, k = ''));\n                if (0 < t) switch (g) {\n                  case 115:\n                    f = f.replace(da, ea);\n\n                  case 100:\n                  case 109:\n                  case 45:\n                    k = f + '{' + k + '}';\n                    break;\n\n                  case 107:\n                    f = f.replace(fa, '$1 $2');\n                    k = f + '{' + k + '}';\n                    k = 1 === w || 2 === w && L('@' + k, 3) ? '@-webkit-' + k + '@' + k : '@' + k;\n                    break;\n\n                  default:\n                    k = f + k, 112 === h && (k = (p += k, ''));\n                } else k = '';\n                break;\n\n              default:\n                k = M(c, X(c, f, I), k, h, a + 1);\n            }\n\n            F += k;\n            k = I = r = u = q = 0;\n            f = '';\n            g = e.charCodeAt(++l);\n            break;\n\n          case 125:\n          case 59:\n            f = (0 < r ? f.replace(N, '') : f).trim();\n            if (1 < (t = f.length)) switch (0 === u && (q = f.charCodeAt(0), 45 === q || 96 < q && 123 > q) && (t = (f = f.replace(' ', ':')).length), 0 < A && void 0 !== (C = H(1, f, c, d, D, z, p.length, h, a, h)) && 0 === (t = (f = C.trim()).length) && (f = '\\x00\\x00'), q = f.charCodeAt(0), g = f.charCodeAt(1), q) {\n              case 0:\n                break;\n\n              case 64:\n                if (105 === g || 99 === g) {\n                  G += f + e.charAt(l);\n                  break;\n                }\n\n              default:\n                58 !== f.charCodeAt(t - 1) && (p += P(f, q, g, f.charCodeAt(2)));\n            }\n            I = r = u = q = 0;\n            f = '';\n            g = e.charCodeAt(++l);\n        }\n      }\n\n      switch (g) {\n        case 13:\n        case 10:\n          47 === b ? b = 0 : 0 === 1 + q && 107 !== h && 0 < f.length && (r = 1, f += '\\x00');\n          0 < A * Y && H(0, f, c, d, D, z, p.length, h, a, h);\n          z = 1;\n          D++;\n          break;\n\n        case 59:\n        case 125:\n          if (0 === b + n + v + m) {\n            z++;\n            break;\n          }\n\n        default:\n          z++;\n          y = e.charAt(l);\n\n          switch (g) {\n            case 9:\n            case 32:\n              if (0 === n + m + b) switch (x) {\n                case 44:\n                case 58:\n                case 9:\n                case 32:\n                  y = '';\n                  break;\n\n                default:\n                  32 !== g && (y = ' ');\n              }\n              break;\n\n            case 0:\n              y = '\\\\0';\n              break;\n\n            case 12:\n              y = '\\\\f';\n              break;\n\n            case 11:\n              y = '\\\\v';\n              break;\n\n            case 38:\n              0 === n + b + m && (r = I = 1, y = '\\f' + y);\n              break;\n\n            case 108:\n              if (0 === n + b + m + E && 0 < u) switch (l - u) {\n                case 2:\n                  112 === x && 58 === e.charCodeAt(l - 3) && (E = x);\n\n                case 8:\n                  111 === K && (E = K);\n              }\n              break;\n\n            case 58:\n              0 === n + b + m && (u = l);\n              break;\n\n            case 44:\n              0 === b + v + n + m && (r = 1, y += '\\r');\n              break;\n\n            case 34:\n            case 39:\n              0 === b && (n = n === g ? 0 : 0 === n ? g : n);\n              break;\n\n            case 91:\n              0 === n + b + v && m++;\n              break;\n\n            case 93:\n              0 === n + b + v && m--;\n              break;\n\n            case 41:\n              0 === n + b + m && v--;\n              break;\n\n            case 40:\n              if (0 === n + b + m) {\n                if (0 === q) switch (2 * x + 3 * K) {\n                  case 533:\n                    break;\n\n                  default:\n                    q = 1;\n                }\n                v++;\n              }\n\n              break;\n\n            case 64:\n              0 === b + v + n + m + u + k && (k = 1);\n              break;\n\n            case 42:\n            case 47:\n              if (!(0 < n + m + v)) switch (b) {\n                case 0:\n                  switch (2 * g + 3 * e.charCodeAt(l + 1)) {\n                    case 235:\n                      b = 47;\n                      break;\n\n                    case 220:\n                      t = l, b = 42;\n                  }\n\n                  break;\n\n                case 42:\n                  47 === g && 42 === x && t + 2 !== l && (33 === e.charCodeAt(t + 2) && (p += e.substring(t, l + 1)), y = '', b = 0);\n              }\n          }\n\n          0 === b && (f += y);\n      }\n\n      K = x;\n      x = g;\n      l++;\n    }\n\n    t = p.length;\n\n    if (0 < t) {\n      r = c;\n      if (0 < A && (C = H(2, p, r, d, D, z, t, h, a, h), void 0 !== C && 0 === (p = C).length)) return G + p + F;\n      p = r.join(',') + '{' + p + '}';\n\n      if (0 !== w * E) {\n        2 !== w || L(p, 2) || (E = 0);\n\n        switch (E) {\n          case 111:\n            p = p.replace(ha, ':-moz-$1') + p;\n            break;\n\n          case 112:\n            p = p.replace(Q, '::-webkit-input-$1') + p.replace(Q, '::-moz-$1') + p.replace(Q, ':-ms-input-$1') + p;\n        }\n\n        E = 0;\n      }\n    }\n\n    return G + p + F;\n  }\n\n  function X(d, c, e) {\n    var h = c.trim().split(ia);\n    c = h;\n    var a = h.length,\n        m = d.length;\n\n    switch (m) {\n      case 0:\n      case 1:\n        var b = 0;\n\n        for (d = 0 === m ? '' : d[0] + ' '; b < a; ++b) {\n          c[b] = Z(d, c[b], e).trim();\n        }\n\n        break;\n\n      default:\n        var v = b = 0;\n\n        for (c = []; b < a; ++b) {\n          for (var n = 0; n < m; ++n) {\n            c[v++] = Z(d[n] + ' ', h[b], e).trim();\n          }\n        }\n\n    }\n\n    return c;\n  }\n\n  function Z(d, c, e) {\n    var h = c.charCodeAt(0);\n    33 > h && (h = (c = c.trim()).charCodeAt(0));\n\n    switch (h) {\n      case 38:\n        return c.replace(F, '$1' + d.trim());\n\n      case 58:\n        return d.trim() + c.replace(F, '$1' + d.trim());\n\n      default:\n        if (0 < 1 * e && 0 < c.indexOf('\\f')) return c.replace(F, (58 === d.charCodeAt(0) ? '' : '$1') + d.trim());\n    }\n\n    return d + c;\n  }\n\n  function P(d, c, e, h) {\n    var a = d + ';',\n        m = 2 * c + 3 * e + 4 * h;\n\n    if (944 === m) {\n      d = a.indexOf(':', 9) + 1;\n      var b = a.substring(d, a.length - 1).trim();\n      b = a.substring(0, d).trim() + b + ';';\n      return 1 === w || 2 === w && L(b, 1) ? '-webkit-' + b + b : b;\n    }\n\n    if (0 === w || 2 === w && !L(a, 1)) return a;\n\n    switch (m) {\n      case 1015:\n        return 97 === a.charCodeAt(10) ? '-webkit-' + a + a : a;\n\n      case 951:\n        return 116 === a.charCodeAt(3) ? '-webkit-' + a + a : a;\n\n      case 963:\n        return 110 === a.charCodeAt(5) ? '-webkit-' + a + a : a;\n\n      case 1009:\n        if (100 !== a.charCodeAt(4)) break;\n\n      case 969:\n      case 942:\n        return '-webkit-' + a + a;\n\n      case 978:\n        return '-webkit-' + a + '-moz-' + a + a;\n\n      case 1019:\n      case 983:\n        return '-webkit-' + a + '-moz-' + a + '-ms-' + a + a;\n\n      case 883:\n        if (45 === a.charCodeAt(8)) return '-webkit-' + a + a;\n        if (0 < a.indexOf('image-set(', 11)) return a.replace(ja, '$1-webkit-$2') + a;\n        break;\n\n      case 932:\n        if (45 === a.charCodeAt(4)) switch (a.charCodeAt(5)) {\n          case 103:\n            return '-webkit-box-' + a.replace('-grow', '') + '-webkit-' + a + '-ms-' + a.replace('grow', 'positive') + a;\n\n          case 115:\n            return '-webkit-' + a + '-ms-' + a.replace('shrink', 'negative') + a;\n\n          case 98:\n            return '-webkit-' + a + '-ms-' + a.replace('basis', 'preferred-size') + a;\n        }\n        return '-webkit-' + a + '-ms-' + a + a;\n\n      case 964:\n        return '-webkit-' + a + '-ms-flex-' + a + a;\n\n      case 1023:\n        if (99 !== a.charCodeAt(8)) break;\n        b = a.substring(a.indexOf(':', 15)).replace('flex-', '').replace('space-between', 'justify');\n        return '-webkit-box-pack' + b + '-webkit-' + a + '-ms-flex-pack' + b + a;\n\n      case 1005:\n        return ka.test(a) ? a.replace(aa, ':-webkit-') + a.replace(aa, ':-moz-') + a : a;\n\n      case 1e3:\n        b = a.substring(13).trim();\n        c = b.indexOf('-') + 1;\n\n        switch (b.charCodeAt(0) + b.charCodeAt(c)) {\n          case 226:\n            b = a.replace(G, 'tb');\n            break;\n\n          case 232:\n            b = a.replace(G, 'tb-rl');\n            break;\n\n          case 220:\n            b = a.replace(G, 'lr');\n            break;\n\n          default:\n            return a;\n        }\n\n        return '-webkit-' + a + '-ms-' + b + a;\n\n      case 1017:\n        if (-1 === a.indexOf('sticky', 9)) break;\n\n      case 975:\n        c = (a = d).length - 10;\n        b = (33 === a.charCodeAt(c) ? a.substring(0, c) : a).substring(d.indexOf(':', 7) + 1).trim();\n\n        switch (m = b.charCodeAt(0) + (b.charCodeAt(7) | 0)) {\n          case 203:\n            if (111 > b.charCodeAt(8)) break;\n\n          case 115:\n            a = a.replace(b, '-webkit-' + b) + ';' + a;\n            break;\n\n          case 207:\n          case 102:\n            a = a.replace(b, '-webkit-' + (102 < m ? 'inline-' : '') + 'box') + ';' + a.replace(b, '-webkit-' + b) + ';' + a.replace(b, '-ms-' + b + 'box') + ';' + a;\n        }\n\n        return a + ';';\n\n      case 938:\n        if (45 === a.charCodeAt(5)) switch (a.charCodeAt(6)) {\n          case 105:\n            return b = a.replace('-items', ''), '-webkit-' + a + '-webkit-box-' + b + '-ms-flex-' + b + a;\n\n          case 115:\n            return '-webkit-' + a + '-ms-flex-item-' + a.replace(ba, '') + a;\n\n          default:\n            return '-webkit-' + a + '-ms-flex-line-pack' + a.replace('align-content', '').replace(ba, '') + a;\n        }\n        break;\n\n      case 973:\n      case 989:\n        if (45 !== a.charCodeAt(3) || 122 === a.charCodeAt(4)) break;\n\n      case 931:\n      case 953:\n        if (!0 === la.test(d)) return 115 === (b = d.substring(d.indexOf(':') + 1)).charCodeAt(0) ? P(d.replace('stretch', 'fill-available'), c, e, h).replace(':fill-available', ':stretch') : a.replace(b, '-webkit-' + b) + a.replace(b, '-moz-' + b.replace('fill-', '')) + a;\n        break;\n\n      case 962:\n        if (a = '-webkit-' + a + (102 === a.charCodeAt(5) ? '-ms-' + a : '') + a, 211 === e + h && 105 === a.charCodeAt(13) && 0 < a.indexOf('transform', 10)) return a.substring(0, a.indexOf(';', 27) + 1).replace(ma, '$1-webkit-$2') + a;\n    }\n\n    return a;\n  }\n\n  function L(d, c) {\n    var e = d.indexOf(1 === c ? ':' : '{'),\n        h = d.substring(0, 3 !== c ? e : 10);\n    e = d.substring(e + 1, d.length - 1);\n    return R(2 !== c ? h : h.replace(na, '$1'), e, c);\n  }\n\n  function ea(d, c) {\n    var e = P(c, c.charCodeAt(0), c.charCodeAt(1), c.charCodeAt(2));\n    return e !== c + ';' ? e.replace(oa, ' or ($1)').substring(4) : '(' + c + ')';\n  }\n\n  function H(d, c, e, h, a, m, b, v, n, q) {\n    for (var g = 0, x = c, w; g < A; ++g) {\n      switch (w = S[g].call(B, d, x, e, h, a, m, b, v, n, q)) {\n        case void 0:\n        case !1:\n        case !0:\n        case null:\n          break;\n\n        default:\n          x = w;\n      }\n    }\n\n    if (x !== c) return x;\n  }\n\n  function T(d) {\n    switch (d) {\n      case void 0:\n      case null:\n        A = S.length = 0;\n        break;\n\n      default:\n        if ('function' === typeof d) S[A++] = d;else if ('object' === typeof d) for (var c = 0, e = d.length; c < e; ++c) {\n          T(d[c]);\n        } else Y = !!d | 0;\n    }\n\n    return T;\n  }\n\n  function U(d) {\n    d = d.prefix;\n    void 0 !== d && (R = null, d ? 'function' !== typeof d ? w = 1 : (w = 2, R = d) : w = 0);\n    return U;\n  }\n\n  function B(d, c) {\n    var e = d;\n    33 > e.charCodeAt(0) && (e = e.trim());\n    V = e;\n    e = [V];\n\n    if (0 < A) {\n      var h = H(-1, c, e, e, D, z, 0, 0, 0, 0);\n      void 0 !== h && 'string' === typeof h && (c = h);\n    }\n\n    var a = M(O, e, c, 0, 0);\n    0 < A && (h = H(-2, a, e, e, D, z, a.length, 0, 0, 0), void 0 !== h && (a = h));\n    V = '';\n    E = 0;\n    z = D = 1;\n    return a;\n  }\n\n  var ca = /^\\0+/g,\n      N = /[\\0\\r\\f]/g,\n      aa = /: */g,\n      ka = /zoo|gra/,\n      ma = /([,: ])(transform)/g,\n      ia = /,\\r+?/g,\n      F = /([\\t\\r\\n ])*\\f?&/g,\n      fa = /@(k\\w+)\\s*(\\S*)\\s*/,\n      Q = /::(place)/g,\n      ha = /:(read-only)/g,\n      G = /[svh]\\w+-[tblr]{2}/,\n      da = /\\(\\s*(.*)\\s*\\)/g,\n      oa = /([\\s\\S]*?);/g,\n      ba = /-self|flex-/g,\n      na = /[^]*?(:[rp][el]a[\\w-]+)[^]*/,\n      la = /stretch|:\\s*\\w+\\-(?:conte|avail)/,\n      ja = /([^-])(image-set\\()/,\n      z = 1,\n      D = 1,\n      E = 0,\n      w = 1,\n      O = [],\n      S = [],\n      A = 0,\n      R = null,\n      Y = 0,\n      V = '';\n  B.use = T;\n  B.set = U;\n  void 0 !== W && U(W);\n  return B;\n}\n\nexport default stylis_min;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","require(\"core-js/modules/es6.function.bind\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.string.repeat\");\n\nrequire(\"core-js/modules/es6.array.last-index-of\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.array.sort\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.string.trim\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\nmodule.exports = THREE.ColladaLoader = function (manager) {\n  this.manager = manager !== undefined ? manager : THREE.DefaultLoadingManager;\n};\n\nTHREE.ColladaLoader.prototype = {\n  constructor: THREE.ColladaLoader,\n  crossOrigin: 'anonymous',\n  load: function load(url, onLoad, onProgress, onError) {\n    var scope = this;\n    var path = scope.path === undefined ? THREE.LoaderUtils.extractUrlBase(url) : scope.path;\n    var loader = new THREE.FileLoader(scope.manager);\n    loader.setPath(scope.path);\n    loader.load(url, function (text) {\n      onLoad(scope.parse(text, path));\n    }, onProgress, onError);\n  },\n  setPath: function setPath(value) {\n    this.path = value;\n    return this;\n  },\n  setResourcePath: function setResourcePath(value) {\n    this.resourcePath = value;\n    return this;\n  },\n  options: {\n    set convertUpAxis(value) {\n      console.warn('THREE.ColladaLoader: options.convertUpAxis() has been removed. Up axis is converted automatically.');\n    }\n\n  },\n  setCrossOrigin: function setCrossOrigin(value) {\n    this.crossOrigin = value;\n    return this;\n  },\n  parse: function parse(text, path) {\n    function getElementsByTagName(xml, name) {\n      // Non recursive xml.getElementsByTagName() ...\n      var array = [];\n      var childNodes = xml.childNodes;\n\n      for (var i = 0, l = childNodes.length; i < l; i++) {\n        var child = childNodes[i];\n\n        if (child.nodeName === name) {\n          array.push(child);\n        }\n      }\n\n      return array;\n    }\n\n    function parseStrings(text) {\n      if (text.length === 0) return [];\n      var parts = text.trim().split(/\\s+/);\n      var array = new Array(parts.length);\n\n      for (var i = 0, l = parts.length; i < l; i++) {\n        array[i] = parts[i];\n      }\n\n      return array;\n    }\n\n    function parseFloats(text) {\n      if (text.length === 0) return [];\n      var parts = text.trim().split(/\\s+/);\n      var array = new Array(parts.length);\n\n      for (var i = 0, l = parts.length; i < l; i++) {\n        array[i] = parseFloat(parts[i]);\n      }\n\n      return array;\n    }\n\n    function parseInts(text) {\n      if (text.length === 0) return [];\n      var parts = text.trim().split(/\\s+/);\n      var array = new Array(parts.length);\n\n      for (var i = 0, l = parts.length; i < l; i++) {\n        array[i] = parseInt(parts[i]);\n      }\n\n      return array;\n    }\n\n    function parseId(text) {\n      return text.substring(1);\n    }\n\n    function generateId() {\n      return 'three_default_' + count++;\n    }\n\n    function isEmpty(object) {\n      return Object.keys(object).length === 0;\n    } // asset\n\n\n    function parseAsset(xml) {\n      return {\n        unit: parseAssetUnit(getElementsByTagName(xml, 'unit')[0]),\n        upAxis: parseAssetUpAxis(getElementsByTagName(xml, 'up_axis')[0])\n      };\n    }\n\n    function parseAssetUnit(xml) {\n      if (xml !== undefined && xml.hasAttribute('meter') === true) {\n        return parseFloat(xml.getAttribute('meter'));\n      } else {\n        return 1; // default 1 meter\n      }\n    }\n\n    function parseAssetUpAxis(xml) {\n      return xml !== undefined ? xml.textContent : 'Y_UP';\n    } // library\n\n\n    function parseLibrary(xml, libraryName, nodeName, parser) {\n      var library = getElementsByTagName(xml, libraryName)[0];\n\n      if (library !== undefined) {\n        var elements = getElementsByTagName(library, nodeName);\n\n        for (var i = 0; i < elements.length; i++) {\n          parser(elements[i]);\n        }\n      }\n    }\n\n    function buildLibrary(data, builder) {\n      for (var name in data) {\n        var object = data[name];\n        object.build = builder(data[name]);\n      }\n    } // get\n\n\n    function getBuild(data, builder) {\n      if (data.build !== undefined) return data.build;\n      data.build = builder(data);\n      return data.build;\n    } // animation\n\n\n    function parseAnimation(xml) {\n      var data = {\n        sources: {},\n        samplers: {},\n        channels: {}\n      };\n\n      for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n        var id;\n\n        switch (child.nodeName) {\n          case 'source':\n            id = child.getAttribute('id');\n            data.sources[id] = parseSource(child);\n            break;\n\n          case 'sampler':\n            id = child.getAttribute('id');\n            data.samplers[id] = parseAnimationSampler(child);\n            break;\n\n          case 'channel':\n            id = child.getAttribute('target');\n            data.channels[id] = parseAnimationChannel(child);\n            break;\n\n          default:\n            console.log(child);\n        }\n      }\n\n      library.animations[xml.getAttribute('id')] = data;\n    }\n\n    function parseAnimationSampler(xml) {\n      var data = {\n        inputs: {}\n      };\n\n      for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'input':\n            var id = parseId(child.getAttribute('source'));\n            var semantic = child.getAttribute('semantic');\n            data.inputs[semantic] = id;\n            break;\n        }\n      }\n\n      return data;\n    }\n\n    function parseAnimationChannel(xml) {\n      var data = {};\n      var target = xml.getAttribute('target'); // parsing SID Addressing Syntax\n\n      var parts = target.split('/');\n      var id = parts.shift();\n      var sid = parts.shift(); // check selection syntax\n\n      var arraySyntax = sid.indexOf('(') !== -1;\n      var memberSyntax = sid.indexOf('.') !== -1;\n\n      if (memberSyntax) {\n        //  member selection access\n        parts = sid.split('.');\n        sid = parts.shift();\n        data.member = parts.shift();\n      } else if (arraySyntax) {\n        // array-access syntax. can be used to express fields in one-dimensional vectors or two-dimensional matrices.\n        var indices = sid.split('(');\n        sid = indices.shift();\n\n        for (var i = 0; i < indices.length; i++) {\n          indices[i] = parseInt(indices[i].replace(/\\)/, ''));\n        }\n\n        data.indices = indices;\n      }\n\n      data.id = id;\n      data.sid = sid;\n      data.arraySyntax = arraySyntax;\n      data.memberSyntax = memberSyntax;\n      data.sampler = parseId(xml.getAttribute('source'));\n      return data;\n    }\n\n    function buildAnimation(data) {\n      var tracks = [];\n      var channels = data.channels;\n      var samplers = data.samplers;\n      var sources = data.sources;\n\n      for (var target in channels) {\n        if (channels.hasOwnProperty(target)) {\n          var channel = channels[target];\n          var sampler = samplers[channel.sampler];\n          var inputId = sampler.inputs.INPUT;\n          var outputId = sampler.inputs.OUTPUT;\n          var inputSource = sources[inputId];\n          var outputSource = sources[outputId];\n          var animation = buildAnimationChannel(channel, inputSource, outputSource);\n          createKeyframeTracks(animation, tracks);\n        }\n      }\n\n      return tracks;\n    }\n\n    function getAnimation(id) {\n      return getBuild(library.animations[id], buildAnimation);\n    }\n\n    function buildAnimationChannel(channel, inputSource, outputSource) {\n      var node = library.nodes[channel.id];\n      var object3D = getNode(node.id);\n      var transform = node.transforms[channel.sid];\n      var defaultMatrix = node.matrix.clone().transpose();\n      var time, stride;\n      var i, il, j, jl;\n      var data = {}; // the collada spec allows the animation of data in various ways.\n      // depending on the transform type (matrix, translate, rotate, scale), we execute different logic\n\n      switch (transform) {\n        case 'matrix':\n          for (i = 0, il = inputSource.array.length; i < il; i++) {\n            time = inputSource.array[i];\n            stride = i * outputSource.stride;\n            if (data[time] === undefined) data[time] = {};\n\n            if (channel.arraySyntax === true) {\n              var value = outputSource.array[stride];\n              var index = channel.indices[0] + 4 * channel.indices[1];\n              data[time][index] = value;\n            } else {\n              for (j = 0, jl = outputSource.stride; j < jl; j++) {\n                data[time][j] = outputSource.array[stride + j];\n              }\n            }\n          }\n\n          break;\n\n        case 'translate':\n          console.warn('THREE.ColladaLoader: Animation transform type \"%s\" not yet implemented.', transform);\n          break;\n\n        case 'rotate':\n          console.warn('THREE.ColladaLoader: Animation transform type \"%s\" not yet implemented.', transform);\n          break;\n\n        case 'scale':\n          console.warn('THREE.ColladaLoader: Animation transform type \"%s\" not yet implemented.', transform);\n          break;\n      }\n\n      var keyframes = prepareAnimationData(data, defaultMatrix);\n      var animation = {\n        name: object3D.uuid,\n        keyframes: keyframes\n      };\n      return animation;\n    }\n\n    function prepareAnimationData(data, defaultMatrix) {\n      var keyframes = []; // transfer data into a sortable array\n\n      for (var time in data) {\n        keyframes.push({\n          time: parseFloat(time),\n          value: data[time]\n        });\n      } // ensure keyframes are sorted by time\n\n\n      keyframes.sort(ascending); // now we clean up all animation data, so we can use them for keyframe tracks\n\n      for (var i = 0; i < 16; i++) {\n        transformAnimationData(keyframes, i, defaultMatrix.elements[i]);\n      }\n\n      return keyframes; // array sort function\n\n      function ascending(a, b) {\n        return a.time - b.time;\n      }\n    }\n\n    var position = new THREE.Vector3();\n    var scale = new THREE.Vector3();\n    var quaternion = new THREE.Quaternion();\n\n    function createKeyframeTracks(animation, tracks) {\n      var keyframes = animation.keyframes;\n      var name = animation.name;\n      var times = [];\n      var positionData = [];\n      var quaternionData = [];\n      var scaleData = [];\n\n      for (var i = 0, l = keyframes.length; i < l; i++) {\n        var keyframe = keyframes[i];\n        var time = keyframe.time;\n        var value = keyframe.value;\n        matrix.fromArray(value).transpose();\n        matrix.decompose(position, quaternion, scale);\n        times.push(time);\n        positionData.push(position.x, position.y, position.z);\n        quaternionData.push(quaternion.x, quaternion.y, quaternion.z, quaternion.w);\n        scaleData.push(scale.x, scale.y, scale.z);\n      }\n\n      if (positionData.length > 0) tracks.push(new THREE.VectorKeyframeTrack(name + '.position', times, positionData));\n      if (quaternionData.length > 0) tracks.push(new THREE.QuaternionKeyframeTrack(name + '.quaternion', times, quaternionData));\n      if (scaleData.length > 0) tracks.push(new THREE.VectorKeyframeTrack(name + '.scale', times, scaleData));\n      return tracks;\n    }\n\n    function transformAnimationData(keyframes, property, defaultValue) {\n      var keyframe;\n      var empty = true;\n      var i, l; // check, if values of a property are missing in our keyframes\n\n      for (i = 0, l = keyframes.length; i < l; i++) {\n        keyframe = keyframes[i];\n\n        if (keyframe.value[property] === undefined) {\n          keyframe.value[property] = null; // mark as missing\n        } else {\n          empty = false;\n        }\n      }\n\n      if (empty === true) {\n        // no values at all, so we set a default value\n        for (i = 0, l = keyframes.length; i < l; i++) {\n          keyframe = keyframes[i];\n          keyframe.value[property] = defaultValue;\n        }\n      } else {\n        // filling gaps\n        createMissingKeyframes(keyframes, property);\n      }\n    }\n\n    function createMissingKeyframes(keyframes, property) {\n      var prev, next;\n\n      for (var i = 0, l = keyframes.length; i < l; i++) {\n        var keyframe = keyframes[i];\n\n        if (keyframe.value[property] === null) {\n          prev = getPrev(keyframes, i, property);\n          next = getNext(keyframes, i, property);\n\n          if (prev === null) {\n            keyframe.value[property] = next.value[property];\n            continue;\n          }\n\n          if (next === null) {\n            keyframe.value[property] = prev.value[property];\n            continue;\n          }\n\n          interpolate(keyframe, prev, next, property);\n        }\n      }\n    }\n\n    function getPrev(keyframes, i, property) {\n      while (i >= 0) {\n        var keyframe = keyframes[i];\n        if (keyframe.value[property] !== null) return keyframe;\n        i--;\n      }\n\n      return null;\n    }\n\n    function getNext(keyframes, i, property) {\n      while (i < keyframes.length) {\n        var keyframe = keyframes[i];\n        if (keyframe.value[property] !== null) return keyframe;\n        i++;\n      }\n\n      return null;\n    }\n\n    function interpolate(key, prev, next, property) {\n      if (next.time - prev.time === 0) {\n        key.value[property] = prev.value[property];\n        return;\n      }\n\n      key.value[property] = (key.time - prev.time) * (next.value[property] - prev.value[property]) / (next.time - prev.time) + prev.value[property];\n    } // animation clips\n\n\n    function parseAnimationClip(xml) {\n      var data = {\n        name: xml.getAttribute('id') || 'default',\n        start: parseFloat(xml.getAttribute('start') || 0),\n        end: parseFloat(xml.getAttribute('end') || 0),\n        animations: []\n      };\n\n      for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'instance_animation':\n            data.animations.push(parseId(child.getAttribute('url')));\n            break;\n        }\n      }\n\n      library.clips[xml.getAttribute('id')] = data;\n    }\n\n    function buildAnimationClip(data) {\n      var tracks = [];\n      var name = data.name;\n      var duration = data.end - data.start || -1;\n      var animations = data.animations;\n\n      for (var i = 0, il = animations.length; i < il; i++) {\n        var animationTracks = getAnimation(animations[i]);\n\n        for (var j = 0, jl = animationTracks.length; j < jl; j++) {\n          tracks.push(animationTracks[j]);\n        }\n      }\n\n      return new THREE.AnimationClip(name, duration, tracks);\n    }\n\n    function getAnimationClip(id) {\n      return getBuild(library.clips[id], buildAnimationClip);\n    } // controller\n\n\n    function parseController(xml) {\n      var data = {};\n\n      for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'skin':\n            // there is exactly one skin per controller\n            data.id = parseId(child.getAttribute('source'));\n            data.skin = parseSkin(child);\n            break;\n\n          case 'morph':\n            data.id = parseId(child.getAttribute('source'));\n            console.warn('THREE.ColladaLoader: Morph target animation not supported yet.');\n            break;\n        }\n      }\n\n      library.controllers[xml.getAttribute('id')] = data;\n    }\n\n    function parseSkin(xml) {\n      var data = {\n        sources: {}\n      };\n\n      for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'bind_shape_matrix':\n            data.bindShapeMatrix = parseFloats(child.textContent);\n            break;\n\n          case 'source':\n            var id = child.getAttribute('id');\n            data.sources[id] = parseSource(child);\n            break;\n\n          case 'joints':\n            data.joints = parseJoints(child);\n            break;\n\n          case 'vertex_weights':\n            data.vertexWeights = parseVertexWeights(child);\n            break;\n        }\n      }\n\n      return data;\n    }\n\n    function parseJoints(xml) {\n      var data = {\n        inputs: {}\n      };\n\n      for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'input':\n            var semantic = child.getAttribute('semantic');\n            var id = parseId(child.getAttribute('source'));\n            data.inputs[semantic] = id;\n            break;\n        }\n      }\n\n      return data;\n    }\n\n    function parseVertexWeights(xml) {\n      var data = {\n        inputs: {}\n      };\n\n      for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'input':\n            var semantic = child.getAttribute('semantic');\n            var id = parseId(child.getAttribute('source'));\n            var offset = parseInt(child.getAttribute('offset'));\n            data.inputs[semantic] = {\n              id: id,\n              offset: offset\n            };\n            break;\n\n          case 'vcount':\n            data.vcount = parseInts(child.textContent);\n            break;\n\n          case 'v':\n            data.v = parseInts(child.textContent);\n            break;\n        }\n      }\n\n      return data;\n    }\n\n    function buildController(data) {\n      var build = {\n        id: data.id\n      };\n      var geometry = library.geometries[build.id];\n\n      if (data.skin !== undefined) {\n        build.skin = buildSkin(data.skin); // we enhance the 'sources' property of the corresponding geometry with our skin data\n\n        geometry.sources.skinIndices = build.skin.indices;\n        geometry.sources.skinWeights = build.skin.weights;\n      }\n\n      return build;\n    }\n\n    function buildSkin(data) {\n      var BONE_LIMIT = 4;\n      var build = {\n        joints: [],\n        // this must be an array to preserve the joint order\n        indices: {\n          array: [],\n          stride: BONE_LIMIT\n        },\n        weights: {\n          array: [],\n          stride: BONE_LIMIT\n        }\n      };\n      var sources = data.sources;\n      var vertexWeights = data.vertexWeights;\n      var vcount = vertexWeights.vcount;\n      var v = vertexWeights.v;\n      var jointOffset = vertexWeights.inputs.JOINT.offset;\n      var weightOffset = vertexWeights.inputs.WEIGHT.offset;\n      var jointSource = data.sources[data.joints.inputs.JOINT];\n      var inverseSource = data.sources[data.joints.inputs.INV_BIND_MATRIX];\n      var weights = sources[vertexWeights.inputs.WEIGHT.id].array;\n      var stride = 0;\n      var i, j, l; // procces skin data for each vertex\n\n      for (i = 0, l = vcount.length; i < l; i++) {\n        var jointCount = vcount[i]; // this is the amount of joints that affect a single vertex\n\n        var vertexSkinData = [];\n\n        for (j = 0; j < jointCount; j++) {\n          var skinIndex = v[stride + jointOffset];\n          var weightId = v[stride + weightOffset];\n          var skinWeight = weights[weightId];\n          vertexSkinData.push({\n            index: skinIndex,\n            weight: skinWeight\n          });\n          stride += 2;\n        } // we sort the joints in descending order based on the weights.\n        // this ensures, we only procced the most important joints of the vertex\n\n\n        vertexSkinData.sort(descending); // now we provide for each vertex a set of four index and weight values.\n        // the order of the skin data matches the order of vertices\n\n        for (j = 0; j < BONE_LIMIT; j++) {\n          var d = vertexSkinData[j];\n\n          if (d !== undefined) {\n            build.indices.array.push(d.index);\n            build.weights.array.push(d.weight);\n          } else {\n            build.indices.array.push(0);\n            build.weights.array.push(0);\n          }\n        }\n      } // setup bind matrix\n\n\n      if (data.bindShapeMatrix) {\n        build.bindMatrix = new THREE.Matrix4().fromArray(data.bindShapeMatrix).transpose();\n      } else {\n        build.bindMatrix = new THREE.Matrix4().identity();\n      } // process bones and inverse bind matrix data\n\n\n      for (i = 0, l = jointSource.array.length; i < l; i++) {\n        var name = jointSource.array[i];\n        var boneInverse = new THREE.Matrix4().fromArray(inverseSource.array, i * inverseSource.stride).transpose();\n        build.joints.push({\n          name: name,\n          boneInverse: boneInverse\n        });\n      }\n\n      return build; // array sort function\n\n      function descending(a, b) {\n        return b.weight - a.weight;\n      }\n    }\n\n    function getController(id) {\n      return getBuild(library.controllers[id], buildController);\n    } // image\n\n\n    function parseImage(xml) {\n      var data = {\n        init_from: getElementsByTagName(xml, 'init_from')[0].textContent\n      };\n      library.images[xml.getAttribute('id')] = data;\n    }\n\n    function buildImage(data) {\n      if (data.build !== undefined) return data.build;\n      return data.init_from;\n    }\n\n    function getImage(id) {\n      var data = library.images[id];\n\n      if (data !== undefined) {\n        return getBuild(data, buildImage);\n      }\n\n      console.warn('THREE.ColladaLoader: Couldn\\'t find image with ID:', id);\n      return null;\n    } // effect\n\n\n    function parseEffect(xml) {\n      var data = {};\n\n      for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'profile_COMMON':\n            data.profile = parseEffectProfileCOMMON(child);\n            break;\n        }\n      }\n\n      library.effects[xml.getAttribute('id')] = data;\n    }\n\n    function parseEffectProfileCOMMON(xml) {\n      var data = {\n        surfaces: {},\n        samplers: {}\n      };\n\n      for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'newparam':\n            parseEffectNewparam(child, data);\n            break;\n\n          case 'technique':\n            data.technique = parseEffectTechnique(child);\n            break;\n\n          case 'extra':\n            data.extra = parseEffectExtra(child);\n            break;\n        }\n      }\n\n      return data;\n    }\n\n    function parseEffectNewparam(xml, data) {\n      var sid = xml.getAttribute('sid');\n\n      for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'surface':\n            data.surfaces[sid] = parseEffectSurface(child);\n            break;\n\n          case 'sampler2D':\n            data.samplers[sid] = parseEffectSampler(child);\n            break;\n        }\n      }\n    }\n\n    function parseEffectSurface(xml) {\n      var data = {};\n\n      for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'init_from':\n            data.init_from = child.textContent;\n            break;\n        }\n      }\n\n      return data;\n    }\n\n    function parseEffectSampler(xml) {\n      var data = {};\n\n      for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'source':\n            data.source = child.textContent;\n            break;\n        }\n      }\n\n      return data;\n    }\n\n    function parseEffectTechnique(xml) {\n      var data = {};\n\n      for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'constant':\n          case 'lambert':\n          case 'blinn':\n          case 'phong':\n            data.type = child.nodeName;\n            data.parameters = parseEffectParameters(child);\n            break;\n        }\n      }\n\n      return data;\n    }\n\n    function parseEffectParameters(xml) {\n      var data = {};\n\n      for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'emission':\n          case 'diffuse':\n          case 'specular':\n          case 'bump':\n          case 'ambient':\n          case 'shininess':\n          case 'transparency':\n            data[child.nodeName] = parseEffectParameter(child);\n            break;\n\n          case 'transparent':\n            data[child.nodeName] = {\n              opaque: child.getAttribute('opaque'),\n              data: parseEffectParameter(child)\n            };\n            break;\n        }\n      }\n\n      return data;\n    }\n\n    function parseEffectParameter(xml) {\n      var data = {};\n\n      for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'color':\n            data[child.nodeName] = parseFloats(child.textContent);\n            break;\n\n          case 'float':\n            data[child.nodeName] = parseFloat(child.textContent);\n            break;\n\n          case 'texture':\n            data[child.nodeName] = {\n              id: child.getAttribute('texture'),\n              extra: parseEffectParameterTexture(child)\n            };\n            break;\n        }\n      }\n\n      return data;\n    }\n\n    function parseEffectParameterTexture(xml) {\n      var data = {\n        technique: {}\n      };\n\n      for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'extra':\n            parseEffectParameterTextureExtra(child, data);\n            break;\n        }\n      }\n\n      return data;\n    }\n\n    function parseEffectParameterTextureExtra(xml, data) {\n      for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'technique':\n            parseEffectParameterTextureExtraTechnique(child, data);\n            break;\n        }\n      }\n    }\n\n    function parseEffectParameterTextureExtraTechnique(xml, data) {\n      for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'repeatU':\n          case 'repeatV':\n          case 'offsetU':\n          case 'offsetV':\n            data.technique[child.nodeName] = parseFloat(child.textContent);\n            break;\n\n          case 'wrapU':\n          case 'wrapV':\n            // some files have values for wrapU/wrapV which become NaN via parseInt\n            if (child.textContent.toUpperCase() === 'TRUE') {\n              data.technique[child.nodeName] = 1;\n            } else if (child.textContent.toUpperCase() === 'FALSE') {\n              data.technique[child.nodeName] = 0;\n            } else {\n              data.technique[child.nodeName] = parseInt(child.textContent);\n            }\n\n            break;\n        }\n      }\n    }\n\n    function parseEffectExtra(xml) {\n      var data = {};\n\n      for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'technique':\n            data.technique = parseEffectExtraTechnique(child);\n            break;\n        }\n      }\n\n      return data;\n    }\n\n    function parseEffectExtraTechnique(xml) {\n      var data = {};\n\n      for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'double_sided':\n            data[child.nodeName] = parseInt(child.textContent);\n            break;\n        }\n      }\n\n      return data;\n    }\n\n    function buildEffect(data) {\n      return data;\n    }\n\n    function getEffect(id) {\n      return getBuild(library.effects[id], buildEffect);\n    } // material\n\n\n    function parseMaterial(xml) {\n      var data = {\n        name: xml.getAttribute('name')\n      };\n\n      for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'instance_effect':\n            data.url = parseId(child.getAttribute('url'));\n            break;\n        }\n      }\n\n      library.materials[xml.getAttribute('id')] = data;\n    }\n\n    function getTextureLoader(image) {\n      var loader;\n      var extension = image.slice((image.lastIndexOf('.') - 1 >>> 0) + 2); // http://www.jstips.co/en/javascript/get-file-extension/\n\n      extension = extension.toLowerCase();\n\n      switch (extension) {\n        case 'tga':\n          loader = tgaLoader;\n          break;\n\n        default:\n          loader = textureLoader;\n      }\n\n      return loader;\n    }\n\n    function buildMaterial(data) {\n      var effect = getEffect(data.url);\n      var technique = effect.profile.technique;\n      var extra = effect.profile.extra;\n      var material;\n\n      switch (technique.type) {\n        case 'phong':\n        case 'blinn':\n          material = new THREE.MeshPhongMaterial();\n          break;\n\n        case 'lambert':\n          material = new THREE.MeshLambertMaterial();\n          break;\n\n        default:\n          material = new THREE.MeshBasicMaterial();\n          break;\n      }\n\n      material.name = data.name;\n\n      function getTexture(textureObject) {\n        var sampler = effect.profile.samplers[textureObject.id];\n        var image = null; // get image\n\n        if (sampler !== undefined) {\n          var surface = effect.profile.surfaces[sampler.source];\n          image = getImage(surface.init_from);\n        } else {\n          console.warn('THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530).');\n          image = getImage(textureObject.id);\n        } // create texture if image is avaiable\n\n\n        if (image !== null) {\n          var loader = getTextureLoader(image);\n\n          if (loader !== undefined) {\n            var texture = loader.load(image);\n            var extra = textureObject.extra;\n\n            if (extra !== undefined && extra.technique !== undefined && isEmpty(extra.technique) === false) {\n              var technique = extra.technique;\n              texture.wrapS = technique.wrapU ? THREE.RepeatWrapping : THREE.ClampToEdgeWrapping;\n              texture.wrapT = technique.wrapV ? THREE.RepeatWrapping : THREE.ClampToEdgeWrapping;\n              texture.offset.set(technique.offsetU || 0, technique.offsetV || 0);\n              texture.repeat.set(technique.repeatU || 1, technique.repeatV || 1);\n            } else {\n              texture.wrapS = THREE.RepeatWrapping;\n              texture.wrapT = THREE.RepeatWrapping;\n            }\n\n            return texture;\n          } else {\n            console.warn('THREE.ColladaLoader: Loader for texture %s not found.', image);\n            return null;\n          }\n        } else {\n          console.warn('THREE.ColladaLoader: Couldn\\'t create texture with ID:', textureObject.id);\n          return null;\n        }\n      }\n\n      var parameters = technique.parameters;\n\n      for (var key in parameters) {\n        var parameter = parameters[key];\n\n        switch (key) {\n          case 'diffuse':\n            if (parameter.color) material.color.fromArray(parameter.color);\n            if (parameter.texture) material.map = getTexture(parameter.texture);\n            break;\n\n          case 'specular':\n            if (parameter.color && material.specular) material.specular.fromArray(parameter.color);\n            if (parameter.texture) material.specularMap = getTexture(parameter.texture);\n            break;\n\n          case 'bump':\n            if (parameter.texture) material.normalMap = getTexture(parameter.texture);\n            break;\n\n          case 'ambient':\n            if (parameter.texture) material.lightMap = getTexture(parameter.texture);\n            break;\n\n          case 'shininess':\n            if (parameter[\"float\"] && material.shininess) material.shininess = parameter[\"float\"];\n            break;\n\n          case 'emission':\n            if (parameter.color && material.emissive) material.emissive.fromArray(parameter.color);\n            if (parameter.texture) material.emissiveMap = getTexture(parameter.texture);\n            break;\n        }\n      } //\n\n\n      var transparent = parameters['transparent'];\n      var transparency = parameters['transparency']; // <transparency> does not exist but <transparent>\n\n      if (transparency === undefined && transparent) {\n        transparency = {\n          \"float\": 1\n        };\n      } // <transparent> does not exist but <transparency>\n\n\n      if (transparent === undefined && transparency) {\n        transparent = {\n          opaque: 'A_ONE',\n          data: {\n            color: [1, 1, 1, 1]\n          }\n        };\n      }\n\n      if (transparent && transparency) {\n        // handle case if a texture exists but no color\n        if (transparent.data.texture) {\n          // we do not set an alpha map (see #13792)\n          material.transparent = true;\n        } else {\n          var color = transparent.data.color;\n\n          switch (transparent.opaque) {\n            case 'A_ONE':\n              material.opacity = color[3] * transparency[\"float\"];\n              break;\n\n            case 'RGB_ZERO':\n              material.opacity = 1 - color[0] * transparency[\"float\"];\n              break;\n\n            case 'A_ZERO':\n              material.opacity = 1 - color[3] * transparency[\"float\"];\n              break;\n\n            case 'RGB_ONE':\n              material.opacity = color[0] * transparency[\"float\"];\n              break;\n\n            default:\n              console.warn('THREE.ColladaLoader: Invalid opaque type \"%s\" of transparent tag.', transparent.opaque);\n          }\n\n          if (material.opacity < 1) material.transparent = true;\n        }\n      } //\n\n\n      if (extra !== undefined && extra.technique !== undefined && extra.technique.double_sided === 1) {\n        material.side = THREE.DoubleSide;\n      }\n\n      return material;\n    }\n\n    function getMaterial(id) {\n      return getBuild(library.materials[id], buildMaterial);\n    } // camera\n\n\n    function parseCamera(xml) {\n      var data = {\n        name: xml.getAttribute('name')\n      };\n\n      for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'optics':\n            data.optics = parseCameraOptics(child);\n            break;\n        }\n      }\n\n      library.cameras[xml.getAttribute('id')] = data;\n    }\n\n    function parseCameraOptics(xml) {\n      for (var i = 0; i < xml.childNodes.length; i++) {\n        var child = xml.childNodes[i];\n\n        switch (child.nodeName) {\n          case 'technique_common':\n            return parseCameraTechnique(child);\n        }\n      }\n\n      return {};\n    }\n\n    function parseCameraTechnique(xml) {\n      var data = {};\n\n      for (var i = 0; i < xml.childNodes.length; i++) {\n        var child = xml.childNodes[i];\n\n        switch (child.nodeName) {\n          case 'perspective':\n          case 'orthographic':\n            data.technique = child.nodeName;\n            data.parameters = parseCameraParameters(child);\n            break;\n        }\n      }\n\n      return data;\n    }\n\n    function parseCameraParameters(xml) {\n      var data = {};\n\n      for (var i = 0; i < xml.childNodes.length; i++) {\n        var child = xml.childNodes[i];\n\n        switch (child.nodeName) {\n          case 'xfov':\n          case 'yfov':\n          case 'xmag':\n          case 'ymag':\n          case 'znear':\n          case 'zfar':\n          case 'aspect_ratio':\n            data[child.nodeName] = parseFloat(child.textContent);\n            break;\n        }\n      }\n\n      return data;\n    }\n\n    function buildCamera(data) {\n      var camera;\n\n      switch (data.optics.technique) {\n        case 'perspective':\n          camera = new THREE.PerspectiveCamera(data.optics.parameters.yfov, data.optics.parameters.aspect_ratio, data.optics.parameters.znear, data.optics.parameters.zfar);\n          break;\n\n        case 'orthographic':\n          var ymag = data.optics.parameters.ymag;\n          var xmag = data.optics.parameters.xmag;\n          var aspectRatio = data.optics.parameters.aspect_ratio;\n          xmag = xmag === undefined ? ymag * aspectRatio : xmag;\n          ymag = ymag === undefined ? xmag / aspectRatio : ymag;\n          xmag *= 0.5;\n          ymag *= 0.5;\n          camera = new THREE.OrthographicCamera(-xmag, xmag, ymag, -ymag, // left, right, top, bottom\n          data.optics.parameters.znear, data.optics.parameters.zfar);\n          break;\n\n        default:\n          camera = new THREE.PerspectiveCamera();\n          break;\n      }\n\n      camera.name = data.name;\n      return camera;\n    }\n\n    function getCamera(id) {\n      var data = library.cameras[id];\n\n      if (data !== undefined) {\n        return getBuild(data, buildCamera);\n      }\n\n      console.warn('THREE.ColladaLoader: Couldn\\'t find camera with ID:', id);\n      return null;\n    } // light\n\n\n    function parseLight(xml) {\n      var data = {};\n\n      for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'technique_common':\n            data = parseLightTechnique(child);\n            break;\n        }\n      }\n\n      library.lights[xml.getAttribute('id')] = data;\n    }\n\n    function parseLightTechnique(xml) {\n      var data = {};\n\n      for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'directional':\n          case 'point':\n          case 'spot':\n          case 'ambient':\n            data.technique = child.nodeName;\n            data.parameters = parseLightParameters(child);\n        }\n      }\n\n      return data;\n    }\n\n    function parseLightParameters(xml) {\n      var data = {};\n\n      for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'color':\n            var array = parseFloats(child.textContent);\n            data.color = new THREE.Color().fromArray(array);\n            break;\n\n          case 'falloff_angle':\n            data.falloffAngle = parseFloat(child.textContent);\n            break;\n\n          case 'quadratic_attenuation':\n            var f = parseFloat(child.textContent);\n            data.distance = f ? Math.sqrt(1 / f) : 0;\n            break;\n        }\n      }\n\n      return data;\n    }\n\n    function buildLight(data) {\n      var light;\n\n      switch (data.technique) {\n        case 'directional':\n          light = new THREE.DirectionalLight();\n          break;\n\n        case 'point':\n          light = new THREE.PointLight();\n          break;\n\n        case 'spot':\n          light = new THREE.SpotLight();\n          break;\n\n        case 'ambient':\n          light = new THREE.AmbientLight();\n          break;\n      }\n\n      if (data.parameters.color) light.color.copy(data.parameters.color);\n      if (data.parameters.distance) light.distance = data.parameters.distance;\n      return light;\n    }\n\n    function getLight(id) {\n      var data = library.lights[id];\n\n      if (data !== undefined) {\n        return getBuild(data, buildLight);\n      }\n\n      console.warn('THREE.ColladaLoader: Couldn\\'t find light with ID:', id);\n      return null;\n    } // geometry\n\n\n    function parseGeometry(xml) {\n      var data = {\n        name: xml.getAttribute('name'),\n        sources: {},\n        vertices: {},\n        primitives: []\n      };\n      var mesh = getElementsByTagName(xml, 'mesh')[0]; // the following tags inside geometry are not supported yet (see https://github.com/mrdoob/three.js/pull/12606): convex_mesh, spline, brep\n\n      if (mesh === undefined) return;\n\n      for (var i = 0; i < mesh.childNodes.length; i++) {\n        var child = mesh.childNodes[i];\n        if (child.nodeType !== 1) continue;\n        var id = child.getAttribute('id');\n\n        switch (child.nodeName) {\n          case 'source':\n            data.sources[id] = parseSource(child);\n            break;\n\n          case 'vertices':\n            // data.sources[ id ] = data.sources[ parseId( getElementsByTagName( child, 'input' )[ 0 ].getAttribute( 'source' ) ) ];\n            data.vertices = parseGeometryVertices(child);\n            break;\n\n          case 'polygons':\n            console.warn('THREE.ColladaLoader: Unsupported primitive type: ', child.nodeName);\n            break;\n\n          case 'lines':\n          case 'linestrips':\n          case 'polylist':\n          case 'triangles':\n            data.primitives.push(parseGeometryPrimitive(child));\n            break;\n\n          default:\n            console.log(child);\n        }\n      }\n\n      library.geometries[xml.getAttribute('id')] = data;\n    }\n\n    function parseSource(xml) {\n      var data = {\n        array: [],\n        stride: 3\n      };\n\n      for (var i = 0; i < xml.childNodes.length; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'float_array':\n            data.array = parseFloats(child.textContent);\n            break;\n\n          case 'Name_array':\n            data.array = parseStrings(child.textContent);\n            break;\n\n          case 'technique_common':\n            var accessor = getElementsByTagName(child, 'accessor')[0];\n\n            if (accessor !== undefined) {\n              data.stride = parseInt(accessor.getAttribute('stride'));\n            }\n\n            break;\n        }\n      }\n\n      return data;\n    }\n\n    function parseGeometryVertices(xml) {\n      var data = {};\n\n      for (var i = 0; i < xml.childNodes.length; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n        data[child.getAttribute('semantic')] = parseId(child.getAttribute('source'));\n      }\n\n      return data;\n    }\n\n    function parseGeometryPrimitive(xml) {\n      var primitive = {\n        type: xml.nodeName,\n        material: xml.getAttribute('material'),\n        count: parseInt(xml.getAttribute('count')),\n        inputs: {},\n        stride: 0,\n        hasUV: false\n      };\n\n      for (var i = 0, l = xml.childNodes.length; i < l; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'input':\n            var id = parseId(child.getAttribute('source'));\n            var semantic = child.getAttribute('semantic');\n            var offset = parseInt(child.getAttribute('offset'));\n            var set = parseInt(child.getAttribute('set'));\n            var inputname = set > 0 ? semantic + set : semantic;\n            primitive.inputs[inputname] = {\n              id: id,\n              offset: offset\n            };\n            primitive.stride = Math.max(primitive.stride, offset + 1);\n            if (semantic === 'TEXCOORD') primitive.hasUV = true;\n            break;\n\n          case 'vcount':\n            primitive.vcount = parseInts(child.textContent);\n            break;\n\n          case 'p':\n            primitive.p = parseInts(child.textContent);\n            break;\n        }\n      }\n\n      return primitive;\n    }\n\n    function groupPrimitives(primitives) {\n      var build = {};\n\n      for (var i = 0; i < primitives.length; i++) {\n        var primitive = primitives[i];\n        if (build[primitive.type] === undefined) build[primitive.type] = [];\n        build[primitive.type].push(primitive);\n      }\n\n      return build;\n    }\n\n    function checkUVCoordinates(primitives) {\n      var count = 0;\n\n      for (var i = 0, l = primitives.length; i < l; i++) {\n        var primitive = primitives[i];\n\n        if (primitive.hasUV === true) {\n          count++;\n        }\n      }\n\n      if (count > 0 && count < primitives.length) {\n        primitives.uvsNeedsFix = true;\n      }\n    }\n\n    function buildGeometry(data) {\n      var build = {};\n      var sources = data.sources;\n      var vertices = data.vertices;\n      var primitives = data.primitives;\n      if (primitives.length === 0) return {}; // our goal is to create one buffer geometry for a single type of primitives\n      // first, we group all primitives by their type\n\n      var groupedPrimitives = groupPrimitives(primitives);\n\n      for (var type in groupedPrimitives) {\n        var primitiveType = groupedPrimitives[type]; // second, ensure consistent uv coordinates for each type of primitives (polylist,triangles or lines)\n\n        checkUVCoordinates(primitiveType); // third, create a buffer geometry for each type of primitives\n\n        build[type] = buildGeometryType(primitiveType, sources, vertices);\n      }\n\n      return build;\n    }\n\n    function buildGeometryType(primitives, sources, vertices) {\n      var build = {};\n      var position = {\n        array: [],\n        stride: 0\n      };\n      var normal = {\n        array: [],\n        stride: 0\n      };\n      var uv = {\n        array: [],\n        stride: 0\n      };\n      var uv2 = {\n        array: [],\n        stride: 0\n      };\n      var color = {\n        array: [],\n        stride: 0\n      };\n      var skinIndex = {\n        array: [],\n        stride: 4\n      };\n      var skinWeight = {\n        array: [],\n        stride: 4\n      };\n      var geometry = new THREE.BufferGeometry();\n      var materialKeys = [];\n      var start = 0;\n\n      for (var p = 0; p < primitives.length; p++) {\n        var primitive = primitives[p];\n        var inputs = primitive.inputs; // groups\n\n        var count = 0;\n\n        switch (primitive.type) {\n          case 'lines':\n          case 'linestrips':\n            count = primitive.count * 2;\n            break;\n\n          case 'triangles':\n            count = primitive.count * 3;\n            break;\n\n          case 'polylist':\n            for (var g = 0; g < primitive.count; g++) {\n              var vc = primitive.vcount[g];\n\n              switch (vc) {\n                case 3:\n                  count += 3; // single triangle\n\n                  break;\n\n                case 4:\n                  count += 6; // quad, subdivided into two triangles\n\n                  break;\n\n                default:\n                  count += (vc - 2) * 3; // polylist with more than four vertices\n\n                  break;\n              }\n            }\n\n            break;\n\n          default:\n            console.warn('THREE.ColladaLoader: Unknow primitive type:', primitive.type);\n        }\n\n        geometry.addGroup(start, count, p);\n        start += count; // material\n\n        if (primitive.material) {\n          materialKeys.push(primitive.material);\n        } // geometry data\n\n\n        for (var name in inputs) {\n          var input = inputs[name];\n\n          switch (name) {\n            case 'VERTEX':\n              for (var key in vertices) {\n                var id = vertices[key];\n\n                switch (key) {\n                  case 'POSITION':\n                    var prevLength = position.array.length;\n                    buildGeometryData(primitive, sources[id], input.offset, position.array);\n                    position.stride = sources[id].stride;\n\n                    if (sources.skinWeights && sources.skinIndices) {\n                      buildGeometryData(primitive, sources.skinIndices, input.offset, skinIndex.array);\n                      buildGeometryData(primitive, sources.skinWeights, input.offset, skinWeight.array);\n                    } // see #3803\n\n\n                    if (primitive.hasUV === false && primitives.uvsNeedsFix === true) {\n                      var count = (position.array.length - prevLength) / position.stride;\n\n                      for (var i = 0; i < count; i++) {\n                        // fill missing uv coordinates\n                        uv.array.push(0, 0);\n                      }\n                    }\n\n                    break;\n\n                  case 'NORMAL':\n                    buildGeometryData(primitive, sources[id], input.offset, normal.array);\n                    normal.stride = sources[id].stride;\n                    break;\n\n                  case 'COLOR':\n                    buildGeometryData(primitive, sources[id], input.offset, color.array);\n                    color.stride = sources[id].stride;\n                    break;\n\n                  case 'TEXCOORD':\n                    buildGeometryData(primitive, sources[id], input.offset, uv.array);\n                    uv.stride = sources[id].stride;\n                    break;\n\n                  case 'TEXCOORD1':\n                    buildGeometryData(primitive, sources[id], input.offset, uv2.array);\n                    uv.stride = sources[id].stride;\n                    break;\n\n                  default:\n                    console.warn('THREE.ColladaLoader: Semantic \"%s\" not handled in geometry build process.', key);\n                }\n              }\n\n              break;\n\n            case 'NORMAL':\n              buildGeometryData(primitive, sources[input.id], input.offset, normal.array);\n              normal.stride = sources[input.id].stride;\n              break;\n\n            case 'COLOR':\n              buildGeometryData(primitive, sources[input.id], input.offset, color.array);\n              color.stride = sources[input.id].stride;\n              break;\n\n            case 'TEXCOORD':\n              buildGeometryData(primitive, sources[input.id], input.offset, uv.array);\n              uv.stride = sources[input.id].stride;\n              break;\n\n            case 'TEXCOORD1':\n              buildGeometryData(primitive, sources[input.id], input.offset, uv2.array);\n              uv2.stride = sources[input.id].stride;\n              break;\n          }\n        }\n      } // build geometry\n\n\n      if (position.array.length > 0) geometry.addAttribute('position', new THREE.Float32BufferAttribute(position.array, position.stride));\n      if (normal.array.length > 0) geometry.addAttribute('normal', new THREE.Float32BufferAttribute(normal.array, normal.stride));\n      if (color.array.length > 0) geometry.addAttribute('color', new THREE.Float32BufferAttribute(color.array, color.stride));\n      if (uv.array.length > 0) geometry.addAttribute('uv', new THREE.Float32BufferAttribute(uv.array, uv.stride));\n      if (uv2.array.length > 0) geometry.addAttribute('uv2', new THREE.Float32BufferAttribute(uv2.array, uv2.stride));\n      if (skinIndex.array.length > 0) geometry.addAttribute('skinIndex', new THREE.Float32BufferAttribute(skinIndex.array, skinIndex.stride));\n      if (skinWeight.array.length > 0) geometry.addAttribute('skinWeight', new THREE.Float32BufferAttribute(skinWeight.array, skinWeight.stride));\n      build.data = geometry;\n      build.type = primitives[0].type;\n      build.materialKeys = materialKeys;\n      return build;\n    }\n\n    function buildGeometryData(primitive, source, offset, array) {\n      var indices = primitive.p;\n      var stride = primitive.stride;\n      var vcount = primitive.vcount;\n\n      function pushVector(i) {\n        var index = indices[i + offset] * sourceStride;\n        var length = index + sourceStride;\n\n        for (; index < length; index++) {\n          array.push(sourceArray[index]);\n        }\n      }\n\n      var sourceArray = source.array;\n      var sourceStride = source.stride;\n\n      if (primitive.vcount !== undefined) {\n        var index = 0;\n\n        for (var i = 0, l = vcount.length; i < l; i++) {\n          var count = vcount[i];\n\n          if (count === 4) {\n            var a = index + stride * 0;\n            var b = index + stride * 1;\n            var c = index + stride * 2;\n            var d = index + stride * 3;\n            pushVector(a);\n            pushVector(b);\n            pushVector(d);\n            pushVector(b);\n            pushVector(c);\n            pushVector(d);\n          } else if (count === 3) {\n            var a = index + stride * 0;\n            var b = index + stride * 1;\n            var c = index + stride * 2;\n            pushVector(a);\n            pushVector(b);\n            pushVector(c);\n          } else if (count > 4) {\n            for (var k = 1, kl = count - 2; k <= kl; k++) {\n              var a = index + stride * 0;\n              var b = index + stride * k;\n              var c = index + stride * (k + 1);\n              pushVector(a);\n              pushVector(b);\n              pushVector(c);\n            }\n          }\n\n          index += stride * count;\n        }\n      } else {\n        for (var i = 0, l = indices.length; i < l; i += stride) {\n          pushVector(i);\n        }\n      }\n    }\n\n    function getGeometry(id) {\n      return getBuild(library.geometries[id], buildGeometry);\n    } // kinematics\n\n\n    function parseKinematicsModel(xml) {\n      var data = {\n        name: xml.getAttribute('name') || '',\n        joints: {},\n        links: []\n      };\n\n      for (var i = 0; i < xml.childNodes.length; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'technique_common':\n            parseKinematicsTechniqueCommon(child, data);\n            break;\n        }\n      }\n\n      library.kinematicsModels[xml.getAttribute('id')] = data;\n    }\n\n    function buildKinematicsModel(data) {\n      if (data.build !== undefined) return data.build;\n      return data;\n    }\n\n    function getKinematicsModel(id) {\n      return getBuild(library.kinematicsModels[id], buildKinematicsModel);\n    }\n\n    function parseKinematicsTechniqueCommon(xml, data) {\n      for (var i = 0; i < xml.childNodes.length; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'joint':\n            data.joints[child.getAttribute('sid')] = parseKinematicsJoint(child);\n            break;\n\n          case 'link':\n            data.links.push(parseKinematicsLink(child));\n            break;\n        }\n      }\n    }\n\n    function parseKinematicsJoint(xml) {\n      var data;\n\n      for (var i = 0; i < xml.childNodes.length; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'prismatic':\n          case 'revolute':\n            data = parseKinematicsJointParameter(child);\n            break;\n        }\n      }\n\n      return data;\n    }\n\n    function parseKinematicsJointParameter(xml, data) {\n      var data = {\n        sid: xml.getAttribute('sid'),\n        name: xml.getAttribute('name') || '',\n        axis: new THREE.Vector3(),\n        limits: {\n          min: 0,\n          max: 0\n        },\n        type: xml.nodeName,\n        \"static\": false,\n        zeroPosition: 0,\n        middlePosition: 0\n      };\n\n      for (var i = 0; i < xml.childNodes.length; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'axis':\n            var array = parseFloats(child.textContent);\n            data.axis.fromArray(array);\n            break;\n\n          case 'limits':\n            var max = child.getElementsByTagName('max')[0];\n            var min = child.getElementsByTagName('min')[0];\n            data.limits.max = parseFloat(max.textContent);\n            data.limits.min = parseFloat(min.textContent);\n            break;\n        }\n      } // if min is equal to or greater than max, consider the joint static\n\n\n      if (data.limits.min >= data.limits.max) {\n        data[\"static\"] = true;\n      } // calculate middle position\n\n\n      data.middlePosition = (data.limits.min + data.limits.max) / 2.0;\n      return data;\n    }\n\n    function parseKinematicsLink(xml) {\n      var data = {\n        sid: xml.getAttribute('sid'),\n        name: xml.getAttribute('name') || '',\n        attachments: [],\n        transforms: []\n      };\n\n      for (var i = 0; i < xml.childNodes.length; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'attachment_full':\n            data.attachments.push(parseKinematicsAttachment(child));\n            break;\n\n          case 'matrix':\n          case 'translate':\n          case 'rotate':\n            data.transforms.push(parseKinematicsTransform(child));\n            break;\n        }\n      }\n\n      return data;\n    }\n\n    function parseKinematicsAttachment(xml) {\n      var data = {\n        joint: xml.getAttribute('joint').split('/').pop(),\n        transforms: [],\n        links: []\n      };\n\n      for (var i = 0; i < xml.childNodes.length; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'link':\n            data.links.push(parseKinematicsLink(child));\n            break;\n\n          case 'matrix':\n          case 'translate':\n          case 'rotate':\n            data.transforms.push(parseKinematicsTransform(child));\n            break;\n        }\n      }\n\n      return data;\n    }\n\n    function parseKinematicsTransform(xml) {\n      var data = {\n        type: xml.nodeName\n      };\n      var array = parseFloats(xml.textContent);\n\n      switch (data.type) {\n        case 'matrix':\n          data.obj = new THREE.Matrix4();\n          data.obj.fromArray(array).transpose();\n          break;\n\n        case 'translate':\n          data.obj = new THREE.Vector3();\n          data.obj.fromArray(array);\n          break;\n\n        case 'rotate':\n          data.obj = new THREE.Vector3();\n          data.obj.fromArray(array);\n          data.angle = THREE.Math.degToRad(array[3]);\n          break;\n      }\n\n      return data;\n    } // physics\n\n\n    function parsePhysicsModel(xml) {\n      var data = {\n        name: xml.getAttribute('name') || '',\n        rigidBodies: {}\n      };\n\n      for (var i = 0; i < xml.childNodes.length; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'rigid_body':\n            data.rigidBodies[child.getAttribute('name')] = {};\n            parsePhysicsRigidBody(child, data.rigidBodies[child.getAttribute('name')]);\n            break;\n        }\n      }\n\n      library.physicsModels[xml.getAttribute('id')] = data;\n    }\n\n    function parsePhysicsRigidBody(xml, data) {\n      for (var i = 0; i < xml.childNodes.length; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'technique_common':\n            parsePhysicsTechniqueCommon(child, data);\n            break;\n        }\n      }\n    }\n\n    function parsePhysicsTechniqueCommon(xml, data) {\n      for (var i = 0; i < xml.childNodes.length; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'inertia':\n            data.inertia = parseFloats(child.textContent);\n            break;\n\n          case 'mass':\n            data.mass = parseFloats(child.textContent)[0];\n            break;\n        }\n      }\n    } // scene\n\n\n    function parseKinematicsScene(xml) {\n      var data = {\n        bindJointAxis: []\n      };\n\n      for (var i = 0; i < xml.childNodes.length; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'bind_joint_axis':\n            data.bindJointAxis.push(parseKinematicsBindJointAxis(child));\n            break;\n        }\n      }\n\n      library.kinematicsScenes[parseId(xml.getAttribute('url'))] = data;\n    }\n\n    function parseKinematicsBindJointAxis(xml) {\n      var data = {\n        target: xml.getAttribute('target').split('/').pop()\n      };\n\n      for (var i = 0; i < xml.childNodes.length; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'axis':\n            var param = child.getElementsByTagName('param')[0];\n            data.axis = param.textContent;\n            var tmpJointIndex = data.axis.split('inst_').pop().split('axis')[0];\n            data.jointIndex = tmpJointIndex.substr(0, tmpJointIndex.length - 1);\n            break;\n        }\n      }\n\n      return data;\n    }\n\n    function buildKinematicsScene(data) {\n      if (data.build !== undefined) return data.build;\n      return data;\n    }\n\n    function getKinematicsScene(id) {\n      return getBuild(library.kinematicsScenes[id], buildKinematicsScene);\n    }\n\n    function setupKinematics() {\n      var kinematicsModelId = Object.keys(library.kinematicsModels)[0];\n      var kinematicsSceneId = Object.keys(library.kinematicsScenes)[0];\n      var visualSceneId = Object.keys(library.visualScenes)[0];\n      if (kinematicsModelId === undefined || kinematicsSceneId === undefined) return;\n      var kinematicsModel = getKinematicsModel(kinematicsModelId);\n      var kinematicsScene = getKinematicsScene(kinematicsSceneId);\n      var visualScene = getVisualScene(visualSceneId);\n      var bindJointAxis = kinematicsScene.bindJointAxis;\n      var jointMap = {};\n\n      for (var i = 0, l = bindJointAxis.length; i < l; i++) {\n        var axis = bindJointAxis[i]; // the result of the following query is an element of type 'translate', 'rotate','scale' or 'matrix'\n\n        var targetElement = collada.querySelector('[sid=\"' + axis.target + '\"]');\n\n        if (targetElement) {\n          // get the parent of the transfrom element\n          var parentVisualElement = targetElement.parentElement; // connect the joint of the kinematics model with the element in the visual scene\n\n          connect(axis.jointIndex, parentVisualElement);\n        }\n      }\n\n      function connect(jointIndex, visualElement) {\n        var visualElementName = visualElement.getAttribute('name');\n        var joint = kinematicsModel.joints[jointIndex];\n        visualScene.traverse(function (object) {\n          if (object.name === visualElementName) {\n            jointMap[jointIndex] = {\n              object: object,\n              transforms: buildTransformList(visualElement),\n              joint: joint,\n              position: joint.zeroPosition\n            };\n          }\n        });\n      }\n\n      var m0 = new THREE.Matrix4();\n      kinematics = {\n        joints: kinematicsModel && kinematicsModel.joints,\n        getJointValue: function getJointValue(jointIndex) {\n          var jointData = jointMap[jointIndex];\n\n          if (jointData) {\n            return jointData.position;\n          } else {\n            console.warn('THREE.ColladaLoader: Joint ' + jointIndex + ' doesn\\'t exist.');\n          }\n        },\n        setJointValue: function setJointValue(jointIndex, value) {\n          var jointData = jointMap[jointIndex];\n\n          if (jointData) {\n            var joint = jointData.joint;\n\n            if (value > joint.limits.max || value < joint.limits.min) {\n              console.warn('THREE.ColladaLoader: Joint ' + jointIndex + ' value ' + value + ' outside of limits (min: ' + joint.limits.min + ', max: ' + joint.limits.max + ').');\n            } else if (joint[\"static\"]) {\n              console.warn('THREE.ColladaLoader: Joint ' + jointIndex + ' is static.');\n            } else {\n              var object = jointData.object;\n              var axis = joint.axis;\n              var transforms = jointData.transforms;\n              matrix.identity(); // each update, we have to apply all transforms in the correct order\n\n              for (var i = 0; i < transforms.length; i++) {\n                var transform = transforms[i]; // if there is a connection of the transform node with a joint, apply the joint value\n\n                if (transform.sid && transform.sid.indexOf(jointIndex) !== -1) {\n                  switch (joint.type) {\n                    case 'revolute':\n                      matrix.multiply(m0.makeRotationAxis(axis, THREE.Math.degToRad(value)));\n                      break;\n\n                    case 'prismatic':\n                      matrix.multiply(m0.makeTranslation(axis.x * value, axis.y * value, axis.z * value));\n                      break;\n\n                    default:\n                      console.warn('THREE.ColladaLoader: Unknown joint type: ' + joint.type);\n                      break;\n                  }\n                } else {\n                  switch (transform.type) {\n                    case 'matrix':\n                      matrix.multiply(transform.obj);\n                      break;\n\n                    case 'translate':\n                      matrix.multiply(m0.makeTranslation(transform.obj.x, transform.obj.y, transform.obj.z));\n                      break;\n\n                    case 'scale':\n                      matrix.scale(transform.obj);\n                      break;\n\n                    case 'rotate':\n                      matrix.multiply(m0.makeRotationAxis(transform.obj, transform.angle));\n                      break;\n                  }\n                }\n              }\n\n              object.matrix.copy(matrix);\n              object.matrix.decompose(object.position, object.quaternion, object.scale);\n              jointMap[jointIndex].position = value;\n            }\n          } else {\n            console.log('THREE.ColladaLoader: ' + jointIndex + ' does not exist.');\n          }\n        }\n      };\n    }\n\n    function buildTransformList(node) {\n      var transforms = [];\n      var xml = collada.querySelector('[id=\"' + node.id + '\"]');\n\n      for (var i = 0; i < xml.childNodes.length; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'matrix':\n            var array = parseFloats(child.textContent);\n            var matrix = new THREE.Matrix4().fromArray(array).transpose();\n            transforms.push({\n              sid: child.getAttribute('sid'),\n              type: child.nodeName,\n              obj: matrix\n            });\n            break;\n\n          case 'translate':\n          case 'scale':\n            var array = parseFloats(child.textContent);\n            var vector = new THREE.Vector3().fromArray(array);\n            transforms.push({\n              sid: child.getAttribute('sid'),\n              type: child.nodeName,\n              obj: vector\n            });\n            break;\n\n          case 'rotate':\n            var array = parseFloats(child.textContent);\n            var vector = new THREE.Vector3().fromArray(array);\n            var angle = THREE.Math.degToRad(array[3]);\n            transforms.push({\n              sid: child.getAttribute('sid'),\n              type: child.nodeName,\n              obj: vector,\n              angle: angle\n            });\n            break;\n        }\n      }\n\n      return transforms;\n    } // nodes\n\n\n    function prepareNodes(xml) {\n      var elements = xml.getElementsByTagName('node'); // ensure all node elements have id attributes\n\n      for (var i = 0; i < elements.length; i++) {\n        var element = elements[i];\n\n        if (element.hasAttribute('id') === false) {\n          element.setAttribute('id', generateId());\n        }\n      }\n    }\n\n    var matrix = new THREE.Matrix4();\n    var vector = new THREE.Vector3();\n\n    function parseNode(xml) {\n      var data = {\n        name: xml.getAttribute('name') || '',\n        type: xml.getAttribute('type'),\n        id: xml.getAttribute('id'),\n        sid: xml.getAttribute('sid'),\n        matrix: new THREE.Matrix4(),\n        nodes: [],\n        instanceCameras: [],\n        instanceControllers: [],\n        instanceLights: [],\n        instanceGeometries: [],\n        instanceNodes: [],\n        transforms: {}\n      };\n\n      for (var i = 0; i < xml.childNodes.length; i++) {\n        var child = xml.childNodes[i];\n        if (child.nodeType !== 1) continue;\n\n        switch (child.nodeName) {\n          case 'node':\n            data.nodes.push(child.getAttribute('id'));\n            parseNode(child);\n            break;\n\n          case 'instance_camera':\n            data.instanceCameras.push(parseId(child.getAttribute('url')));\n            break;\n\n          case 'instance_controller':\n            data.instanceControllers.push(parseNodeInstance(child));\n            break;\n\n          case 'instance_light':\n            data.instanceLights.push(parseId(child.getAttribute('url')));\n            break;\n\n          case 'instance_geometry':\n            data.instanceGeometries.push(parseNodeInstance(child));\n            break;\n\n          case 'instance_node':\n            data.instanceNodes.push(parseId(child.getAttribute('url')));\n            break;\n\n          case 'matrix':\n            var array = parseFloats(child.textContent);\n            data.matrix.multiply(matrix.fromArray(array).transpose());\n            data.transforms[child.getAttribute('sid')] = child.nodeName;\n            break;\n\n          case 'translate':\n            var array = parseFloats(child.textContent);\n            vector.fromArray(array);\n            data.matrix.multiply(matrix.makeTranslation(vector.x, vector.y, vector.z));\n            data.transforms[child.getAttribute('sid')] = child.nodeName;\n            break;\n\n          case 'rotate':\n            var array = parseFloats(child.textContent);\n            var angle = THREE.Math.degToRad(array[3]);\n            data.matrix.multiply(matrix.makeRotationAxis(vector.fromArray(array), angle));\n            data.transforms[child.getAttribute('sid')] = child.nodeName;\n            break;\n\n          case 'scale':\n            var array = parseFloats(child.textContent);\n            data.matrix.scale(vector.fromArray(array));\n            data.transforms[child.getAttribute('sid')] = child.nodeName;\n            break;\n\n          case 'extra':\n            break;\n\n          default:\n            console.log(child);\n        }\n      }\n\n      if (hasNode(data.id)) {\n        console.warn('THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.', data.id);\n      } else {\n        library.nodes[data.id] = data;\n      }\n\n      return data;\n    }\n\n    function parseNodeInstance(xml) {\n      var data = {\n        id: parseId(xml.getAttribute('url')),\n        materials: {},\n        skeletons: []\n      };\n\n      for (var i = 0; i < xml.childNodes.length; i++) {\n        var child = xml.childNodes[i];\n\n        switch (child.nodeName) {\n          case 'bind_material':\n            var instances = child.getElementsByTagName('instance_material');\n\n            for (var j = 0; j < instances.length; j++) {\n              var instance = instances[j];\n              var symbol = instance.getAttribute('symbol');\n              var target = instance.getAttribute('target');\n              data.materials[symbol] = parseId(target);\n            }\n\n            break;\n\n          case 'skeleton':\n            data.skeletons.push(parseId(child.textContent));\n            break;\n\n          default:\n            break;\n        }\n      }\n\n      return data;\n    }\n\n    function buildSkeleton(skeletons, joints) {\n      var boneData = [];\n      var sortedBoneData = [];\n      var i, j, data; // a skeleton can have multiple root bones. collada expresses this\n      // situtation with multiple \"skeleton\" tags per controller instance\n\n      for (i = 0; i < skeletons.length; i++) {\n        var skeleton = skeletons[i];\n        var root;\n\n        if (hasNode(skeleton)) {\n          root = getNode(skeleton);\n          buildBoneHierarchy(root, joints, boneData);\n        } else if (hasVisualScene(skeleton)) {\n          // handle case where the skeleton refers to the visual scene (#13335)\n          var visualScene = library.visualScenes[skeleton];\n          var children = visualScene.children;\n\n          for (var j = 0; j < children.length; j++) {\n            var child = children[j];\n\n            if (child.type === 'JOINT') {\n              var root = getNode(child.id);\n              buildBoneHierarchy(root, joints, boneData);\n            }\n          }\n        } else {\n          console.error('THREE.ColladaLoader: Unable to find root bone of skeleton with ID:', skeleton);\n        }\n      } // sort bone data (the order is defined in the corresponding controller)\n\n\n      for (i = 0; i < joints.length; i++) {\n        for (j = 0; j < boneData.length; j++) {\n          data = boneData[j];\n\n          if (data.bone.name === joints[i].name) {\n            sortedBoneData[i] = data;\n            data.processed = true;\n            break;\n          }\n        }\n      } // add unprocessed bone data at the end of the list\n\n\n      for (i = 0; i < boneData.length; i++) {\n        data = boneData[i];\n\n        if (data.processed === false) {\n          sortedBoneData.push(data);\n          data.processed = true;\n        }\n      } // setup arrays for skeleton creation\n\n\n      var bones = [];\n      var boneInverses = [];\n\n      for (i = 0; i < sortedBoneData.length; i++) {\n        data = sortedBoneData[i];\n        bones.push(data.bone);\n        boneInverses.push(data.boneInverse);\n      }\n\n      return new THREE.Skeleton(bones, boneInverses);\n    }\n\n    function buildBoneHierarchy(root, joints, boneData) {\n      // setup bone data from visual scene\n      root.traverse(function (object) {\n        if (object.isBone === true) {\n          var boneInverse; // retrieve the boneInverse from the controller data\n\n          for (var i = 0; i < joints.length; i++) {\n            var joint = joints[i];\n\n            if (joint.name === object.name) {\n              boneInverse = joint.boneInverse;\n              break;\n            }\n          }\n\n          if (boneInverse === undefined) {\n            // Unfortunately, there can be joints in the visual scene that are not part of the\n            // corresponding controller. In this case, we have to create a dummy boneInverse matrix\n            // for the respective bone. This bone won't affect any vertices, because there are no skin indices\n            // and weights defined for it. But we still have to add the bone to the sorted bone list in order to\n            // ensure a correct animation of the model.\n            boneInverse = new THREE.Matrix4();\n          }\n\n          boneData.push({\n            bone: object,\n            boneInverse: boneInverse,\n            processed: false\n          });\n        }\n      });\n    }\n\n    function buildNode(data) {\n      var objects = [];\n      var matrix = data.matrix;\n      var nodes = data.nodes;\n      var type = data.type;\n      var instanceCameras = data.instanceCameras;\n      var instanceControllers = data.instanceControllers;\n      var instanceLights = data.instanceLights;\n      var instanceGeometries = data.instanceGeometries;\n      var instanceNodes = data.instanceNodes; // nodes\n\n      for (var i = 0, l = nodes.length; i < l; i++) {\n        objects.push(getNode(nodes[i]));\n      } // instance cameras\n\n\n      for (var i = 0, l = instanceCameras.length; i < l; i++) {\n        var instanceCamera = getCamera(instanceCameras[i]);\n\n        if (instanceCamera !== null) {\n          objects.push(instanceCamera.clone());\n        }\n      } // instance controllers\n\n\n      for (var i = 0, l = instanceControllers.length; i < l; i++) {\n        var instance = instanceControllers[i];\n        var controller = getController(instance.id);\n        var geometries = getGeometry(controller.id);\n        var newObjects = buildObjects(geometries, instance.materials);\n        var skeletons = instance.skeletons;\n        var joints = controller.skin.joints;\n        var skeleton = buildSkeleton(skeletons, joints);\n\n        for (var j = 0, jl = newObjects.length; j < jl; j++) {\n          var object = newObjects[j];\n\n          if (object.isSkinnedMesh) {\n            object.bind(skeleton, controller.skin.bindMatrix);\n            object.normalizeSkinWeights();\n          }\n\n          objects.push(object);\n        }\n      } // instance lights\n\n\n      for (var i = 0, l = instanceLights.length; i < l; i++) {\n        var instanceLight = getLight(instanceLights[i]);\n\n        if (instanceLight !== null) {\n          objects.push(instanceLight.clone());\n        }\n      } // instance geometries\n\n\n      for (var i = 0, l = instanceGeometries.length; i < l; i++) {\n        var instance = instanceGeometries[i]; // a single geometry instance in collada can lead to multiple object3Ds.\n        // this is the case when primitives are combined like triangles and lines\n\n        var geometries = getGeometry(instance.id);\n        var newObjects = buildObjects(geometries, instance.materials);\n\n        for (var j = 0, jl = newObjects.length; j < jl; j++) {\n          objects.push(newObjects[j]);\n        }\n      } // instance nodes\n\n\n      for (var i = 0, l = instanceNodes.length; i < l; i++) {\n        objects.push(getNode(instanceNodes[i]).clone());\n      }\n\n      var object;\n\n      if (nodes.length === 0 && objects.length === 1) {\n        object = objects[0];\n      } else {\n        object = type === 'JOINT' ? new THREE.Bone() : new THREE.Group();\n\n        for (var i = 0; i < objects.length; i++) {\n          object.add(objects[i]);\n        }\n      }\n\n      if (object.name === '') {\n        object.name = type === 'JOINT' ? data.sid : data.name;\n      }\n\n      object.matrix.copy(matrix);\n      object.matrix.decompose(object.position, object.quaternion, object.scale);\n      return object;\n    }\n\n    var fallbackMaterial = new THREE.MeshBasicMaterial({\n      color: 0xff00ff\n    });\n\n    function resolveMaterialBinding(keys, instanceMaterials) {\n      var materials = [];\n\n      for (var i = 0, l = keys.length; i < l; i++) {\n        var id = instanceMaterials[keys[i]];\n\n        if (id === undefined) {\n          console.warn('THREE.ColladaLoader: Material with key %s not found. Apply fallback material.', keys[i]);\n          materials.push(fallbackMaterial);\n        } else {\n          materials.push(getMaterial(id));\n        }\n      }\n\n      return materials;\n    }\n\n    function buildObjects(geometries, instanceMaterials) {\n      var objects = [];\n\n      for (var type in geometries) {\n        var geometry = geometries[type];\n        var materials = resolveMaterialBinding(geometry.materialKeys, instanceMaterials); // handle case if no materials are defined\n\n        if (materials.length === 0) {\n          if (type === 'lines' || type === 'linestrips') {\n            materials.push(new THREE.LineBasicMaterial());\n          } else {\n            materials.push(new THREE.MeshPhongMaterial());\n          }\n        } // regard skinning\n\n\n        var skinning = geometry.data.attributes.skinIndex !== undefined;\n\n        if (skinning) {\n          for (var i = 0, l = materials.length; i < l; i++) {\n            materials[i].skinning = true;\n          }\n        } // choose between a single or multi materials (material array)\n\n\n        var material = materials.length === 1 ? materials[0] : materials; // now create a specific 3D object\n\n        var object;\n\n        switch (type) {\n          case 'lines':\n            object = new THREE.LineSegments(geometry.data, material);\n            break;\n\n          case 'linestrips':\n            object = new THREE.Line(geometry.data, material);\n            break;\n\n          case 'triangles':\n          case 'polylist':\n            if (skinning) {\n              object = new THREE.SkinnedMesh(geometry.data, material);\n            } else {\n              object = new THREE.Mesh(geometry.data, material);\n            }\n\n            break;\n        }\n\n        objects.push(object);\n      }\n\n      return objects;\n    }\n\n    function hasNode(id) {\n      return library.nodes[id] !== undefined;\n    }\n\n    function getNode(id) {\n      return getBuild(library.nodes[id], buildNode);\n    } // visual scenes\n\n\n    function parseVisualScene(xml) {\n      var data = {\n        name: xml.getAttribute('name'),\n        children: []\n      };\n      prepareNodes(xml);\n      var elements = getElementsByTagName(xml, 'node');\n\n      for (var i = 0; i < elements.length; i++) {\n        data.children.push(parseNode(elements[i]));\n      }\n\n      library.visualScenes[xml.getAttribute('id')] = data;\n    }\n\n    function buildVisualScene(data) {\n      var group = new THREE.Group();\n      group.name = data.name;\n      var children = data.children;\n\n      for (var i = 0; i < children.length; i++) {\n        var child = children[i];\n        group.add(getNode(child.id));\n      }\n\n      return group;\n    }\n\n    function hasVisualScene(id) {\n      return library.visualScenes[id] !== undefined;\n    }\n\n    function getVisualScene(id) {\n      return getBuild(library.visualScenes[id], buildVisualScene);\n    } // scenes\n\n\n    function parseScene(xml) {\n      var instance = getElementsByTagName(xml, 'instance_visual_scene')[0];\n      return getVisualScene(parseId(instance.getAttribute('url')));\n    }\n\n    function setupAnimations() {\n      var clips = library.clips;\n\n      if (isEmpty(clips) === true) {\n        if (isEmpty(library.animations) === false) {\n          // if there are animations but no clips, we create a default clip for playback\n          var tracks = [];\n\n          for (var id in library.animations) {\n            var animationTracks = getAnimation(id);\n\n            for (var i = 0, l = animationTracks.length; i < l; i++) {\n              tracks.push(animationTracks[i]);\n            }\n          }\n\n          animations.push(new THREE.AnimationClip('default', -1, tracks));\n        }\n      } else {\n        for (var id in clips) {\n          animations.push(getAnimationClip(id));\n        }\n      }\n    }\n\n    if (text.length === 0) {\n      return {\n        scene: new THREE.Scene()\n      };\n    }\n\n    var xml = new DOMParser().parseFromString(text, 'application/xml');\n    var collada = getElementsByTagName(xml, 'COLLADA')[0]; // metadata\n\n    var version = collada.getAttribute('version');\n    console.log('THREE.ColladaLoader: File version', version);\n    var asset = parseAsset(getElementsByTagName(collada, 'asset')[0]);\n    var textureLoader = new THREE.TextureLoader(this.manager);\n    textureLoader.setPath(this.resourcePath || path).setCrossOrigin(this.crossOrigin);\n    var tgaLoader;\n\n    if (THREE.TGALoader) {\n      tgaLoader = new THREE.TGALoader(this.manager);\n      tgaLoader.setPath(this.resourcePath || path);\n    } //\n\n\n    var animations = [];\n    var kinematics = {};\n    var count = 0; //\n\n    var library = {\n      animations: {},\n      clips: {},\n      controllers: {},\n      images: {},\n      effects: {},\n      materials: {},\n      cameras: {},\n      lights: {},\n      geometries: {},\n      nodes: {},\n      visualScenes: {},\n      kinematicsModels: {},\n      physicsModels: {},\n      kinematicsScenes: {}\n    };\n    parseLibrary(collada, 'library_animations', 'animation', parseAnimation);\n    parseLibrary(collada, 'library_animation_clips', 'animation_clip', parseAnimationClip);\n    parseLibrary(collada, 'library_controllers', 'controller', parseController);\n    parseLibrary(collada, 'library_images', 'image', parseImage);\n    parseLibrary(collada, 'library_effects', 'effect', parseEffect);\n    parseLibrary(collada, 'library_materials', 'material', parseMaterial);\n    parseLibrary(collada, 'library_cameras', 'camera', parseCamera);\n    parseLibrary(collada, 'library_lights', 'light', parseLight);\n    parseLibrary(collada, 'library_geometries', 'geometry', parseGeometry);\n    parseLibrary(collada, 'library_nodes', 'node', parseNode);\n    parseLibrary(collada, 'library_visual_scenes', 'visual_scene', parseVisualScene);\n    parseLibrary(collada, 'library_kinematics_models', 'kinematics_model', parseKinematicsModel);\n    parseLibrary(collada, 'library_physics_models', 'physics_model', parsePhysicsModel);\n    parseLibrary(collada, 'scene', 'instance_kinematics_scene', parseKinematicsScene);\n    buildLibrary(library.animations, buildAnimation);\n    buildLibrary(library.clips, buildAnimationClip);\n    buildLibrary(library.controllers, buildController);\n    buildLibrary(library.images, buildImage);\n    buildLibrary(library.effects, buildEffect);\n    buildLibrary(library.materials, buildMaterial);\n    buildLibrary(library.cameras, buildCamera);\n    buildLibrary(library.lights, buildLight);\n    buildLibrary(library.geometries, buildGeometry);\n    buildLibrary(library.visualScenes, buildVisualScene);\n    setupAnimations();\n    setupKinematics();\n    var scene = parseScene(getElementsByTagName(collada, 'scene')[0]);\n\n    if (asset.upAxis === 'Z_UP') {\n      scene.quaternion.setFromEuler(new THREE.Euler(-Math.PI / 2, 0, 0));\n    }\n\n    scene.scale.multiplyScalar(asset.unit);\n    return {\n      animations: animations,\n      kinematics: kinematics,\n      library: library,\n      scene: scene\n    };\n  }\n};","require(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.number.min-safe-integer\");\n\nrequire(\"core-js/modules/es6.number.constructor\");\n\nrequire(\"core-js/modules/es6.number.max-safe-integer\");\n\n(function () {\n  \"use strict\"; // math-inlining.\n\n  var abs = Math.abs,\n      cos = Math.cos,\n      sin = Math.sin,\n      acos = Math.acos,\n      atan2 = Math.atan2,\n      sqrt = Math.sqrt,\n      pow = Math.pow,\n      // cube root function yielding real roots\n  crt = function crt(v) {\n    return v < 0 ? -pow(-v, 1 / 3) : pow(v, 1 / 3);\n  },\n      // trig constants\n  pi = Math.PI,\n      tau = 2 * pi,\n      quart = pi / 2,\n      // float precision significant decimal\n  epsilon = 0.000001,\n      // extremas used in bbox calculation and similar algorithms\n  nMax = Number.MAX_SAFE_INTEGER || 9007199254740991,\n      nMin = Number.MIN_SAFE_INTEGER || -9007199254740991,\n      // a zero coordinate, which is surprisingly useful\n  ZERO = {\n    x: 0,\n    y: 0,\n    z: 0\n  }; // Bezier utility functions\n\n\n  var utils = {\n    // Legendre-Gauss abscissae with n=24 (x_i values, defined at i=n as the roots of the nth order Legendre polynomial Pn(x))\n    Tvalues: [-0.0640568928626056260850430826247450385909, 0.0640568928626056260850430826247450385909, -0.1911188674736163091586398207570696318404, 0.1911188674736163091586398207570696318404, -0.3150426796961633743867932913198102407864, 0.3150426796961633743867932913198102407864, -0.4337935076260451384870842319133497124524, 0.4337935076260451384870842319133497124524, -0.5454214713888395356583756172183723700107, 0.5454214713888395356583756172183723700107, -0.6480936519369755692524957869107476266696, 0.6480936519369755692524957869107476266696, -0.7401241915785543642438281030999784255232, 0.7401241915785543642438281030999784255232, -0.8200019859739029219539498726697452080761, 0.8200019859739029219539498726697452080761, -0.8864155270044010342131543419821967550873, 0.8864155270044010342131543419821967550873, -0.9382745520027327585236490017087214496548, 0.9382745520027327585236490017087214496548, -0.9747285559713094981983919930081690617411, 0.9747285559713094981983919930081690617411, -0.9951872199970213601799974097007368118745, 0.9951872199970213601799974097007368118745],\n    // Legendre-Gauss weights with n=24 (w_i values, defined by a function linked to in the Bezier primer article)\n    Cvalues: [0.1279381953467521569740561652246953718517, 0.1279381953467521569740561652246953718517, 0.1258374563468282961213753825111836887264, 0.1258374563468282961213753825111836887264, 0.121670472927803391204463153476262425607, 0.121670472927803391204463153476262425607, 0.1155056680537256013533444839067835598622, 0.1155056680537256013533444839067835598622, 0.1074442701159656347825773424466062227946, 0.1074442701159656347825773424466062227946, 0.0976186521041138882698806644642471544279, 0.0976186521041138882698806644642471544279, 0.086190161531953275917185202983742667185, 0.086190161531953275917185202983742667185, 0.0733464814110803057340336152531165181193, 0.0733464814110803057340336152531165181193, 0.0592985849154367807463677585001085845412, 0.0592985849154367807463677585001085845412, 0.0442774388174198061686027482113382288593, 0.0442774388174198061686027482113382288593, 0.0285313886289336631813078159518782864491, 0.0285313886289336631813078159518782864491, 0.0123412297999871995468056670700372915759, 0.0123412297999871995468056670700372915759],\n    arcfn: function arcfn(t, derivativeFn) {\n      var d = derivativeFn(t);\n      var l = d.x * d.x + d.y * d.y;\n\n      if (typeof d.z !== \"undefined\") {\n        l += d.z * d.z;\n      }\n\n      return sqrt(l);\n    },\n    compute: function compute(t, points, _3d) {\n      // shortcuts\n      if (t === 0) {\n        return points[0];\n      }\n\n      var order = points.length - 1;\n\n      if (t === 1) {\n        return points[order];\n      }\n\n      var p = points;\n      var mt = 1 - t; // constant?\n\n      if (order === 0) {\n        return points[0];\n      } // linear?\n\n\n      if (order === 1) {\n        ret = {\n          x: mt * p[0].x + t * p[1].x,\n          y: mt * p[0].y + t * p[1].y\n        };\n\n        if (_3d) {\n          ret.z = mt * p[0].z + t * p[1].z;\n        }\n\n        return ret;\n      } // quadratic/cubic curve?\n\n\n      if (order < 4) {\n        var mt2 = mt * mt,\n            t2 = t * t,\n            a,\n            b,\n            c,\n            d = 0;\n\n        if (order === 2) {\n          p = [p[0], p[1], p[2], ZERO];\n          a = mt2;\n          b = mt * t * 2;\n          c = t2;\n        } else if (order === 3) {\n          a = mt2 * mt;\n          b = mt2 * t * 3;\n          c = mt * t2 * 3;\n          d = t * t2;\n        }\n\n        var ret = {\n          x: a * p[0].x + b * p[1].x + c * p[2].x + d * p[3].x,\n          y: a * p[0].y + b * p[1].y + c * p[2].y + d * p[3].y\n        };\n\n        if (_3d) {\n          ret.z = a * p[0].z + b * p[1].z + c * p[2].z + d * p[3].z;\n        }\n\n        return ret;\n      } // higher order curves: use de Casteljau's computation\n\n\n      var dCpts = JSON.parse(JSON.stringify(points));\n\n      while (dCpts.length > 1) {\n        for (var i = 0; i < dCpts.length - 1; i++) {\n          dCpts[i] = {\n            x: dCpts[i].x + (dCpts[i + 1].x - dCpts[i].x) * t,\n            y: dCpts[i].y + (dCpts[i + 1].y - dCpts[i].y) * t\n          };\n\n          if (typeof dCpts[i].z !== \"undefined\") {\n            dCpts[i] = dCpts[i].z + (dCpts[i + 1].z - dCpts[i].z) * t;\n          }\n        }\n\n        dCpts.splice(dCpts.length - 1, 1);\n      }\n\n      return dCpts[0];\n    },\n    computeWithRatios: function computeWithRatios(t, points, ratios, _3d) {\n      var mt = 1 - t,\n          r = ratios,\n          p = points,\n          d;\n      var f1 = r[0],\n          f2 = r[1],\n          f3 = r[2],\n          f4 = r[3]; // spec for linear\n\n      f1 *= mt;\n      f2 *= t;\n\n      if (p.length === 2) {\n        d = f1 + f2;\n        return {\n          x: (f1 * p[0].x + f2 * p[1].x) / d,\n          y: (f1 * p[0].y + f2 * p[1].y) / d,\n          z: !_3d ? false : (f1 * p[0].z + f2 * p[1].z) / d\n        };\n      } // upgrade to quadratic\n\n\n      f1 *= mt;\n      f2 *= 2 * mt;\n      f3 *= t * t;\n\n      if (p.length === 3) {\n        d = f1 + f2 + f3;\n        return {\n          x: (f1 * p[0].x + f2 * p[1].x + f3 * p[2].x) / d,\n          y: (f1 * p[0].y + f2 * p[1].y + f3 * p[2].y) / d,\n          z: !_3d ? false : (f1 * p[0].z + f2 * p[1].z + f3 * p[2].z) / d\n        };\n      } // upgrade to cubic\n\n\n      f1 *= mt;\n      f2 *= 1.5 * mt;\n      f3 *= 3 * mt;\n      f4 *= t * t * t;\n\n      if (p.length === 4) {\n        d = f1 + f2 + f3 + f4;\n        return {\n          x: (f1 * p[0].x + f2 * p[1].x + f3 * p[2].x + f4 * p[3].x) / d,\n          y: (f1 * p[0].y + f2 * p[1].y + f3 * p[2].y + f4 * p[3].y) / d,\n          z: !_3d ? false : (f1 * p[0].z + f2 * p[1].z + f3 * p[2].z + f4 * p[3].z) / d\n        };\n      }\n    },\n    derive: function derive(points, _3d) {\n      var dpoints = [];\n\n      for (var p = points, d = p.length, c = d - 1; d > 1; d--, c--) {\n        var list = [];\n\n        for (var j = 0, dpt; j < c; j++) {\n          dpt = {\n            x: c * (p[j + 1].x - p[j].x),\n            y: c * (p[j + 1].y - p[j].y)\n          };\n\n          if (_3d) {\n            dpt.z = c * (p[j + 1].z - p[j].z);\n          }\n\n          list.push(dpt);\n        }\n\n        dpoints.push(list);\n        p = list;\n      }\n\n      return dpoints;\n    },\n    between: function between(v, m, M) {\n      return m <= v && v <= M || utils.approximately(v, m) || utils.approximately(v, M);\n    },\n    approximately: function approximately(a, b, precision) {\n      return abs(a - b) <= (precision || epsilon);\n    },\n    length: function length(derivativeFn) {\n      var z = 0.5,\n          sum = 0,\n          len = utils.Tvalues.length,\n          i,\n          t;\n\n      for (i = 0; i < len; i++) {\n        t = z * utils.Tvalues[i] + z;\n        sum += utils.Cvalues[i] * utils.arcfn(t, derivativeFn);\n      }\n\n      return z * sum;\n    },\n    map: function map(v, ds, de, ts, te) {\n      var d1 = de - ds,\n          d2 = te - ts,\n          v2 = v - ds,\n          r = v2 / d1;\n      return ts + d2 * r;\n    },\n    lerp: function lerp(r, v1, v2) {\n      var ret = {\n        x: v1.x + r * (v2.x - v1.x),\n        y: v1.y + r * (v2.y - v1.y)\n      };\n\n      if (!!v1.z && !!v2.z) {\n        ret.z = v1.z + r * (v2.z - v1.z);\n      }\n\n      return ret;\n    },\n    pointToString: function pointToString(p) {\n      var s = p.x + \"/\" + p.y;\n\n      if (typeof p.z !== \"undefined\") {\n        s += \"/\" + p.z;\n      }\n\n      return s;\n    },\n    pointsToString: function pointsToString(points) {\n      return \"[\" + points.map(utils.pointToString).join(\", \") + \"]\";\n    },\n    copy: function copy(obj) {\n      return JSON.parse(JSON.stringify(obj));\n    },\n    angle: function angle(o, v1, v2) {\n      var dx1 = v1.x - o.x,\n          dy1 = v1.y - o.y,\n          dx2 = v2.x - o.x,\n          dy2 = v2.y - o.y,\n          cross = dx1 * dy2 - dy1 * dx2,\n          dot = dx1 * dx2 + dy1 * dy2;\n      return atan2(cross, dot);\n    },\n    // round as string, to avoid rounding errors\n    round: function round(v, d) {\n      var s = \"\" + v;\n      var pos = s.indexOf(\".\");\n      return parseFloat(s.substring(0, pos + 1 + d));\n    },\n    dist: function dist(p1, p2) {\n      var dx = p1.x - p2.x,\n          dy = p1.y - p2.y;\n      return sqrt(dx * dx + dy * dy);\n    },\n    closest: function closest(LUT, point) {\n      var mdist = pow(2, 63),\n          mpos,\n          d;\n      LUT.forEach(function (p, idx) {\n        d = utils.dist(point, p);\n\n        if (d < mdist) {\n          mdist = d;\n          mpos = idx;\n        }\n      });\n      return {\n        mdist: mdist,\n        mpos: mpos\n      };\n    },\n    abcratio: function abcratio(t, n) {\n      // see ratio(t) note on http://pomax.github.io/bezierinfo/#abc\n      if (n !== 2 && n !== 3) {\n        return false;\n      }\n\n      if (typeof t === \"undefined\") {\n        t = 0.5;\n      } else if (t === 0 || t === 1) {\n        return t;\n      }\n\n      var bottom = pow(t, n) + pow(1 - t, n),\n          top = bottom - 1;\n      return abs(top / bottom);\n    },\n    projectionratio: function projectionratio(t, n) {\n      // see u(t) note on http://pomax.github.io/bezierinfo/#abc\n      if (n !== 2 && n !== 3) {\n        return false;\n      }\n\n      if (typeof t === \"undefined\") {\n        t = 0.5;\n      } else if (t === 0 || t === 1) {\n        return t;\n      }\n\n      var top = pow(1 - t, n),\n          bottom = pow(t, n) + top;\n      return top / bottom;\n    },\n    lli8: function lli8(x1, y1, x2, y2, x3, y3, x4, y4) {\n      var nx = (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4),\n          ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4),\n          d = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n\n      if (d == 0) {\n        return false;\n      }\n\n      return {\n        x: nx / d,\n        y: ny / d\n      };\n    },\n    lli4: function lli4(p1, p2, p3, p4) {\n      var x1 = p1.x,\n          y1 = p1.y,\n          x2 = p2.x,\n          y2 = p2.y,\n          x3 = p3.x,\n          y3 = p3.y,\n          x4 = p4.x,\n          y4 = p4.y;\n      return utils.lli8(x1, y1, x2, y2, x3, y3, x4, y4);\n    },\n    lli: function lli(v1, v2) {\n      return utils.lli4(v1, v1.c, v2, v2.c);\n    },\n    makeline: function makeline(p1, p2) {\n      var Bezier = require(\"./bezier\");\n\n      var x1 = p1.x,\n          y1 = p1.y,\n          x2 = p2.x,\n          y2 = p2.y,\n          dx = (x2 - x1) / 3,\n          dy = (y2 - y1) / 3;\n      return new Bezier(x1, y1, x1 + dx, y1 + dy, x1 + 2 * dx, y1 + 2 * dy, x2, y2);\n    },\n    findbbox: function findbbox(sections) {\n      var mx = nMax,\n          my = nMax,\n          MX = nMin,\n          MY = nMin;\n      sections.forEach(function (s) {\n        var bbox = s.bbox();\n        if (mx > bbox.x.min) mx = bbox.x.min;\n        if (my > bbox.y.min) my = bbox.y.min;\n        if (MX < bbox.x.max) MX = bbox.x.max;\n        if (MY < bbox.y.max) MY = bbox.y.max;\n      });\n      return {\n        x: {\n          min: mx,\n          mid: (mx + MX) / 2,\n          max: MX,\n          size: MX - mx\n        },\n        y: {\n          min: my,\n          mid: (my + MY) / 2,\n          max: MY,\n          size: MY - my\n        }\n      };\n    },\n    shapeintersections: function shapeintersections(s1, bbox1, s2, bbox2, curveIntersectionThreshold) {\n      if (!utils.bboxoverlap(bbox1, bbox2)) return [];\n      var intersections = [];\n      var a1 = [s1.startcap, s1.forward, s1.back, s1.endcap];\n      var a2 = [s2.startcap, s2.forward, s2.back, s2.endcap];\n      a1.forEach(function (l1) {\n        if (l1.virtual) return;\n        a2.forEach(function (l2) {\n          if (l2.virtual) return;\n          var iss = l1.intersects(l2, curveIntersectionThreshold);\n\n          if (iss.length > 0) {\n            iss.c1 = l1;\n            iss.c2 = l2;\n            iss.s1 = s1;\n            iss.s2 = s2;\n            intersections.push(iss);\n          }\n        });\n      });\n      return intersections;\n    },\n    makeshape: function makeshape(forward, back, curveIntersectionThreshold) {\n      var bpl = back.points.length;\n      var fpl = forward.points.length;\n      var start = utils.makeline(back.points[bpl - 1], forward.points[0]);\n      var end = utils.makeline(forward.points[fpl - 1], back.points[0]);\n      var shape = {\n        startcap: start,\n        forward: forward,\n        back: back,\n        endcap: end,\n        bbox: utils.findbbox([start, forward, back, end])\n      };\n      var self = utils;\n\n      shape.intersections = function (s2) {\n        return self.shapeintersections(shape, shape.bbox, s2, s2.bbox, curveIntersectionThreshold);\n      };\n\n      return shape;\n    },\n    getminmax: function getminmax(curve, d, list) {\n      if (!list) return {\n        min: 0,\n        max: 0\n      };\n      var min = nMax,\n          max = nMin,\n          t,\n          c;\n\n      if (list.indexOf(0) === -1) {\n        list = [0].concat(list);\n      }\n\n      if (list.indexOf(1) === -1) {\n        list.push(1);\n      }\n\n      for (var i = 0, len = list.length; i < len; i++) {\n        t = list[i];\n        c = curve.get(t);\n\n        if (c[d] < min) {\n          min = c[d];\n        }\n\n        if (c[d] > max) {\n          max = c[d];\n        }\n      }\n\n      return {\n        min: min,\n        mid: (min + max) / 2,\n        max: max,\n        size: max - min\n      };\n    },\n    align: function align(points, line) {\n      var tx = line.p1.x,\n          ty = line.p1.y,\n          a = -atan2(line.p2.y - ty, line.p2.x - tx),\n          d = function d(v) {\n        return {\n          x: (v.x - tx) * cos(a) - (v.y - ty) * sin(a),\n          y: (v.x - tx) * sin(a) + (v.y - ty) * cos(a)\n        };\n      };\n\n      return points.map(d);\n    },\n    roots: function roots(points, line) {\n      line = line || {\n        p1: {\n          x: 0,\n          y: 0\n        },\n        p2: {\n          x: 1,\n          y: 0\n        }\n      };\n      var order = points.length - 1;\n      var p = utils.align(points, line);\n\n      var reduce = function reduce(t) {\n        return 0 <= t && t <= 1;\n      };\n\n      if (order === 2) {\n        var a = p[0].y,\n            b = p[1].y,\n            c = p[2].y,\n            d = a - 2 * b + c;\n\n        if (d !== 0) {\n          var m1 = -sqrt(b * b - a * c),\n              m2 = -a + b,\n              v1 = -(m1 + m2) / d,\n              v2 = -(-m1 + m2) / d;\n          return [v1, v2].filter(reduce);\n        } else if (b !== c && d === 0) {\n          return [(2 * b - c) / (2 * b - 2 * c)].filter(reduce);\n        }\n\n        return [];\n      } // see http://www.trans4mind.com/personal_development/mathematics/polynomials/cubicAlgebra.htm\n\n\n      var pa = p[0].y,\n          pb = p[1].y,\n          pc = p[2].y,\n          pd = p[3].y,\n          d = -pa + 3 * pb - 3 * pc + pd,\n          a = 3 * pa - 6 * pb + 3 * pc,\n          b = -3 * pa + 3 * pb,\n          c = pa;\n\n      if (utils.approximately(d, 0)) {\n        // this is not a cubic curve.\n        if (utils.approximately(a, 0)) {\n          // in fact, this is not a quadratic curve either.\n          if (utils.approximately(b, 0)) {\n            // in fact in fact, there are no solutions.\n            return [];\n          } // linear solution:\n\n\n          return [-c / b].filter(reduce);\n        } // quadratic solution:\n\n\n        var q = sqrt(b * b - 4 * a * c),\n            a2 = 2 * a;\n        return [(q - b) / a2, (-b - q) / a2].filter(reduce);\n      } // at this point, we know we need a cubic solution:\n\n\n      a /= d;\n      b /= d;\n      c /= d;\n      var p = (3 * b - a * a) / 3,\n          p3 = p / 3,\n          q = (2 * a * a * a - 9 * a * b + 27 * c) / 27,\n          q2 = q / 2,\n          discriminant = q2 * q2 + p3 * p3 * p3,\n          u1,\n          v1,\n          x1,\n          x2,\n          x3;\n\n      if (discriminant < 0) {\n        var mp3 = -p / 3,\n            mp33 = mp3 * mp3 * mp3,\n            r = sqrt(mp33),\n            t = -q / (2 * r),\n            cosphi = t < -1 ? -1 : t > 1 ? 1 : t,\n            phi = acos(cosphi),\n            crtr = crt(r),\n            t1 = 2 * crtr;\n        x1 = t1 * cos(phi / 3) - a / 3;\n        x2 = t1 * cos((phi + tau) / 3) - a / 3;\n        x3 = t1 * cos((phi + 2 * tau) / 3) - a / 3;\n        return [x1, x2, x3].filter(reduce);\n      } else if (discriminant === 0) {\n        u1 = q2 < 0 ? crt(-q2) : -crt(q2);\n        x1 = 2 * u1 - a / 3;\n        x2 = -u1 - a / 3;\n        return [x1, x2].filter(reduce);\n      } else {\n        var sd = sqrt(discriminant);\n        u1 = crt(-q2 + sd);\n        v1 = crt(q2 + sd);\n        return [u1 - v1 - a / 3].filter(reduce);\n      }\n    },\n    droots: function droots(p) {\n      // quadratic roots are easy\n      if (p.length === 3) {\n        var a = p[0],\n            b = p[1],\n            c = p[2],\n            d = a - 2 * b + c;\n\n        if (d !== 0) {\n          var m1 = -sqrt(b * b - a * c),\n              m2 = -a + b,\n              v1 = -(m1 + m2) / d,\n              v2 = -(-m1 + m2) / d;\n          return [v1, v2];\n        } else if (b !== c && d === 0) {\n          return [(2 * b - c) / (2 * (b - c))];\n        }\n\n        return [];\n      } // linear roots are even easier\n\n\n      if (p.length === 2) {\n        var a = p[0],\n            b = p[1];\n\n        if (a !== b) {\n          return [a / (a - b)];\n        }\n\n        return [];\n      }\n    },\n    curvature: function curvature(t, points, _3d, kOnly) {\n      var dpoints = utils.derive(points);\n      var d1 = dpoints[0];\n      var d2 = dpoints[1];\n      var num,\n          dnm,\n          adk,\n          dk,\n          k = 0,\n          r = 0; //\n      // We're using the following formula for curvature:\n      //\n      //              x'y\" - y'x\"\n      //   k(t) = ------------------\n      //           (x' + y')^(3/2)\n      //\n      // from https://en.wikipedia.org/wiki/Radius_of_curvature#Definition\n      //\n      // With it corresponding 3D counterpart:\n      //\n      //          sqrt( (y'z\" - y\"z') + (z'x\" - z\"x') + (x'y\" - x\"y'))\n      //   k(t) = -------------------------------------------------------\n      //                     (x' + y' + z')^(3/2)\n      //\n\n      var d = utils.compute(t, d1);\n      var dd = utils.compute(t, d2);\n      var qdsum = d.x * d.x + d.y * d.y;\n\n      if (_3d) {\n        num = sqrt(pow(d.y * dd.z - dd.y * d.z, 2) + pow(d.z * dd.x - dd.z * d.x, 2) + pow(d.x * dd.y - dd.x * d.y, 2));\n        dnm = pow(qdsum + d.z * d.z, 3 / 2);\n      } else {\n        num = d.x * dd.y - d.y * dd.x;\n        dnm = pow(qdsum, 3 / 2);\n      }\n\n      if (num === 0 || dnm === 0) {\n        return {\n          k: 0,\n          r: 0\n        };\n      }\n\n      k = num / dnm;\n      r = dnm / num; // We're also computing the derivative of kappa, because\n      // there is value in knowing the rate of change for the\n      // curvature along the curve. And we're just going to\n      // ballpark it based on an epsilon.\n\n      if (!kOnly) {\n        // compute k'(t) based on the interval before, and after it,\n        // to at least try to not introduce forward/backward pass bias.\n        var pk = utils.curvature(t - 0.001, points, _3d, true).k;\n        var nk = utils.curvature(t + 0.001, points, _3d, true).k;\n        dk = (nk - k + (k - pk)) / 2;\n        adk = (abs(nk - k) + abs(k - pk)) / 2;\n      }\n\n      return {\n        k: k,\n        r: r,\n        dk: dk,\n        adk: adk\n      };\n    },\n    inflections: function inflections(points) {\n      if (points.length < 4) return []; // FIXME: TODO: add in inflection abstraction for quartic+ curves?\n\n      var p = utils.align(points, {\n        p1: points[0],\n        p2: points.slice(-1)[0]\n      }),\n          a = p[2].x * p[1].y,\n          b = p[3].x * p[1].y,\n          c = p[1].x * p[2].y,\n          d = p[3].x * p[2].y,\n          v1 = 18 * (-3 * a + 2 * b + 3 * c - d),\n          v2 = 18 * (3 * a - b - 3 * c),\n          v3 = 18 * (c - a);\n\n      if (utils.approximately(v1, 0)) {\n        if (!utils.approximately(v2, 0)) {\n          var t = -v3 / v2;\n          if (0 <= t && t <= 1) return [t];\n        }\n\n        return [];\n      }\n\n      var trm = v2 * v2 - 4 * v1 * v3,\n          sq = Math.sqrt(trm),\n          d = 2 * v1;\n      if (utils.approximately(d, 0)) return [];\n      return [(sq - v2) / d, -(v2 + sq) / d].filter(function (r) {\n        return 0 <= r && r <= 1;\n      });\n    },\n    bboxoverlap: function bboxoverlap(b1, b2) {\n      var dims = [\"x\", \"y\"],\n          len = dims.length,\n          i,\n          dim,\n          l,\n          t,\n          d;\n\n      for (i = 0; i < len; i++) {\n        dim = dims[i];\n        l = b1[dim].mid;\n        t = b2[dim].mid;\n        d = (b1[dim].size + b2[dim].size) / 2;\n        if (abs(l - t) >= d) return false;\n      }\n\n      return true;\n    },\n    expandbox: function expandbox(bbox, _bbox) {\n      if (_bbox.x.min < bbox.x.min) {\n        bbox.x.min = _bbox.x.min;\n      }\n\n      if (_bbox.y.min < bbox.y.min) {\n        bbox.y.min = _bbox.y.min;\n      }\n\n      if (_bbox.z && _bbox.z.min < bbox.z.min) {\n        bbox.z.min = _bbox.z.min;\n      }\n\n      if (_bbox.x.max > bbox.x.max) {\n        bbox.x.max = _bbox.x.max;\n      }\n\n      if (_bbox.y.max > bbox.y.max) {\n        bbox.y.max = _bbox.y.max;\n      }\n\n      if (_bbox.z && _bbox.z.max > bbox.z.max) {\n        bbox.z.max = _bbox.z.max;\n      }\n\n      bbox.x.mid = (bbox.x.min + bbox.x.max) / 2;\n      bbox.y.mid = (bbox.y.min + bbox.y.max) / 2;\n\n      if (bbox.z) {\n        bbox.z.mid = (bbox.z.min + bbox.z.max) / 2;\n      }\n\n      bbox.x.size = bbox.x.max - bbox.x.min;\n      bbox.y.size = bbox.y.max - bbox.y.min;\n\n      if (bbox.z) {\n        bbox.z.size = bbox.z.max - bbox.z.min;\n      }\n    },\n    pairiteration: function pairiteration(c1, c2, curveIntersectionThreshold) {\n      var c1b = c1.bbox(),\n          c2b = c2.bbox(),\n          r = 100000,\n          threshold = curveIntersectionThreshold || 0.5;\n\n      if (c1b.x.size + c1b.y.size < threshold && c2b.x.size + c2b.y.size < threshold) {\n        return [(r * (c1._t1 + c1._t2) / 2 | 0) / r + \"/\" + (r * (c2._t1 + c2._t2) / 2 | 0) / r];\n      }\n\n      var cc1 = c1.split(0.5),\n          cc2 = c2.split(0.5),\n          pairs = [{\n        left: cc1.left,\n        right: cc2.left\n      }, {\n        left: cc1.left,\n        right: cc2.right\n      }, {\n        left: cc1.right,\n        right: cc2.right\n      }, {\n        left: cc1.right,\n        right: cc2.left\n      }];\n      pairs = pairs.filter(function (pair) {\n        return utils.bboxoverlap(pair.left.bbox(), pair.right.bbox());\n      });\n      var results = [];\n      if (pairs.length === 0) return results;\n      pairs.forEach(function (pair) {\n        results = results.concat(utils.pairiteration(pair.left, pair.right, threshold));\n      });\n      results = results.filter(function (v, i) {\n        return results.indexOf(v) === i;\n      });\n      return results;\n    },\n    getccenter: function getccenter(p1, p2, p3) {\n      var dx1 = p2.x - p1.x,\n          dy1 = p2.y - p1.y,\n          dx2 = p3.x - p2.x,\n          dy2 = p3.y - p2.y;\n      var dx1p = dx1 * cos(quart) - dy1 * sin(quart),\n          dy1p = dx1 * sin(quart) + dy1 * cos(quart),\n          dx2p = dx2 * cos(quart) - dy2 * sin(quart),\n          dy2p = dx2 * sin(quart) + dy2 * cos(quart); // chord midpoints\n\n      var mx1 = (p1.x + p2.x) / 2,\n          my1 = (p1.y + p2.y) / 2,\n          mx2 = (p2.x + p3.x) / 2,\n          my2 = (p2.y + p3.y) / 2; // midpoint offsets\n\n      var mx1n = mx1 + dx1p,\n          my1n = my1 + dy1p,\n          mx2n = mx2 + dx2p,\n          my2n = my2 + dy2p; // intersection of these lines:\n\n      var arc = utils.lli8(mx1, my1, mx1n, my1n, mx2, my2, mx2n, my2n),\n          r = utils.dist(arc, p1),\n          // arc start/end values, over mid point:\n      s = atan2(p1.y - arc.y, p1.x - arc.x),\n          m = atan2(p2.y - arc.y, p2.x - arc.x),\n          e = atan2(p3.y - arc.y, p3.x - arc.x),\n          _; // determine arc direction (cw/ccw correction)\n\n\n      if (s < e) {\n        // if s<m<e, arc(s, e)\n        // if m<s<e, arc(e, s + tau)\n        // if s<e<m, arc(e, s + tau)\n        if (s > m || m > e) {\n          s += tau;\n        }\n\n        if (s > e) {\n          _ = e;\n          e = s;\n          s = _;\n        }\n      } else {\n        // if e<m<s, arc(e, s)\n        // if m<e<s, arc(s, e + tau)\n        // if e<s<m, arc(s, e + tau)\n        if (e < m && m < s) {\n          _ = e;\n          e = s;\n          s = _;\n        } else {\n          e += tau;\n        }\n      } // assign and done.\n\n\n      arc.s = s;\n      arc.e = e;\n      arc.r = r;\n      return arc;\n    },\n    numberSort: function numberSort(a, b) {\n      return a - b;\n    }\n  };\n  module.exports = utils;\n})();","export default function (x) {\n  return function () {\n    return x;\n  };\n}","export default function ZoomEvent(target, type, transform) {\n  this.target = target;\n  this.type = type;\n  this.transform = transform;\n}","import \"core-js/modules/es6.array.map\";\nexport function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\nTransform.prototype = {\n  constructor: Transform,\n  scale: function scale(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function translate(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function apply(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function applyX(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function applyY(y) {\n    return y * this.k + this.y;\n  },\n  invert: function invert(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function invertX(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function invertY(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function rescaleX(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function rescaleY(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function toString() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\nexport var identity = new Transform(1, 0, 0);\ntransform.prototype = Transform.prototype;\nexport default function transform(node) {\n  while (!node.__zoom) {\n    if (!(node = node.parentNode)) return identity;\n  }\n\n  return node.__zoom;\n}","import { event } from \"d3-selection\";\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\nexport default function () {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}","import \"core-js/modules/es6.array.filter\";\nimport { dispatch } from \"d3-dispatch\";\nimport { dragDisable, dragEnable } from \"d3-drag\";\nimport { interpolateZoom } from \"d3-interpolate\";\nimport { event, customEvent, select, mouse, touch } from \"d3-selection\";\nimport { interrupt } from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport { Transform, identity } from \"./transform.js\";\nimport noevent, { nopropagation } from \"./noevent.js\"; // Ignore right-click, since that should open the context menu.\n\nfunction defaultFilter() {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta() {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || \"ontouchstart\" in this;\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1), dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1));\n}\n\nexport default function () {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0;\n\n  function zoom(selection) {\n    selection.property(\"__zoom\", defaultTransform).on(\"wheel.zoom\", wheeled).on(\"mousedown.zoom\", mousedowned).on(\"dblclick.zoom\", dblclicked).filter(touchable).on(\"touchstart.zoom\", touchstarted).on(\"touchmove.zoom\", touchmoved).on(\"touchend.zoom touchcancel.zoom\", touchended).style(\"touch-action\", \"none\").style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function (collection, transform, point) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n\n    if (collection !== selection) {\n      schedule(collection, transform, point);\n    } else {\n      selection.interrupt().each(function () {\n        gesture(this, arguments).start().zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform).end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function (selection, k, p) {\n    zoom.scaleTo(selection, function () {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p);\n  };\n\n  zoom.scaleTo = function (selection, k, p) {\n    zoom.transform(selection, function () {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p);\n  };\n\n  zoom.translateBy = function (selection, x, y) {\n    zoom.transform(selection, function () {\n      return constrain(this.__zoom.translate(typeof x === \"function\" ? x.apply(this, arguments) : x, typeof y === \"function\" ? y.apply(this, arguments) : y), extent.apply(this, arguments), translateExtent);\n    });\n  };\n\n  zoom.translateTo = function (selection, x, y, p) {\n    zoom.transform(selection, function () {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(typeof x === \"function\" ? -x.apply(this, arguments) : -x, typeof y === \"function\" ? -y.apply(this, arguments) : -y), e, translateExtent);\n    }, p);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k,\n        y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point) {\n    transition.on(\"start.zoom\", function () {\n      gesture(this, arguments).start();\n    }).on(\"interrupt.zoom end.zoom\", function () {\n      gesture(this, arguments).end();\n    }).tween(\"zoom\", function () {\n      var that = this,\n          args = arguments,\n          g = gesture(that, args),\n          e = extent.apply(that, args),\n          p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n          w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n          a = that.__zoom,\n          b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n          i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n      return function (t) {\n        if (t === 1) t = b; // Avoid rounding error on end.\n        else {\n            var l = i(t),\n                k = w / l[2];\n            t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k);\n          }\n        g.zoom(null, t);\n      };\n    });\n  }\n\n  function gesture(that, args, clean) {\n    return !clean && that.__zooming || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    start: function start() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n\n      return this;\n    },\n    zoom: function zoom(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function end() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n\n      return this;\n    },\n    emit: function emit(type) {\n      customEvent(new ZoomEvent(zoom, type, this.that.__zoom), listeners.apply, listeners, [type, this.that, this.args]);\n    }\n  };\n\n  function wheeled() {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, arguments),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = mouse(this); // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n\n      clearTimeout(g.wheel);\n    } // If this wheel event wont trigger a transform change, ignore it.\n    else if (t.k === k) return; // Otherwise, capture the mouse point and location at the start.\n      else {\n          g.mouse = [p, t.invert(p)];\n          interrupt(this);\n          g.start();\n        }\n\n    noevent();\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var g = gesture(this, arguments, true),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = mouse(this),\n        x0 = event.clientX,\n        y0 = event.clientY;\n    dragDisable(event.view);\n    nopropagation();\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved() {\n      noevent();\n\n      if (!g.moved) {\n        var dx = event.clientX - x0,\n            dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n\n      g.zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = mouse(g.that), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped() {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent();\n      g.end();\n    }\n  }\n\n  function dblclicked() {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = mouse(this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, arguments), translateExtent);\n    noevent();\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0);else select(this).call(zoom.transform, t1);\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, arguments, event.changedTouches.length === n),\n        started,\n        i,\n        t,\n        p;\n    nopropagation();\n\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = touch(this, touches, t.identifier);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchstarting = setTimeout(function () {\n        touchstarting = null;\n      }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved() {\n    if (!this.__zooming) return;\n    var g = gesture(this, arguments),\n        touches = event.changedTouches,\n        n = touches.length,\n        i,\n        t,\n        p,\n        l;\n    noevent();\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n    g.taps = 0;\n\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = touch(this, touches, t.identifier);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n\n    t = g.that.__zoom;\n\n    if (g.touch1) {\n      var p0 = g.touch0[0],\n          l0 = g.touch0[1],\n          p1 = g.touch1[0],\n          l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    } else if (g.touch0) p = g.touch0[0], l = g.touch0[1];else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended() {\n    if (!this.__zooming) return;\n    var g = gesture(this, arguments),\n        touches = event.changedTouches,\n        n = touches.length,\n        i,\n        t;\n    nopropagation();\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function () {\n      touchending = null;\n    }, touchDelay);\n\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);else {\n      g.end(); // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n\n      if (g.taps === 2) {\n        var p = select(this).on(\"dblclick.zoom\");\n        if (p) p.apply(this, arguments);\n      }\n    }\n  }\n\n  zoom.wheelDelta = function (_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function (_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function (_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function (_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function (_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function (_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function (_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function (_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function (_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function () {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function (_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  return zoom;\n}","module.exports = random; // TODO: Deprecate?\n\nmodule.exports.random = random, module.exports.randomIterator = randomIterator;\n/**\n * Creates seeded PRNG with two methods:\n *   next() and nextDouble()\n */\n\nfunction random(inputSeed) {\n  var seed = typeof inputSeed === 'number' ? inputSeed : +new Date();\n  return new Generator(seed);\n}\n\nfunction Generator(seed) {\n  this.seed = seed;\n}\n/**\n  * Generates random integer number in the range from 0 (inclusive) to maxValue (exclusive)\n  *\n  * @param maxValue Number REQUIRED. Omitting this number will result in NaN values from PRNG.\n  */\n\n\nGenerator.prototype.next = next;\n/**\n  * Generates random double number in the range from 0 (inclusive) to 1 (exclusive)\n  * This function is the same as Math.random() (except that it could be seeded)\n  */\n\nGenerator.prototype.nextDouble = nextDouble;\n/**\n * Returns a random real number uniformly in [0, 1)\n */\n\nGenerator.prototype.uniform = nextDouble;\nGenerator.prototype.gaussian = gaussian;\n\nfunction gaussian() {\n  // use the polar form of the Box-Muller transform\n  // based on https://introcs.cs.princeton.edu/java/23recursion/StdRandom.java\n  var r, x, y;\n\n  do {\n    x = this.nextDouble() * 2 - 1;\n    y = this.nextDouble() * 2 - 1;\n    r = x * x + y * y;\n  } while (r >= 1 || r === 0);\n\n  return x * Math.sqrt(-2 * Math.log(r) / r);\n}\n\nfunction nextDouble() {\n  var seed = this.seed; // Robert Jenkins' 32 bit integer hash function.\n\n  seed = seed + 0x7ed55d16 + (seed << 12) & 0xffffffff;\n  seed = (seed ^ 0xc761c23c ^ seed >>> 19) & 0xffffffff;\n  seed = seed + 0x165667b1 + (seed << 5) & 0xffffffff;\n  seed = (seed + 0xd3a2646c ^ seed << 9) & 0xffffffff;\n  seed = seed + 0xfd7046c5 + (seed << 3) & 0xffffffff;\n  seed = (seed ^ 0xb55a4f09 ^ seed >>> 16) & 0xffffffff;\n  this.seed = seed;\n  return (seed & 0xfffffff) / 0x10000000;\n}\n\nfunction next(maxValue) {\n  return Math.floor(this.nextDouble() * maxValue);\n}\n/*\n * Creates iterator over array, which returns items of array in random order\n * Time complexity is guaranteed to be O(n);\n */\n\n\nfunction randomIterator(array, customRandom) {\n  var localRandom = customRandom || random();\n\n  if (typeof localRandom.next !== 'function') {\n    throw new Error('customRandom does not match expected API: next() function is missing');\n  }\n\n  return {\n    forEach: forEach,\n\n    /**\n     * Shuffles array randomly, in place.\n     */\n    shuffle: shuffle\n  };\n\n  function shuffle() {\n    var i, j, t;\n\n    for (i = array.length - 1; i > 0; --i) {\n      j = localRandom.next(i + 1); // i inclusive\n\n      t = array[j];\n      array[j] = array[i];\n      array[i] = t;\n    }\n\n    return array;\n  }\n\n  function forEach(callback) {\n    var i, j, t;\n\n    for (i = array.length - 1; i > 0; --i) {\n      j = localRandom.next(i + 1); // i inclusive\n\n      t = array[j];\n      array[j] = array[i];\n      array[i] = t;\n      callback(t);\n    }\n\n    if (array.length) {\n      callback(array[0]);\n    }\n  }\n}","'use strict';\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nvar reactIs = require('react-is');\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\n\n\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\nTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\n\nfunction getStatics(component) {\n  // React v16.11 and below\n  if (reactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  } // React v16.12 and above\n\n\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\n\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n  }\n\n  return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","require(\"core-js/modules/es6.function.bind\");\n\nTHREE.FBXLoader = require('../../lib/FBXLoader');\n/**\n * fbx-model\n *\n * Loader for FBX format. Supports ASCII, but *not* binary, models.\n */\n\nmodule.exports = AFRAME.registerComponent('fbx-model', {\n  schema: {\n    src: {\n      type: 'asset'\n    },\n    crossorigin: {\n      \"default\": ''\n    }\n  },\n  init: function init() {\n    this.model = null;\n  },\n  update: function update() {\n    var data = this.data;\n    if (!data.src) return;\n    this.remove();\n    var loader = new THREE.FBXLoader();\n    if (data.crossorigin) loader.setCrossOrigin(data.crossorigin);\n    loader.load(data.src, this.load.bind(this));\n  },\n  load: function load(model) {\n    this.model = model;\n    this.el.setObject3D('mesh', model);\n    this.el.emit('model-loaded', {\n      format: 'fbx',\n      model: model\n    });\n  },\n  remove: function remove() {\n    if (this.model) this.el.removeObject3D('mesh');\n  }\n});","/**\n * object-model\n *\n * Loader for THREE.js JSON format. Somewhat confusingly, there are two different THREE.js formats,\n * both having the .json extension. This loader supports only THREE.ObjectLoader, which typically\n * includes multiple meshes or an entire scene.\n *\n * Check the console for errors, if in doubt. You may need to use `json-model` or\n * `blend-character-model` for some .js and .json files.\n *\n * See: https://clara.io/learn/user-guide/data_exchange/threejs_export\n */\nmodule.exports = AFRAME.registerComponent('object-model', {\n  schema: {\n    src: {\n      type: 'asset'\n    },\n    crossorigin: {\n      \"default\": ''\n    }\n  },\n  init: function init() {\n    this.model = null;\n  },\n  update: function update() {\n    var _this = this;\n\n    var loader;\n    var data = this.data;\n    if (!data.src) return;\n    this.remove();\n    loader = new THREE.ObjectLoader();\n    if (data.crossorigin) loader.setCrossOrigin(data.crossorigin);\n    loader.load(data.src, function (object) {\n      // Enable skinning, if applicable.\n      object.traverse(function (o) {\n        if (o instanceof THREE.SkinnedMesh && o.material) {\n          o.material.skinning = !!(o.geometry && o.geometry.bones || []).length;\n        }\n      });\n\n      _this.load(object);\n    });\n  },\n  load: function load(model) {\n    this.model = model;\n    this.el.setObject3D('mesh', model);\n    this.el.emit('model-loaded', {\n      format: 'json',\n      model: model\n    });\n  },\n  remove: function remove() {\n    if (this.model) this.el.removeObject3D('mesh');\n  }\n});","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\nexport default function (node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}","export var xhtml = \"http://www.w3.org/1999/xhtml\";\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};","require(\"core-js/modules/es6.string.sub\");\n\nvar EPS = 0.1;\nmodule.exports = AFRAME.registerComponent('checkpoint-controls', {\n  schema: {\n    enabled: {\n      \"default\": true\n    },\n    mode: {\n      \"default\": 'teleport',\n      oneOf: ['teleport', 'animate']\n    },\n    animateSpeed: {\n      \"default\": 3.0\n    }\n  },\n  init: function init() {\n    this.active = true;\n    this.checkpoint = null;\n    this.isNavMeshConstrained = false;\n    this.offset = new THREE.Vector3();\n    this.position = new THREE.Vector3();\n    this.targetPosition = new THREE.Vector3();\n  },\n  play: function play() {\n    this.active = true;\n  },\n  pause: function pause() {\n    this.active = false;\n  },\n  setCheckpoint: function setCheckpoint(checkpoint) {\n    var el = this.el;\n    if (!this.active) return;\n    if (this.checkpoint === checkpoint) return;\n\n    if (this.checkpoint) {\n      el.emit('navigation-end', {\n        checkpoint: this.checkpoint\n      });\n    }\n\n    this.checkpoint = checkpoint;\n    this.sync(); // Ignore new checkpoint if we're already there.\n\n    if (this.position.distanceTo(this.targetPosition) < EPS) {\n      this.checkpoint = null;\n      return;\n    }\n\n    el.emit('navigation-start', {\n      checkpoint: checkpoint\n    });\n\n    if (this.data.mode === 'teleport') {\n      this.el.setAttribute('position', this.targetPosition);\n      this.checkpoint = null;\n      el.emit('navigation-end', {\n        checkpoint: checkpoint\n      });\n      el.components['movement-controls'].updateNavLocation();\n    }\n  },\n  isVelocityActive: function isVelocityActive() {\n    return !!(this.active && this.checkpoint);\n  },\n  getVelocity: function getVelocity() {\n    if (!this.active) return;\n    var data = this.data;\n    var offset = this.offset;\n    var position = this.position;\n    var targetPosition = this.targetPosition;\n    var checkpoint = this.checkpoint;\n    this.sync();\n\n    if (position.distanceTo(targetPosition) < EPS) {\n      this.checkpoint = null;\n      this.el.emit('navigation-end', {\n        checkpoint: checkpoint\n      });\n      return offset.set(0, 0, 0);\n    }\n\n    offset.setLength(data.animateSpeed);\n    return offset;\n  },\n  sync: function sync() {\n    var offset = this.offset;\n    var position = this.position;\n    var targetPosition = this.targetPosition;\n    position.copy(this.el.getAttribute('position'));\n    this.checkpoint.object3D.getWorldPosition(targetPosition);\n    targetPosition.add(this.checkpoint.components.checkpoint.getOffset());\n    offset.copy(targetPosition).sub(position);\n  }\n});","/**\n * Flat grid.\n *\n * Defaults to 75x75.\n */\nmodule.exports = AFRAME.registerPrimitive('a-grid', {\n  defaultComponents: {\n    geometry: {\n      primitive: 'plane',\n      width: 75,\n      height: 75\n    },\n    rotation: {\n      x: -90,\n      y: 0,\n      z: 0\n    },\n    material: {\n      src: 'url(https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v1.16.3/assets/grid.png)',\n      repeat: '75 75'\n    }\n  },\n  mappings: {\n    width: 'geometry.width',\n    height: 'geometry.height',\n    src: 'material.src'\n  }\n});","export default function (update) {\n  return new Array(update.length);\n}","import \"core-js/modules/es6.array.map\";\nimport sparse from \"./sparse\";\nimport { Selection } from \"./index\";\nexport default function () {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function appendChild(child) {\n    return this._parent.insertBefore(child, this._next);\n  },\n  insertBefore: function insertBefore(child, next) {\n    return this._parent.insertBefore(child, next);\n  },\n  querySelector: function querySelector(selector) {\n    return this._parent.querySelector(selector);\n  },\n  querySelectorAll: function querySelectorAll(selector) {\n    return this._parent.querySelectorAll(selector);\n  }\n};","import { Selection } from \"./index\";\nimport { EnterNode } from \"./enter\";\nimport constant from \"../constant\";\nvar keyPrefix = \"$\"; // Protect against keys like __proto__.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length; // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  } // Put any non-null nodes that dont fit into exit.\n\n\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue; // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  } // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n\n\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  } // Add any remaining nodes that were not bound to data to exit.\n\n\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && nodeByKeyValue[keyValues[i]] === node) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function (value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function (d) {\n      data[++j] = d;\n    });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key); // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength) {\n          ;\n        }\n\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}","import \"core-js/modules/es6.array.sort\";\nimport { Selection } from \"./index\";\nexport default function (compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}","export default function () {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function () {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function () {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function () {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function () {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function (name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local ? node.getAttributeNS(fullname.space, fullname.local) : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null ? fullname.local ? attrRemoveNS : attrRemove : typeof value === \"function\" ? fullname.local ? attrFunctionNS : attrFunction : fullname.local ? attrConstantNS : attrConstant)(fullname, value));\n}","function propertyRemove(name) {\n  return function () {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function () {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];else this[name] = v;\n  };\n}\n\nexport default function (name, value) {\n  return arguments.length > 1 ? this.each((value == null ? propertyRemove : typeof value === \"function\" ? propertyFunction : propertyConstant)(name, value)) : this.node()[name];\n}","import \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.string.trim\";\nimport \"core-js/modules/es6.regexp.split\";\n\nfunction classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function add(name) {\n    var i = this._names.indexOf(name);\n\n    if (i < 0) {\n      this._names.push(name);\n\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function remove(name) {\n    var i = this._names.indexOf(name);\n\n    if (i >= 0) {\n      this._names.splice(i, 1);\n\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function contains(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node),\n      i = -1,\n      n = names.length;\n\n  while (++i < n) {\n    list.add(names[i]);\n  }\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node),\n      i = -1,\n      n = names.length;\n\n  while (++i < n) {\n    list.remove(names[i]);\n  }\n}\n\nfunction classedTrue(names) {\n  return function () {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function () {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function () {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function (name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()),\n        i = -1,\n        n = names.length;\n\n    while (++i < n) {\n      if (!list.contains(names[i])) return false;\n    }\n\n    return true;\n  }\n\n  return this.each((typeof value === \"function\" ? classedFunction : value ? classedTrue : classedFalse)(names, value));\n}","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function () {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function (value) {\n  return arguments.length ? this.each(value == null ? textRemove : (typeof value === \"function\" ? textFunction : textConstant)(value)) : this.node().textContent;\n}","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function () {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function (value) {\n  return arguments.length ? this.each(value == null ? htmlRemove : (typeof value === \"function\" ? htmlFunction : htmlConstant)(value)) : this.node().innerHTML;\n}","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function () {\n  return this.each(raise);\n}","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function () {\n  return this.each(lower);\n}","import namespace from \"./namespace\";\nimport { xhtml } from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function () {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml ? document.createElement(name) : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function () {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function (name) {\n  var fullname = namespace(name);\n  return (fullname.local ? creatorFixed : creatorInherit)(fullname);\n}","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function (name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function () {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function () {\n  return this.each(remove);\n}","function selection_cloneShallow() {\n  var clone = this.cloneNode(false),\n      parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true),\n      parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function (deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function () {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function () {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function (type, params) {\n  return this.each((typeof params === \"function\" ? dispatchFunction : dispatchConstant)(type, params));\n}","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\nexport var root = [null];\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\nexport default selection;","import { Selection } from \"./index\";\nimport selector from \"../selector\";\nexport default function (select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}","import { Selection } from \"./index\";\nimport selectorAll from \"../selectorAll\";\nexport default function (select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}","import { Selection } from \"./index\";\nimport matcher from \"../matcher\";\nexport default function (match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}","export default function (x) {\n  return function () {\n    return x;\n  };\n}","import \"core-js/modules/es6.array.map\";\nimport sparse from \"./sparse\";\nimport { Selection } from \"./index\";\nexport default function () {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}","export default function (onenter, onupdate, onexit) {\n  var enter = this.enter(),\n      update = this,\n      exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove();else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}","import { Selection } from \"./index\";\nexport default function (selection) {\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}","export default function () {\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}","export default function () {\n  var nodes = new Array(this.size()),\n      i = -1;\n  this.each(function () {\n    nodes[++i] = this;\n  });\n  return nodes;\n}","export default function () {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}","export default function () {\n  var size = 0;\n  this.each(function () {\n    ++size;\n  });\n  return size;\n}","export default function () {\n  return !this.node();\n}","export default function (callback) {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}","import creator from \"../creator\";\nexport default function (name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function () {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}","export default function (value) {\n  return arguments.length ? this.property(\"__data__\", value) : this.node().__data__;\n}","require(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nmodule.exports = exposeProperties;\n/**\n * Augments `target` object with getter/setter functions, which modify settings\n *\n * @example\n *  var target = {};\n *  exposeProperties({ age: 42}, target);\n *  target.age(); // returns 42\n *  target.age(24); // make age 24;\n *\n *  var filteredTarget = {};\n *  exposeProperties({ age: 42, name: 'John'}, filteredTarget, ['name']);\n *  filteredTarget.name(); // returns 'John'\n *  filteredTarget.age === undefined; // true\n */\n\nfunction exposeProperties(settings, target, filter) {\n  var needsFilter = Object.prototype.toString.call(filter) === '[object Array]';\n\n  if (needsFilter) {\n    for (var i = 0; i < filter.length; ++i) {\n      augment(settings, target, filter[i]);\n    }\n  } else {\n    for (var key in settings) {\n      augment(settings, target, key);\n    }\n  }\n}\n\nfunction augment(source, target, key) {\n  if (source.hasOwnProperty(key)) {\n    if (typeof target[key] === 'function') {\n      // this accessor is already defined. Ignore it\n      return;\n    }\n\n    target[key] = function (value) {\n      if (value !== undefined) {\n        source[key] = value;\n        return target;\n      }\n\n      return source[key];\n    };\n  }\n}","require(\"core-js/modules/es6.function.bind\");\n\n/**\n * Recursively applies a MeshNormalMaterial to the entity, such that\n * face colors are determined by their orientation. Helpful for\n * debugging geometry\n */\nmodule.exports = AFRAME.registerComponent('normal-material', {\n  init: function init() {\n    this.material = new THREE.MeshNormalMaterial({\n      flatShading: true\n    });\n    this.applyMaterial = this.applyMaterial.bind(this);\n    this.el.addEventListener('object3dset', this.applyMaterial);\n  },\n  remove: function remove() {\n    this.el.removeEventListener('object3dset', this.applyMaterial);\n  },\n  applyMaterial: function applyMaterial() {\n    var _this = this;\n\n    this.el.object3D.traverse(function (node) {\n      if (node.isMesh) node.material = _this.material;\n    });\n  }\n});","var vg = require('../../lib/hex-grid.min.js');\n\nvar defaultHexGrid = require('../../lib/default-hex-grid');\n/**\n * Hex grid.\n */\n\n\nmodule.exports.Primitive = AFRAME.registerPrimitive('a-hexgrid', {\n  defaultComponents: {\n    'hexgrid': {}\n  },\n  mappings: {\n    src: 'hexgrid.src'\n  }\n});\nmodule.exports.Component = AFRAME.registerComponent('hexgrid', {\n  dependencies: ['material'],\n  schema: {\n    src: {\n      type: 'asset'\n    }\n  },\n  init: function init() {\n    var _this = this;\n\n    var data = this.data;\n\n    if (data.src) {\n      fetch(data.src).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        return _this.addMesh(json);\n      });\n    } else {\n      this.addMesh(defaultHexGrid);\n    }\n  },\n  addMesh: function addMesh(json) {\n    var grid = new vg.HexGrid();\n    grid.fromJSON(json);\n    var board = new vg.Board(grid);\n    board.generateTilemap();\n    this.el.setObject3D('mesh', board.group);\n    this.addMaterial();\n  },\n  addMaterial: function addMaterial() {\n    var materialComponent = this.el.components.material;\n    var material = (materialComponent || {}).material;\n    if (!material) return;\n    this.el.object3D.traverse(function (node) {\n      if (node.isMesh) {\n        node.material = material;\n      }\n    });\n  },\n  remove: function remove() {\n    this.el.removeObject3D('mesh');\n  }\n});","'use strict';\nvar $export = require('./_export');\nvar createProperty = require('./_create-property');\n\n// WebKit Array.of isn't generic\n$export($export.S + $export.F * require('./_fails')(function () {\n  function F() { /* empty */ }\n  return !(Array.of.call(F) instanceof F);\n}), 'Array', {\n  // 22.1.2.3 Array.of( ...items)\n  of: function of(/* ...args */) {\n    var index = 0;\n    var aLen = arguments.length;\n    var result = new (typeof this == 'function' ? this : Array)(aLen);\n    while (aLen > index) createProperty(result, index, arguments[index++]);\n    result.length = aLen;\n    return result;\n  }\n});\n","module.exports = {\n  \"size\": 5,\n  \"cellSize\": 10,\n  \"extrudeSettings\": {\n    \"amount\": 1,\n    \"bevelEnabled\": true,\n    \"bevelSegments\": 1,\n    \"steps\": 1,\n    \"bevelSize\": 0.5,\n    \"bevelThickness\": 0.5\n  },\n  \"autogenerated\": true,\n  \"cells\": [{\n    \"q\": -1,\n    \"r\": 0,\n    \"s\": 1,\n    \"h\": 1,\n    \"walkable\": true,\n    \"userData\": {}\n  }, {\n    \"q\": 0,\n    \"r\": -1,\n    \"s\": 1,\n    \"h\": 1,\n    \"walkable\": true,\n    \"userData\": {}\n  }, {\n    \"q\": 0,\n    \"r\": 0,\n    \"s\": 0,\n    \"h\": 1,\n    \"walkable\": true,\n    \"userData\": {}\n  }, {\n    \"q\": 1,\n    \"r\": -1,\n    \"s\": 0,\n    \"h\": 1,\n    \"walkable\": true,\n    \"userData\": {}\n  }, {\n    \"q\": -1,\n    \"r\": 1,\n    \"s\": 0,\n    \"h\": 0,\n    \"walkable\": true,\n    \"userData\": {}\n  }, {\n    \"q\": 0,\n    \"r\": 1,\n    \"s\": -1,\n    \"h\": 0,\n    \"walkable\": true,\n    \"userData\": {}\n  }, {\n    \"q\": 1,\n    \"r\": 0,\n    \"s\": -1,\n    \"h\": 0,\n    \"walkable\": true,\n    \"userData\": {}\n  }]\n};","'use strict';\n// B.2.3.11 String.prototype.small()\nrequire('./_string-html')('small', function (createHTML) {\n  return function small() {\n    return createHTML(this, 'small', '', '');\n  };\n});\n","module.exports = integrate;\n\nfunction integrate(bodies, timeStep) {\n  var tx = 0,\n      ty = 0,\n      tz = 0,\n      i,\n      max = bodies.length;\n\n  for (i = 0; i < max; ++i) {\n    var body = bodies[i],\n        coeff = timeStep * timeStep / body.mass;\n    body.pos.x = 2 * body.pos.x - body.prevPos.x + body.force.x * coeff;\n    body.pos.y = 2 * body.pos.y - body.prevPos.y + body.force.y * coeff;\n    body.pos.z = 2 * body.pos.z - body.prevPos.z + body.force.z * coeff;\n    tx += Math.abs(body.pos.x - body.prevPos.x);\n    ty += Math.abs(body.pos.y - body.prevPos.y);\n    tz += Math.abs(body.pos.z - body.prevPos.z);\n  }\n\n  return (tx * tx + ty * ty + tz * tz) / bodies.length;\n}","export default function (node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}","require(\"core-js/modules/es6.promise\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.date.now\");\n\n/**\n * Source: https://github.com/Adobe-Marketing-Cloud/fetch-script\n */\nfunction getScriptId() {\n  return 'script_' + Date.now() + '_' + Math.ceil(Math.random() * 100000);\n}\n\nfunction createScript(url, id) {\n  var script = document.createElement('script');\n  script.type = 'text/javascript';\n  script.async = true;\n  script.id = id;\n  script.src = url;\n  return script;\n}\n\nfunction removeScript(id) {\n  var script = document.getElementById(id);\n  var parent = script.parentNode;\n\n  try {\n    parent && parent.removeChild(script);\n  } catch (e) {// ignore\n  }\n}\n\nfunction appendScript(script) {\n  var firstScript = document.getElementsByTagName('script')[0];\n  firstScript.parentNode.insertBefore(script, firstScript);\n}\n\nfunction fetchScriptInternal(url, options, Promise) {\n  return new Promise(function (resolve, reject) {\n    var timeout = options.timeout || 5000;\n    var scriptId = getScriptId();\n    var script = createScript(url, scriptId);\n    var timeoutId = setTimeout(function () {\n      reject(new Error('Script request to ' + url + ' timed out'));\n      removeScript(scriptId);\n    }, timeout);\n\n    var disableTimeout = function disableTimeout(timeoutId) {\n      clearTimeout(timeoutId);\n    };\n\n    script.addEventListener('load', function (e) {\n      resolve({\n        ok: true\n      });\n      disableTimeout(timeoutId);\n      removeScript(scriptId);\n    });\n    script.addEventListener('error', function (e) {\n      reject(new Error('Script request to ' + url + ' failed ' + e));\n      disableTimeout(timeoutId);\n      removeScript(scriptId);\n    });\n    appendScript(script);\n  });\n}\n\nfunction fetchScript(settings) {\n  settings = settings || {};\n  return function (url, options) {\n    options = options || {};\n    return fetchScriptInternal(url, options, settings.Promise || Promise);\n  };\n}\n\nmodule.exports = fetchScript;","import React from 'react';\nvar FormContext = React.createContext({\n  controlId: undefined\n});\nexport default FormContext;","'use strict';\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = require('./_export');\nvar $pad = require('./_string-pad');\nvar userAgent = require('./_user-agent');\n\n// https://github.com/zloirock/core-js/issues/280\nvar WEBKIT_BUG = /Version\\/10\\.\\d+(\\.\\d+)?( Mobile\\/\\w+)? Safari\\//.test(userAgent);\n\n$export($export.P + $export.F * WEBKIT_BUG, 'String', {\n  padStart: function padStart(maxLength /* , fillString = ' ' */) {\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, true);\n  }\n});\n","require(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.function.bind\");\n\nvar ACCEL_G = -9.8,\n    // m/s^2\nEASING = -15; // m/s^2\n\n/**\n * Jump ability.\n */\n\nmodule.exports = AFRAME.registerComponent('jump-ability', {\n  dependencies: ['velocity'],\n\n  /* Schema\n  */\n  schema: {\n    on: {\n      \"default\": 'keydown:Space gamepadbuttondown:0'\n    },\n    playerHeight: {\n      \"default\": 1.764\n    },\n    maxJumps: {\n      \"default\": 1\n    },\n    distance: {\n      \"default\": 5\n    },\n    debug: {\n      \"default\": false\n    }\n  },\n  init: function init() {\n    this.velocity = 0;\n    this.numJumps = 0;\n    var beginJump = this.beginJump.bind(this),\n        events = this.data.on.split(' ');\n    this.bindings = {};\n\n    for (var i = 0; i < events.length; i++) {\n      this.bindings[events[i]] = beginJump;\n      this.el.addEventListener(events[i], beginJump);\n    }\n\n    this.bindings.collide = this.onCollide.bind(this);\n    this.el.addEventListener('collide', this.bindings.collide);\n  },\n  remove: function remove() {\n    for (var event in this.bindings) {\n      if (this.bindings.hasOwnProperty(event)) {\n        this.el.removeEventListener(event, this.bindings[event]);\n        delete this.bindings[event];\n      }\n    }\n\n    this.el.removeEventListener('collide', this.bindings.collide);\n    delete this.bindings.collide;\n  },\n  beginJump: function beginJump() {\n    if (this.numJumps < this.data.maxJumps) {\n      var data = this.data,\n          initialVelocity = Math.sqrt(-2 * data.distance * (ACCEL_G + EASING)),\n          v = this.el.getAttribute('velocity');\n      this.el.setAttribute('velocity', {\n        x: v.x,\n        y: initialVelocity,\n        z: v.z\n      });\n      this.numJumps++;\n      this.el.emit('jumpstart');\n    }\n  },\n  onCollide: function onCollide() {\n    if (this.numJumps > 0) this.el.emit('jumpend');\n    this.numJumps = 0;\n  }\n});","function memoize(fn) {\n  var cache = {};\n  return function (arg) {\n    if (cache[arg] === undefined) cache[arg] = fn(arg);\n    return cache[arg];\n  };\n}\n\nexport default memoize;","import memoize from '@emotion/memoize';\nvar reactPropsRegex = /^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/; // https://esbench.com/bench/5bfee68a4cd7e6009ef61d23\n\nvar index = memoize(function (prop) {\n  return reactPropsRegex.test(prop) || prop.charCodeAt(0) === 111\n  /* o */\n  && prop.charCodeAt(1) === 110\n  /* n */\n  && prop.charCodeAt(2) < 91;\n}\n/* Z+1 */\n);\nexport default index;","import { Selection, root } from \"./selection/index\";\nexport default function (selector) {\n  return typeof selector === \"string\" ? new Selection([[document.querySelector(selector)]], [document.documentElement]) : new Selection([[selector]], root);\n}","require(\"core-js/modules/es6.object.create\");\n\nmodule.exports = function eventify(subject) {\n  validateSubject(subject);\n  var eventsStorage = createEventsStorage(subject);\n  subject.on = eventsStorage.on;\n  subject.off = eventsStorage.off;\n  subject.fire = eventsStorage.fire;\n  return subject;\n};\n\nfunction createEventsStorage(subject) {\n  // Store all event listeners to this hash. Key is event name, value is array\n  // of callback records.\n  //\n  // A callback record consists of callback function and its optional context:\n  // { 'eventName' => [{callback: function, ctx: object}] }\n  var registeredEvents = Object.create(null);\n  return {\n    on: function on(eventName, callback, ctx) {\n      if (typeof callback !== 'function') {\n        throw new Error('callback is expected to be a function');\n      }\n\n      var handlers = registeredEvents[eventName];\n\n      if (!handlers) {\n        handlers = registeredEvents[eventName] = [];\n      }\n\n      handlers.push({\n        callback: callback,\n        ctx: ctx\n      });\n      return subject;\n    },\n    off: function off(eventName, callback) {\n      var wantToRemoveAll = typeof eventName === 'undefined';\n\n      if (wantToRemoveAll) {\n        // Killing old events storage should be enough in this case:\n        registeredEvents = Object.create(null);\n        return subject;\n      }\n\n      if (registeredEvents[eventName]) {\n        var deleteAllCallbacksForEvent = typeof callback !== 'function';\n\n        if (deleteAllCallbacksForEvent) {\n          delete registeredEvents[eventName];\n        } else {\n          var callbacks = registeredEvents[eventName];\n\n          for (var i = 0; i < callbacks.length; ++i) {\n            if (callbacks[i].callback === callback) {\n              callbacks.splice(i, 1);\n            }\n          }\n        }\n      }\n\n      return subject;\n    },\n    fire: function fire(eventName) {\n      var callbacks = registeredEvents[eventName];\n\n      if (!callbacks) {\n        return subject;\n      }\n\n      var fireArguments;\n\n      if (arguments.length > 1) {\n        fireArguments = Array.prototype.splice.call(arguments, 1);\n      }\n\n      for (var i = 0; i < callbacks.length; ++i) {\n        var callbackInfo = callbacks[i];\n        callbackInfo.callback.apply(callbackInfo.ctx, fireArguments);\n      }\n\n      return subject;\n    }\n  };\n}\n\nfunction validateSubject(subject) {\n  if (!subject) {\n    throw new Error('Eventify cannot use falsy object as events subject');\n  }\n\n  var reservedWords = ['on', 'fire', 'off'];\n\n  for (var i = 0; i < reservedWords.length; ++i) {\n    if (subject.hasOwnProperty(reservedWords[i])) {\n      throw new Error(\"Subject cannot be eventified, since it already has property '\" + reservedWords[i] + \"'\");\n    }\n  }\n}","import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.string.trim\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.array.map\";\nvar filterEvents = {};\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {\n      mouseenter: \"mouseover\",\n      mouseleave: \"mouseout\"\n    };\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function (event) {\n    var related = event.relatedTarget;\n\n    if (!related || related !== this && !(related.compareDocumentPosition(this) & 8)) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function (event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n\n    event = event1;\n\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function (t) {\n    var name = \"\",\n        i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {\n      type: t,\n      name: name\n    };\n  });\n}\n\nfunction onRemove(typename) {\n  return function () {\n    var on = this.__on;\n    if (!on) return;\n\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n\n    if (++i) on.length = i;else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function (d, i, group) {\n    var on = this.__on,\n        o,\n        listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {\n      type: typename.type,\n      name: typename.name,\n      value: value,\n      listener: listener,\n      capture: capture\n    };\n    if (!on) this.__on = [o];else on.push(o);\n  };\n}\n\nexport default function (typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"),\n      i,\n      n = typenames.length,\n      t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n\n  for (i = 0; i < n; ++i) {\n    this.each(on(typenames[i], value, capture));\n  }\n\n  return this;\n}\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}","require(\"core-js/modules/es6.object.assign\");\n\nmodule.exports = Object.assign(function GamepadButton() {}, {\n  FACE_1: 0,\n  FACE_2: 1,\n  FACE_3: 2,\n  FACE_4: 3,\n  L_SHOULDER_1: 4,\n  R_SHOULDER_1: 5,\n  L_SHOULDER_2: 6,\n  R_SHOULDER_2: 7,\n  SELECT: 8,\n  START: 9,\n  DPAD_UP: 12,\n  DPAD_DOWN: 13,\n  DPAD_LEFT: 14,\n  DPAD_RIGHT: 15,\n  VENDOR: 16\n});","var physics = require('ngraph.physics.primitives');\n\nmodule.exports = function (pos) {\n  return new physics.Body3d(pos);\n};","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n","module.exports = Spring;\n/**\n * Represents a physical spring. Spring connects two bodies, has rest length\n * stiffness coefficient and optional weight\n */\n\nfunction Spring(fromBody, toBody, length, coeff, weight) {\n  this.from = fromBody;\n  this.to = toBody;\n  this.length = length;\n  this.coeff = coeff;\n  this.weight = typeof weight === 'number' ? weight : 1;\n}\n\n;","/**\n * Represents spring force, which updates forces acting on two bodies, conntected\n * by a spring.\n *\n * @param {Object} options for the spring force\n * @param {Number=} options.springCoeff spring force coefficient.\n * @param {Number=} options.springLength desired length of a spring at rest.\n */\nmodule.exports = function (options) {\n  var merge = require('ngraph.merge');\n\n  var random = require('ngraph.random').random(42);\n\n  var expose = require('ngraph.expose');\n\n  options = merge(options, {\n    springCoeff: 0.0002,\n    springLength: 80\n  });\n  var api = {\n    /**\n     * Upsates forces acting on a spring\n     */\n    update: function update(spring) {\n      var body1 = spring.from,\n          body2 = spring.to,\n          length = spring.length < 0 ? options.springLength : spring.length,\n          dx = body2.pos.x - body1.pos.x,\n          dy = body2.pos.y - body1.pos.y,\n          r = Math.sqrt(dx * dx + dy * dy);\n\n      if (r === 0) {\n        dx = (random.nextDouble() - 0.5) / 50;\n        dy = (random.nextDouble() - 0.5) / 50;\n        r = Math.sqrt(dx * dx + dy * dy);\n      }\n\n      var d = r - length;\n      var coeff = (!spring.coeff || spring.coeff < 0 ? options.springCoeff : spring.coeff) * d / r * spring.weight;\n      body1.force.x += coeff * dx;\n      body1.force.y += coeff * dy;\n      body2.force.x -= coeff * dx;\n      body2.force.y -= coeff * dy;\n    }\n  };\n  expose(options, api, ['springCoeff', 'springLength']);\n  return api;\n};","export default function (selector) {\n  return function () {\n    return this.matches(selector);\n  };\n}","require(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.array.reduce\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\n(function () {\n  \"use strict\";\n\n  var utils = require(\"./utils.js\");\n  /**\n   * Poly Bezier\n   * @param {[type]} curves [description]\n   */\n\n\n  var PolyBezier = function PolyBezier(curves) {\n    this.curves = [];\n    this._3d = false;\n\n    if (!!curves) {\n      this.curves = curves;\n      this._3d = this.curves[0]._3d;\n    }\n  };\n\n  PolyBezier.prototype = {\n    valueOf: function valueOf() {\n      return this.toString();\n    },\n    toString: function toString() {\n      return \"[\" + this.curves.map(function (curve) {\n        return utils.pointsToString(curve.points);\n      }).join(\", \") + \"]\";\n    },\n    addCurve: function addCurve(curve) {\n      this.curves.push(curve);\n      this._3d = this._3d || curve._3d;\n    },\n    length: function length() {\n      return this.curves.map(function (v) {\n        return v.length();\n      }).reduce(function (a, b) {\n        return a + b;\n      });\n    },\n    curve: function curve(idx) {\n      return this.curves[idx];\n    },\n    bbox: function bbox() {\n      var c = this.curves;\n      var bbox = c[0].bbox();\n\n      for (var i = 1; i < c.length; i++) {\n        utils.expandbox(bbox, c[i].bbox());\n      }\n\n      return bbox;\n    },\n    offset: function offset(d) {\n      var offset = [];\n      this.curves.forEach(function (v) {\n        offset = offset.concat(v.offset(d));\n      });\n      return new PolyBezier(offset);\n    }\n  };\n  module.exports = PolyBezier;\n})();","require(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\n/**\n * Gamepad controls for A-Frame.\n *\n * Stripped-down version of: https://github.com/donmccurdy/aframe-gamepad-controls\n *\n * For more information about the Gamepad API, see:\n * https://developer.mozilla.org/en-US/docs/Web/API/Gamepad_API/Using_the_Gamepad_API\n */\nvar GamepadButton = require('../../lib/GamepadButton'),\n    GamepadButtonEvent = require('../../lib/GamepadButtonEvent');\n\nvar JOYSTICK_EPS = 0.2;\nvar Joystick = {\n  MOVEMENT: 1,\n  ROTATION: 2\n};\nmodule.exports = AFRAME.registerComponent('gamepad-controls', {\n  /*******************************************************************\n   * Statics\n   */\n  GamepadButton: GamepadButton,\n\n  /*******************************************************************\n   * Schema\n   */\n  schema: {\n    // Controller 0-3\n    controller: {\n      \"default\": 0,\n      oneOf: [0, 1, 2, 3]\n    },\n    // Enable/disable features\n    enabled: {\n      \"default\": true\n    },\n    // Debugging\n    debug: {\n      \"default\": false\n    },\n    // Heading element for rotation\n    camera: {\n      \"default\": '[camera]',\n      type: 'selector'\n    },\n    // Rotation sensitivity\n    rotationSensitivity: {\n      \"default\": 2.0\n    }\n  },\n\n  /*******************************************************************\n   * Core\n   */\n\n  /**\n   * Called once when component is attached. Generally for initial setup.\n   */\n  init: function init() {\n    var sceneEl = this.el.sceneEl;\n    this.system = sceneEl.systems['tracked-controls-webxr'] || {\n      controllers: []\n    };\n    this.prevTime = window.performance.now(); // Button state\n\n    this.buttons = {}; // Rotation\n\n    var rotation = this.el.object3D.rotation;\n    this.pitch = new THREE.Object3D();\n    this.pitch.rotation.x = THREE.Math.degToRad(rotation.x);\n    this.yaw = new THREE.Object3D();\n    this.yaw.position.y = 10;\n    this.yaw.rotation.y = THREE.Math.degToRad(rotation.y);\n    this.yaw.add(this.pitch);\n    this._lookVector = new THREE.Vector2();\n    this._moveVector = new THREE.Vector2();\n    this._dpadVector = new THREE.Vector2();\n    sceneEl.addBehavior(this);\n  },\n\n  /**\n   * Called when component is attached and when component data changes.\n   * Generally modifies the entity based on the data.\n   */\n  update: function update() {\n    this.tick();\n  },\n\n  /**\n   * Called on each iteration of main render loop.\n   */\n  tick: function tick(t, dt) {\n    this.updateButtonState();\n    this.updateRotation(dt);\n  },\n\n  /**\n   * Called when a component is removed (e.g., via removeAttribute).\n   * Generally undoes all modifications to the entity.\n   */\n  remove: function remove() {},\n\n  /*******************************************************************\n   * Movement\n   */\n  isVelocityActive: function isVelocityActive() {\n    if (!this.data.enabled || !this.isConnected()) return false;\n    var dpad = this._dpadVector;\n    var joystick = this._moveVector;\n    this.getDpad(dpad);\n    this.getJoystick(Joystick.MOVEMENT, joystick);\n    var inputX = dpad.x || joystick.x;\n    var inputY = dpad.y || joystick.y;\n    return Math.abs(inputX) > JOYSTICK_EPS || Math.abs(inputY) > JOYSTICK_EPS;\n  },\n  getVelocityDelta: function getVelocityDelta() {\n    var dpad = this._dpadVector;\n    var joystick = this._moveVector;\n    this.getDpad(dpad);\n    this.getJoystick(Joystick.MOVEMENT, joystick);\n    var inputX = dpad.x || joystick.x;\n    var inputY = dpad.y || joystick.y;\n    var dVelocity = new THREE.Vector3();\n\n    if (Math.abs(inputX) > JOYSTICK_EPS) {\n      dVelocity.x += inputX;\n    }\n\n    if (Math.abs(inputY) > JOYSTICK_EPS) {\n      dVelocity.z += inputY;\n    }\n\n    return dVelocity;\n  },\n\n  /*******************************************************************\n   * Rotation\n   */\n  isRotationActive: function isRotationActive() {\n    if (!this.data.enabled || !this.isConnected()) return false;\n    var joystick = this._lookVector;\n    this.getJoystick(Joystick.ROTATION, joystick);\n    return Math.abs(joystick.x) > JOYSTICK_EPS || Math.abs(joystick.y) > JOYSTICK_EPS;\n  },\n  updateRotation: function updateRotation(dt) {\n    if (!this.isRotationActive()) return;\n    var data = this.data;\n    var yaw = this.yaw;\n    var pitch = this.pitch;\n    var lookControls = data.camera.components['look-controls'];\n    var hasLookControls = lookControls && lookControls.pitchObject && lookControls.yawObject; // Sync with look-controls pitch/yaw if available.\n\n    if (hasLookControls) {\n      pitch.rotation.copy(lookControls.pitchObject.rotation);\n      yaw.rotation.copy(lookControls.yawObject.rotation);\n    }\n\n    var lookVector = this._lookVector;\n    this.getJoystick(Joystick.ROTATION, lookVector);\n    if (Math.abs(lookVector.x) <= JOYSTICK_EPS) lookVector.x = 0;\n    if (Math.abs(lookVector.y) <= JOYSTICK_EPS) lookVector.y = 0;\n    lookVector.multiplyScalar(data.rotationSensitivity * dt / 1000);\n    yaw.rotation.y -= lookVector.x;\n    pitch.rotation.x -= lookVector.y;\n    pitch.rotation.x = Math.max(-Math.PI / 2, Math.min(Math.PI / 2, pitch.rotation.x));\n    data.camera.object3D.rotation.set(pitch.rotation.x, yaw.rotation.y, 0); // Sync with look-controls pitch/yaw if available.\n\n    if (hasLookControls) {\n      lookControls.pitchObject.rotation.copy(pitch.rotation);\n      lookControls.yawObject.rotation.copy(yaw.rotation);\n    }\n  },\n\n  /*******************************************************************\n   * Button events\n   */\n  updateButtonState: function updateButtonState() {\n    var gamepad = this.getGamepad();\n\n    if (this.data.enabled && gamepad) {\n      // Fire DOM events for button state changes.\n      for (var i = 0; i < gamepad.buttons.length; i++) {\n        if (gamepad.buttons[i].pressed && !this.buttons[i]) {\n          this.emit(new GamepadButtonEvent('gamepadbuttondown', i, gamepad.buttons[i]));\n        } else if (!gamepad.buttons[i].pressed && this.buttons[i]) {\n          this.emit(new GamepadButtonEvent('gamepadbuttonup', i, gamepad.buttons[i]));\n        }\n\n        this.buttons[i] = gamepad.buttons[i].pressed;\n      }\n    } else if (Object.keys(this.buttons)) {\n      // Reset state if controls are disabled or controller is lost.\n      this.buttons = {};\n    }\n  },\n  emit: function emit(event) {\n    // Emit original event.\n    this.el.emit(event.type, event); // Emit convenience event, identifying button index.\n\n    this.el.emit(event.type + ':' + event.index, new GamepadButtonEvent(event.type, event.index, event));\n  },\n\n  /*******************************************************************\n   * Gamepad state\n   */\n\n  /**\n   * Returns the Gamepad instance attached to the component. If connected,\n   * a proxy-controls component may provide access to Gamepad input from a\n   * remote device.\n   *\n   * @return {Gamepad}\n   */\n  getGamepad: function getGamepad() {\n    var stdGamepad = navigator.getGamepads && navigator.getGamepads()[this.data.controller],\n        xrController = this.system.controllers[this.data.controller],\n        xrGamepad = xrController && xrController.gamepad,\n        proxyControls = this.el.sceneEl.components['proxy-controls'],\n        proxyGamepad = proxyControls && proxyControls.isConnected() && proxyControls.getGamepad(this.data.controller);\n    return proxyGamepad || xrGamepad || stdGamepad;\n  },\n\n  /**\n   * Returns the state of the given button.\n   * @param  {number} index The button (0-N) for which to find state.\n   * @return {GamepadButton}\n   */\n  getButton: function getButton(index) {\n    return this.getGamepad().buttons[index];\n  },\n\n  /**\n   * Returns state of the given axis. Axes are labelled 0-N, where 0-1 will\n   * represent X/Y on the first joystick, and 2-3 X/Y on the second.\n   * @param  {number} index The axis (0-N) for which to find state.\n   * @return {number} On the interval [-1,1].\n   */\n  getAxis: function getAxis(index) {\n    return this.getGamepad().axes[index];\n  },\n\n  /**\n   * Returns the state of the specified joystick as a THREE.Vector2.\n   * @param  {Joystick} role\n   * @param  {THREE.Vector2} target\n   * @return {THREE.Vector2}\n   */\n  getJoystick: function getJoystick(index, target) {\n    var gamepad = this.getGamepad();\n\n    if (gamepad.mapping === 'xr-standard') {\n      // See: https://github.com/donmccurdy/aframe-extras/issues/307\n      switch (index) {\n        case Joystick.MOVEMENT:\n          return target.set(gamepad.axes[2], gamepad.axes[3]);\n\n        case Joystick.ROTATION:\n          return target.set(gamepad.axes[0], gamepad.axes[1]);\n      }\n    } else {\n      switch (index) {\n        case Joystick.MOVEMENT:\n          return target.set(gamepad.axes[0], gamepad.axes[1]);\n\n        case Joystick.ROTATION:\n          return target.set(gamepad.axes[2], gamepad.axes[3]);\n      }\n    }\n\n    throw new Error('Unexpected joystick index \"%d\".', index);\n  },\n\n  /**\n   * Returns the state of the dpad as a THREE.Vector2.\n   * @param {THREE.Vector2} target\n   * @return {THREE.Vector2}\n   */\n  getDpad: function getDpad(target) {\n    var gamepad = this.getGamepad();\n\n    if (!gamepad.buttons[GamepadButton.DPAD_RIGHT]) {\n      return target.set(0, 0);\n    }\n\n    return target.set((gamepad.buttons[GamepadButton.DPAD_RIGHT].pressed ? 1 : 0) + (gamepad.buttons[GamepadButton.DPAD_LEFT].pressed ? -1 : 0), (gamepad.buttons[GamepadButton.DPAD_UP].pressed ? -1 : 0) + (gamepad.buttons[GamepadButton.DPAD_DOWN].pressed ? 1 : 0));\n  },\n\n  /**\n   * Returns true if the gamepad is currently connected to the system.\n   * @return {boolean}\n   */\n  isConnected: function isConnected() {\n    var gamepad = this.getGamepad();\n    return !!(gamepad && gamepad.connected);\n  },\n\n  /**\n   * Returns a string containing some information about the controller. Result\n   * may vary across browsers, for a given controller.\n   * @return {string}\n   */\n  getID: function getID() {\n    return this.getGamepad().id;\n  }\n});","/**\n * Apply this component to models that looks \"blocky\", to have Three.js compute\n * vertex normals on the fly for a \"smoother\" look.\n */\nmodule.exports = AFRAME.registerComponent('mesh-smooth', {\n  init: function init() {\n    this.el.addEventListener('model-loaded', function (e) {\n      e.detail.model.traverse(function (node) {\n        if (node.isMesh) node.geometry.computeVertexNormals();\n      });\n    });\n  }\n});","/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author paulirish / http://paulirish.com/\n */\nmodule.exports = function (THREE) {\n  THREE.FlyControls = function (object, domElement, opts) {\n    this.object = object;\n    this.domElement = domElement !== undefined ? domElement : document;\n    if (domElement) this.domElement.setAttribute('tabindex', -1); // API\n\n    this.movementSpeed = 1.0;\n    this.rollSpeed = 0.005;\n    this.dragToLook = false;\n    this.autoForward = false; // disable default target object behavior\n    // internals\n\n    this.tmpQuaternion = new THREE.Quaternion();\n    this.mouseStatus = 0;\n    this.moveState = {\n      up: 0,\n      down: 0,\n      left: 0,\n      right: 0,\n      forward: 0,\n      back: 0,\n      pitchUp: 0,\n      pitchDown: 0,\n      yawLeft: 0,\n      yawRight: 0,\n      rollLeft: 0,\n      rollRight: 0\n    };\n    this.moveVector = new THREE.Vector3(0, 0, 0);\n    this.rotationVector = new THREE.Vector3(0, 0, 0);\n\n    this.keydown = function (event) {\n      if (event.altKey) {\n        return;\n      } //event.preventDefault();\n\n\n      switch (event.keyCode) {\n        case 16:\n          /* shift */\n          this.movementSpeedMultiplier = .1;\n          break;\n\n        case 87:\n          /*W*/\n          this.moveState.forward = 1;\n          break;\n\n        case 83:\n          /*S*/\n          this.moveState.back = 1;\n          break;\n\n        case 65:\n          /*A*/\n          this.moveState.left = 1;\n          break;\n\n        case 68:\n          /*D*/\n          this.moveState.right = 1;\n          break;\n\n        case 82:\n          /*R*/\n          this.moveState.up = 1;\n          break;\n\n        case 70:\n          /*F*/\n          this.moveState.down = 1;\n          break;\n\n        case 38:\n          /*up*/\n          this.moveState.pitchUp = 1;\n          break;\n\n        case 40:\n          /*down*/\n          this.moveState.pitchDown = 1;\n          break;\n\n        case 37:\n          /*left*/\n          this.moveState.yawLeft = 1;\n          break;\n\n        case 39:\n          /*right*/\n          this.moveState.yawRight = 1;\n          break;\n\n        case 81:\n          /*Q*/\n          this.moveState.rollLeft = 1;\n          break;\n\n        case 69:\n          /*E*/\n          this.moveState.rollRight = 1;\n          break;\n      }\n\n      this.updateMovementVector();\n      this.updateRotationVector();\n    };\n\n    this.keyup = function (event) {\n      switch (event.keyCode) {\n        case 16:\n          /* shift */\n          this.movementSpeedMultiplier = 1;\n          break;\n\n        case 87:\n          /*W*/\n          this.moveState.forward = 0;\n          break;\n\n        case 83:\n          /*S*/\n          this.moveState.back = 0;\n          break;\n\n        case 65:\n          /*A*/\n          this.moveState.left = 0;\n          break;\n\n        case 68:\n          /*D*/\n          this.moveState.right = 0;\n          break;\n\n        case 82:\n          /*R*/\n          this.moveState.up = 0;\n          break;\n\n        case 70:\n          /*F*/\n          this.moveState.down = 0;\n          break;\n\n        case 38:\n          /*up*/\n          this.moveState.pitchUp = 0;\n          break;\n\n        case 40:\n          /*down*/\n          this.moveState.pitchDown = 0;\n          break;\n\n        case 37:\n          /*left*/\n          this.moveState.yawLeft = 0;\n          break;\n\n        case 39:\n          /*right*/\n          this.moveState.yawRight = 0;\n          break;\n\n        case 81:\n          /*Q*/\n          this.moveState.rollLeft = 0;\n          break;\n\n        case 69:\n          /*E*/\n          this.moveState.rollRight = 0;\n          break;\n      }\n\n      this.updateMovementVector();\n      this.updateRotationVector();\n    };\n\n    this.mousedown = function (event) {\n      if (this.domElement !== document) {\n        this.domElement.focus();\n      }\n\n      event.preventDefault();\n      event.stopPropagation();\n\n      if (this.dragToLook) {\n        this.mouseStatus++;\n      } else {\n        switch (event.button) {\n          case 0:\n            this.moveState.forward = 1;\n            break;\n\n          case 2:\n            this.moveState.back = 1;\n            break;\n        }\n\n        this.updateMovementVector();\n      }\n    };\n\n    this.mousemove = function (event) {\n      if (!this.dragToLook || this.mouseStatus > 0) {\n        var container = this.getContainerDimensions();\n        var halfWidth = container.size[0] / 2;\n        var halfHeight = container.size[1] / 2;\n        this.moveState.yawLeft = -(event.pageX - container.offset[0] - halfWidth) / halfWidth;\n        this.moveState.pitchDown = (event.pageY - container.offset[1] - halfHeight) / halfHeight;\n        this.updateRotationVector();\n      }\n    };\n\n    this.mouseup = function (event) {\n      event.preventDefault();\n      event.stopPropagation();\n\n      if (this.dragToLook) {\n        this.mouseStatus--;\n        this.moveState.yawLeft = this.moveState.pitchDown = 0;\n      } else {\n        switch (event.button) {\n          case 0:\n            this.moveState.forward = 0;\n            break;\n\n          case 2:\n            this.moveState.back = 0;\n            break;\n        }\n\n        this.updateMovementVector();\n      }\n\n      this.updateRotationVector();\n    };\n\n    this.update = function (delta) {\n      var moveMult = delta * this.movementSpeed;\n      var rotMult = delta * this.rollSpeed;\n      this.object.translateX(this.moveVector.x * moveMult);\n      this.object.translateY(this.moveVector.y * moveMult);\n      this.object.translateZ(this.moveVector.z * moveMult);\n      this.tmpQuaternion.set(this.rotationVector.x * rotMult, this.rotationVector.y * rotMult, this.rotationVector.z * rotMult, 1).normalize();\n      this.object.quaternion.multiply(this.tmpQuaternion); // expose the rotation vector for convenience\n\n      this.object.rotation.setFromQuaternion(this.object.quaternion, this.object.rotation.order);\n    };\n\n    this.updateMovementVector = function () {\n      var forward = this.moveState.forward || this.autoForward && !this.moveState.back ? 1 : 0;\n      this.moveVector.x = -this.moveState.left + this.moveState.right;\n      this.moveVector.y = -this.moveState.down + this.moveState.up;\n      this.moveVector.z = -forward + this.moveState.back; //console.log( 'move:', [ this.moveVector.x, this.moveVector.y, this.moveVector.z ] );\n    };\n\n    this.updateRotationVector = function () {\n      this.rotationVector.x = -this.moveState.pitchDown + this.moveState.pitchUp;\n      this.rotationVector.y = -this.moveState.yawRight + this.moveState.yawLeft;\n      this.rotationVector.z = -this.moveState.rollRight + this.moveState.rollLeft; //console.log( 'rotate:', [ this.rotationVector.x, this.rotationVector.y, this.rotationVector.z ] );\n    };\n\n    this.getContainerDimensions = function () {\n      if (this.domElement != document) {\n        return {\n          size: [this.domElement.offsetWidth, this.domElement.offsetHeight],\n          offset: [this.domElement.offsetLeft, this.domElement.offsetTop]\n        };\n      } else {\n        return {\n          size: [window.innerWidth, window.innerHeight],\n          offset: [0, 0]\n        };\n      }\n    };\n\n    function bind(scope, fn) {\n      return function () {\n        fn.apply(scope, arguments);\n      };\n    }\n\n    function contextmenu(event) {\n      event.preventDefault();\n    }\n\n    this.dispose = function () {\n      this.domElement.removeEventListener('contextmenu', contextmenu, false);\n      this.domElement.removeEventListener('mousedown', _mousedown, false);\n      this.domElement.removeEventListener('mousemove', _mousemove, false);\n      this.domElement.removeEventListener('mouseup', _mouseup, false);\n      window.removeEventListener('keydown', _keydown, false);\n      window.removeEventListener('keyup', _keyup, false);\n    };\n\n    var _mousemove = bind(this, this.mousemove);\n\n    var _mousedown = bind(this, this.mousedown);\n\n    var _mouseup = bind(this, this.mouseup);\n\n    var _keydown = bind(this, this.keydown);\n\n    var _keyup = bind(this, this.keyup);\n\n    this.domElement.addEventListener('contextmenu', contextmenu, false);\n    this.domElement.addEventListener('mousemove', _mousemove, false);\n    this.domElement.addEventListener('mousedown', _mousedown, false);\n    this.domElement.addEventListener('mouseup', _mouseup, false);\n    window.addEventListener('keydown', _keydown, false);\n    window.addEventListener('keyup', _keyup, false);\n    this.updateMovementVector();\n    this.updateRotationVector();\n  };\n};","// 19.1.2.5 Object.freeze(O)\nvar isObject = require('./_is-object');\nvar meta = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('freeze', function ($freeze) {\n  return function freeze(it) {\n    return $freeze && isObject(it) ? $freeze(meta(it)) : it;\n  };\n});\n","require(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.number.constructor\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\n/**\n * Tube following a custom path.\n *\n * Usage:\n *\n * ```html\n * <a-tube path=\"5 0 5, 5 0 -5, -5 0 -5\" radius=\"0.5\"></a-tube>\n * ```\n */\nmodule.exports.Primitive = AFRAME.registerPrimitive('a-tube', {\n  defaultComponents: {\n    tube: {}\n  },\n  mappings: {\n    path: 'tube.path',\n    segments: 'tube.segments',\n    radius: 'tube.radius',\n    'radial-segments': 'tube.radialSegments',\n    closed: 'tube.closed'\n  }\n});\nmodule.exports.Component = AFRAME.registerComponent('tube', {\n  schema: {\n    path: {\n      \"default\": []\n    },\n    segments: {\n      \"default\": 64\n    },\n    radius: {\n      \"default\": 1\n    },\n    radialSegments: {\n      \"default\": 8\n    },\n    closed: {\n      \"default\": false\n    }\n  },\n  init: function init() {\n    var el = this.el,\n        data = this.data;\n    var material = el.components.material;\n\n    if (!data.path.length) {\n      console.error('[a-tube] `path` property expected but not found.');\n      return;\n    }\n\n    var curve = new THREE.CatmullRomCurve3(data.path.map(function (point) {\n      point = point.split(' ');\n      return new THREE.Vector3(Number(point[0]), Number(point[1]), Number(point[2]));\n    }));\n    var geometry = new THREE.TubeGeometry(curve, data.segments, data.radius, data.radialSegments, data.closed);\n\n    if (!material) {\n      material = {};\n      material.material = new THREE.MeshPhongMaterial();\n    }\n\n    this.mesh = new THREE.Mesh(geometry, material.material);\n    this.el.setObject3D('mesh', this.mesh);\n  },\n  update: function update(prevData) {\n    if (!Object.keys(prevData).length) return;\n    this.remove();\n    this.init();\n  },\n  remove: function remove() {\n    if (this.mesh) this.el.removeObject3D('mesh');\n  }\n});","require(\"core-js/modules/es6.function.bind\");\n\n/**\n * nav-mesh\n *\n * Waits for a mesh to be loaded on the current entity, then sets it as the\n * nav mesh in the pathfinding system.\n */\nmodule.exports = AFRAME.registerComponent('nav-mesh', {\n  init: function init() {\n    this.system = this.el.sceneEl.systems.nav;\n    this.hasLoadedNavMesh = false;\n    this.el.addEventListener('object3dset', this.loadNavMesh.bind(this));\n  },\n  play: function play() {\n    if (!this.hasLoadedNavMesh) this.loadNavMesh();\n  },\n  loadNavMesh: function loadNavMesh() {\n    var object = this.el.getObject3D('mesh');\n    var scene = this.el.sceneEl.object3D;\n    if (!object) return;\n    var navMesh;\n    object.traverse(function (node) {\n      if (node.isMesh) navMesh = node;\n    });\n    if (!navMesh) return;\n    var navMeshGeometry = navMesh.geometry.isBufferGeometry ? new THREE.Geometry().fromBufferGeometry(navMesh.geometry) : navMesh.geometry.clone();\n    scene.updateMatrixWorld();\n    navMeshGeometry.applyMatrix(navMesh.matrixWorld);\n    this.system.setNavMeshGeometry(navMeshGeometry);\n    this.hasLoadedNavMesh = true;\n  }\n});","require('./checkpoint-controls');\n\nrequire('./gamepad-controls');\n\nrequire('./keyboard-controls');\n\nrequire('./touch-controls');\n\nrequire('./movement-controls');\n\nrequire('./trackpad-controls');","require(\"core-js/modules/es6.array.from\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.set\");\n\nvar _require = require('three-pathfinding'),\n    Pathfinding = _require.Pathfinding;\n\nvar pathfinder = new Pathfinding();\nvar ZONE = 'level';\n/**\n * nav\n *\n * Pathfinding system, using PatrolJS.\n */\n\nmodule.exports = AFRAME.registerSystem('nav', {\n  init: function init() {\n    this.navMesh = null;\n    this.agents = new Set();\n  },\n\n  /**\n   * @param {THREE.Geometry} geometry\n   */\n  setNavMeshGeometry: function setNavMeshGeometry(geometry) {\n    this.navMesh = new THREE.Mesh(geometry);\n    pathfinder.setZoneData(ZONE, Pathfinding.createZone(geometry));\n    Array.from(this.agents).forEach(function (agent) {\n      return agent.updateNavLocation();\n    });\n  },\n\n  /**\n   * @return {THREE.Mesh}\n   */\n  getNavMesh: function getNavMesh() {\n    return this.navMesh;\n  },\n\n  /**\n   * @param {NavAgent} ctrl\n   */\n  addAgent: function addAgent(ctrl) {\n    this.agents.add(ctrl);\n  },\n\n  /**\n   * @param {NavAgent} ctrl\n   */\n  removeAgent: function removeAgent(ctrl) {\n    this.agents[\"delete\"](ctrl);\n  },\n\n  /**\n   * @param  {THREE.Vector3} start\n   * @param  {THREE.Vector3} end\n   * @param  {number} groupID\n   * @return {Array<THREE.Vector3>}\n   */\n  getPath: function getPath(start, end, groupID) {\n    return this.navMesh ? pathfinder.findPath(start, end, ZONE, groupID) : null;\n  },\n\n  /**\n   * @param {THREE.Vector3} position\n   * @return {number}\n   */\n  getGroup: function getGroup(position) {\n    return this.navMesh ? pathfinder.getGroup(ZONE, position) : null;\n  },\n\n  /**\n   * @param  {THREE.Vector3} position\n   * @param  {number} groupID\n   * @return {Node}\n   */\n  getNode: function getNode(position, groupID) {\n    return this.navMesh ? pathfinder.getClosestNode(position, ZONE, groupID, true) : null;\n  },\n\n  /**\n   * @param  {THREE.Vector3} start Starting position.\n   * @param  {THREE.Vector3} end Desired ending position.\n   * @param  {number} groupID\n   * @param  {Node} node\n   * @param  {THREE.Vector3} endTarget (Output) Adjusted step end position.\n   * @return {Node} Current node, after step is taken.\n   */\n  clampStep: function clampStep(start, end, groupID, node, endTarget) {\n    if (!this.navMesh) {\n      endTarget.copy(end);\n      return null;\n    } else if (!node) {\n      endTarget.copy(end);\n      return this.getNode(end, groupID);\n    }\n\n    return pathfinder.clampStep(start, end, node, ZONE, groupID, endTarget);\n  }\n});","require(\"core-js/modules/es6.number.constructor\");\n\n/**\n * This is Barnes Hut simulation algorithm for 3d case. Implementation\n * is highly optimized (avoids recusion and gc pressure)\n *\n * http://www.cs.princeton.edu/courses/archive/fall03/cs126/assignments/barnes-hut.html\n *\n * NOTE: This module duplicates a lot of code from 2d case. Primary reason for\n * this is performance. Every time I tried to abstract away vector operations\n * I had negative impact on performance. So in this case I'm scarifying code\n * reuse in favor of speed\n */\nmodule.exports = function (options) {\n  options = options || {};\n  options.gravity = typeof options.gravity === 'number' ? options.gravity : -1;\n  options.theta = typeof options.theta === 'number' ? options.theta : 0.8; // we require deterministic randomness here\n\n  var random = require('ngraph.random').random(1984),\n      Node = require('./node'),\n      InsertStack = require('./insertStack'),\n      isSamePosition = require('./isSamePosition');\n\n  var gravity = options.gravity,\n      updateQueue = [],\n      insertStack = new InsertStack(),\n      theta = options.theta,\n      nodesCache = [],\n      currentInCache = 0,\n      newNode = function newNode() {\n    // To avoid pressure on GC we reuse nodes.\n    var node = nodesCache[currentInCache];\n\n    if (node) {\n      node.quad0 = null;\n      node.quad4 = null;\n      node.quad1 = null;\n      node.quad5 = null;\n      node.quad2 = null;\n      node.quad6 = null;\n      node.quad3 = null;\n      node.quad7 = null;\n      node.body = null;\n      node.mass = node.massX = node.massY = node.massZ = 0;\n      node.left = node.right = node.top = node.bottom = node.front = node.back = 0;\n    } else {\n      node = new Node();\n      nodesCache[currentInCache] = node;\n    }\n\n    ++currentInCache;\n    return node;\n  },\n      root = newNode(),\n      // Inserts body to the tree\n  insert = function insert(newBody) {\n    insertStack.reset();\n    insertStack.push(root, newBody);\n\n    while (!insertStack.isEmpty()) {\n      var stackItem = insertStack.pop(),\n          node = stackItem.node,\n          body = stackItem.body;\n\n      if (!node.body) {\n        // This is internal node. Update the total mass of the node and center-of-mass.\n        var x = body.pos.x;\n        var y = body.pos.y;\n        var z = body.pos.z;\n        node.mass += body.mass;\n        node.massX += body.mass * x;\n        node.massY += body.mass * y;\n        node.massZ += body.mass * z; // Recursively insert the body in the appropriate quadrant.\n        // But first find the appropriate quadrant.\n\n        var quadIdx = 0,\n            // Assume we are in the 0's quad.\n        left = node.left,\n            right = (node.right + left) / 2,\n            top = node.top,\n            bottom = (node.bottom + top) / 2,\n            back = node.back,\n            front = (node.front + back) / 2;\n\n        if (x > right) {\n          // somewhere in the eastern part.\n          quadIdx += 1;\n          var oldLeft = left;\n          left = right;\n          right = right + (right - oldLeft);\n        }\n\n        if (y > bottom) {\n          // and in south.\n          quadIdx += 2;\n          var oldTop = top;\n          top = bottom;\n          bottom = bottom + (bottom - oldTop);\n        }\n\n        if (z > front) {\n          // and in frontal part\n          quadIdx += 4;\n          var oldBack = back;\n          back = front;\n          front = back + (back - oldBack);\n        }\n\n        var child = getChild(node, quadIdx);\n\n        if (!child) {\n          // The node is internal but this quadrant is not taken. Add subnode to it.\n          child = newNode();\n          child.left = left;\n          child.top = top;\n          child.right = right;\n          child.bottom = bottom;\n          child.back = back;\n          child.front = front;\n          child.body = body;\n          setChild(node, quadIdx, child);\n        } else {\n          // continue searching in this quadrant.\n          insertStack.push(child, body);\n        }\n      } else {\n        // We are trying to add to the leaf node.\n        // We have to convert current leaf into internal node\n        // and continue adding two nodes.\n        var oldBody = node.body;\n        node.body = null; // internal nodes do not carry bodies\n\n        if (isSamePosition(oldBody.pos, body.pos)) {\n          // Prevent infinite subdivision by bumping one node\n          // anywhere in this quadrant\n          var retriesCount = 3;\n\n          do {\n            var offset = random.nextDouble();\n            var dx = (node.right - node.left) * offset;\n            var dy = (node.bottom - node.top) * offset;\n            var dz = (node.front - node.back) * offset;\n            oldBody.pos.x = node.left + dx;\n            oldBody.pos.y = node.top + dy;\n            oldBody.pos.z = node.back + dz;\n            retriesCount -= 1; // Make sure we don't bump it out of the box. If we do, next iteration should fix it\n          } while (retriesCount > 0 && isSamePosition(oldBody.pos, body.pos));\n\n          if (retriesCount === 0 && isSamePosition(oldBody.pos, body.pos)) {\n            // This is very bad, we ran out of precision.\n            // if we do not return from the method we'll get into\n            // infinite loop here. So we sacrifice correctness of layout, and keep the app running\n            // Next layout iteration should get larger bounding box in the first step and fix this\n            return;\n          }\n        } // Next iteration should subdivide node further.\n\n\n        insertStack.push(node, oldBody);\n        insertStack.push(node, body);\n      }\n    }\n  },\n      update = function update(sourceBody) {\n    var queue = updateQueue,\n        v,\n        dx,\n        dy,\n        dz,\n        r,\n        fx = 0,\n        fy = 0,\n        fz = 0,\n        queueLength = 1,\n        shiftIdx = 0,\n        pushIdx = 1;\n    queue[0] = root;\n\n    while (queueLength) {\n      var node = queue[shiftIdx],\n          body = node.body;\n      queueLength -= 1;\n      shiftIdx += 1;\n      var differentBody = body !== sourceBody;\n\n      if (body && differentBody) {\n        // If the current node is a leaf node (and it is not source body),\n        // calculate the force exerted by the current node on body, and add this\n        // amount to body's net force.\n        dx = body.pos.x - sourceBody.pos.x;\n        dy = body.pos.y - sourceBody.pos.y;\n        dz = body.pos.z - sourceBody.pos.z;\n        r = Math.sqrt(dx * dx + dy * dy + dz * dz);\n\n        if (r === 0) {\n          // Poor man's protection against zero distance.\n          dx = (random.nextDouble() - 0.5) / 50;\n          dy = (random.nextDouble() - 0.5) / 50;\n          dz = (random.nextDouble() - 0.5) / 50;\n          r = Math.sqrt(dx * dx + dy * dy + dz * dz);\n        } // This is standard gravitation force calculation but we divide\n        // by r^3 to save two operations when normalizing force vector.\n\n\n        v = gravity * body.mass * sourceBody.mass / (r * r * r);\n        fx += v * dx;\n        fy += v * dy;\n        fz += v * dz;\n      } else if (differentBody) {\n        // Otherwise, calculate the ratio s / r,  where s is the width of the region\n        // represented by the internal node, and r is the distance between the body\n        // and the node's center-of-mass\n        dx = node.massX / node.mass - sourceBody.pos.x;\n        dy = node.massY / node.mass - sourceBody.pos.y;\n        dz = node.massZ / node.mass - sourceBody.pos.z;\n        r = Math.sqrt(dx * dx + dy * dy + dz * dz);\n\n        if (r === 0) {\n          // Sorry about code duplication. I don't want to create many functions\n          // right away. Just want to see performance first.\n          dx = (random.nextDouble() - 0.5) / 50;\n          dy = (random.nextDouble() - 0.5) / 50;\n          dz = (random.nextDouble() - 0.5) / 50;\n          r = Math.sqrt(dx * dx + dy * dy + dz * dz);\n        } // If s / r < , treat this internal node as a single body, and calculate the\n        // force it exerts on sourceBody, and add this amount to sourceBody's net force.\n\n\n        if ((node.right - node.left) / r < theta) {\n          // in the if statement above we consider node's width only\n          // because the region was squarified during tree creation.\n          // Thus there is no difference between using width or height.\n          v = gravity * node.mass * sourceBody.mass / (r * r * r);\n          fx += v * dx;\n          fy += v * dy;\n          fz += v * dz;\n        } else {\n          // Otherwise, run the procedure recursively on each of the current node's children.\n          // I intentionally unfolded this loop, to save several CPU cycles.\n          if (node.quad0) {\n            queue[pushIdx] = node.quad0;\n            queueLength += 1;\n            pushIdx += 1;\n          }\n\n          if (node.quad1) {\n            queue[pushIdx] = node.quad1;\n            queueLength += 1;\n            pushIdx += 1;\n          }\n\n          if (node.quad2) {\n            queue[pushIdx] = node.quad2;\n            queueLength += 1;\n            pushIdx += 1;\n          }\n\n          if (node.quad3) {\n            queue[pushIdx] = node.quad3;\n            queueLength += 1;\n            pushIdx += 1;\n          }\n\n          if (node.quad4) {\n            queue[pushIdx] = node.quad4;\n            queueLength += 1;\n            pushIdx += 1;\n          }\n\n          if (node.quad5) {\n            queue[pushIdx] = node.quad5;\n            queueLength += 1;\n            pushIdx += 1;\n          }\n\n          if (node.quad6) {\n            queue[pushIdx] = node.quad6;\n            queueLength += 1;\n            pushIdx += 1;\n          }\n\n          if (node.quad7) {\n            queue[pushIdx] = node.quad7;\n            queueLength += 1;\n            pushIdx += 1;\n          }\n        }\n      }\n    }\n\n    sourceBody.force.x += fx;\n    sourceBody.force.y += fy;\n    sourceBody.force.z += fz;\n  },\n      insertBodies = function insertBodies(bodies) {\n    var x1 = Number.MAX_VALUE,\n        y1 = Number.MAX_VALUE,\n        z1 = Number.MAX_VALUE,\n        x2 = Number.MIN_VALUE,\n        y2 = Number.MIN_VALUE,\n        z2 = Number.MIN_VALUE,\n        i,\n        max = bodies.length; // To reduce quad tree depth we are looking for exact bounding box of all particles.\n\n    i = max;\n\n    while (i--) {\n      var pos = bodies[i].pos;\n      var x = pos.x;\n      var y = pos.y;\n      var z = pos.z;\n\n      if (x < x1) {\n        x1 = x;\n      }\n\n      if (x > x2) {\n        x2 = x;\n      }\n\n      if (y < y1) {\n        y1 = y;\n      }\n\n      if (y > y2) {\n        y2 = y;\n      }\n\n      if (z < z1) {\n        z1 = z;\n      }\n\n      if (z > z2) {\n        z2 = z;\n      }\n    } // Squarify the bounds.\n\n\n    var maxSide = Math.max(x2 - x1, Math.max(y2 - y1, z2 - z1));\n    x2 = x1 + maxSide;\n    y2 = y1 + maxSide;\n    z2 = z1 + maxSide;\n    currentInCache = 0;\n    root = newNode();\n    root.left = x1;\n    root.right = x2;\n    root.top = y1;\n    root.bottom = y2;\n    root.back = z1;\n    root.front = z2;\n    i = max - 1;\n\n    if (i > 0) {\n      root.body = bodies[i];\n    }\n\n    while (i--) {\n      insert(bodies[i], root);\n    }\n  };\n\n  return {\n    insertBodies: insertBodies,\n    updateBodyForce: update,\n    options: function options(newOptions) {\n      if (newOptions) {\n        if (typeof newOptions.gravity === 'number') {\n          gravity = newOptions.gravity;\n        }\n\n        if (typeof newOptions.theta === 'number') {\n          theta = newOptions.theta;\n        }\n\n        return this;\n      }\n\n      return {\n        gravity: gravity,\n        theta: theta\n      };\n    }\n  };\n};\n\nfunction getChild(node, idx) {\n  if (idx === 0) return node.quad0;\n  if (idx === 1) return node.quad1;\n  if (idx === 2) return node.quad2;\n  if (idx === 3) return node.quad3;\n  if (idx === 4) return node.quad4;\n  if (idx === 5) return node.quad5;\n  if (idx === 6) return node.quad6;\n  if (idx === 7) return node.quad7;\n  return null;\n}\n\nfunction setChild(node, idx, child) {\n  if (idx === 0) node.quad0 = child;else if (idx === 1) node.quad1 = child;else if (idx === 2) node.quad2 = child;else if (idx === 3) node.quad3 = child;else if (idx === 4) node.quad4 = child;else if (idx === 5) node.quad5 = child;else if (idx === 6) node.quad6 = child;else if (idx === 7) node.quad7 = child;\n}","require(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.map\");\n\n/**\n * @fileOverview Contains definition of the core graph object.\n */\n// TODO: need to change storage layer:\n// 1. Be able to get all nodes O(1)\n// 2. Be able to get number of links O(1)\n\n/**\n * @example\n *  var graph = require('ngraph.graph')();\n *  graph.addNode(1);     // graph has one node.\n *  graph.addLink(2, 3);  // now graph contains three nodes and one link.\n *\n */\nmodule.exports = createGraph;\n\nvar eventify = require('ngraph.events');\n/**\n * Creates a new graph\n */\n\n\nfunction createGraph(options) {\n  // Graph structure is maintained as dictionary of nodes\n  // and array of links. Each node has 'links' property which\n  // hold all links related to that node. And general links\n  // array is used to speed up all links enumeration. This is inefficient\n  // in terms of memory, but simplifies coding.\n  options = options || {};\n\n  if ('uniqueLinkId' in options) {\n    console.warn('ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\\n' + 'Use `multigraph` option instead\\n', '\\n', 'Note: there is also change in default behavior: From now on each graph\\n' + 'is considered to be not a multigraph by default (each edge is unique).');\n    options.multigraph = options.uniqueLinkId;\n  } // Dear reader, the non-multigraphs do not guarantee that there is only\n  // one link for a given pair of node. When this option is set to false\n  // we can save some memory and CPU (18% faster for non-multigraph);\n\n\n  if (options.multigraph === undefined) options.multigraph = false;\n\n  if (typeof Map !== 'function') {\n    // TODO: Should we polyfill it ourselves? We don't use much operations there..\n    throw new Error('ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph');\n  }\n\n  var nodes = new Map();\n  var links = [],\n      // Hash of multi-edges. Used to track ids of edges between same nodes\n  multiEdges = {},\n      suspendEvents = 0,\n      createLink = options.multigraph ? createUniqueLink : createSingleLink,\n      // Our graph API provides means to listen to graph changes. Users can subscribe\n  // to be notified about changes in the graph by using `on` method. However\n  // in some cases they don't use it. To avoid unnecessary memory consumption\n  // we will not record graph changes until we have at least one subscriber.\n  // Code below supports this optimization.\n  //\n  // Accumulates all changes made during graph updates.\n  // Each change element contains:\n  //  changeType - one of the strings: 'add', 'remove' or 'update';\n  //  node - if change is related to node this property is set to changed graph's node;\n  //  link - if change is related to link this property is set to changed graph's link;\n  changes = [],\n      recordLinkChange = noop,\n      recordNodeChange = noop,\n      enterModification = noop,\n      exitModification = noop; // this is our public API:\n\n  var graphPart = {\n    /**\n     * Adds node to the graph. If node with given id already exists in the graph\n     * its data is extended with whatever comes in 'data' argument.\n     *\n     * @param nodeId the node's identifier. A string or number is preferred.\n     * @param [data] additional data for the node being added. If node already\n     *   exists its data object is augmented with the new one.\n     *\n     * @return {node} The newly added node or node with given id if it already exists.\n     */\n    addNode: addNode,\n\n    /**\n     * Adds a link to the graph. The function always create a new\n     * link between two nodes. If one of the nodes does not exists\n     * a new node is created.\n     *\n     * @param fromId link start node id;\n     * @param toId link end node id;\n     * @param [data] additional data to be set on the new link;\n     *\n     * @return {link} The newly created link\n     */\n    addLink: addLink,\n\n    /**\n     * Removes link from the graph. If link does not exist does nothing.\n     *\n     * @param link - object returned by addLink() or getLinks() methods.\n     *\n     * @returns true if link was removed; false otherwise.\n     */\n    removeLink: removeLink,\n\n    /**\n     * Removes node with given id from the graph. If node does not exist in the graph\n     * does nothing.\n     *\n     * @param nodeId node's identifier passed to addNode() function.\n     *\n     * @returns true if node was removed; false otherwise.\n     */\n    removeNode: removeNode,\n\n    /**\n     * Gets node with given identifier. If node does not exist undefined value is returned.\n     *\n     * @param nodeId requested node identifier;\n     *\n     * @return {node} in with requested identifier or undefined if no such node exists.\n     */\n    getNode: getNode,\n\n    /**\n     * Gets number of nodes in this graph.\n     *\n     * @return number of nodes in the graph.\n     */\n    getNodeCount: getNodeCount,\n\n    /**\n     * Gets total number of links in the graph.\n     */\n    getLinkCount: getLinkCount,\n\n    /**\n     * Synonym for `getLinkCount()`\n     */\n    getLinksCount: getLinkCount,\n\n    /**\n     * Synonym for `getNodeCount()`\n     */\n    getNodesCount: getNodeCount,\n\n    /**\n     * Gets all links (inbound and outbound) from the node with given id.\n     * If node with given id is not found null is returned.\n     *\n     * @param nodeId requested node identifier.\n     *\n     * @return Array of links from and to requested node if such node exists;\n     *   otherwise null is returned.\n     */\n    getLinks: getLinks,\n\n    /**\n     * Invokes callback on each node of the graph.\n     *\n     * @param {Function(node)} callback Function to be invoked. The function\n     *   is passed one argument: visited node.\n     */\n    forEachNode: forEachNode,\n\n    /**\n     * Invokes callback on every linked (adjacent) node to the given one.\n     *\n     * @param nodeId Identifier of the requested node.\n     * @param {Function(node, link)} callback Function to be called on all linked nodes.\n     *   The function is passed two parameters: adjacent node and link object itself.\n     * @param oriented if true graph treated as oriented.\n     */\n    forEachLinkedNode: forEachLinkedNode,\n\n    /**\n     * Enumerates all links in the graph\n     *\n     * @param {Function(link)} callback Function to be called on all links in the graph.\n     *   The function is passed one parameter: graph's link object.\n     *\n     * Link object contains at least the following fields:\n     *  fromId - node id where link starts;\n     *  toId - node id where link ends,\n     *  data - additional data passed to graph.addLink() method.\n     */\n    forEachLink: forEachLink,\n\n    /**\n     * Suspend all notifications about graph changes until\n     * endUpdate is called.\n     */\n    beginUpdate: enterModification,\n\n    /**\n     * Resumes all notifications about graph changes and fires\n     * graph 'changed' event in case there are any pending changes.\n     */\n    endUpdate: exitModification,\n\n    /**\n     * Removes all nodes and links from the graph.\n     */\n    clear: clear,\n\n    /**\n     * Detects whether there is a link between two nodes.\n     * Operation complexity is O(n) where n - number of links of a node.\n     * NOTE: this function is synonim for getLink()\n     *\n     * @returns link if there is one. null otherwise.\n     */\n    hasLink: getLink,\n\n    /**\n     * Detects whether there is a node with given id\n     * \n     * Operation complexity is O(1)\n     * NOTE: this function is synonim for getNode()\n     *\n     * @returns node if there is one; Falsy value otherwise.\n     */\n    hasNode: getNode,\n\n    /**\n     * Gets an edge between two nodes.\n     * Operation complexity is O(n) where n - number of links of a node.\n     *\n     * @param {string} fromId link start identifier\n     * @param {string} toId link end identifier\n     *\n     * @returns link if there is one. null otherwise.\n     */\n    getLink: getLink\n  }; // this will add `on()` and `fire()` methods.\n\n  eventify(graphPart);\n  monitorSubscribers();\n  return graphPart;\n\n  function monitorSubscribers() {\n    var realOn = graphPart.on; // replace real `on` with our temporary on, which will trigger change\n    // modification monitoring:\n\n    graphPart.on = on;\n\n    function on() {\n      // now it's time to start tracking stuff:\n      graphPart.beginUpdate = enterModification = enterModificationReal;\n      graphPart.endUpdate = exitModification = exitModificationReal;\n      recordLinkChange = recordLinkChangeReal;\n      recordNodeChange = recordNodeChangeReal; // this will replace current `on` method with real pub/sub from `eventify`.\n\n      graphPart.on = realOn; // delegate to real `on` handler:\n\n      return realOn.apply(graphPart, arguments);\n    }\n  }\n\n  function recordLinkChangeReal(link, changeType) {\n    changes.push({\n      link: link,\n      changeType: changeType\n    });\n  }\n\n  function recordNodeChangeReal(node, changeType) {\n    changes.push({\n      node: node,\n      changeType: changeType\n    });\n  }\n\n  function addNode(nodeId, data) {\n    if (nodeId === undefined) {\n      throw new Error('Invalid node identifier');\n    }\n\n    enterModification();\n    var node = getNode(nodeId);\n\n    if (!node) {\n      node = new Node(nodeId, data);\n      recordNodeChange(node, 'add');\n    } else {\n      node.data = data;\n      recordNodeChange(node, 'update');\n    }\n\n    nodes.set(nodeId, node);\n    exitModification();\n    return node;\n  }\n\n  function getNode(nodeId) {\n    return nodes.get(nodeId);\n  }\n\n  function removeNode(nodeId) {\n    var node = getNode(nodeId);\n\n    if (!node) {\n      return false;\n    }\n\n    enterModification();\n    var prevLinks = node.links;\n\n    if (prevLinks) {\n      node.links = null;\n\n      for (var i = 0; i < prevLinks.length; ++i) {\n        removeLink(prevLinks[i]);\n      }\n    }\n\n    nodes[\"delete\"](nodeId);\n    recordNodeChange(node, 'remove');\n    exitModification();\n    return true;\n  }\n\n  function addLink(fromId, toId, data) {\n    enterModification();\n    var fromNode = getNode(fromId) || addNode(fromId);\n    var toNode = getNode(toId) || addNode(toId);\n    var link = createLink(fromId, toId, data);\n    links.push(link); // TODO: this is not cool. On large graphs potentially would consume more memory.\n\n    addLinkToNode(fromNode, link);\n\n    if (fromId !== toId) {\n      // make sure we are not duplicating links for self-loops\n      addLinkToNode(toNode, link);\n    }\n\n    recordLinkChange(link, 'add');\n    exitModification();\n    return link;\n  }\n\n  function createSingleLink(fromId, toId, data) {\n    var linkId = makeLinkId(fromId, toId);\n    return new Link(fromId, toId, data, linkId);\n  }\n\n  function createUniqueLink(fromId, toId, data) {\n    // TODO: Get rid of this method.\n    var linkId = makeLinkId(fromId, toId);\n    var isMultiEdge = multiEdges.hasOwnProperty(linkId);\n\n    if (isMultiEdge || getLink(fromId, toId)) {\n      if (!isMultiEdge) {\n        multiEdges[linkId] = 0;\n      }\n\n      var suffix = '@' + ++multiEdges[linkId];\n      linkId = makeLinkId(fromId + suffix, toId + suffix);\n    }\n\n    return new Link(fromId, toId, data, linkId);\n  }\n\n  function getNodeCount() {\n    return nodes.size;\n  }\n\n  function getLinkCount() {\n    return links.length;\n  }\n\n  function getLinks(nodeId) {\n    var node = getNode(nodeId);\n    return node ? node.links : null;\n  }\n\n  function removeLink(link) {\n    if (!link) {\n      return false;\n    }\n\n    var idx = indexOfElementInArray(link, links);\n\n    if (idx < 0) {\n      return false;\n    }\n\n    enterModification();\n    links.splice(idx, 1);\n    var fromNode = getNode(link.fromId);\n    var toNode = getNode(link.toId);\n\n    if (fromNode) {\n      idx = indexOfElementInArray(link, fromNode.links);\n\n      if (idx >= 0) {\n        fromNode.links.splice(idx, 1);\n      }\n    }\n\n    if (toNode) {\n      idx = indexOfElementInArray(link, toNode.links);\n\n      if (idx >= 0) {\n        toNode.links.splice(idx, 1);\n      }\n    }\n\n    recordLinkChange(link, 'remove');\n    exitModification();\n    return true;\n  }\n\n  function getLink(fromNodeId, toNodeId) {\n    // TODO: Use sorted links to speed this up\n    var node = getNode(fromNodeId),\n        i;\n\n    if (!node || !node.links) {\n      return null;\n    }\n\n    for (i = 0; i < node.links.length; ++i) {\n      var link = node.links[i];\n\n      if (link.fromId === fromNodeId && link.toId === toNodeId) {\n        return link;\n      }\n    }\n\n    return null; // no link.\n  }\n\n  function clear() {\n    enterModification();\n    forEachNode(function (node) {\n      removeNode(node.id);\n    });\n    exitModification();\n  }\n\n  function forEachLink(callback) {\n    var i, length;\n\n    if (typeof callback === 'function') {\n      for (i = 0, length = links.length; i < length; ++i) {\n        callback(links[i]);\n      }\n    }\n  }\n\n  function forEachLinkedNode(nodeId, callback, oriented) {\n    var node = getNode(nodeId);\n\n    if (node && node.links && typeof callback === 'function') {\n      if (oriented) {\n        return forEachOrientedLink(node.links, nodeId, callback);\n      } else {\n        return forEachNonOrientedLink(node.links, nodeId, callback);\n      }\n    }\n  }\n\n  function forEachNonOrientedLink(links, nodeId, callback) {\n    var quitFast;\n\n    for (var i = 0; i < links.length; ++i) {\n      var link = links[i];\n      var linkedNodeId = link.fromId === nodeId ? link.toId : link.fromId;\n      quitFast = callback(nodes.get(linkedNodeId), link);\n\n      if (quitFast) {\n        return true; // Client does not need more iterations. Break now.\n      }\n    }\n  }\n\n  function forEachOrientedLink(links, nodeId, callback) {\n    var quitFast;\n\n    for (var i = 0; i < links.length; ++i) {\n      var link = links[i];\n\n      if (link.fromId === nodeId) {\n        quitFast = callback(nodes.get(link.toId), link);\n\n        if (quitFast) {\n          return true; // Client does not need more iterations. Break now.\n        }\n      }\n    }\n  } // we will not fire anything until users of this library explicitly call `on()`\n  // method.\n\n\n  function noop() {} // Enter, Exit modification allows bulk graph updates without firing events.\n\n\n  function enterModificationReal() {\n    suspendEvents += 1;\n  }\n\n  function exitModificationReal() {\n    suspendEvents -= 1;\n\n    if (suspendEvents === 0 && changes.length > 0) {\n      graphPart.fire('changed', changes);\n      changes.length = 0;\n    }\n  }\n\n  function forEachNode(callback) {\n    if (typeof callback !== 'function') {\n      throw new Error('Function is expected to iterate over graph nodes. You passed ' + callback);\n    }\n\n    var valuesIterator = nodes.values();\n    var nextValue = valuesIterator.next();\n\n    while (!nextValue.done) {\n      if (callback(nextValue.value)) {\n        return true; // client doesn't want to proceed. Return.\n      }\n\n      nextValue = valuesIterator.next();\n    }\n  }\n} // need this for old browsers. Should this be a separate module?\n\n\nfunction indexOfElementInArray(element, array) {\n  if (!array) return -1;\n\n  if (array.indexOf) {\n    return array.indexOf(element);\n  }\n\n  var len = array.length,\n      i;\n\n  for (i = 0; i < len; i += 1) {\n    if (array[i] === element) {\n      return i;\n    }\n  }\n\n  return -1;\n}\n/**\n * Internal structure to represent node;\n */\n\n\nfunction Node(id, data) {\n  this.id = id;\n  this.links = null;\n  this.data = data;\n}\n\nfunction addLinkToNode(node, link) {\n  if (node.links) {\n    node.links.push(link);\n  } else {\n    node.links = [link];\n  }\n}\n/**\n * Internal structure to represent links;\n */\n\n\nfunction Link(fromId, toId, data, id) {\n  this.fromId = fromId;\n  this.toId = toId;\n  this.data = data;\n  this.id = id;\n}\n\nfunction makeLinkId(fromId, toId) {\n  return fromId.toString() + ' ' + toId.toString();\n}","module.exports = AFRAME.registerComponent('nav-agent', {\n  schema: {\n    destination: {\n      type: 'vec3'\n    },\n    active: {\n      \"default\": false\n    },\n    speed: {\n      \"default\": 2\n    }\n  },\n  init: function init() {\n    this.system = this.el.sceneEl.systems.nav;\n    this.system.addAgent(this);\n    this.group = null;\n    this.path = [];\n    this.raycaster = new THREE.Raycaster();\n  },\n  remove: function remove() {\n    this.system.removeAgent(this);\n  },\n  update: function update() {\n    this.path.length = 0;\n  },\n  updateNavLocation: function updateNavLocation() {\n    this.group = null;\n    this.path = [];\n  },\n  tick: function () {\n    var vDest = new THREE.Vector3();\n    var vDelta = new THREE.Vector3();\n    var vNext = new THREE.Vector3();\n    return function (t, dt) {\n      var el = this.el;\n      var data = this.data;\n      var raycaster = this.raycaster;\n      var speed = data.speed * dt / 1000;\n      if (!data.active) return; // Use PatrolJS pathfinding system to get shortest path to target.\n\n      if (!this.path.length) {\n        var position = this.el.object3D.position;\n        this.group = this.group || this.system.getGroup(position);\n        this.path = this.system.getPath(position, vDest.copy(data.destination), this.group) || [];\n        el.emit('navigation-start');\n      } // If no path is found, exit.\n\n\n      if (!this.path.length) {\n        console.warn('[nav] Unable to find path to %o.', data.destination);\n        this.el.setAttribute('nav-agent', {\n          active: false\n        });\n        el.emit('navigation-end');\n        return;\n      } // Current segment is a vector from current position to next waypoint.\n\n\n      var vCurrent = el.object3D.position;\n      var vWaypoint = this.path[0];\n      vDelta.subVectors(vWaypoint, vCurrent);\n      var distance = vDelta.length();\n      var gazeTarget;\n\n      if (distance < speed) {\n        // If <1 step from current waypoint, discard it and move toward next.\n        this.path.shift(); // After discarding the last waypoint, exit pathfinding.\n\n        if (!this.path.length) {\n          this.el.setAttribute('nav-agent', {\n            active: false\n          });\n          el.emit('navigation-end');\n          return;\n        }\n\n        vNext.copy(vCurrent);\n        gazeTarget = this.path[0];\n      } else {\n        // If still far away from next waypoint, find next position for\n        // the current frame.\n        vNext.copy(vDelta.setLength(speed)).add(vCurrent);\n        gazeTarget = vWaypoint;\n      } // Look at the next waypoint.\n\n\n      gazeTarget.y = vCurrent.y;\n      el.object3D.lookAt(gazeTarget); // Raycast against the nav mesh, to keep the agent moving along the\n      // ground, not traveling in a straight line from higher to lower waypoints.\n\n      raycaster.ray.origin.copy(vNext);\n      raycaster.ray.origin.y += 1.5;\n      raycaster.ray.direction.y = -1;\n      var intersections = raycaster.intersectObject(this.system.getNavMesh());\n\n      if (!intersections.length) {\n        // Raycasting failed. Step toward the waypoint and hope for the best.\n        vCurrent.copy(vNext);\n      } else {\n        // Re-project next position onto nav mesh.\n        vDelta.subVectors(intersections[0].point, vCurrent);\n        vCurrent.add(vDelta.setLength(speed));\n      }\n    };\n  }()\n});","require('./_typed-array')('Int16', 2, function (init) {\n  return function Int16Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","/* global CANNON */\n\n/**\n * Kinematic body.\n *\n * Managed dynamic body, which moves but is not affected (directly) by the\n * physics engine. This is not a true kinematic body, in the sense that we are\n * letting the physics engine _compute_ collisions against it and selectively\n * applying those collisions to the object. The physics engine does not decide\n * the position/velocity/rotation of the element.\n *\n * Used for the camera object, because full physics simulation would create\n * movement that feels unnatural to the player. Bipedal movement does not\n * translate nicely to rigid body physics.\n *\n * See: http://www.learn-cocos2d.com/2013/08/physics-engine-platformer-terrible-idea/\n * And: http://oxleygamedev.blogspot.com/2011/04/player-physics-part-2.html\n */\nvar EPS = 0.000001;\nmodule.exports = AFRAME.registerComponent('kinematic-body', {\n  dependencies: ['velocity'],\n\n  /*******************************************************************\n   * Schema\n   */\n  schema: {\n    mass: {\n      \"default\": 5\n    },\n    radius: {\n      \"default\": 1.3\n    },\n    linearDamping: {\n      \"default\": 0.05\n    },\n    enableSlopes: {\n      \"default\": true\n    },\n    enableJumps: {\n      \"default\": false\n    }\n  },\n\n  /*******************************************************************\n   * Lifecycle\n   */\n  init: function init() {\n    this.system = this.el.sceneEl.systems.physics;\n    this.system.addComponent(this);\n    var el = this.el,\n        data = this.data,\n        position = new CANNON.Vec3().copy(el.object3D.getWorldPosition(new THREE.Vector3()));\n    this.body = new CANNON.Body({\n      material: this.system.getMaterial('staticMaterial'),\n      position: position,\n      mass: data.mass,\n      linearDamping: data.linearDamping,\n      fixedRotation: true\n    });\n    this.body.addShape(new CANNON.Sphere(data.radius), new CANNON.Vec3(0, data.radius, 0));\n    this.body.el = this.el;\n    this.el.body = this.body;\n    this.system.addBody(this.body);\n\n    if (el.hasAttribute('wasd-controls')) {\n      console.warn('[kinematic-body] Not compatible with wasd-controls, use movement-controls.');\n    }\n  },\n  remove: function remove() {\n    this.system.removeBody(this.body);\n    this.system.removeComponent(this);\n    delete this.el.body;\n  },\n\n  /*******************************************************************\n   * Update\n   */\n\n  /**\n   * Checks CANNON.World for collisions and attempts to apply them to the\n   * element automatically, in a player-friendly way.\n   *\n   * There's extra logic for horizontal surfaces here. The basic requirements:\n   * (1) Only apply gravity when not in contact with _any_ horizontal surface.\n   * (2) When moving, project the velocity against exactly one ground surface.\n   *     If in contact with two ground surfaces (e.g. ground + ramp), choose\n   *     the one that collides with current velocity, if any.\n   */\n  beforeStep: function beforeStep(t, dt) {\n    if (!dt) return;\n    var el = this.el;\n    var data = this.data;\n    var body = this.body;\n    if (!data.enableJumps) body.velocity.set(0, 0, 0);\n    body.position.copy(el.getAttribute('position'));\n  },\n  step: function () {\n    var velocity = new THREE.Vector3(),\n        normalizedVelocity = new THREE.Vector3(),\n        currentSurfaceNormal = new THREE.Vector3(),\n        groundNormal = new THREE.Vector3();\n    return function (t, dt) {\n      if (!dt) return;\n      var body = this.body,\n          data = this.data,\n          didCollide = false,\n          height,\n          groundHeight = -Infinity,\n          groundBody,\n          contacts = this.system.getContacts();\n      dt = Math.min(dt, this.system.data.maxInterval * 1000);\n      groundNormal.set(0, 0, 0);\n      velocity.copy(this.el.getAttribute('velocity'));\n      body.velocity.copy(velocity);\n\n      for (var i = 0, contact; contact = contacts[i]; i++) {\n        // 1. Find any collisions involving this element. Get the contact\n        // normal, and make sure it's oriented _out_ of the other object and\n        // enabled (body.collisionReponse is true for both bodies)\n        if (!contact.enabled) {\n          continue;\n        }\n\n        if (body.id === contact.bi.id) {\n          contact.ni.negate(currentSurfaceNormal);\n        } else if (body.id === contact.bj.id) {\n          currentSurfaceNormal.copy(contact.ni);\n        } else {\n          continue;\n        }\n\n        didCollide = body.velocity.dot(currentSurfaceNormal) < -EPS;\n\n        if (didCollide && currentSurfaceNormal.y <= 0.5) {\n          // 2. If current trajectory attempts to move _through_ another\n          // object, project the velocity against the collision plane to\n          // prevent passing through.\n          velocity.projectOnPlane(currentSurfaceNormal);\n        } else if (currentSurfaceNormal.y > 0.5) {\n          // 3. If in contact with something roughly horizontal (+/- 45) then\n          // consider that the current ground. Only the highest qualifying\n          // ground is retained.\n          height = body.id === contact.bi.id ? Math.abs(contact.rj.y + contact.bj.position.y) : Math.abs(contact.ri.y + contact.bi.position.y);\n\n          if (height > groundHeight) {\n            groundHeight = height;\n            groundNormal.copy(currentSurfaceNormal);\n            groundBody = body.id === contact.bi.id ? contact.bj : contact.bi;\n          }\n        }\n      }\n\n      normalizedVelocity.copy(velocity).normalize();\n\n      if (groundBody && (!data.enableJumps || normalizedVelocity.y < 0.5)) {\n        if (!data.enableSlopes) {\n          groundNormal.set(0, 1, 0);\n        } else if (groundNormal.y < 1 - EPS) {\n          groundNormal.copy(this.raycastToGround(groundBody, groundNormal));\n        } // 4. Project trajectory onto the top-most ground object, unless\n        // trajectory is > 45.\n\n\n        velocity.projectOnPlane(groundNormal);\n      } else if (this.system.driver.world) {\n        // 5. If not in contact with anything horizontal, apply world gravity.\n        // TODO - Why is the 4x scalar necessary.\n        // NOTE: Does not work if physics runs on a worker.\n        velocity.add(this.system.driver.world.gravity.scale(dt * 4.0 / 1000));\n      }\n\n      body.velocity.copy(velocity);\n      this.el.setAttribute('velocity', body.velocity);\n      this.el.setAttribute('position', body.position);\n    };\n  }(),\n\n  /**\n   * When walking on complex surfaces (trimeshes, borders between two shapes),\n   * the collision normals returned for the player sphere can be very\n   * inconsistent. To address this, raycast straight down, find the collision\n   * normal, and return whichever normal is more vertical.\n   * @param  {CANNON.Body} groundBody\n   * @param  {CANNON.Vec3} groundNormal\n   * @return {CANNON.Vec3}\n   */\n  raycastToGround: function raycastToGround(groundBody, groundNormal) {\n    var ray,\n        hitNormal,\n        vFrom = this.body.position,\n        vTo = this.body.position.clone();\n    ray = new CANNON.Ray(vFrom, vTo);\n\n    ray._updateDirection(); // TODO - Report bug.\n\n\n    ray.intersectBody(groundBody);\n    if (!ray.hasHit) return groundNormal; // Compare ABS, in case we're projecting against the inside of the face.\n\n    hitNormal = ray.result.hitNormalWorld;\n    return Math.abs(hitNormal.y) > Math.abs(groundNormal.y) ? hitNormal : groundNormal;\n  }\n});","require(\"core-js/modules/es6.typed.data-view\");\n\nrequire(\"core-js/modules/es6.string.trim\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.array.sort\");\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.regexp.match\");\n\nrequire(\"core-js/modules/es6.typed.float32-array\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.array.is-array\");\n\nrequire(\"core-js/modules/es6.function.bind\");\n\nrequire(\"core-js/modules/es6.array.reduce\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.string.repeat\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.typed.uint8-array\");\n\nrequire(\"core-js/modules/es6.array.last-index-of\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.map\");\n\n/**\n * @author Kyle-Larson https://github.com/Kyle-Larson\n * @author Takahiro https://github.com/takahirox\n * @author Lewy Blue https://github.com/looeee\n *\n * Loader loads FBX file and generates Group representing FBX scene.\n * Requires FBX file to be >= 7.0 and in ASCII or >= 6400 in Binary format\n * Versions lower than this may load but will probably have errors\n *\n * Needs Support:\n *  Morph normals / blend shape normals\n *\n * FBX format references:\n * \thttps://wiki.blender.org/index.php/User:Mont29/Foundation/FBX_File_Structure\n * \thttp://help.autodesk.com/view/FBX/2017/ENU/?guid=__cpp_ref_index_html (C++ SDK reference)\n *\n * \tBinary format specification:\n *\t\thttps://code.blender.org/2013/08/fbx-binary-file-format-specification/\n */\nmodule.exports = THREE.FBXLoader = function () {\n  var fbxTree;\n  var connections;\n  var sceneGraph;\n\n  function FBXLoader(manager) {\n    this.manager = manager !== undefined ? manager : THREE.DefaultLoadingManager;\n  }\n\n  FBXLoader.prototype = {\n    constructor: FBXLoader,\n    crossOrigin: 'anonymous',\n    load: function load(url, onLoad, onProgress, onError) {\n      var self = this;\n      var resourceDirectory = THREE.LoaderUtils.extractUrlBase(url);\n      var loader = new THREE.FileLoader(this.manager);\n      loader.setResponseType('arraybuffer');\n      loader.load(url, function (buffer) {\n        try {\n          var scene = self.parse(buffer, resourceDirectory);\n          onLoad(scene);\n        } catch (error) {\n          setTimeout(function () {\n            if (onError) onError(error);\n            self.manager.itemError(url);\n          }, 0);\n        }\n      }, onProgress, onError);\n    },\n    setCrossOrigin: function setCrossOrigin(value) {\n      this.crossOrigin = value;\n      return this;\n    },\n    parse: function parse(FBXBuffer, resourceDirectory) {\n      if (isFbxFormatBinary(FBXBuffer)) {\n        fbxTree = new BinaryParser().parse(FBXBuffer);\n      } else {\n        var FBXText = convertArrayBufferToString(FBXBuffer);\n\n        if (!isFbxFormatASCII(FBXText)) {\n          throw new Error('THREE.FBXLoader: Unknown format.');\n        }\n\n        if (getFbxVersion(FBXText) < 7000) {\n          throw new Error('THREE.FBXLoader: FBX version not supported, FileVersion: ' + getFbxVersion(FBXText));\n        }\n\n        fbxTree = new TextParser().parse(FBXText);\n      } //console.log( FBXTree );\n\n\n      var textureLoader = new THREE.TextureLoader(this.manager).setPath(resourceDirectory).setCrossOrigin(this.crossOrigin);\n      return new FBXTreeParser(textureLoader).parse(fbxTree);\n    }\n  }; // Parse the FBXTree object returned by the BinaryParser or TextParser and return a THREE.Group\n\n  function FBXTreeParser(textureLoader) {\n    this.textureLoader = textureLoader;\n  }\n\n  FBXTreeParser.prototype = {\n    constructor: FBXTreeParser,\n    parse: function parse() {\n      connections = this.parseConnections();\n      var images = this.parseImages();\n      var textures = this.parseTextures(images);\n      var materials = this.parseMaterials(textures);\n      var deformers = this.parseDeformers();\n      var geometryMap = new GeometryParser().parse(deformers);\n      this.parseScene(deformers, geometryMap, materials);\n      return sceneGraph;\n    },\n    // Parses FBXTree.Connections which holds parent-child connections between objects (e.g. material -> texture, model->geometry )\n    // and details the connection type\n    parseConnections: function parseConnections() {\n      var connectionMap = new Map();\n\n      if ('Connections' in fbxTree) {\n        var rawConnections = fbxTree.Connections.connections;\n        rawConnections.forEach(function (rawConnection) {\n          var fromID = rawConnection[0];\n          var toID = rawConnection[1];\n          var relationship = rawConnection[2];\n\n          if (!connectionMap.has(fromID)) {\n            connectionMap.set(fromID, {\n              parents: [],\n              children: []\n            });\n          }\n\n          var parentRelationship = {\n            ID: toID,\n            relationship: relationship\n          };\n          connectionMap.get(fromID).parents.push(parentRelationship);\n\n          if (!connectionMap.has(toID)) {\n            connectionMap.set(toID, {\n              parents: [],\n              children: []\n            });\n          }\n\n          var childRelationship = {\n            ID: fromID,\n            relationship: relationship\n          };\n          connectionMap.get(toID).children.push(childRelationship);\n        });\n      }\n\n      return connectionMap;\n    },\n    // Parse FBXTree.Objects.Video for embedded image data\n    // These images are connected to textures in FBXTree.Objects.Textures\n    // via FBXTree.Connections.\n    parseImages: function parseImages() {\n      var images = {};\n      var blobs = {};\n\n      if ('Video' in fbxTree.Objects) {\n        var videoNodes = fbxTree.Objects.Video;\n\n        for (var nodeID in videoNodes) {\n          var videoNode = videoNodes[nodeID];\n          var id = parseInt(nodeID);\n          images[id] = videoNode.RelativeFilename || videoNode.Filename; // raw image data is in videoNode.Content\n\n          if ('Content' in videoNode) {\n            var arrayBufferContent = videoNode.Content instanceof ArrayBuffer && videoNode.Content.byteLength > 0;\n            var base64Content = typeof videoNode.Content === 'string' && videoNode.Content !== '';\n\n            if (arrayBufferContent || base64Content) {\n              var image = this.parseImage(videoNodes[nodeID]);\n              blobs[videoNode.RelativeFilename || videoNode.Filename] = image;\n            }\n          }\n        }\n      }\n\n      for (var id in images) {\n        var filename = images[id];\n        if (blobs[filename] !== undefined) images[id] = blobs[filename];else images[id] = images[id].split('\\\\').pop();\n      }\n\n      return images;\n    },\n    // Parse embedded image data in FBXTree.Video.Content\n    parseImage: function parseImage(videoNode) {\n      var content = videoNode.Content;\n      var fileName = videoNode.RelativeFilename || videoNode.Filename;\n      var extension = fileName.slice(fileName.lastIndexOf('.') + 1).toLowerCase();\n      var type;\n\n      switch (extension) {\n        case 'bmp':\n          type = 'image/bmp';\n          break;\n\n        case 'jpg':\n        case 'jpeg':\n          type = 'image/jpeg';\n          break;\n\n        case 'png':\n          type = 'image/png';\n          break;\n\n        case 'tif':\n          type = 'image/tiff';\n          break;\n\n        case 'tga':\n          if (typeof THREE.TGALoader !== 'function') {\n            console.warn('FBXLoader: THREE.TGALoader is required to load TGA textures');\n            return;\n          } else {\n            if (THREE.Loader.Handlers.get('.tga') === null) {\n              THREE.Loader.Handlers.add(/\\.tga$/i, new THREE.TGALoader());\n            }\n\n            type = 'image/tga';\n            break;\n          }\n\n        default:\n          console.warn('FBXLoader: Image type \"' + extension + '\" is not supported.');\n          return;\n      }\n\n      if (typeof content === 'string') {\n        // ASCII format\n        return 'data:' + type + ';base64,' + content;\n      } else {\n        // Binary Format\n        var array = new Uint8Array(content);\n        return window.URL.createObjectURL(new Blob([array], {\n          type: type\n        }));\n      }\n    },\n    // Parse nodes in FBXTree.Objects.Texture\n    // These contain details such as UV scaling, cropping, rotation etc and are connected\n    // to images in FBXTree.Objects.Video\n    parseTextures: function parseTextures(images) {\n      var textureMap = new Map();\n\n      if ('Texture' in fbxTree.Objects) {\n        var textureNodes = fbxTree.Objects.Texture;\n\n        for (var nodeID in textureNodes) {\n          var texture = this.parseTexture(textureNodes[nodeID], images);\n          textureMap.set(parseInt(nodeID), texture);\n        }\n      }\n\n      return textureMap;\n    },\n    // Parse individual node in FBXTree.Objects.Texture\n    parseTexture: function parseTexture(textureNode, images) {\n      var texture = this.loadTexture(textureNode, images);\n      texture.ID = textureNode.id;\n      texture.name = textureNode.attrName;\n      var wrapModeU = textureNode.WrapModeU;\n      var wrapModeV = textureNode.WrapModeV;\n      var valueU = wrapModeU !== undefined ? wrapModeU.value : 0;\n      var valueV = wrapModeV !== undefined ? wrapModeV.value : 0; // http://download.autodesk.com/us/fbx/SDKdocs/FBX_SDK_Help/files/fbxsdkref/class_k_fbx_texture.html#889640e63e2e681259ea81061b85143a\n      // 0: repeat(default), 1: clamp\n\n      texture.wrapS = valueU === 0 ? THREE.RepeatWrapping : THREE.ClampToEdgeWrapping;\n      texture.wrapT = valueV === 0 ? THREE.RepeatWrapping : THREE.ClampToEdgeWrapping;\n\n      if ('Scaling' in textureNode) {\n        var values = textureNode.Scaling.value;\n        texture.repeat.x = values[0];\n        texture.repeat.y = values[1];\n      }\n\n      return texture;\n    },\n    // load a texture specified as a blob or data URI, or via an external URL using THREE.TextureLoader\n    loadTexture: function loadTexture(textureNode, images) {\n      var fileName;\n      var currentPath = this.textureLoader.path;\n      var children = connections.get(textureNode.id).children;\n\n      if (children !== undefined && children.length > 0 && images[children[0].ID] !== undefined) {\n        fileName = images[children[0].ID];\n\n        if (fileName.indexOf('blob:') === 0 || fileName.indexOf('data:') === 0) {\n          this.textureLoader.setPath(undefined);\n        }\n      }\n\n      var texture;\n      var extension = textureNode.FileName.slice(-3).toLowerCase();\n\n      if (extension === 'tga') {\n        var loader = THREE.Loader.Handlers.get('.tga');\n\n        if (loader === null) {\n          console.warn('FBXLoader: TGALoader not found, creating empty placeholder texture for', fileName);\n          texture = new THREE.Texture();\n        } else {\n          texture = loader.load(fileName);\n        }\n      } else if (extension === 'psd') {\n        console.warn('FBXLoader: PSD textures are not supported, creating empty placeholder texture for', fileName);\n        texture = new THREE.Texture();\n      } else {\n        texture = this.textureLoader.load(fileName);\n      }\n\n      this.textureLoader.setPath(currentPath);\n      return texture;\n    },\n    // Parse nodes in FBXTree.Objects.Material\n    parseMaterials: function parseMaterials(textureMap) {\n      var materialMap = new Map();\n\n      if ('Material' in fbxTree.Objects) {\n        var materialNodes = fbxTree.Objects.Material;\n\n        for (var nodeID in materialNodes) {\n          var material = this.parseMaterial(materialNodes[nodeID], textureMap);\n          if (material !== null) materialMap.set(parseInt(nodeID), material);\n        }\n      }\n\n      return materialMap;\n    },\n    // Parse single node in FBXTree.Objects.Material\n    // Materials are connected to texture maps in FBXTree.Objects.Textures\n    // FBX format currently only supports Lambert and Phong shading models\n    parseMaterial: function parseMaterial(materialNode, textureMap) {\n      var ID = materialNode.id;\n      var name = materialNode.attrName;\n      var type = materialNode.ShadingModel; // Case where FBX wraps shading model in property object.\n\n      if (typeof type === 'object') {\n        type = type.value;\n      } // Ignore unused materials which don't have any connections.\n\n\n      if (!connections.has(ID)) return null;\n      var parameters = this.parseParameters(materialNode, textureMap, ID);\n      var material;\n\n      switch (type.toLowerCase()) {\n        case 'phong':\n          material = new THREE.MeshPhongMaterial();\n          break;\n\n        case 'lambert':\n          material = new THREE.MeshLambertMaterial();\n          break;\n\n        default:\n          console.warn('THREE.FBXLoader: unknown material type \"%s\". Defaulting to MeshPhongMaterial.', type);\n          material = new THREE.MeshPhongMaterial({\n            color: 0x3300ff\n          });\n          break;\n      }\n\n      material.setValues(parameters);\n      material.name = name;\n      return material;\n    },\n    // Parse FBX material and return parameters suitable for a three.js material\n    // Also parse the texture map and return any textures associated with the material\n    parseParameters: function parseParameters(materialNode, textureMap, ID) {\n      var parameters = {};\n\n      if (materialNode.BumpFactor) {\n        parameters.bumpScale = materialNode.BumpFactor.value;\n      }\n\n      if (materialNode.Diffuse) {\n        parameters.color = new THREE.Color().fromArray(materialNode.Diffuse.value);\n      } else if (materialNode.DiffuseColor && materialNode.DiffuseColor.type === 'Color') {\n        // The blender exporter exports diffuse here instead of in materialNode.Diffuse\n        parameters.color = new THREE.Color().fromArray(materialNode.DiffuseColor.value);\n      }\n\n      if (materialNode.DisplacementFactor) {\n        parameters.displacementScale = materialNode.DisplacementFactor.value;\n      }\n\n      if (materialNode.Emissive) {\n        parameters.emissive = new THREE.Color().fromArray(materialNode.Emissive.value);\n      } else if (materialNode.EmissiveColor && materialNode.EmissiveColor.type === 'Color') {\n        // The blender exporter exports emissive color here instead of in materialNode.Emissive\n        parameters.emissive = new THREE.Color().fromArray(materialNode.EmissiveColor.value);\n      }\n\n      if (materialNode.EmissiveFactor) {\n        parameters.emissiveIntensity = parseFloat(materialNode.EmissiveFactor.value);\n      }\n\n      if (materialNode.Opacity) {\n        parameters.opacity = parseFloat(materialNode.Opacity.value);\n      }\n\n      if (parameters.opacity < 1.0) {\n        parameters.transparent = true;\n      }\n\n      if (materialNode.ReflectionFactor) {\n        parameters.reflectivity = materialNode.ReflectionFactor.value;\n      }\n\n      if (materialNode.Shininess) {\n        parameters.shininess = materialNode.Shininess.value;\n      }\n\n      if (materialNode.Specular) {\n        parameters.specular = new THREE.Color().fromArray(materialNode.Specular.value);\n      } else if (materialNode.SpecularColor && materialNode.SpecularColor.type === 'Color') {\n        // The blender exporter exports specular color here instead of in materialNode.Specular\n        parameters.specular = new THREE.Color().fromArray(materialNode.SpecularColor.value);\n      }\n\n      var self = this;\n      connections.get(ID).children.forEach(function (child) {\n        var type = child.relationship;\n\n        switch (type) {\n          case 'Bump':\n            parameters.bumpMap = self.getTexture(textureMap, child.ID);\n            break;\n\n          case 'DiffuseColor':\n            parameters.map = self.getTexture(textureMap, child.ID);\n            break;\n\n          case 'DisplacementColor':\n            parameters.displacementMap = self.getTexture(textureMap, child.ID);\n            break;\n\n          case 'EmissiveColor':\n            parameters.emissiveMap = self.getTexture(textureMap, child.ID);\n            break;\n\n          case 'NormalMap':\n            parameters.normalMap = self.getTexture(textureMap, child.ID);\n            break;\n\n          case 'ReflectionColor':\n            parameters.envMap = self.getTexture(textureMap, child.ID);\n            parameters.envMap.mapping = THREE.EquirectangularReflectionMapping;\n            break;\n\n          case 'SpecularColor':\n            parameters.specularMap = self.getTexture(textureMap, child.ID);\n            break;\n\n          case 'TransparentColor':\n            parameters.alphaMap = self.getTexture(textureMap, child.ID);\n            parameters.transparent = true;\n            break;\n\n          case 'AmbientColor':\n          case 'ShininessExponent': // AKA glossiness map\n\n          case 'SpecularFactor': // AKA specularLevel\n\n          case 'VectorDisplacementColor': // NOTE: Seems to be a copy of DisplacementColor\n\n          default:\n            console.warn('THREE.FBXLoader: %s map is not supported in three.js, skipping texture.', type);\n            break;\n        }\n      });\n      return parameters;\n    },\n    // get a texture from the textureMap for use by a material.\n    getTexture: function getTexture(textureMap, id) {\n      // if the texture is a layered texture, just use the first layer and issue a warning\n      if ('LayeredTexture' in fbxTree.Objects && id in fbxTree.Objects.LayeredTexture) {\n        console.warn('THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer.');\n        id = connections.get(id).children[0].ID;\n      }\n\n      return textureMap.get(id);\n    },\n    // Parse nodes in FBXTree.Objects.Deformer\n    // Deformer node can contain skinning or Vertex Cache animation data, however only skinning is supported here\n    // Generates map of Skeleton-like objects for use later when generating and binding skeletons.\n    parseDeformers: function parseDeformers() {\n      var skeletons = {};\n      var morphTargets = {};\n\n      if ('Deformer' in fbxTree.Objects) {\n        var DeformerNodes = fbxTree.Objects.Deformer;\n\n        for (var nodeID in DeformerNodes) {\n          var deformerNode = DeformerNodes[nodeID];\n          var relationships = connections.get(parseInt(nodeID));\n\n          if (deformerNode.attrType === 'Skin') {\n            var skeleton = this.parseSkeleton(relationships, DeformerNodes);\n            skeleton.ID = nodeID;\n            if (relationships.parents.length > 1) console.warn('THREE.FBXLoader: skeleton attached to more than one geometry is not supported.');\n            skeleton.geometryID = relationships.parents[0].ID;\n            skeletons[nodeID] = skeleton;\n          } else if (deformerNode.attrType === 'BlendShape') {\n            var morphTarget = {\n              id: nodeID\n            };\n            morphTarget.rawTargets = this.parseMorphTargets(relationships, DeformerNodes);\n            morphTarget.id = nodeID;\n            if (relationships.parents.length > 1) console.warn('THREE.FBXLoader: morph target attached to more than one geometry is not supported.');\n            morphTargets[nodeID] = morphTarget;\n          }\n        }\n      }\n\n      return {\n        skeletons: skeletons,\n        morphTargets: morphTargets\n      };\n    },\n    // Parse single nodes in FBXTree.Objects.Deformer\n    // The top level skeleton node has type 'Skin' and sub nodes have type 'Cluster'\n    // Each skin node represents a skeleton and each cluster node represents a bone\n    parseSkeleton: function parseSkeleton(relationships, deformerNodes) {\n      var rawBones = [];\n      relationships.children.forEach(function (child) {\n        var boneNode = deformerNodes[child.ID];\n        if (boneNode.attrType !== 'Cluster') return;\n        var rawBone = {\n          ID: child.ID,\n          indices: [],\n          weights: [],\n          transform: new THREE.Matrix4().fromArray(boneNode.Transform.a),\n          transformLink: new THREE.Matrix4().fromArray(boneNode.TransformLink.a),\n          linkMode: boneNode.Mode\n        };\n\n        if ('Indexes' in boneNode) {\n          rawBone.indices = boneNode.Indexes.a;\n          rawBone.weights = boneNode.Weights.a;\n        }\n\n        rawBones.push(rawBone);\n      });\n      return {\n        rawBones: rawBones,\n        bones: []\n      };\n    },\n    // The top level morph deformer node has type \"BlendShape\" and sub nodes have type \"BlendShapeChannel\"\n    parseMorphTargets: function parseMorphTargets(relationships, deformerNodes) {\n      var rawMorphTargets = [];\n\n      for (var i = 0; i < relationships.children.length; i++) {\n        if (i === 8) {\n          console.warn('FBXLoader: maximum of 8 morph targets supported. Ignoring additional targets.');\n          break;\n        }\n\n        var child = relationships.children[i];\n        var morphTargetNode = deformerNodes[child.ID];\n        var rawMorphTarget = {\n          name: morphTargetNode.attrName,\n          initialWeight: morphTargetNode.DeformPercent,\n          id: morphTargetNode.id,\n          fullWeights: morphTargetNode.FullWeights.a\n        };\n        if (morphTargetNode.attrType !== 'BlendShapeChannel') return;\n        var targetRelationships = connections.get(parseInt(child.ID));\n        targetRelationships.children.forEach(function (child) {\n          if (child.relationship === undefined) rawMorphTarget.geoID = child.ID;\n        });\n        rawMorphTargets.push(rawMorphTarget);\n      }\n\n      return rawMorphTargets;\n    },\n    // create the main THREE.Group() to be returned by the loader\n    parseScene: function parseScene(deformers, geometryMap, materialMap) {\n      sceneGraph = new THREE.Group();\n      var modelMap = this.parseModels(deformers.skeletons, geometryMap, materialMap);\n      var modelNodes = fbxTree.Objects.Model;\n      var self = this;\n      modelMap.forEach(function (model) {\n        var modelNode = modelNodes[model.ID];\n        self.setLookAtProperties(model, modelNode);\n        var parentConnections = connections.get(model.ID).parents;\n        parentConnections.forEach(function (connection) {\n          var parent = modelMap.get(connection.ID);\n          if (parent !== undefined) parent.add(model);\n        });\n\n        if (model.parent === null) {\n          sceneGraph.add(model);\n        }\n      });\n      this.bindSkeleton(deformers.skeletons, geometryMap, modelMap);\n      this.createAmbientLight();\n      this.setupMorphMaterials();\n      var animations = new AnimationParser().parse(); // if all the models where already combined in a single group, just return that\n\n      if (sceneGraph.children.length === 1 && sceneGraph.children[0].isGroup) {\n        sceneGraph.children[0].animations = animations;\n        sceneGraph = sceneGraph.children[0];\n      }\n\n      sceneGraph.animations = animations;\n    },\n    // parse nodes in FBXTree.Objects.Model\n    parseModels: function parseModels(skeletons, geometryMap, materialMap) {\n      var modelMap = new Map();\n      var modelNodes = fbxTree.Objects.Model;\n\n      for (var nodeID in modelNodes) {\n        var id = parseInt(nodeID);\n        var node = modelNodes[nodeID];\n        var relationships = connections.get(id);\n        var model = this.buildSkeleton(relationships, skeletons, id, node.attrName);\n\n        if (!model) {\n          switch (node.attrType) {\n            case 'Camera':\n              model = this.createCamera(relationships);\n              break;\n\n            case 'Light':\n              model = this.createLight(relationships);\n              break;\n\n            case 'Mesh':\n              model = this.createMesh(relationships, geometryMap, materialMap);\n              break;\n\n            case 'NurbsCurve':\n              model = this.createCurve(relationships, geometryMap);\n              break;\n\n            case 'LimbNode': // usually associated with a Bone, however if a Bone was not created we'll make a Group instead\n\n            case 'Null':\n            default:\n              model = new THREE.Group();\n              break;\n          }\n\n          model.name = THREE.PropertyBinding.sanitizeNodeName(node.attrName);\n          model.ID = id;\n        }\n\n        this.setModelTransforms(model, node);\n        modelMap.set(id, model);\n      }\n\n      return modelMap;\n    },\n    buildSkeleton: function buildSkeleton(relationships, skeletons, id, name) {\n      var bone = null;\n      relationships.parents.forEach(function (parent) {\n        for (var ID in skeletons) {\n          var skeleton = skeletons[ID];\n          skeleton.rawBones.forEach(function (rawBone, i) {\n            if (rawBone.ID === parent.ID) {\n              var subBone = bone;\n              bone = new THREE.Bone();\n              bone.matrixWorld.copy(rawBone.transformLink); // set name and id here - otherwise in cases where \"subBone\" is created it will not have a name / id\n\n              bone.name = THREE.PropertyBinding.sanitizeNodeName(name);\n              bone.ID = id;\n              skeleton.bones[i] = bone; // In cases where a bone is shared between multiple meshes\n              // duplicate the bone here and and it as a child of the first bone\n\n              if (subBone !== null) {\n                bone.add(subBone);\n              }\n            }\n          });\n        }\n      });\n      return bone;\n    },\n    // create a THREE.PerspectiveCamera or THREE.OrthographicCamera\n    createCamera: function createCamera(relationships) {\n      var model;\n      var cameraAttribute;\n      relationships.children.forEach(function (child) {\n        var attr = fbxTree.Objects.NodeAttribute[child.ID];\n\n        if (attr !== undefined) {\n          cameraAttribute = attr;\n        }\n      });\n\n      if (cameraAttribute === undefined) {\n        model = new THREE.Object3D();\n      } else {\n        var type = 0;\n\n        if (cameraAttribute.CameraProjectionType !== undefined && cameraAttribute.CameraProjectionType.value === 1) {\n          type = 1;\n        }\n\n        var nearClippingPlane = 1;\n\n        if (cameraAttribute.NearPlane !== undefined) {\n          nearClippingPlane = cameraAttribute.NearPlane.value / 1000;\n        }\n\n        var farClippingPlane = 1000;\n\n        if (cameraAttribute.FarPlane !== undefined) {\n          farClippingPlane = cameraAttribute.FarPlane.value / 1000;\n        }\n\n        var width = window.innerWidth;\n        var height = window.innerHeight;\n\n        if (cameraAttribute.AspectWidth !== undefined && cameraAttribute.AspectHeight !== undefined) {\n          width = cameraAttribute.AspectWidth.value;\n          height = cameraAttribute.AspectHeight.value;\n        }\n\n        var aspect = width / height;\n        var fov = 45;\n\n        if (cameraAttribute.FieldOfView !== undefined) {\n          fov = cameraAttribute.FieldOfView.value;\n        }\n\n        var focalLength = cameraAttribute.FocalLength ? cameraAttribute.FocalLength.value : null;\n\n        switch (type) {\n          case 0:\n            // Perspective\n            model = new THREE.PerspectiveCamera(fov, aspect, nearClippingPlane, farClippingPlane);\n            if (focalLength !== null) model.setFocalLength(focalLength);\n            break;\n\n          case 1:\n            // Orthographic\n            model = new THREE.OrthographicCamera(-width / 2, width / 2, height / 2, -height / 2, nearClippingPlane, farClippingPlane);\n            break;\n\n          default:\n            console.warn('THREE.FBXLoader: Unknown camera type ' + type + '.');\n            model = new THREE.Object3D();\n            break;\n        }\n      }\n\n      return model;\n    },\n    // Create a THREE.DirectionalLight, THREE.PointLight or THREE.SpotLight\n    createLight: function createLight(relationships) {\n      var model;\n      var lightAttribute;\n      relationships.children.forEach(function (child) {\n        var attr = fbxTree.Objects.NodeAttribute[child.ID];\n\n        if (attr !== undefined) {\n          lightAttribute = attr;\n        }\n      });\n\n      if (lightAttribute === undefined) {\n        model = new THREE.Object3D();\n      } else {\n        var type; // LightType can be undefined for Point lights\n\n        if (lightAttribute.LightType === undefined) {\n          type = 0;\n        } else {\n          type = lightAttribute.LightType.value;\n        }\n\n        var color = 0xffffff;\n\n        if (lightAttribute.Color !== undefined) {\n          color = new THREE.Color().fromArray(lightAttribute.Color.value);\n        }\n\n        var intensity = lightAttribute.Intensity === undefined ? 1 : lightAttribute.Intensity.value / 100; // light disabled\n\n        if (lightAttribute.CastLightOnObject !== undefined && lightAttribute.CastLightOnObject.value === 0) {\n          intensity = 0;\n        }\n\n        var distance = 0;\n\n        if (lightAttribute.FarAttenuationEnd !== undefined) {\n          if (lightAttribute.EnableFarAttenuation !== undefined && lightAttribute.EnableFarAttenuation.value === 0) {\n            distance = 0;\n          } else {\n            distance = lightAttribute.FarAttenuationEnd.value;\n          }\n        } // TODO: could this be calculated linearly from FarAttenuationStart to FarAttenuationEnd?\n\n\n        var decay = 1;\n\n        switch (type) {\n          case 0:\n            // Point\n            model = new THREE.PointLight(color, intensity, distance, decay);\n            break;\n\n          case 1:\n            // Directional\n            model = new THREE.DirectionalLight(color, intensity);\n            break;\n\n          case 2:\n            // Spot\n            var angle = Math.PI / 3;\n\n            if (lightAttribute.InnerAngle !== undefined) {\n              angle = THREE.Math.degToRad(lightAttribute.InnerAngle.value);\n            }\n\n            var penumbra = 0;\n\n            if (lightAttribute.OuterAngle !== undefined) {\n              // TODO: this is not correct - FBX calculates outer and inner angle in degrees\n              // with OuterAngle > InnerAngle && OuterAngle <= Math.PI\n              // while three.js uses a penumbra between (0, 1) to attenuate the inner angle\n              penumbra = THREE.Math.degToRad(lightAttribute.OuterAngle.value);\n              penumbra = Math.max(penumbra, 1);\n            }\n\n            model = new THREE.SpotLight(color, intensity, distance, angle, penumbra, decay);\n            break;\n\n          default:\n            console.warn('THREE.FBXLoader: Unknown light type ' + lightAttribute.LightType.value + ', defaulting to a THREE.PointLight.');\n            model = new THREE.PointLight(color, intensity);\n            break;\n        }\n\n        if (lightAttribute.CastShadows !== undefined && lightAttribute.CastShadows.value === 1) {\n          model.castShadow = true;\n        }\n      }\n\n      return model;\n    },\n    createMesh: function createMesh(relationships, geometryMap, materialMap) {\n      var model;\n      var geometry = null;\n      var material = null;\n      var materials = []; // get geometry and materials(s) from connections\n\n      relationships.children.forEach(function (child) {\n        if (geometryMap.has(child.ID)) {\n          geometry = geometryMap.get(child.ID);\n        }\n\n        if (materialMap.has(child.ID)) {\n          materials.push(materialMap.get(child.ID));\n        }\n      });\n\n      if (materials.length > 1) {\n        material = materials;\n      } else if (materials.length > 0) {\n        material = materials[0];\n      } else {\n        material = new THREE.MeshPhongMaterial({\n          color: 0xcccccc\n        });\n        materials.push(material);\n      }\n\n      if ('color' in geometry.attributes) {\n        materials.forEach(function (material) {\n          material.vertexColors = THREE.VertexColors;\n        });\n      }\n\n      if (geometry.FBX_Deformer) {\n        materials.forEach(function (material) {\n          material.skinning = true;\n        });\n        model = new THREE.SkinnedMesh(geometry, material);\n      } else {\n        model = new THREE.Mesh(geometry, material);\n      }\n\n      return model;\n    },\n    createCurve: function createCurve(relationships, geometryMap) {\n      var geometry = relationships.children.reduce(function (geo, child) {\n        if (geometryMap.has(child.ID)) geo = geometryMap.get(child.ID);\n        return geo;\n      }, null); // FBX does not list materials for Nurbs lines, so we'll just put our own in here.\n\n      var material = new THREE.LineBasicMaterial({\n        color: 0x3300ff,\n        linewidth: 1\n      });\n      return new THREE.Line(geometry, material);\n    },\n    // parse the model node for transform details and apply them to the model\n    setModelTransforms: function setModelTransforms(model, modelNode) {\n      var transformData = {};\n      if ('RotationOrder' in modelNode) transformData.eulerOrder = parseInt(modelNode.RotationOrder.value);\n      if ('Lcl_Translation' in modelNode) transformData.translation = modelNode.Lcl_Translation.value;\n      if ('RotationOffset' in modelNode) transformData.rotationOffset = modelNode.RotationOffset.value;\n      if ('Lcl_Rotation' in modelNode) transformData.rotation = modelNode.Lcl_Rotation.value;\n      if ('PreRotation' in modelNode) transformData.preRotation = modelNode.PreRotation.value;\n      if ('PostRotation' in modelNode) transformData.postRotation = modelNode.PostRotation.value;\n      if ('Lcl_Scaling' in modelNode) transformData.scale = modelNode.Lcl_Scaling.value;\n      var transform = generateTransform(transformData);\n      model.applyMatrix(transform);\n    },\n    setLookAtProperties: function setLookAtProperties(model, modelNode) {\n      if ('LookAtProperty' in modelNode) {\n        var children = connections.get(model.ID).children;\n        children.forEach(function (child) {\n          if (child.relationship === 'LookAtProperty') {\n            var lookAtTarget = fbxTree.Objects.Model[child.ID];\n\n            if ('Lcl_Translation' in lookAtTarget) {\n              var pos = lookAtTarget.Lcl_Translation.value; // DirectionalLight, SpotLight\n\n              if (model.target !== undefined) {\n                model.target.position.fromArray(pos);\n                sceneGraph.add(model.target);\n              } else {\n                // Cameras and other Object3Ds\n                model.lookAt(new THREE.Vector3().fromArray(pos));\n              }\n            }\n          }\n        });\n      }\n    },\n    bindSkeleton: function bindSkeleton(skeletons, geometryMap, modelMap) {\n      var bindMatrices = this.parsePoseNodes();\n\n      for (var ID in skeletons) {\n        var skeleton = skeletons[ID];\n        var parents = connections.get(parseInt(skeleton.ID)).parents;\n        parents.forEach(function (parent) {\n          if (geometryMap.has(parent.ID)) {\n            var geoID = parent.ID;\n            var geoRelationships = connections.get(geoID);\n            geoRelationships.parents.forEach(function (geoConnParent) {\n              if (modelMap.has(geoConnParent.ID)) {\n                var model = modelMap.get(geoConnParent.ID);\n                model.bind(new THREE.Skeleton(skeleton.bones), bindMatrices[geoConnParent.ID]);\n              }\n            });\n          }\n        });\n      }\n    },\n    parsePoseNodes: function parsePoseNodes() {\n      var bindMatrices = {};\n\n      if ('Pose' in fbxTree.Objects) {\n        var BindPoseNode = fbxTree.Objects.Pose;\n\n        for (var nodeID in BindPoseNode) {\n          if (BindPoseNode[nodeID].attrType === 'BindPose') {\n            var poseNodes = BindPoseNode[nodeID].PoseNode;\n\n            if (Array.isArray(poseNodes)) {\n              poseNodes.forEach(function (poseNode) {\n                bindMatrices[poseNode.Node] = new THREE.Matrix4().fromArray(poseNode.Matrix.a);\n              });\n            } else {\n              bindMatrices[poseNodes.Node] = new THREE.Matrix4().fromArray(poseNodes.Matrix.a);\n            }\n          }\n        }\n      }\n\n      return bindMatrices;\n    },\n    // Parse ambient color in FBXTree.GlobalSettings - if it's not set to black (default), create an ambient light\n    createAmbientLight: function createAmbientLight() {\n      if ('GlobalSettings' in fbxTree && 'AmbientColor' in fbxTree.GlobalSettings) {\n        var ambientColor = fbxTree.GlobalSettings.AmbientColor.value;\n        var r = ambientColor[0];\n        var g = ambientColor[1];\n        var b = ambientColor[2];\n\n        if (r !== 0 || g !== 0 || b !== 0) {\n          var color = new THREE.Color(r, g, b);\n          sceneGraph.add(new THREE.AmbientLight(color, 1));\n        }\n      }\n    },\n    setupMorphMaterials: function setupMorphMaterials() {\n      sceneGraph.traverse(function (child) {\n        if (child.isMesh) {\n          if (child.geometry.morphAttributes.position || child.geometry.morphAttributes.normal) {\n            var uuid = child.uuid;\n            var matUuid = child.material.uuid; // if a geometry has morph targets, it cannot share the material with other geometries\n\n            var sharedMat = false;\n            sceneGraph.traverse(function (child) {\n              if (child.isMesh) {\n                if (child.material.uuid === matUuid && child.uuid !== uuid) sharedMat = true;\n              }\n            });\n            if (sharedMat === true) child.material = child.material.clone();\n            child.material.morphTargets = true;\n          }\n        }\n      });\n    }\n  }; // parse Geometry data from FBXTree and return map of BufferGeometries\n\n  function GeometryParser() {}\n\n  GeometryParser.prototype = {\n    constructor: GeometryParser,\n    // Parse nodes in FBXTree.Objects.Geometry\n    parse: function parse(deformers) {\n      var geometryMap = new Map();\n\n      if ('Geometry' in fbxTree.Objects) {\n        var geoNodes = fbxTree.Objects.Geometry;\n\n        for (var nodeID in geoNodes) {\n          var relationships = connections.get(parseInt(nodeID));\n          var geo = this.parseGeometry(relationships, geoNodes[nodeID], deformers);\n          geometryMap.set(parseInt(nodeID), geo);\n        }\n      }\n\n      return geometryMap;\n    },\n    // Parse single node in FBXTree.Objects.Geometry\n    parseGeometry: function parseGeometry(relationships, geoNode, deformers) {\n      switch (geoNode.attrType) {\n        case 'Mesh':\n          return this.parseMeshGeometry(relationships, geoNode, deformers);\n          break;\n\n        case 'NurbsCurve':\n          return this.parseNurbsGeometry(geoNode);\n          break;\n      }\n    },\n    // Parse single node mesh geometry in FBXTree.Objects.Geometry\n    parseMeshGeometry: function parseMeshGeometry(relationships, geoNode, deformers) {\n      var skeletons = deformers.skeletons;\n      var morphTargets = deformers.morphTargets;\n      var modelNodes = relationships.parents.map(function (parent) {\n        return fbxTree.Objects.Model[parent.ID];\n      }); // don't create geometry if it is not associated with any models\n\n      if (modelNodes.length === 0) return;\n      var skeleton = relationships.children.reduce(function (skeleton, child) {\n        if (skeletons[child.ID] !== undefined) skeleton = skeletons[child.ID];\n        return skeleton;\n      }, null);\n      var morphTarget = relationships.children.reduce(function (morphTarget, child) {\n        if (morphTargets[child.ID] !== undefined) morphTarget = morphTargets[child.ID];\n        return morphTarget;\n      }, null); // TODO: if there is more than one model associated with the geometry, AND the models have\n      // different geometric transforms, then this will cause problems\n      // if ( modelNodes.length > 1 ) { }\n      // For now just assume one model and get the preRotations from that\n\n      var modelNode = modelNodes[0];\n      var transformData = {};\n      if ('RotationOrder' in modelNode) transformData.eulerOrder = modelNode.RotationOrder.value;\n      if ('GeometricTranslation' in modelNode) transformData.translation = modelNode.GeometricTranslation.value;\n      if ('GeometricRotation' in modelNode) transformData.rotation = modelNode.GeometricRotation.value;\n      if ('GeometricScaling' in modelNode) transformData.scale = modelNode.GeometricScaling.value;\n      var transform = generateTransform(transformData);\n      return this.genGeometry(geoNode, skeleton, morphTarget, transform);\n    },\n    // Generate a THREE.BufferGeometry from a node in FBXTree.Objects.Geometry\n    genGeometry: function genGeometry(geoNode, skeleton, morphTarget, preTransform) {\n      var geo = new THREE.BufferGeometry();\n      if (geoNode.attrName) geo.name = geoNode.attrName;\n      var geoInfo = this.parseGeoNode(geoNode, skeleton);\n      var buffers = this.genBuffers(geoInfo);\n      var positionAttribute = new THREE.Float32BufferAttribute(buffers.vertex, 3);\n      preTransform.applyToBufferAttribute(positionAttribute);\n      geo.addAttribute('position', positionAttribute);\n\n      if (buffers.colors.length > 0) {\n        geo.addAttribute('color', new THREE.Float32BufferAttribute(buffers.colors, 3));\n      }\n\n      if (skeleton) {\n        geo.addAttribute('skinIndex', new THREE.Uint16BufferAttribute(buffers.weightsIndices, 4));\n        geo.addAttribute('skinWeight', new THREE.Float32BufferAttribute(buffers.vertexWeights, 4)); // used later to bind the skeleton to the model\n\n        geo.FBX_Deformer = skeleton;\n      }\n\n      if (buffers.normal.length > 0) {\n        var normalAttribute = new THREE.Float32BufferAttribute(buffers.normal, 3);\n        var normalMatrix = new THREE.Matrix3().getNormalMatrix(preTransform);\n        normalMatrix.applyToBufferAttribute(normalAttribute);\n        geo.addAttribute('normal', normalAttribute);\n      }\n\n      buffers.uvs.forEach(function (uvBuffer, i) {\n        // subsequent uv buffers are called 'uv1', 'uv2', ...\n        var name = 'uv' + (i + 1).toString(); // the first uv buffer is just called 'uv'\n\n        if (i === 0) {\n          name = 'uv';\n        }\n\n        geo.addAttribute(name, new THREE.Float32BufferAttribute(buffers.uvs[i], 2));\n      });\n\n      if (geoInfo.material && geoInfo.material.mappingType !== 'AllSame') {\n        // Convert the material indices of each vertex into rendering groups on the geometry.\n        var prevMaterialIndex = buffers.materialIndex[0];\n        var startIndex = 0;\n        buffers.materialIndex.forEach(function (currentIndex, i) {\n          if (currentIndex !== prevMaterialIndex) {\n            geo.addGroup(startIndex, i - startIndex, prevMaterialIndex);\n            prevMaterialIndex = currentIndex;\n            startIndex = i;\n          }\n        }); // the loop above doesn't add the last group, do that here.\n\n        if (geo.groups.length > 0) {\n          var lastGroup = geo.groups[geo.groups.length - 1];\n          var lastIndex = lastGroup.start + lastGroup.count;\n\n          if (lastIndex !== buffers.materialIndex.length) {\n            geo.addGroup(lastIndex, buffers.materialIndex.length - lastIndex, prevMaterialIndex);\n          }\n        } // case where there are multiple materials but the whole geometry is only\n        // using one of them\n\n\n        if (geo.groups.length === 0) {\n          geo.addGroup(0, buffers.materialIndex.length, buffers.materialIndex[0]);\n        }\n      }\n\n      this.addMorphTargets(geo, geoNode, morphTarget, preTransform);\n      return geo;\n    },\n    parseGeoNode: function parseGeoNode(geoNode, skeleton) {\n      var geoInfo = {};\n      geoInfo.vertexPositions = geoNode.Vertices !== undefined ? geoNode.Vertices.a : [];\n      geoInfo.vertexIndices = geoNode.PolygonVertexIndex !== undefined ? geoNode.PolygonVertexIndex.a : [];\n\n      if (geoNode.LayerElementColor) {\n        geoInfo.color = this.parseVertexColors(geoNode.LayerElementColor[0]);\n      }\n\n      if (geoNode.LayerElementMaterial) {\n        geoInfo.material = this.parseMaterialIndices(geoNode.LayerElementMaterial[0]);\n      }\n\n      if (geoNode.LayerElementNormal) {\n        geoInfo.normal = this.parseNormals(geoNode.LayerElementNormal[0]);\n      }\n\n      if (geoNode.LayerElementUV) {\n        geoInfo.uv = [];\n        var i = 0;\n\n        while (geoNode.LayerElementUV[i]) {\n          geoInfo.uv.push(this.parseUVs(geoNode.LayerElementUV[i]));\n          i++;\n        }\n      }\n\n      geoInfo.weightTable = {};\n\n      if (skeleton !== null) {\n        geoInfo.skeleton = skeleton;\n        skeleton.rawBones.forEach(function (rawBone, i) {\n          // loop over the bone's vertex indices and weights\n          rawBone.indices.forEach(function (index, j) {\n            if (geoInfo.weightTable[index] === undefined) geoInfo.weightTable[index] = [];\n            geoInfo.weightTable[index].push({\n              id: i,\n              weight: rawBone.weights[j]\n            });\n          });\n        });\n      }\n\n      return geoInfo;\n    },\n    genBuffers: function genBuffers(geoInfo) {\n      var buffers = {\n        vertex: [],\n        normal: [],\n        colors: [],\n        uvs: [],\n        materialIndex: [],\n        vertexWeights: [],\n        weightsIndices: []\n      };\n      var polygonIndex = 0;\n      var faceLength = 0;\n      var displayedWeightsWarning = false; // these will hold data for a single face\n\n      var facePositionIndexes = [];\n      var faceNormals = [];\n      var faceColors = [];\n      var faceUVs = [];\n      var faceWeights = [];\n      var faceWeightIndices = [];\n      var self = this;\n      geoInfo.vertexIndices.forEach(function (vertexIndex, polygonVertexIndex) {\n        var endOfFace = false; // Face index and vertex index arrays are combined in a single array\n        // A cube with quad faces looks like this:\n        // PolygonVertexIndex: *24 {\n        //  a: 0, 1, 3, -3, 2, 3, 5, -5, 4, 5, 7, -7, 6, 7, 1, -1, 1, 7, 5, -4, 6, 0, 2, -5\n        //  }\n        // Negative numbers mark the end of a face - first face here is 0, 1, 3, -3\n        // to find index of last vertex bit shift the index: ^ - 1\n\n        if (vertexIndex < 0) {\n          vertexIndex = vertexIndex ^ -1; // equivalent to ( x * -1 ) - 1\n\n          endOfFace = true;\n        }\n\n        var weightIndices = [];\n        var weights = [];\n        facePositionIndexes.push(vertexIndex * 3, vertexIndex * 3 + 1, vertexIndex * 3 + 2);\n\n        if (geoInfo.color) {\n          var data = getData(polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.color);\n          faceColors.push(data[0], data[1], data[2]);\n        }\n\n        if (geoInfo.skeleton) {\n          if (geoInfo.weightTable[vertexIndex] !== undefined) {\n            geoInfo.weightTable[vertexIndex].forEach(function (wt) {\n              weights.push(wt.weight);\n              weightIndices.push(wt.id);\n            });\n          }\n\n          if (weights.length > 4) {\n            if (!displayedWeightsWarning) {\n              console.warn('THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights.');\n              displayedWeightsWarning = true;\n            }\n\n            var wIndex = [0, 0, 0, 0];\n            var Weight = [0, 0, 0, 0];\n            weights.forEach(function (weight, weightIndex) {\n              var currentWeight = weight;\n              var currentIndex = weightIndices[weightIndex];\n              Weight.forEach(function (comparedWeight, comparedWeightIndex, comparedWeightArray) {\n                if (currentWeight > comparedWeight) {\n                  comparedWeightArray[comparedWeightIndex] = currentWeight;\n                  currentWeight = comparedWeight;\n                  var tmp = wIndex[comparedWeightIndex];\n                  wIndex[comparedWeightIndex] = currentIndex;\n                  currentIndex = tmp;\n                }\n              });\n            });\n            weightIndices = wIndex;\n            weights = Weight;\n          } // if the weight array is shorter than 4 pad with 0s\n\n\n          while (weights.length < 4) {\n            weights.push(0);\n            weightIndices.push(0);\n          }\n\n          for (var i = 0; i < 4; ++i) {\n            faceWeights.push(weights[i]);\n            faceWeightIndices.push(weightIndices[i]);\n          }\n        }\n\n        if (geoInfo.normal) {\n          var data = getData(polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.normal);\n          faceNormals.push(data[0], data[1], data[2]);\n        }\n\n        if (geoInfo.material && geoInfo.material.mappingType !== 'AllSame') {\n          var materialIndex = getData(polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.material)[0];\n        }\n\n        if (geoInfo.uv) {\n          geoInfo.uv.forEach(function (uv, i) {\n            var data = getData(polygonVertexIndex, polygonIndex, vertexIndex, uv);\n\n            if (faceUVs[i] === undefined) {\n              faceUVs[i] = [];\n            }\n\n            faceUVs[i].push(data[0]);\n            faceUVs[i].push(data[1]);\n          });\n        }\n\n        faceLength++;\n\n        if (endOfFace) {\n          self.genFace(buffers, geoInfo, facePositionIndexes, materialIndex, faceNormals, faceColors, faceUVs, faceWeights, faceWeightIndices, faceLength);\n          polygonIndex++;\n          faceLength = 0; // reset arrays for the next face\n\n          facePositionIndexes = [];\n          faceNormals = [];\n          faceColors = [];\n          faceUVs = [];\n          faceWeights = [];\n          faceWeightIndices = [];\n        }\n      });\n      return buffers;\n    },\n    // Generate data for a single face in a geometry. If the face is a quad then split it into 2 tris\n    genFace: function genFace(buffers, geoInfo, facePositionIndexes, materialIndex, faceNormals, faceColors, faceUVs, faceWeights, faceWeightIndices, faceLength) {\n      for (var i = 2; i < faceLength; i++) {\n        buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[0]]);\n        buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[1]]);\n        buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[2]]);\n        buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[(i - 1) * 3]]);\n        buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[(i - 1) * 3 + 1]]);\n        buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[(i - 1) * 3 + 2]]);\n        buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[i * 3]]);\n        buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[i * 3 + 1]]);\n        buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[i * 3 + 2]]);\n\n        if (geoInfo.skeleton) {\n          buffers.vertexWeights.push(faceWeights[0]);\n          buffers.vertexWeights.push(faceWeights[1]);\n          buffers.vertexWeights.push(faceWeights[2]);\n          buffers.vertexWeights.push(faceWeights[3]);\n          buffers.vertexWeights.push(faceWeights[(i - 1) * 4]);\n          buffers.vertexWeights.push(faceWeights[(i - 1) * 4 + 1]);\n          buffers.vertexWeights.push(faceWeights[(i - 1) * 4 + 2]);\n          buffers.vertexWeights.push(faceWeights[(i - 1) * 4 + 3]);\n          buffers.vertexWeights.push(faceWeights[i * 4]);\n          buffers.vertexWeights.push(faceWeights[i * 4 + 1]);\n          buffers.vertexWeights.push(faceWeights[i * 4 + 2]);\n          buffers.vertexWeights.push(faceWeights[i * 4 + 3]);\n          buffers.weightsIndices.push(faceWeightIndices[0]);\n          buffers.weightsIndices.push(faceWeightIndices[1]);\n          buffers.weightsIndices.push(faceWeightIndices[2]);\n          buffers.weightsIndices.push(faceWeightIndices[3]);\n          buffers.weightsIndices.push(faceWeightIndices[(i - 1) * 4]);\n          buffers.weightsIndices.push(faceWeightIndices[(i - 1) * 4 + 1]);\n          buffers.weightsIndices.push(faceWeightIndices[(i - 1) * 4 + 2]);\n          buffers.weightsIndices.push(faceWeightIndices[(i - 1) * 4 + 3]);\n          buffers.weightsIndices.push(faceWeightIndices[i * 4]);\n          buffers.weightsIndices.push(faceWeightIndices[i * 4 + 1]);\n          buffers.weightsIndices.push(faceWeightIndices[i * 4 + 2]);\n          buffers.weightsIndices.push(faceWeightIndices[i * 4 + 3]);\n        }\n\n        if (geoInfo.color) {\n          buffers.colors.push(faceColors[0]);\n          buffers.colors.push(faceColors[1]);\n          buffers.colors.push(faceColors[2]);\n          buffers.colors.push(faceColors[(i - 1) * 3]);\n          buffers.colors.push(faceColors[(i - 1) * 3 + 1]);\n          buffers.colors.push(faceColors[(i - 1) * 3 + 2]);\n          buffers.colors.push(faceColors[i * 3]);\n          buffers.colors.push(faceColors[i * 3 + 1]);\n          buffers.colors.push(faceColors[i * 3 + 2]);\n        }\n\n        if (geoInfo.material && geoInfo.material.mappingType !== 'AllSame') {\n          buffers.materialIndex.push(materialIndex);\n          buffers.materialIndex.push(materialIndex);\n          buffers.materialIndex.push(materialIndex);\n        }\n\n        if (geoInfo.normal) {\n          buffers.normal.push(faceNormals[0]);\n          buffers.normal.push(faceNormals[1]);\n          buffers.normal.push(faceNormals[2]);\n          buffers.normal.push(faceNormals[(i - 1) * 3]);\n          buffers.normal.push(faceNormals[(i - 1) * 3 + 1]);\n          buffers.normal.push(faceNormals[(i - 1) * 3 + 2]);\n          buffers.normal.push(faceNormals[i * 3]);\n          buffers.normal.push(faceNormals[i * 3 + 1]);\n          buffers.normal.push(faceNormals[i * 3 + 2]);\n        }\n\n        if (geoInfo.uv) {\n          geoInfo.uv.forEach(function (uv, j) {\n            if (buffers.uvs[j] === undefined) buffers.uvs[j] = [];\n            buffers.uvs[j].push(faceUVs[j][0]);\n            buffers.uvs[j].push(faceUVs[j][1]);\n            buffers.uvs[j].push(faceUVs[j][(i - 1) * 2]);\n            buffers.uvs[j].push(faceUVs[j][(i - 1) * 2 + 1]);\n            buffers.uvs[j].push(faceUVs[j][i * 2]);\n            buffers.uvs[j].push(faceUVs[j][i * 2 + 1]);\n          });\n        }\n      }\n    },\n    addMorphTargets: function addMorphTargets(parentGeo, parentGeoNode, morphTarget, preTransform) {\n      if (morphTarget === null) return;\n      parentGeo.morphAttributes.position = [];\n      parentGeo.morphAttributes.normal = [];\n      var self = this;\n      morphTarget.rawTargets.forEach(function (rawTarget) {\n        var morphGeoNode = fbxTree.Objects.Geometry[rawTarget.geoID];\n\n        if (morphGeoNode !== undefined) {\n          self.genMorphGeometry(parentGeo, parentGeoNode, morphGeoNode, preTransform);\n        }\n      });\n    },\n    // a morph geometry node is similar to a standard  node, and the node is also contained\n    // in FBXTree.Objects.Geometry, however it can only have attributes for position, normal\n    // and a special attribute Index defining which vertices of the original geometry are affected\n    // Normal and position attributes only have data for the vertices that are affected by the morph\n    genMorphGeometry: function genMorphGeometry(parentGeo, parentGeoNode, morphGeoNode, preTransform) {\n      var morphGeo = new THREE.BufferGeometry();\n      if (morphGeoNode.attrName) morphGeo.name = morphGeoNode.attrName;\n      var vertexIndices = parentGeoNode.PolygonVertexIndex !== undefined ? parentGeoNode.PolygonVertexIndex.a : []; // make a copy of the parent's vertex positions\n\n      var vertexPositions = parentGeoNode.Vertices !== undefined ? parentGeoNode.Vertices.a.slice() : [];\n      var morphPositions = morphGeoNode.Vertices !== undefined ? morphGeoNode.Vertices.a : [];\n      var indices = morphGeoNode.Indexes !== undefined ? morphGeoNode.Indexes.a : [];\n\n      for (var i = 0; i < indices.length; i++) {\n        var morphIndex = indices[i] * 3; // FBX format uses blend shapes rather than morph targets. This can be converted\n        // by additively combining the blend shape positions with the original geometry's positions\n\n        vertexPositions[morphIndex] += morphPositions[i * 3];\n        vertexPositions[morphIndex + 1] += morphPositions[i * 3 + 1];\n        vertexPositions[morphIndex + 2] += morphPositions[i * 3 + 2];\n      } // TODO: add morph normal support\n\n\n      var morphGeoInfo = {\n        vertexIndices: vertexIndices,\n        vertexPositions: vertexPositions\n      };\n      var morphBuffers = this.genBuffers(morphGeoInfo);\n      var positionAttribute = new THREE.Float32BufferAttribute(morphBuffers.vertex, 3);\n      positionAttribute.name = morphGeoNode.attrName;\n      preTransform.applyToBufferAttribute(positionAttribute);\n      parentGeo.morphAttributes.position.push(positionAttribute);\n    },\n    // Parse normal from FBXTree.Objects.Geometry.LayerElementNormal if it exists\n    parseNormals: function parseNormals(NormalNode) {\n      var mappingType = NormalNode.MappingInformationType;\n      var referenceType = NormalNode.ReferenceInformationType;\n      var buffer = NormalNode.Normals.a;\n      var indexBuffer = [];\n\n      if (referenceType === 'IndexToDirect') {\n        if ('NormalIndex' in NormalNode) {\n          indexBuffer = NormalNode.NormalIndex.a;\n        } else if ('NormalsIndex' in NormalNode) {\n          indexBuffer = NormalNode.NormalsIndex.a;\n        }\n      }\n\n      return {\n        dataSize: 3,\n        buffer: buffer,\n        indices: indexBuffer,\n        mappingType: mappingType,\n        referenceType: referenceType\n      };\n    },\n    // Parse UVs from FBXTree.Objects.Geometry.LayerElementUV if it exists\n    parseUVs: function parseUVs(UVNode) {\n      var mappingType = UVNode.MappingInformationType;\n      var referenceType = UVNode.ReferenceInformationType;\n      var buffer = UVNode.UV.a;\n      var indexBuffer = [];\n\n      if (referenceType === 'IndexToDirect') {\n        indexBuffer = UVNode.UVIndex.a;\n      }\n\n      return {\n        dataSize: 2,\n        buffer: buffer,\n        indices: indexBuffer,\n        mappingType: mappingType,\n        referenceType: referenceType\n      };\n    },\n    // Parse Vertex Colors from FBXTree.Objects.Geometry.LayerElementColor if it exists\n    parseVertexColors: function parseVertexColors(ColorNode) {\n      var mappingType = ColorNode.MappingInformationType;\n      var referenceType = ColorNode.ReferenceInformationType;\n      var buffer = ColorNode.Colors.a;\n      var indexBuffer = [];\n\n      if (referenceType === 'IndexToDirect') {\n        indexBuffer = ColorNode.ColorIndex.a;\n      }\n\n      return {\n        dataSize: 4,\n        buffer: buffer,\n        indices: indexBuffer,\n        mappingType: mappingType,\n        referenceType: referenceType\n      };\n    },\n    // Parse mapping and material data in FBXTree.Objects.Geometry.LayerElementMaterial if it exists\n    parseMaterialIndices: function parseMaterialIndices(MaterialNode) {\n      var mappingType = MaterialNode.MappingInformationType;\n      var referenceType = MaterialNode.ReferenceInformationType;\n\n      if (mappingType === 'NoMappingInformation') {\n        return {\n          dataSize: 1,\n          buffer: [0],\n          indices: [0],\n          mappingType: 'AllSame',\n          referenceType: referenceType\n        };\n      }\n\n      var materialIndexBuffer = MaterialNode.Materials.a; // Since materials are stored as indices, there's a bit of a mismatch between FBX and what\n      // we expect.So we create an intermediate buffer that points to the index in the buffer,\n      // for conforming with the other functions we've written for other data.\n\n      var materialIndices = [];\n\n      for (var i = 0; i < materialIndexBuffer.length; ++i) {\n        materialIndices.push(i);\n      }\n\n      return {\n        dataSize: 1,\n        buffer: materialIndexBuffer,\n        indices: materialIndices,\n        mappingType: mappingType,\n        referenceType: referenceType\n      };\n    },\n    // Generate a NurbGeometry from a node in FBXTree.Objects.Geometry\n    parseNurbsGeometry: function parseNurbsGeometry(geoNode) {\n      if (THREE.NURBSCurve === undefined) {\n        console.error('THREE.FBXLoader: The loader relies on THREE.NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry.');\n        return new THREE.BufferGeometry();\n      }\n\n      var order = parseInt(geoNode.Order);\n\n      if (isNaN(order)) {\n        console.error('THREE.FBXLoader: Invalid Order %s given for geometry ID: %s', geoNode.Order, geoNode.id);\n        return new THREE.BufferGeometry();\n      }\n\n      var degree = order - 1;\n      var knots = geoNode.KnotVector.a;\n      var controlPoints = [];\n      var pointsValues = geoNode.Points.a;\n\n      for (var i = 0, l = pointsValues.length; i < l; i += 4) {\n        controlPoints.push(new THREE.Vector4().fromArray(pointsValues, i));\n      }\n\n      var startKnot, endKnot;\n\n      if (geoNode.Form === 'Closed') {\n        controlPoints.push(controlPoints[0]);\n      } else if (geoNode.Form === 'Periodic') {\n        startKnot = degree;\n        endKnot = knots.length - 1 - startKnot;\n\n        for (var i = 0; i < degree; ++i) {\n          controlPoints.push(controlPoints[i]);\n        }\n      }\n\n      var curve = new THREE.NURBSCurve(degree, knots, controlPoints, startKnot, endKnot);\n      var vertices = curve.getPoints(controlPoints.length * 7);\n      var positions = new Float32Array(vertices.length * 3);\n      vertices.forEach(function (vertex, i) {\n        vertex.toArray(positions, i * 3);\n      });\n      var geometry = new THREE.BufferGeometry();\n      geometry.addAttribute('position', new THREE.BufferAttribute(positions, 3));\n      return geometry;\n    }\n  }; // parse animation data from FBXTree\n\n  function AnimationParser() {}\n\n  AnimationParser.prototype = {\n    constructor: AnimationParser,\n    // take raw animation clips and turn them into three.js animation clips\n    parse: function parse() {\n      var animationClips = [];\n      var rawClips = this.parseClips();\n      if (rawClips === undefined) return animationClips;\n\n      for (var key in rawClips) {\n        var rawClip = rawClips[key];\n        var clip = this.addClip(rawClip);\n        animationClips.push(clip);\n      }\n\n      return animationClips;\n    },\n    parseClips: function parseClips() {\n      // since the actual transformation data is stored in FBXTree.Objects.AnimationCurve,\n      // if this is undefined we can safely assume there are no animations\n      if (fbxTree.Objects.AnimationCurve === undefined) return undefined;\n      var curveNodesMap = this.parseAnimationCurveNodes();\n      this.parseAnimationCurves(curveNodesMap);\n      var layersMap = this.parseAnimationLayers(curveNodesMap);\n      var rawClips = this.parseAnimStacks(layersMap);\n      return rawClips;\n    },\n    // parse nodes in FBXTree.Objects.AnimationCurveNode\n    // each AnimationCurveNode holds data for an animation transform for a model (e.g. left arm rotation )\n    // and is referenced by an AnimationLayer\n    parseAnimationCurveNodes: function parseAnimationCurveNodes() {\n      var rawCurveNodes = fbxTree.Objects.AnimationCurveNode;\n      var curveNodesMap = new Map();\n\n      for (var nodeID in rawCurveNodes) {\n        var rawCurveNode = rawCurveNodes[nodeID];\n\n        if (rawCurveNode.attrName.match(/S|R|T|DeformPercent/) !== null) {\n          var curveNode = {\n            id: rawCurveNode.id,\n            attr: rawCurveNode.attrName,\n            curves: {}\n          };\n          curveNodesMap.set(curveNode.id, curveNode);\n        }\n      }\n\n      return curveNodesMap;\n    },\n    // parse nodes in FBXTree.Objects.AnimationCurve and connect them up to\n    // previously parsed AnimationCurveNodes. Each AnimationCurve holds data for a single animated\n    // axis ( e.g. times and values of x rotation)\n    parseAnimationCurves: function parseAnimationCurves(curveNodesMap) {\n      var rawCurves = fbxTree.Objects.AnimationCurve; // TODO: Many values are identical up to roundoff error, but won't be optimised\n      // e.g. position times: [0, 0.4, 0. 8]\n      // position values: [7.23538335023477e-7, 93.67518615722656, -0.9982695579528809, 7.23538335023477e-7, 93.67518615722656, -0.9982695579528809, 7.235384487103147e-7, 93.67520904541016, -0.9982695579528809]\n      // clearly, this should be optimised to\n      // times: [0], positions [7.23538335023477e-7, 93.67518615722656, -0.9982695579528809]\n      // this shows up in nearly every FBX file, and generally time array is length > 100\n\n      for (var nodeID in rawCurves) {\n        var animationCurve = {\n          id: rawCurves[nodeID].id,\n          times: rawCurves[nodeID].KeyTime.a.map(convertFBXTimeToSeconds),\n          values: rawCurves[nodeID].KeyValueFloat.a\n        };\n        var relationships = connections.get(animationCurve.id);\n\n        if (relationships !== undefined) {\n          var animationCurveID = relationships.parents[0].ID;\n          var animationCurveRelationship = relationships.parents[0].relationship;\n\n          if (animationCurveRelationship.match(/X/)) {\n            curveNodesMap.get(animationCurveID).curves['x'] = animationCurve;\n          } else if (animationCurveRelationship.match(/Y/)) {\n            curveNodesMap.get(animationCurveID).curves['y'] = animationCurve;\n          } else if (animationCurveRelationship.match(/Z/)) {\n            curveNodesMap.get(animationCurveID).curves['z'] = animationCurve;\n          } else if (animationCurveRelationship.match(/d|DeformPercent/) && curveNodesMap.has(animationCurveID)) {\n            curveNodesMap.get(animationCurveID).curves['morph'] = animationCurve;\n          }\n        }\n      }\n    },\n    // parse nodes in FBXTree.Objects.AnimationLayer. Each layers holds references\n    // to various AnimationCurveNodes and is referenced by an AnimationStack node\n    // note: theoretically a stack can have multiple layers, however in practice there always seems to be one per stack\n    parseAnimationLayers: function parseAnimationLayers(curveNodesMap) {\n      var rawLayers = fbxTree.Objects.AnimationLayer;\n      var layersMap = new Map();\n\n      for (var nodeID in rawLayers) {\n        var layerCurveNodes = [];\n        var connection = connections.get(parseInt(nodeID));\n\n        if (connection !== undefined) {\n          // all the animationCurveNodes used in the layer\n          var children = connection.children;\n          var self = this;\n          children.forEach(function (child, i) {\n            if (curveNodesMap.has(child.ID)) {\n              var curveNode = curveNodesMap.get(child.ID); // check that the curves are defined for at least one axis, otherwise ignore the curveNode\n\n              if (curveNode.curves.x !== undefined || curveNode.curves.y !== undefined || curveNode.curves.z !== undefined) {\n                if (layerCurveNodes[i] === undefined) {\n                  var modelID;\n                  connections.get(child.ID).parents.forEach(function (parent) {\n                    if (parent.relationship !== undefined) modelID = parent.ID;\n                  });\n                  var rawModel = fbxTree.Objects.Model[modelID.toString()];\n                  var node = {\n                    modelName: THREE.PropertyBinding.sanitizeNodeName(rawModel.attrName),\n                    initialPosition: [0, 0, 0],\n                    initialRotation: [0, 0, 0],\n                    initialScale: [1, 1, 1],\n                    transform: self.getModelAnimTransform(rawModel)\n                  }; // if the animated model is pre rotated, we'll have to apply the pre rotations to every\n                  // animation value as well\n\n                  if ('PreRotation' in rawModel) node.preRotations = rawModel.PreRotation.value;\n                  if ('PostRotation' in rawModel) node.postRotations = rawModel.PostRotation.value;\n                  layerCurveNodes[i] = node;\n                }\n\n                layerCurveNodes[i][curveNode.attr] = curveNode;\n              } else if (curveNode.curves.morph !== undefined) {\n                if (layerCurveNodes[i] === undefined) {\n                  var deformerID;\n                  connections.get(child.ID).parents.forEach(function (parent) {\n                    if (parent.relationship !== undefined) deformerID = parent.ID;\n                  });\n                  var morpherID = connections.get(deformerID).parents[0].ID;\n                  var geoID = connections.get(morpherID).parents[0].ID; // assuming geometry is not used in more than one model\n\n                  var modelID = connections.get(geoID).parents[0].ID;\n                  var rawModel = fbxTree.Objects.Model[modelID];\n                  var node = {\n                    modelName: THREE.PropertyBinding.sanitizeNodeName(rawModel.attrName),\n                    morphName: fbxTree.Objects.Deformer[deformerID].attrName\n                  };\n                  layerCurveNodes[i] = node;\n                }\n\n                layerCurveNodes[i][curveNode.attr] = curveNode;\n              }\n            }\n          });\n          layersMap.set(parseInt(nodeID), layerCurveNodes);\n        }\n      }\n\n      return layersMap;\n    },\n    getModelAnimTransform: function getModelAnimTransform(modelNode) {\n      var transformData = {};\n      if ('RotationOrder' in modelNode) transformData.eulerOrder = parseInt(modelNode.RotationOrder.value);\n      if ('Lcl_Translation' in modelNode) transformData.translation = modelNode.Lcl_Translation.value;\n      if ('RotationOffset' in modelNode) transformData.rotationOffset = modelNode.RotationOffset.value;\n      if ('Lcl_Rotation' in modelNode) transformData.rotation = modelNode.Lcl_Rotation.value;\n      if ('PreRotation' in modelNode) transformData.preRotation = modelNode.PreRotation.value;\n      if ('PostRotation' in modelNode) transformData.postRotation = modelNode.PostRotation.value;\n      if ('Lcl_Scaling' in modelNode) transformData.scale = modelNode.Lcl_Scaling.value;\n      return generateTransform(transformData);\n    },\n    // parse nodes in FBXTree.Objects.AnimationStack. These are the top level node in the animation\n    // hierarchy. Each Stack node will be used to create a THREE.AnimationClip\n    parseAnimStacks: function parseAnimStacks(layersMap) {\n      var rawStacks = fbxTree.Objects.AnimationStack; // connect the stacks (clips) up to the layers\n\n      var rawClips = {};\n\n      for (var nodeID in rawStacks) {\n        var children = connections.get(parseInt(nodeID)).children;\n\n        if (children.length > 1) {\n          // it seems like stacks will always be associated with a single layer. But just in case there are files\n          // where there are multiple layers per stack, we'll display a warning\n          console.warn('THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.');\n        }\n\n        var layer = layersMap.get(children[0].ID);\n        rawClips[nodeID] = {\n          name: rawStacks[nodeID].attrName,\n          layer: layer\n        };\n      }\n\n      return rawClips;\n    },\n    addClip: function addClip(rawClip) {\n      var tracks = [];\n      var self = this;\n      rawClip.layer.forEach(function (rawTracks) {\n        tracks = tracks.concat(self.generateTracks(rawTracks));\n      });\n      return new THREE.AnimationClip(rawClip.name, -1, tracks);\n    },\n    generateTracks: function generateTracks(rawTracks) {\n      var tracks = [];\n      var initialPosition = new THREE.Vector3();\n      var initialRotation = new THREE.Quaternion();\n      var initialScale = new THREE.Vector3();\n      if (rawTracks.transform) rawTracks.transform.decompose(initialPosition, initialRotation, initialScale);\n      initialPosition = initialPosition.toArray();\n      initialRotation = new THREE.Euler().setFromQuaternion(initialRotation).toArray(); // todo: euler order\n\n      initialScale = initialScale.toArray();\n\n      if (rawTracks.T !== undefined && Object.keys(rawTracks.T.curves).length > 0) {\n        var positionTrack = this.generateVectorTrack(rawTracks.modelName, rawTracks.T.curves, initialPosition, 'position');\n        if (positionTrack !== undefined) tracks.push(positionTrack);\n      }\n\n      if (rawTracks.R !== undefined && Object.keys(rawTracks.R.curves).length > 0) {\n        var rotationTrack = this.generateRotationTrack(rawTracks.modelName, rawTracks.R.curves, initialRotation, rawTracks.preRotations, rawTracks.postRotations);\n        if (rotationTrack !== undefined) tracks.push(rotationTrack);\n      }\n\n      if (rawTracks.S !== undefined && Object.keys(rawTracks.S.curves).length > 0) {\n        var scaleTrack = this.generateVectorTrack(rawTracks.modelName, rawTracks.S.curves, initialScale, 'scale');\n        if (scaleTrack !== undefined) tracks.push(scaleTrack);\n      }\n\n      if (rawTracks.DeformPercent !== undefined) {\n        var morphTrack = this.generateMorphTrack(rawTracks);\n        if (morphTrack !== undefined) tracks.push(morphTrack);\n      }\n\n      return tracks;\n    },\n    generateVectorTrack: function generateVectorTrack(modelName, curves, initialValue, type) {\n      var times = this.getTimesForAllAxes(curves);\n      var values = this.getKeyframeTrackValues(times, curves, initialValue);\n      return new THREE.VectorKeyframeTrack(modelName + '.' + type, times, values);\n    },\n    generateRotationTrack: function generateRotationTrack(modelName, curves, initialValue, preRotations, postRotations) {\n      if (curves.x !== undefined) {\n        this.interpolateRotations(curves.x);\n        curves.x.values = curves.x.values.map(THREE.Math.degToRad);\n      }\n\n      if (curves.y !== undefined) {\n        this.interpolateRotations(curves.y);\n        curves.y.values = curves.y.values.map(THREE.Math.degToRad);\n      }\n\n      if (curves.z !== undefined) {\n        this.interpolateRotations(curves.z);\n        curves.z.values = curves.z.values.map(THREE.Math.degToRad);\n      }\n\n      var times = this.getTimesForAllAxes(curves);\n      var values = this.getKeyframeTrackValues(times, curves, initialValue);\n\n      if (preRotations !== undefined) {\n        preRotations = preRotations.map(THREE.Math.degToRad);\n        preRotations.push('ZYX');\n        preRotations = new THREE.Euler().fromArray(preRotations);\n        preRotations = new THREE.Quaternion().setFromEuler(preRotations);\n      }\n\n      if (postRotations !== undefined) {\n        postRotations = postRotations.map(THREE.Math.degToRad);\n        postRotations.push('ZYX');\n        postRotations = new THREE.Euler().fromArray(postRotations);\n        postRotations = new THREE.Quaternion().setFromEuler(postRotations).inverse();\n      }\n\n      var quaternion = new THREE.Quaternion();\n      var euler = new THREE.Euler();\n      var quaternionValues = [];\n\n      for (var i = 0; i < values.length; i += 3) {\n        euler.set(values[i], values[i + 1], values[i + 2], 'ZYX');\n        quaternion.setFromEuler(euler);\n        if (preRotations !== undefined) quaternion.premultiply(preRotations);\n        if (postRotations !== undefined) quaternion.multiply(postRotations);\n        quaternion.toArray(quaternionValues, i / 3 * 4);\n      }\n\n      return new THREE.QuaternionKeyframeTrack(modelName + '.quaternion', times, quaternionValues);\n    },\n    generateMorphTrack: function generateMorphTrack(rawTracks) {\n      var curves = rawTracks.DeformPercent.curves.morph;\n      var values = curves.values.map(function (val) {\n        return val / 100;\n      });\n      var morphNum = sceneGraph.getObjectByName(rawTracks.modelName).morphTargetDictionary[rawTracks.morphName];\n      return new THREE.NumberKeyframeTrack(rawTracks.modelName + '.morphTargetInfluences[' + morphNum + ']', curves.times, values);\n    },\n    // For all animated objects, times are defined separately for each axis\n    // Here we'll combine the times into one sorted array without duplicates\n    getTimesForAllAxes: function getTimesForAllAxes(curves) {\n      var times = []; // first join together the times for each axis, if defined\n\n      if (curves.x !== undefined) times = times.concat(curves.x.times);\n      if (curves.y !== undefined) times = times.concat(curves.y.times);\n      if (curves.z !== undefined) times = times.concat(curves.z.times); // then sort them and remove duplicates\n\n      times = times.sort(function (a, b) {\n        return a - b;\n      }).filter(function (elem, index, array) {\n        return array.indexOf(elem) == index;\n      });\n      return times;\n    },\n    getKeyframeTrackValues: function getKeyframeTrackValues(times, curves, initialValue) {\n      var prevValue = initialValue;\n      var values = [];\n      var xIndex = -1;\n      var yIndex = -1;\n      var zIndex = -1;\n      times.forEach(function (time) {\n        if (curves.x) xIndex = curves.x.times.indexOf(time);\n        if (curves.y) yIndex = curves.y.times.indexOf(time);\n        if (curves.z) zIndex = curves.z.times.indexOf(time); // if there is an x value defined for this frame, use that\n\n        if (xIndex !== -1) {\n          var xValue = curves.x.values[xIndex];\n          values.push(xValue);\n          prevValue[0] = xValue;\n        } else {\n          // otherwise use the x value from the previous frame\n          values.push(prevValue[0]);\n        }\n\n        if (yIndex !== -1) {\n          var yValue = curves.y.values[yIndex];\n          values.push(yValue);\n          prevValue[1] = yValue;\n        } else {\n          values.push(prevValue[1]);\n        }\n\n        if (zIndex !== -1) {\n          var zValue = curves.z.values[zIndex];\n          values.push(zValue);\n          prevValue[2] = zValue;\n        } else {\n          values.push(prevValue[2]);\n        }\n      });\n      return values;\n    },\n    // Rotations are defined as Euler angles which can have values  of any size\n    // These will be converted to quaternions which don't support values greater than\n    // PI, so we'll interpolate large rotations\n    interpolateRotations: function interpolateRotations(curve) {\n      for (var i = 1; i < curve.values.length; i++) {\n        var initialValue = curve.values[i - 1];\n        var valuesSpan = curve.values[i] - initialValue;\n        var absoluteSpan = Math.abs(valuesSpan);\n\n        if (absoluteSpan >= 180) {\n          var numSubIntervals = absoluteSpan / 180;\n          var step = valuesSpan / numSubIntervals;\n          var nextValue = initialValue + step;\n          var initialTime = curve.times[i - 1];\n          var timeSpan = curve.times[i] - initialTime;\n          var interval = timeSpan / numSubIntervals;\n          var nextTime = initialTime + interval;\n          var interpolatedTimes = [];\n          var interpolatedValues = [];\n\n          while (nextTime < curve.times[i]) {\n            interpolatedTimes.push(nextTime);\n            nextTime += interval;\n            interpolatedValues.push(nextValue);\n            nextValue += step;\n          }\n\n          curve.times = inject(curve.times, i, interpolatedTimes);\n          curve.values = inject(curve.values, i, interpolatedValues);\n        }\n      }\n    }\n  }; // parse an FBX file in ASCII format\n\n  function TextParser() {}\n\n  TextParser.prototype = {\n    constructor: TextParser,\n    getPrevNode: function getPrevNode() {\n      return this.nodeStack[this.currentIndent - 2];\n    },\n    getCurrentNode: function getCurrentNode() {\n      return this.nodeStack[this.currentIndent - 1];\n    },\n    getCurrentProp: function getCurrentProp() {\n      return this.currentProp;\n    },\n    pushStack: function pushStack(node) {\n      this.nodeStack.push(node);\n      this.currentIndent += 1;\n    },\n    popStack: function popStack() {\n      this.nodeStack.pop();\n      this.currentIndent -= 1;\n    },\n    setCurrentProp: function setCurrentProp(val, name) {\n      this.currentProp = val;\n      this.currentPropName = name;\n    },\n    parse: function parse(text) {\n      this.currentIndent = 0;\n      console.log(\"FBXTree: \", FBXTree);\n      this.allNodes = new FBXTree();\n      this.nodeStack = [];\n      this.currentProp = [];\n      this.currentPropName = '';\n      var self = this;\n      var split = text.split(/[\\r\\n]+/);\n      split.forEach(function (line, i) {\n        var matchComment = line.match(/^[\\s\\t]*;/);\n        var matchEmpty = line.match(/^[\\s\\t]*$/);\n        if (matchComment || matchEmpty) return;\n        var matchBeginning = line.match('^\\\\t{' + self.currentIndent + '}(\\\\w+):(.*){', '');\n        var matchProperty = line.match('^\\\\t{' + self.currentIndent + '}(\\\\w+):[\\\\s\\\\t\\\\r\\\\n](.*)');\n        var matchEnd = line.match('^\\\\t{' + (self.currentIndent - 1) + '}}');\n\n        if (matchBeginning) {\n          self.parseNodeBegin(line, matchBeginning);\n        } else if (matchProperty) {\n          self.parseNodeProperty(line, matchProperty, split[++i]);\n        } else if (matchEnd) {\n          self.popStack();\n        } else if (line.match(/^[^\\s\\t}]/)) {\n          // large arrays are split over multiple lines terminated with a ',' character\n          // if this is encountered the line needs to be joined to the previous line\n          self.parseNodePropertyContinued(line);\n        }\n      });\n      return this.allNodes;\n    },\n    parseNodeBegin: function parseNodeBegin(line, property) {\n      var nodeName = property[1].trim().replace(/^\"/, '').replace(/\"$/, '');\n      var nodeAttrs = property[2].split(',').map(function (attr) {\n        return attr.trim().replace(/^\"/, '').replace(/\"$/, '');\n      });\n      var node = {\n        name: nodeName\n      };\n      var attrs = this.parseNodeAttr(nodeAttrs);\n      var currentNode = this.getCurrentNode(); // a top node\n\n      if (this.currentIndent === 0) {\n        this.allNodes.add(nodeName, node);\n      } else {\n        // a subnode\n        // if the subnode already exists, append it\n        if (nodeName in currentNode) {\n          // special case Pose needs PoseNodes as an array\n          if (nodeName === 'PoseNode') {\n            currentNode.PoseNode.push(node);\n          } else if (currentNode[nodeName].id !== undefined) {\n            currentNode[nodeName] = {};\n            currentNode[nodeName][currentNode[nodeName].id] = currentNode[nodeName];\n          }\n\n          if (attrs.id !== '') currentNode[nodeName][attrs.id] = node;\n        } else if (typeof attrs.id === 'number') {\n          currentNode[nodeName] = {};\n          currentNode[nodeName][attrs.id] = node;\n        } else if (nodeName !== 'Properties70') {\n          if (nodeName === 'PoseNode') currentNode[nodeName] = [node];else currentNode[nodeName] = node;\n        }\n      }\n\n      if (typeof attrs.id === 'number') node.id = attrs.id;\n      if (attrs.name !== '') node.attrName = attrs.name;\n      if (attrs.type !== '') node.attrType = attrs.type;\n      this.pushStack(node);\n    },\n    parseNodeAttr: function parseNodeAttr(attrs) {\n      var id = attrs[0];\n\n      if (attrs[0] !== '') {\n        id = parseInt(attrs[0]);\n\n        if (isNaN(id)) {\n          id = attrs[0];\n        }\n      }\n\n      var name = '',\n          type = '';\n\n      if (attrs.length > 1) {\n        name = attrs[1].replace(/^(\\w+)::/, '');\n        type = attrs[2];\n      }\n\n      return {\n        id: id,\n        name: name,\n        type: type\n      };\n    },\n    parseNodeProperty: function parseNodeProperty(line, property, contentLine) {\n      var propName = property[1].replace(/^\"/, '').replace(/\"$/, '').trim();\n      var propValue = property[2].replace(/^\"/, '').replace(/\"$/, '').trim(); // for special case: base64 image data follows \"Content: ,\" line\n      //\tContent: ,\n      //\t \"/9j/4RDaRXhpZgAATU0A...\"\n\n      if (propName === 'Content' && propValue === ',') {\n        propValue = contentLine.replace(/\"/g, '').replace(/,$/, '').trim();\n      }\n\n      var currentNode = this.getCurrentNode();\n      var parentName = currentNode.name;\n\n      if (parentName === 'Properties70') {\n        this.parseNodeSpecialProperty(line, propName, propValue);\n        return;\n      } // Connections\n\n\n      if (propName === 'C') {\n        var connProps = propValue.split(',').slice(1);\n        var from = parseInt(connProps[0]);\n        var to = parseInt(connProps[1]);\n        var rest = propValue.split(',').slice(3);\n        rest = rest.map(function (elem) {\n          return elem.trim().replace(/^\"/, '');\n        });\n        propName = 'connections';\n        propValue = [from, to];\n        append(propValue, rest);\n\n        if (currentNode[propName] === undefined) {\n          currentNode[propName] = [];\n        }\n      } // Node\n\n\n      if (propName === 'Node') currentNode.id = propValue; // connections\n\n      if (propName in currentNode && Array.isArray(currentNode[propName])) {\n        currentNode[propName].push(propValue);\n      } else {\n        if (propName !== 'a') currentNode[propName] = propValue;else currentNode.a = propValue;\n      }\n\n      this.setCurrentProp(currentNode, propName); // convert string to array, unless it ends in ',' in which case more will be added to it\n\n      if (propName === 'a' && propValue.slice(-1) !== ',') {\n        currentNode.a = parseNumberArray(propValue);\n      }\n    },\n    parseNodePropertyContinued: function parseNodePropertyContinued(line) {\n      var currentNode = this.getCurrentNode();\n      currentNode.a += line; // if the line doesn't end in ',' we have reached the end of the property value\n      // so convert the string to an array\n\n      if (line.slice(-1) !== ',') {\n        currentNode.a = parseNumberArray(currentNode.a);\n      }\n    },\n    // parse \"Property70\"\n    parseNodeSpecialProperty: function parseNodeSpecialProperty(line, propName, propValue) {\n      // split this\n      // P: \"Lcl Scaling\", \"Lcl Scaling\", \"\", \"A\",1,1,1\n      // into array like below\n      // [\"Lcl Scaling\", \"Lcl Scaling\", \"\", \"A\", \"1,1,1\" ]\n      var props = propValue.split('\",').map(function (prop) {\n        return prop.trim().replace(/^\\\"/, '').replace(/\\s/, '_');\n      });\n      var innerPropName = props[0];\n      var innerPropType1 = props[1];\n      var innerPropType2 = props[2];\n      var innerPropFlag = props[3];\n      var innerPropValue = props[4]; // cast values where needed, otherwise leave as strings\n\n      switch (innerPropType1) {\n        case 'int':\n        case 'enum':\n        case 'bool':\n        case 'ULongLong':\n        case 'double':\n        case 'Number':\n        case 'FieldOfView':\n          innerPropValue = parseFloat(innerPropValue);\n          break;\n\n        case 'Color':\n        case 'ColorRGB':\n        case 'Vector3D':\n        case 'Lcl_Translation':\n        case 'Lcl_Rotation':\n        case 'Lcl_Scaling':\n          innerPropValue = parseNumberArray(innerPropValue);\n          break;\n      } // CAUTION: these props must append to parent's parent\n\n\n      this.getPrevNode()[innerPropName] = {\n        'type': innerPropType1,\n        'type2': innerPropType2,\n        'flag': innerPropFlag,\n        'value': innerPropValue\n      };\n      this.setCurrentProp(this.getPrevNode(), innerPropName);\n    }\n  }; // Parse an FBX file in Binary format\n\n  function BinaryParser() {}\n\n  BinaryParser.prototype = {\n    constructor: BinaryParser,\n    parse: function parse(buffer) {\n      var reader = new BinaryReader(buffer);\n      reader.skip(23); // skip magic 23 bytes\n\n      var version = reader.getUint32();\n      console.log('THREE.FBXLoader: FBX binary version: ' + version);\n      var allNodes = new FBXTree();\n\n      while (!this.endOfContent(reader)) {\n        var node = this.parseNode(reader, version);\n        if (node !== null) allNodes.add(node.name, node);\n      }\n\n      return allNodes;\n    },\n    // Check if reader has reached the end of content.\n    endOfContent: function endOfContent(reader) {\n      // footer size: 160bytes + 16-byte alignment padding\n      // - 16bytes: magic\n      // - padding til 16-byte alignment (at least 1byte?)\n      //\t(seems like some exporters embed fixed 15 or 16bytes?)\n      // - 4bytes: magic\n      // - 4bytes: version\n      // - 120bytes: zero\n      // - 16bytes: magic\n      if (reader.size() % 16 === 0) {\n        return (reader.getOffset() + 160 + 16 & ~0xf) >= reader.size();\n      } else {\n        return reader.getOffset() + 160 + 16 >= reader.size();\n      }\n    },\n    // recursively parse nodes until the end of the file is reached\n    parseNode: function parseNode(reader, version) {\n      var node = {}; // The first three data sizes depends on version.\n\n      var endOffset = version >= 7500 ? reader.getUint64() : reader.getUint32();\n      var numProperties = version >= 7500 ? reader.getUint64() : reader.getUint32(); // note: do not remove this even if you get a linter warning as it moves the buffer forward\n\n      var propertyListLen = version >= 7500 ? reader.getUint64() : reader.getUint32();\n      var nameLen = reader.getUint8();\n      var name = reader.getString(nameLen); // Regards this node as NULL-record if endOffset is zero\n\n      if (endOffset === 0) return null;\n      var propertyList = [];\n\n      for (var i = 0; i < numProperties; i++) {\n        propertyList.push(this.parseProperty(reader));\n      } // Regards the first three elements in propertyList as id, attrName, and attrType\n\n\n      var id = propertyList.length > 0 ? propertyList[0] : '';\n      var attrName = propertyList.length > 1 ? propertyList[1] : '';\n      var attrType = propertyList.length > 2 ? propertyList[2] : ''; // check if this node represents just a single property\n      // like (name, 0) set or (name2, [0, 1, 2]) set of {name: 0, name2: [0, 1, 2]}\n\n      node.singleProperty = numProperties === 1 && reader.getOffset() === endOffset ? true : false;\n\n      while (endOffset > reader.getOffset()) {\n        var subNode = this.parseNode(reader, version);\n        if (subNode !== null) this.parseSubNode(name, node, subNode);\n      }\n\n      node.propertyList = propertyList; // raw property list used by parent\n\n      if (typeof id === 'number') node.id = id;\n      if (attrName !== '') node.attrName = attrName;\n      if (attrType !== '') node.attrType = attrType;\n      if (name !== '') node.name = name;\n      return node;\n    },\n    parseSubNode: function parseSubNode(name, node, subNode) {\n      // special case: child node is single property\n      if (subNode.singleProperty === true) {\n        var value = subNode.propertyList[0];\n\n        if (Array.isArray(value)) {\n          node[subNode.name] = subNode;\n          subNode.a = value;\n        } else {\n          node[subNode.name] = value;\n        }\n      } else if (name === 'Connections' && subNode.name === 'C') {\n        var array = [];\n        subNode.propertyList.forEach(function (property, i) {\n          // first Connection is FBX type (OO, OP, etc.). We'll discard these\n          if (i !== 0) array.push(property);\n        });\n\n        if (node.connections === undefined) {\n          node.connections = [];\n        }\n\n        node.connections.push(array);\n      } else if (subNode.name === 'Properties70') {\n        var keys = Object.keys(subNode);\n        keys.forEach(function (key) {\n          node[key] = subNode[key];\n        });\n      } else if (name === 'Properties70' && subNode.name === 'P') {\n        var innerPropName = subNode.propertyList[0];\n        var innerPropType1 = subNode.propertyList[1];\n        var innerPropType2 = subNode.propertyList[2];\n        var innerPropFlag = subNode.propertyList[3];\n        var innerPropValue;\n        if (innerPropName.indexOf('Lcl ') === 0) innerPropName = innerPropName.replace('Lcl ', 'Lcl_');\n        if (innerPropType1.indexOf('Lcl ') === 0) innerPropType1 = innerPropType1.replace('Lcl ', 'Lcl_');\n\n        if (innerPropType1 === 'Color' || innerPropType1 === 'ColorRGB' || innerPropType1 === 'Vector' || innerPropType1 === 'Vector3D' || innerPropType1.indexOf('Lcl_') === 0) {\n          innerPropValue = [subNode.propertyList[4], subNode.propertyList[5], subNode.propertyList[6]];\n        } else {\n          innerPropValue = subNode.propertyList[4];\n        } // this will be copied to parent, see above\n\n\n        node[innerPropName] = {\n          'type': innerPropType1,\n          'type2': innerPropType2,\n          'flag': innerPropFlag,\n          'value': innerPropValue\n        };\n      } else if (node[subNode.name] === undefined) {\n        if (typeof subNode.id === 'number') {\n          node[subNode.name] = {};\n          node[subNode.name][subNode.id] = subNode;\n        } else {\n          node[subNode.name] = subNode;\n        }\n      } else {\n        if (subNode.name === 'PoseNode') {\n          if (!Array.isArray(node[subNode.name])) {\n            node[subNode.name] = [node[subNode.name]];\n          }\n\n          node[subNode.name].push(subNode);\n        } else if (node[subNode.name][subNode.id] === undefined) {\n          node[subNode.name][subNode.id] = subNode;\n        }\n      }\n    },\n    parseProperty: function parseProperty(reader) {\n      var type = reader.getString(1);\n\n      switch (type) {\n        case 'C':\n          return reader.getBoolean();\n\n        case 'D':\n          return reader.getFloat64();\n\n        case 'F':\n          return reader.getFloat32();\n\n        case 'I':\n          return reader.getInt32();\n\n        case 'L':\n          return reader.getInt64();\n\n        case 'R':\n          var length = reader.getUint32();\n          return reader.getArrayBuffer(length);\n\n        case 'S':\n          var length = reader.getUint32();\n          return reader.getString(length);\n\n        case 'Y':\n          return reader.getInt16();\n\n        case 'b':\n        case 'c':\n        case 'd':\n        case 'f':\n        case 'i':\n        case 'l':\n          var arrayLength = reader.getUint32();\n          var encoding = reader.getUint32(); // 0: non-compressed, 1: compressed\n\n          var compressedLength = reader.getUint32();\n\n          if (encoding === 0) {\n            switch (type) {\n              case 'b':\n              case 'c':\n                return reader.getBooleanArray(arrayLength);\n\n              case 'd':\n                return reader.getFloat64Array(arrayLength);\n\n              case 'f':\n                return reader.getFloat32Array(arrayLength);\n\n              case 'i':\n                return reader.getInt32Array(arrayLength);\n\n              case 'l':\n                return reader.getInt64Array(arrayLength);\n            }\n          }\n\n          if (typeof Zlib === 'undefined') {\n            console.error('THREE.FBXLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js');\n          }\n\n          var inflate = new Zlib.Inflate(new Uint8Array(reader.getArrayBuffer(compressedLength))); // eslint-disable-line no-undef\n\n          var reader2 = new BinaryReader(inflate.decompress().buffer);\n\n          switch (type) {\n            case 'b':\n            case 'c':\n              return reader2.getBooleanArray(arrayLength);\n\n            case 'd':\n              return reader2.getFloat64Array(arrayLength);\n\n            case 'f':\n              return reader2.getFloat32Array(arrayLength);\n\n            case 'i':\n              return reader2.getInt32Array(arrayLength);\n\n            case 'l':\n              return reader2.getInt64Array(arrayLength);\n          }\n\n        default:\n          throw new Error('THREE.FBXLoader: Unknown property type ' + type);\n      }\n    }\n  };\n\n  function BinaryReader(buffer, littleEndian) {\n    this.dv = new DataView(buffer);\n    this.offset = 0;\n    this.littleEndian = littleEndian !== undefined ? littleEndian : true;\n  }\n\n  BinaryReader.prototype = {\n    constructor: BinaryReader,\n    getOffset: function getOffset() {\n      return this.offset;\n    },\n    size: function size() {\n      return this.dv.buffer.byteLength;\n    },\n    skip: function skip(length) {\n      this.offset += length;\n    },\n    // seems like true/false representation depends on exporter.\n    // true: 1 or 'Y'(=0x59), false: 0 or 'T'(=0x54)\n    // then sees LSB.\n    getBoolean: function getBoolean() {\n      return (this.getUint8() & 1) === 1;\n    },\n    getBooleanArray: function getBooleanArray(size) {\n      var a = [];\n\n      for (var i = 0; i < size; i++) {\n        a.push(this.getBoolean());\n      }\n\n      return a;\n    },\n    getUint8: function getUint8() {\n      var value = this.dv.getUint8(this.offset);\n      this.offset += 1;\n      return value;\n    },\n    getInt16: function getInt16() {\n      var value = this.dv.getInt16(this.offset, this.littleEndian);\n      this.offset += 2;\n      return value;\n    },\n    getInt32: function getInt32() {\n      var value = this.dv.getInt32(this.offset, this.littleEndian);\n      this.offset += 4;\n      return value;\n    },\n    getInt32Array: function getInt32Array(size) {\n      var a = [];\n\n      for (var i = 0; i < size; i++) {\n        a.push(this.getInt32());\n      }\n\n      return a;\n    },\n    getUint32: function getUint32() {\n      var value = this.dv.getUint32(this.offset, this.littleEndian);\n      this.offset += 4;\n      return value;\n    },\n    // JavaScript doesn't support 64-bit integer so calculate this here\n    // 1 << 32 will return 1 so using multiply operation instead here.\n    // There's a possibility that this method returns wrong value if the value\n    // is out of the range between Number.MAX_SAFE_INTEGER and Number.MIN_SAFE_INTEGER.\n    // TODO: safely handle 64-bit integer\n    getInt64: function getInt64() {\n      var low, high;\n\n      if (this.littleEndian) {\n        low = this.getUint32();\n        high = this.getUint32();\n      } else {\n        high = this.getUint32();\n        low = this.getUint32();\n      } // calculate negative value\n\n\n      if (high & 0x80000000) {\n        high = ~high & 0xFFFFFFFF;\n        low = ~low & 0xFFFFFFFF;\n        if (low === 0xFFFFFFFF) high = high + 1 & 0xFFFFFFFF;\n        low = low + 1 & 0xFFFFFFFF;\n        return -(high * 0x100000000 + low);\n      }\n\n      return high * 0x100000000 + low;\n    },\n    getInt64Array: function getInt64Array(size) {\n      var a = [];\n\n      for (var i = 0; i < size; i++) {\n        a.push(this.getInt64());\n      }\n\n      return a;\n    },\n    // Note: see getInt64() comment\n    getUint64: function getUint64() {\n      var low, high;\n\n      if (this.littleEndian) {\n        low = this.getUint32();\n        high = this.getUint32();\n      } else {\n        high = this.getUint32();\n        low = this.getUint32();\n      }\n\n      return high * 0x100000000 + low;\n    },\n    getFloat32: function getFloat32() {\n      var value = this.dv.getFloat32(this.offset, this.littleEndian);\n      this.offset += 4;\n      return value;\n    },\n    getFloat32Array: function getFloat32Array(size) {\n      var a = [];\n\n      for (var i = 0; i < size; i++) {\n        a.push(this.getFloat32());\n      }\n\n      return a;\n    },\n    getFloat64: function getFloat64() {\n      var value = this.dv.getFloat64(this.offset, this.littleEndian);\n      this.offset += 8;\n      return value;\n    },\n    getFloat64Array: function getFloat64Array(size) {\n      var a = [];\n\n      for (var i = 0; i < size; i++) {\n        a.push(this.getFloat64());\n      }\n\n      return a;\n    },\n    getArrayBuffer: function getArrayBuffer(size) {\n      var value = this.dv.buffer.slice(this.offset, this.offset + size);\n      this.offset += size;\n      return value;\n    },\n    getString: function getString(size) {\n      // note: safari 9 doesn't support Uint8Array.indexOf; create intermediate array instead\n      var a = [];\n\n      for (var i = 0; i < size; i++) {\n        a[i] = this.getUint8();\n      }\n\n      var nullByte = a.indexOf(0);\n      if (nullByte >= 0) a = a.slice(0, nullByte);\n      return THREE.LoaderUtils.decodeText(new Uint8Array(a));\n    }\n  }; // FBXTree holds a representation of the FBX data, returned by the TextParser ( FBX ASCII format)\n  // and BinaryParser( FBX Binary format)\n\n  function FBXTree() {}\n\n  FBXTree.prototype = {\n    constructor: FBXTree,\n    add: function add(key, val) {\n      this[key] = val;\n    }\n  }; // ************** UTILITY FUNCTIONS **************\n\n  function isFbxFormatBinary(buffer) {\n    var CORRECT = 'Kaydara FBX Binary  \\0';\n    return buffer.byteLength >= CORRECT.length && CORRECT === convertArrayBufferToString(buffer, 0, CORRECT.length);\n  }\n\n  function isFbxFormatASCII(text) {\n    var CORRECT = ['K', 'a', 'y', 'd', 'a', 'r', 'a', '\\\\', 'F', 'B', 'X', '\\\\', 'B', 'i', 'n', 'a', 'r', 'y', '\\\\', '\\\\'];\n    var cursor = 0;\n\n    function read(offset) {\n      var result = text[offset - 1];\n      text = text.slice(cursor + offset);\n      cursor++;\n      return result;\n    }\n\n    for (var i = 0; i < CORRECT.length; ++i) {\n      var num = read(1);\n\n      if (num === CORRECT[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  function getFbxVersion(text) {\n    var versionRegExp = /FBXVersion: (\\d+)/;\n    var match = text.match(versionRegExp);\n\n    if (match) {\n      var version = parseInt(match[1]);\n      return version;\n    }\n\n    throw new Error('THREE.FBXLoader: Cannot find the version number for the file given.');\n  } // Converts FBX ticks into real time seconds.\n\n\n  function convertFBXTimeToSeconds(time) {\n    return time / 46186158000;\n  }\n\n  var dataArray = []; // extracts the data from the correct position in the FBX array based on indexing type\n\n  function getData(polygonVertexIndex, polygonIndex, vertexIndex, infoObject) {\n    var index;\n\n    switch (infoObject.mappingType) {\n      case 'ByPolygonVertex':\n        index = polygonVertexIndex;\n        break;\n\n      case 'ByPolygon':\n        index = polygonIndex;\n        break;\n\n      case 'ByVertice':\n        index = vertexIndex;\n        break;\n\n      case 'AllSame':\n        index = infoObject.indices[0];\n        break;\n\n      default:\n        console.warn('THREE.FBXLoader: unknown attribute mapping type ' + infoObject.mappingType);\n    }\n\n    if (infoObject.referenceType === 'IndexToDirect') index = infoObject.indices[index];\n    var from = index * infoObject.dataSize;\n    var to = from + infoObject.dataSize;\n    return slice(dataArray, infoObject.buffer, from, to);\n  }\n\n  var tempMat = new THREE.Matrix4();\n  var tempEuler = new THREE.Euler();\n  var tempVec = new THREE.Vector3();\n  var translation = new THREE.Vector3();\n  var rotation = new THREE.Matrix4(); // generate transformation from FBX transform data\n  // ref: https://help.autodesk.com/view/FBX/2017/ENU/?guid=__files_GUID_10CDD63C_79C1_4F2D_BB28_AD2BE65A02ED_htm\n  // transformData = {\n  //\t eulerOrder: int,\n  //\t translation: [],\n  //   rotationOffset: [],\n  //\t preRotation\n  //\t rotation\n  //\t postRotation\n  //   scale\n  // }\n  // all entries are optional\n\n  function generateTransform(transformData) {\n    var transform = new THREE.Matrix4();\n    translation.set(0, 0, 0);\n    rotation.identity();\n    var order = transformData.eulerOrder ? getEulerOrder(transformData.eulerOrder) : getEulerOrder(0);\n    if (transformData.translation) translation.fromArray(transformData.translation);\n    if (transformData.rotationOffset) translation.add(tempVec.fromArray(transformData.rotationOffset));\n\n    if (transformData.rotation) {\n      var array = transformData.rotation.map(THREE.Math.degToRad);\n      array.push(order);\n      rotation.makeRotationFromEuler(tempEuler.fromArray(array));\n    }\n\n    if (transformData.preRotation) {\n      var array = transformData.preRotation.map(THREE.Math.degToRad);\n      array.push(order);\n      tempMat.makeRotationFromEuler(tempEuler.fromArray(array));\n      rotation.premultiply(tempMat);\n    }\n\n    if (transformData.postRotation) {\n      var array = transformData.postRotation.map(THREE.Math.degToRad);\n      array.push(order);\n      tempMat.makeRotationFromEuler(tempEuler.fromArray(array));\n      tempMat.getInverse(tempMat);\n      rotation.multiply(tempMat);\n    }\n\n    if (transformData.scale) transform.scale(tempVec.fromArray(transformData.scale));\n    transform.setPosition(translation);\n    transform.multiply(rotation);\n    return transform;\n  } // Returns the three.js intrinsic Euler order corresponding to FBX extrinsic Euler order\n  // ref: http://help.autodesk.com/view/FBX/2017/ENU/?guid=__cpp_ref_class_fbx_euler_html\n\n\n  function getEulerOrder(order) {\n    var enums = ['ZYX', // -> XYZ extrinsic\n    'YZX', // -> XZY extrinsic\n    'XZY', // -> YZX extrinsic\n    'ZXY', // -> YXZ extrinsic\n    'YXZ', // -> ZXY extrinsic\n    'XYZ' // -> ZYX extrinsic\n    //'SphericXYZ', // not possible to support\n    ];\n\n    if (order === 6) {\n      console.warn('THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect.');\n      return enums[0];\n    }\n\n    return enums[order];\n  } // Parses comma separated list of numbers and returns them an array.\n  // Used internally by the TextParser\n\n\n  function parseNumberArray(value) {\n    var array = value.split(',').map(function (val) {\n      return parseFloat(val);\n    });\n    return array;\n  }\n\n  function convertArrayBufferToString(buffer, from, to) {\n    if (from === undefined) from = 0;\n    if (to === undefined) to = buffer.byteLength;\n    return THREE.LoaderUtils.decodeText(new Uint8Array(buffer, from, to));\n  }\n\n  function append(a, b) {\n    for (var i = 0, j = a.length, l = b.length; i < l; i++, j++) {\n      a[j] = b[i];\n    }\n  }\n\n  function slice(a, b, from, to) {\n    for (var i = from, j = 0; i < to; i++, j++) {\n      a[j] = b[i];\n    }\n\n    return a;\n  } // inject array a2 into array a1 at index\n\n\n  function inject(a1, index, a2) {\n    return a1.slice(0, index).concat(a2).concat(a1.slice(index));\n  }\n\n  return FBXLoader;\n}();","require(\"core-js/modules/es6.function.bind\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\n//\nmodule.exports = function shallowEqual(objA, objB, compare, compareContext) {\n  var ret = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n  if (ret !== void 0) {\n    return !!ret;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== \"object\" || !objA || typeof objB !== \"object\" || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB); // Test for A's keys different from B.\n\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n    ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n    if (ret === false || ret === void 0 && valueA !== valueB) {\n      return false;\n    }\n  }\n\n  return true;\n};","require(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.array.sort\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.map\");\n\nrequire(\"core-js/modules/es6.function.bind\");\n\n/**\n * Based on aframe/examples/showcase/tracked-controls.\n *\n * Implement bounding sphere collision detection for entities with a mesh.\n * Sets the specified state on the intersected entities.\n *\n * @property {string} objects - Selector of the entities to test for collision.\n * @property {string} state - State to set on collided entities.\n *\n */\nmodule.exports = AFRAME.registerComponent('sphere-collider', {\n  schema: {\n    objects: {\n      \"default\": ''\n    },\n    state: {\n      \"default\": 'collided'\n    },\n    radius: {\n      \"default\": 0.05\n    },\n    watch: {\n      \"default\": true\n    }\n  },\n  init: function init() {\n    /** @type {MutationObserver} */\n    this.observer = null;\n    /** @type {Array<Element>} Elements to watch for collisions. */\n\n    this.els = [];\n    /** @type {Array<Element>} Elements currently in collision state. */\n\n    this.collisions = [];\n    this.handleHit = this.handleHit.bind(this);\n    this.handleHitEnd = this.handleHitEnd.bind(this);\n  },\n  remove: function remove() {\n    this.pause();\n  },\n  play: function play() {\n    var sceneEl = this.el.sceneEl;\n\n    if (this.data.watch) {\n      this.observer = new MutationObserver(this.update.bind(this, null));\n      this.observer.observe(sceneEl, {\n        childList: true,\n        subtree: true\n      });\n    }\n  },\n  pause: function pause() {\n    if (this.observer) {\n      this.observer.disconnect();\n      this.observer = null;\n    }\n  },\n\n  /**\n   * Update list of entities to test for collision.\n   */\n  update: function update() {\n    var data = this.data;\n    var objectEls; // Push entities into list of els to intersect.\n\n    if (data.objects) {\n      objectEls = this.el.sceneEl.querySelectorAll(data.objects);\n    } else {\n      // If objects not defined, intersect with everything.\n      objectEls = this.el.sceneEl.children;\n    } // Convert from NodeList to Array\n\n\n    this.els = Array.prototype.slice.call(objectEls);\n  },\n  tick: function () {\n    var position = new THREE.Vector3(),\n        meshPosition = new THREE.Vector3(),\n        colliderScale = new THREE.Vector3(),\n        size = new THREE.Vector3(),\n        box = new THREE.Box3(),\n        distanceMap = new Map();\n    return function () {\n      var el = this.el,\n          data = this.data,\n          mesh = el.getObject3D('mesh'),\n          collisions = [];\n      var colliderRadius;\n\n      if (!mesh) {\n        return;\n      }\n\n      distanceMap.clear();\n      el.object3D.getWorldPosition(position);\n      el.object3D.getWorldScale(colliderScale);\n      colliderRadius = data.radius * scaleFactor(colliderScale); // Update collision list.\n\n      this.els.forEach(intersect); // Emit events and add collision states, in order of distance.\n\n      collisions.sort(function (a, b) {\n        return distanceMap.get(a) > distanceMap.get(b) ? 1 : -1;\n      }).forEach(this.handleHit); // Remove collision state from current element.\n\n      if (collisions.length === 0) {\n        el.emit('hit', {\n          el: null\n        });\n      } // Remove collision state from other elements.\n\n\n      this.collisions.filter(function (el) {\n        return !distanceMap.has(el);\n      }).forEach(this.handleHitEnd); // Store new collisions\n\n      this.collisions = collisions; // Bounding sphere collision detection\n\n      function intersect(el) {\n        var radius, mesh, distance, extent;\n\n        if (!el.isEntity) {\n          return;\n        }\n\n        mesh = el.getObject3D('mesh');\n\n        if (!mesh) {\n          return;\n        }\n\n        box.setFromObject(mesh).getSize(size);\n        extent = Math.max(size.x, size.y, size.z) / 2;\n        radius = Math.sqrt(2 * extent * extent);\n        box.getCenter(meshPosition);\n\n        if (!radius) {\n          return;\n        }\n\n        distance = position.distanceTo(meshPosition);\n\n        if (distance < radius + colliderRadius) {\n          collisions.push(el);\n          distanceMap.set(el, distance);\n        }\n      } // use max of scale factors to maintain bounding sphere collision\n\n\n      function scaleFactor(scaleVec) {\n        return Math.max.apply(null, scaleVec.toArray());\n      }\n    };\n  }(),\n  handleHit: function handleHit(targetEl) {\n    targetEl.emit('hit');\n    targetEl.addState(this.data.state);\n    this.el.emit('hit', {\n      el: targetEl\n    });\n  },\n  handleHitEnd: function handleHitEnd(targetEl) {\n    targetEl.emit('hitend');\n    targetEl.removeState(this.data.state);\n    this.el.emit('hitend', {\n      el: targetEl\n    });\n  }\n});","'use strict';\n// https://github.com/sebmarkbage/ecmascript-string-left-right-trim\nrequire('./_string-trim')('trimLeft', function ($trim) {\n  return function trimLeft() {\n    return $trim(this, 1);\n  };\n}, 'trimStart');\n","import \"core-js/modules/es6.object.create\";\nimport \"core-js/modules/es6.date.now\";\nimport \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.array.map\";\nvar version = '18.5.0';\n/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\n\nvar _Group = function _Group() {\n  this._tweens = {};\n  this._tweensAddedDuringUpdate = {};\n};\n\n_Group.prototype = {\n  getAll: function getAll() {\n    return Object.keys(this._tweens).map(function (tweenId) {\n      return this._tweens[tweenId];\n    }.bind(this));\n  },\n  removeAll: function removeAll() {\n    this._tweens = {};\n  },\n  add: function add(tween) {\n    this._tweens[tween.getId()] = tween;\n    this._tweensAddedDuringUpdate[tween.getId()] = tween;\n  },\n  remove: function remove(tween) {\n    delete this._tweens[tween.getId()];\n    delete this._tweensAddedDuringUpdate[tween.getId()];\n  },\n  update: function update(time, preserve) {\n    var tweenIds = Object.keys(this._tweens);\n\n    if (tweenIds.length === 0) {\n      return false;\n    }\n\n    time = time !== undefined ? time : TWEEN.now(); // Tweens are updated in \"batches\". If you add a new tween during an\n    // update, then the new tween will be updated in the next batch.\n    // If you remove a tween during an update, it may or may not be updated.\n    // However, if the removed tween was added during the current batch,\n    // then it will not be updated.\n\n    while (tweenIds.length > 0) {\n      this._tweensAddedDuringUpdate = {};\n\n      for (var i = 0; i < tweenIds.length; i++) {\n        var tween = this._tweens[tweenIds[i]];\n\n        if (tween && tween.update(time) === false) {\n          tween._isPlaying = false;\n\n          if (!preserve) {\n            delete this._tweens[tweenIds[i]];\n          }\n        }\n      }\n\n      tweenIds = Object.keys(this._tweensAddedDuringUpdate);\n    }\n\n    return true;\n  }\n};\nvar TWEEN = new _Group();\nTWEEN.Group = _Group;\nTWEEN._nextId = 0;\n\nTWEEN.nextId = function () {\n  return TWEEN._nextId++;\n}; // Include a performance.now polyfill.\n// In node.js, use process.hrtime.\n\n\nif (typeof self === 'undefined' && typeof process !== 'undefined' && process.hrtime) {\n  TWEEN.now = function () {\n    var time = process.hrtime(); // Convert [seconds, nanoseconds] to milliseconds.\n\n    return time[0] * 1000 + time[1] / 1000000;\n  };\n} // In a browser, use self.performance.now if it is available.\nelse if (typeof self !== 'undefined' && self.performance !== undefined && self.performance.now !== undefined) {\n    // This must be bound, because directly assigning this function\n    // leads to an invocation exception in Chrome.\n    TWEEN.now = self.performance.now.bind(self.performance);\n  } // Use Date.now if it is available.\n  else if (Date.now !== undefined) {\n      TWEEN.now = Date.now;\n    } // Otherwise, use 'new Date().getTime()'.\n    else {\n        TWEEN.now = function () {\n          return new Date().getTime();\n        };\n      }\n\nTWEEN.Tween = function (object, group) {\n  this._isPaused = false;\n  this._pauseStart = null;\n  this._object = object;\n  this._valuesStart = {};\n  this._valuesEnd = {};\n  this._valuesStartRepeat = {};\n  this._duration = 1000;\n  this._repeat = 0;\n  this._repeatDelayTime = undefined;\n  this._yoyo = false;\n  this._isPlaying = false;\n  this._reversed = false;\n  this._delayTime = 0;\n  this._startTime = null;\n  this._easingFunction = TWEEN.Easing.Linear.None;\n  this._interpolationFunction = TWEEN.Interpolation.Linear;\n  this._chainedTweens = [];\n  this._onStartCallback = null;\n  this._onStartCallbackFired = false;\n  this._onUpdateCallback = null;\n  this._onRepeatCallback = null;\n  this._onCompleteCallback = null;\n  this._onStopCallback = null;\n  this._group = group || TWEEN;\n  this._id = TWEEN.nextId();\n};\n\nTWEEN.Tween.prototype = {\n  getId: function getId() {\n    return this._id;\n  },\n  isPlaying: function isPlaying() {\n    return this._isPlaying;\n  },\n  isPaused: function isPaused() {\n    return this._isPaused;\n  },\n  to: function to(properties, duration) {\n    this._valuesEnd = Object.create(properties);\n\n    if (duration !== undefined) {\n      this._duration = duration;\n    }\n\n    return this;\n  },\n  duration: function duration(d) {\n    this._duration = d;\n    return this;\n  },\n  start: function start(time) {\n    this._group.add(this);\n\n    this._isPlaying = true;\n    this._isPaused = false;\n    this._onStartCallbackFired = false;\n    this._startTime = time !== undefined ? typeof time === 'string' ? TWEEN.now() + parseFloat(time) : time : TWEEN.now();\n    this._startTime += this._delayTime;\n\n    for (var property in this._valuesEnd) {\n      // Check if an Array was provided as property value\n      if (this._valuesEnd[property] instanceof Array) {\n        if (this._valuesEnd[property].length === 0) {\n          continue;\n        } // Create a local copy of the Array with the start value at the front\n\n\n        this._valuesEnd[property] = [this._object[property]].concat(this._valuesEnd[property]);\n      } // If `to()` specifies a property that doesn't exist in the source object,\n      // we should not set that property in the object\n\n\n      if (this._object[property] === undefined) {\n        continue;\n      } // Save the starting value, but only once.\n\n\n      if (typeof this._valuesStart[property] === 'undefined') {\n        this._valuesStart[property] = this._object[property];\n      }\n\n      if (this._valuesStart[property] instanceof Array === false) {\n        this._valuesStart[property] *= 1.0; // Ensures we're using numbers, not strings\n      }\n\n      this._valuesStartRepeat[property] = this._valuesStart[property] || 0;\n    }\n\n    return this;\n  },\n  stop: function stop() {\n    if (!this._isPlaying) {\n      return this;\n    }\n\n    this._group.remove(this);\n\n    this._isPlaying = false;\n    this._isPaused = false;\n\n    if (this._onStopCallback !== null) {\n      this._onStopCallback(this._object);\n    }\n\n    this.stopChainedTweens();\n    return this;\n  },\n  end: function end() {\n    this.update(Infinity);\n    return this;\n  },\n  pause: function pause(time) {\n    if (this._isPaused || !this._isPlaying) {\n      return this;\n    }\n\n    this._isPaused = true;\n    this._pauseStart = time === undefined ? TWEEN.now() : time;\n\n    this._group.remove(this);\n\n    return this;\n  },\n  resume: function resume(time) {\n    if (!this._isPaused || !this._isPlaying) {\n      return this;\n    }\n\n    this._isPaused = false;\n    this._startTime += (time === undefined ? TWEEN.now() : time) - this._pauseStart;\n    this._pauseStart = 0;\n\n    this._group.add(this);\n\n    return this;\n  },\n  stopChainedTweens: function stopChainedTweens() {\n    for (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n      this._chainedTweens[i].stop();\n    }\n  },\n  group: function group(_group) {\n    this._group = _group;\n    return this;\n  },\n  delay: function delay(amount) {\n    this._delayTime = amount;\n    return this;\n  },\n  repeat: function repeat(times) {\n    this._repeat = times;\n    return this;\n  },\n  repeatDelay: function repeatDelay(amount) {\n    this._repeatDelayTime = amount;\n    return this;\n  },\n  yoyo: function yoyo(_yoyo) {\n    this._yoyo = _yoyo;\n    return this;\n  },\n  easing: function easing(easingFunction) {\n    this._easingFunction = easingFunction;\n    return this;\n  },\n  interpolation: function interpolation(interpolationFunction) {\n    this._interpolationFunction = interpolationFunction;\n    return this;\n  },\n  chain: function chain() {\n    this._chainedTweens = arguments;\n    return this;\n  },\n  onStart: function onStart(callback) {\n    this._onStartCallback = callback;\n    return this;\n  },\n  onUpdate: function onUpdate(callback) {\n    this._onUpdateCallback = callback;\n    return this;\n  },\n  onRepeat: function onRepeat(callback) {\n    this._onRepeatCallback = callback;\n    return this;\n  },\n  onComplete: function onComplete(callback) {\n    this._onCompleteCallback = callback;\n    return this;\n  },\n  onStop: function onStop(callback) {\n    this._onStopCallback = callback;\n    return this;\n  },\n  update: function update(time) {\n    var property;\n    var elapsed;\n    var value;\n\n    if (time < this._startTime) {\n      return true;\n    }\n\n    if (this._onStartCallbackFired === false) {\n      if (this._onStartCallback !== null) {\n        this._onStartCallback(this._object);\n      }\n\n      this._onStartCallbackFired = true;\n    }\n\n    elapsed = (time - this._startTime) / this._duration;\n    elapsed = this._duration === 0 || elapsed > 1 ? 1 : elapsed;\n    value = this._easingFunction(elapsed);\n\n    for (property in this._valuesEnd) {\n      // Don't update properties that do not exist in the source object\n      if (this._valuesStart[property] === undefined) {\n        continue;\n      }\n\n      var start = this._valuesStart[property] || 0;\n      var end = this._valuesEnd[property];\n\n      if (end instanceof Array) {\n        this._object[property] = this._interpolationFunction(end, value);\n      } else {\n        // Parses relative end values with start as base (e.g.: +10, -3)\n        if (typeof end === 'string') {\n          if (end.charAt(0) === '+' || end.charAt(0) === '-') {\n            end = start + parseFloat(end);\n          } else {\n            end = parseFloat(end);\n          }\n        } // Protect against non numeric properties.\n\n\n        if (typeof end === 'number') {\n          this._object[property] = start + (end - start) * value;\n        }\n      }\n    }\n\n    if (this._onUpdateCallback !== null) {\n      this._onUpdateCallback(this._object, elapsed);\n    }\n\n    if (elapsed === 1) {\n      if (this._repeat > 0) {\n        if (isFinite(this._repeat)) {\n          this._repeat--;\n        } // Reassign starting values, restart by making startTime = now\n\n\n        for (property in this._valuesStartRepeat) {\n          if (typeof this._valuesEnd[property] === 'string') {\n            this._valuesStartRepeat[property] = this._valuesStartRepeat[property] + parseFloat(this._valuesEnd[property]);\n          }\n\n          if (this._yoyo) {\n            var tmp = this._valuesStartRepeat[property];\n            this._valuesStartRepeat[property] = this._valuesEnd[property];\n            this._valuesEnd[property] = tmp;\n          }\n\n          this._valuesStart[property] = this._valuesStartRepeat[property];\n        }\n\n        if (this._yoyo) {\n          this._reversed = !this._reversed;\n        }\n\n        if (this._repeatDelayTime !== undefined) {\n          this._startTime = time + this._repeatDelayTime;\n        } else {\n          this._startTime = time + this._delayTime;\n        }\n\n        if (this._onRepeatCallback !== null) {\n          this._onRepeatCallback(this._object);\n        }\n\n        return true;\n      } else {\n        if (this._onCompleteCallback !== null) {\n          this._onCompleteCallback(this._object);\n        }\n\n        for (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n          // Make the chained tweens start exactly at the time they should,\n          // even if the `update()` method was called way past the duration of the tween\n          this._chainedTweens[i].start(this._startTime + this._duration);\n        }\n\n        return false;\n      }\n    }\n\n    return true;\n  }\n};\nTWEEN.Easing = {\n  Linear: {\n    None: function None(k) {\n      return k;\n    }\n  },\n  Quadratic: {\n    In: function In(k) {\n      return k * k;\n    },\n    Out: function Out(k) {\n      return k * (2 - k);\n    },\n    InOut: function InOut(k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k;\n      }\n\n      return -0.5 * (--k * (k - 2) - 1);\n    }\n  },\n  Cubic: {\n    In: function In(k) {\n      return k * k * k;\n    },\n    Out: function Out(k) {\n      return --k * k * k + 1;\n    },\n    InOut: function InOut(k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k;\n      }\n\n      return 0.5 * ((k -= 2) * k * k + 2);\n    }\n  },\n  Quartic: {\n    In: function In(k) {\n      return k * k * k * k;\n    },\n    Out: function Out(k) {\n      return 1 - --k * k * k * k;\n    },\n    InOut: function InOut(k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k * k;\n      }\n\n      return -0.5 * ((k -= 2) * k * k * k - 2);\n    }\n  },\n  Quintic: {\n    In: function In(k) {\n      return k * k * k * k * k;\n    },\n    Out: function Out(k) {\n      return --k * k * k * k * k + 1;\n    },\n    InOut: function InOut(k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k * k * k;\n      }\n\n      return 0.5 * ((k -= 2) * k * k * k * k + 2);\n    }\n  },\n  Sinusoidal: {\n    In: function In(k) {\n      return 1 - Math.cos(k * Math.PI / 2);\n    },\n    Out: function Out(k) {\n      return Math.sin(k * Math.PI / 2);\n    },\n    InOut: function InOut(k) {\n      return 0.5 * (1 - Math.cos(Math.PI * k));\n    }\n  },\n  Exponential: {\n    In: function In(k) {\n      return k === 0 ? 0 : Math.pow(1024, k - 1);\n    },\n    Out: function Out(k) {\n      return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);\n    },\n    InOut: function InOut(k) {\n      if (k === 0) {\n        return 0;\n      }\n\n      if (k === 1) {\n        return 1;\n      }\n\n      if ((k *= 2) < 1) {\n        return 0.5 * Math.pow(1024, k - 1);\n      }\n\n      return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);\n    }\n  },\n  Circular: {\n    In: function In(k) {\n      return 1 - Math.sqrt(1 - k * k);\n    },\n    Out: function Out(k) {\n      return Math.sqrt(1 - --k * k);\n    },\n    InOut: function InOut(k) {\n      if ((k *= 2) < 1) {\n        return -0.5 * (Math.sqrt(1 - k * k) - 1);\n      }\n\n      return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n    }\n  },\n  Elastic: {\n    In: function In(k) {\n      if (k === 0) {\n        return 0;\n      }\n\n      if (k === 1) {\n        return 1;\n      }\n\n      return -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n    },\n    Out: function Out(k) {\n      if (k === 0) {\n        return 0;\n      }\n\n      if (k === 1) {\n        return 1;\n      }\n\n      return Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1;\n    },\n    InOut: function InOut(k) {\n      if (k === 0) {\n        return 0;\n      }\n\n      if (k === 1) {\n        return 1;\n      }\n\n      k *= 2;\n\n      if (k < 1) {\n        return -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n      }\n\n      return 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1;\n    }\n  },\n  Back: {\n    In: function In(k) {\n      var s = 1.70158;\n      return k * k * ((s + 1) * k - s);\n    },\n    Out: function Out(k) {\n      var s = 1.70158;\n      return --k * k * ((s + 1) * k + s) + 1;\n    },\n    InOut: function InOut(k) {\n      var s = 1.70158 * 1.525;\n\n      if ((k *= 2) < 1) {\n        return 0.5 * (k * k * ((s + 1) * k - s));\n      }\n\n      return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n    }\n  },\n  Bounce: {\n    In: function In(k) {\n      return 1 - TWEEN.Easing.Bounce.Out(1 - k);\n    },\n    Out: function Out(k) {\n      if (k < 1 / 2.75) {\n        return 7.5625 * k * k;\n      } else if (k < 2 / 2.75) {\n        return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75;\n      } else if (k < 2.5 / 2.75) {\n        return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375;\n      } else {\n        return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375;\n      }\n    },\n    InOut: function InOut(k) {\n      if (k < 0.5) {\n        return TWEEN.Easing.Bounce.In(k * 2) * 0.5;\n      }\n\n      return TWEEN.Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;\n    }\n  }\n};\nTWEEN.Interpolation = {\n  Linear: function Linear(v, k) {\n    var m = v.length - 1;\n    var f = m * k;\n    var i = Math.floor(f);\n    var fn = TWEEN.Interpolation.Utils.Linear;\n\n    if (k < 0) {\n      return fn(v[0], v[1], f);\n    }\n\n    if (k > 1) {\n      return fn(v[m], v[m - 1], m - f);\n    }\n\n    return fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\n  },\n  Bezier: function Bezier(v, k) {\n    var b = 0;\n    var n = v.length - 1;\n    var pw = Math.pow;\n    var bn = TWEEN.Interpolation.Utils.Bernstein;\n\n    for (var i = 0; i <= n; i++) {\n      b += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);\n    }\n\n    return b;\n  },\n  CatmullRom: function CatmullRom(v, k) {\n    var m = v.length - 1;\n    var f = m * k;\n    var i = Math.floor(f);\n    var fn = TWEEN.Interpolation.Utils.CatmullRom;\n\n    if (v[0] === v[m]) {\n      if (k < 0) {\n        i = Math.floor(f = m * (1 + k));\n      }\n\n      return fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);\n    } else {\n      if (k < 0) {\n        return v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);\n      }\n\n      if (k > 1) {\n        return v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);\n      }\n\n      return fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);\n    }\n  },\n  Utils: {\n    Linear: function Linear(p0, p1, t) {\n      return (p1 - p0) * t + p0;\n    },\n    Bernstein: function Bernstein(n, i) {\n      var fc = TWEEN.Interpolation.Utils.Factorial;\n      return fc(n) / fc(i) / fc(n - i);\n    },\n    Factorial: function () {\n      var a = [1];\n      return function (n) {\n        var s = 1;\n\n        if (a[n]) {\n          return a[n];\n        }\n\n        for (var i = n; i > 1; i--) {\n          s *= i;\n        }\n\n        a[n] = s;\n        return s;\n      };\n    }(),\n    CatmullRom: function CatmullRom(p0, p1, p2, p3, t) {\n      var v0 = (p2 - p0) * 0.5;\n      var v1 = (p3 - p1) * 0.5;\n      var t2 = t * t;\n      var t3 = t * t2;\n      return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n    }\n  }\n};\nTWEEN.version = version;\nexport default TWEEN;","/**\n * This module provides all required forces to regular ngraph.physics.simulator\n * to make it 3D simulator. Ideally ngraph.physics.simulator should operate\n * with vectors, but on practices that showed performance decrease... Maybe\n * I was doing it wrong, will see if I can refactor/throw away this module.\n */\nmodule.exports = createLayout;\ncreateLayout.get2dLayout = require('ngraph.forcelayout');\n\nfunction createLayout(graph, physicsSettings) {\n  var merge = require('ngraph.merge');\n\n  physicsSettings = merge(physicsSettings, {\n    createQuadTree: require('ngraph.quadtreebh3d'),\n    createBounds: require('./lib/bounds'),\n    createDragForce: require('./lib/dragForce'),\n    createSpringForce: require('./lib/springForce'),\n    integrator: getIntegrator(physicsSettings),\n    createBody: require('./lib/createBody')\n  });\n  return createLayout.get2dLayout(graph, physicsSettings);\n}\n\nfunction getIntegrator(physicsSettings) {\n  if (physicsSettings && physicsSettings.integrator === 'verlet') {\n    return require('./lib/verletIntegrator.js');\n  }\n\n  return require('./lib/eulerIntegrator');\n}","'use strict';\n// B.2.3.14 String.prototype.sup()\nrequire('./_string-html')('sup', function (createHTML) {\n  return function sup() {\n    return createHTML(this, 'sup', '', '');\n  };\n});\n","require(\"core-js/modules/es6.object.define-property\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\n/**\n * Polyfill for the additional KeyboardEvent properties defined in the D3E and\n * D4E draft specifications, by @inexorabletash.\n *\n * See: https://github.com/inexorabletash/polyfill\n */\n(function (global) {\n  var nativeKeyboardEvent = ('KeyboardEvent' in global);\n  if (!nativeKeyboardEvent) global.KeyboardEvent = function KeyboardEvent() {\n    throw TypeError('Illegal constructor');\n  };\n  if (!('DOM_KEY_LOCATION_STANDARD' in global.KeyboardEvent)) global.KeyboardEvent.DOM_KEY_LOCATION_STANDARD = 0x00; // Default or unknown location\n\n  if (!('DOM_KEY_LOCATION_LEFT' in global.KeyboardEvent)) global.KeyboardEvent.DOM_KEY_LOCATION_LEFT = 0x01; // e.g. Left Alt key\n\n  if (!('DOM_KEY_LOCATION_RIGHT' in global.KeyboardEvent)) global.KeyboardEvent.DOM_KEY_LOCATION_RIGHT = 0x02; // e.g. Right Alt key\n\n  if (!('DOM_KEY_LOCATION_NUMPAD' in global.KeyboardEvent)) global.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD = 0x03; // e.g. Numpad 0 or +\n\n  var STANDARD = window.KeyboardEvent.DOM_KEY_LOCATION_STANDARD,\n      LEFT = window.KeyboardEvent.DOM_KEY_LOCATION_LEFT,\n      RIGHT = window.KeyboardEvent.DOM_KEY_LOCATION_RIGHT,\n      NUMPAD = window.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD; //--------------------------------------------------------------------\n  //\n  // Utilities\n  //\n  //--------------------------------------------------------------------\n\n  function contains(s, ss) {\n    return String(s).indexOf(ss) !== -1;\n  }\n\n  var os = function () {\n    if (contains(navigator.platform, 'Win')) {\n      return 'win';\n    }\n\n    if (contains(navigator.platform, 'Mac')) {\n      return 'mac';\n    }\n\n    if (contains(navigator.platform, 'CrOS')) {\n      return 'cros';\n    }\n\n    if (contains(navigator.platform, 'Linux')) {\n      return 'linux';\n    }\n\n    if (contains(navigator.userAgent, 'iPad') || contains(navigator.platform, 'iPod') || contains(navigator.platform, 'iPhone')) {\n      return 'ios';\n    }\n\n    return '';\n  }();\n\n  var browser = function () {\n    if (contains(navigator.userAgent, 'Chrome/')) {\n      return 'chrome';\n    }\n\n    if (contains(navigator.vendor, 'Apple')) {\n      return 'safari';\n    }\n\n    if (contains(navigator.userAgent, 'MSIE')) {\n      return 'ie';\n    }\n\n    if (contains(navigator.userAgent, 'Gecko/')) {\n      return 'moz';\n    }\n\n    if (contains(navigator.userAgent, 'Opera/')) {\n      return 'opera';\n    }\n\n    return '';\n  }();\n\n  var browser_os = browser + '-' + os;\n\n  function mergeIf(baseTable, select, table) {\n    if (browser_os === select || browser === select || os === select) {\n      Object.keys(table).forEach(function (keyCode) {\n        baseTable[keyCode] = table[keyCode];\n      });\n    }\n  }\n\n  function remap(o, key) {\n    var r = {};\n    Object.keys(o).forEach(function (k) {\n      var item = o[k];\n\n      if (key in item) {\n        r[item[key]] = item;\n      }\n    });\n    return r;\n  }\n\n  function invert(o) {\n    var r = {};\n    Object.keys(o).forEach(function (k) {\n      r[o[k]] = k;\n    });\n    return r;\n  } //--------------------------------------------------------------------\n  //\n  // Generic Mappings\n  //\n  //--------------------------------------------------------------------\n  // \"keyInfo\" is a dictionary:\n  //   code: string - name from DOM Level 3 KeyboardEvent code Values\n  //     https://dvcs.w3.org/hg/dom3events/raw-file/tip/html/DOM3Events-code.html\n  //   location (optional): number - one of the DOM_KEY_LOCATION values\n  //   keyCap (optional): string - keyboard label in en-US locale\n  // USB code Usage ID from page 0x07 unless otherwise noted (Informative)\n  // Map of keyCode to keyInfo\n\n\n  var keyCodeToInfoTable = {\n    // 0x01 - VK_LBUTTON\n    // 0x02 - VK_RBUTTON\n    0x03: {\n      code: 'Cancel'\n    },\n    // [USB: 0x9b] char \\x0018 ??? (Not in D3E)\n    // 0x04 - VK_MBUTTON\n    // 0x05 - VK_XBUTTON1\n    // 0x06 - VK_XBUTTON2\n    0x06: {\n      code: 'Help'\n    },\n    // [USB: 0x75] ???\n    // 0x07 - undefined\n    0x08: {\n      code: 'Backspace'\n    },\n    // [USB: 0x2a] Labelled Delete on Macintosh keyboards.\n    0x09: {\n      code: 'Tab'\n    },\n    // [USB: 0x2b]\n    // 0x0A-0x0B - reserved\n    0X0C: {\n      code: 'Clear'\n    },\n    // [USB: 0x9c] NumPad Center (Not in D3E)\n    0X0D: {\n      code: 'Enter'\n    },\n    // [USB: 0x28]\n    // 0x0E-0x0F - undefined\n    0x10: {\n      code: 'Shift'\n    },\n    0x11: {\n      code: 'Control'\n    },\n    0x12: {\n      code: 'Alt'\n    },\n    0x13: {\n      code: 'Pause'\n    },\n    // [USB: 0x48]\n    0x14: {\n      code: 'CapsLock'\n    },\n    // [USB: 0x39]\n    0x15: {\n      code: 'KanaMode'\n    },\n    // [USB: 0x88] - \"HangulMode\" for Korean layout\n    0x16: {\n      code: 'HangulMode'\n    },\n    // [USB: 0x90] 0x15 as well in MSDN VK table ???\n    0x17: {\n      code: 'JunjaMode'\n    },\n    // (Not in D3E)\n    0x18: {\n      code: 'FinalMode'\n    },\n    // (Not in D3E)\n    0x19: {\n      code: 'KanjiMode'\n    },\n    // [USB: 0x91] - \"HanjaMode\" for Korean layout\n    // 0x1A - undefined\n    0x1B: {\n      code: 'Escape'\n    },\n    // [USB: 0x29]\n    0x1C: {\n      code: 'Convert'\n    },\n    // [USB: 0x8a]\n    0x1D: {\n      code: 'NonConvert'\n    },\n    // [USB: 0x8b]\n    0x1E: {\n      code: 'Accept'\n    },\n    // (Not in D3E)\n    0x1F: {\n      code: 'ModeChange'\n    },\n    // (Not in D3E)\n    0x20: {\n      code: 'Space'\n    },\n    // [USB: 0x2c]\n    0x21: {\n      code: 'PageUp'\n    },\n    // [USB: 0x4b]\n    0x22: {\n      code: 'PageDown'\n    },\n    // [USB: 0x4e]\n    0x23: {\n      code: 'End'\n    },\n    // [USB: 0x4d]\n    0x24: {\n      code: 'Home'\n    },\n    // [USB: 0x4a]\n    0x25: {\n      code: 'ArrowLeft'\n    },\n    // [USB: 0x50]\n    0x26: {\n      code: 'ArrowUp'\n    },\n    // [USB: 0x52]\n    0x27: {\n      code: 'ArrowRight'\n    },\n    // [USB: 0x4f]\n    0x28: {\n      code: 'ArrowDown'\n    },\n    // [USB: 0x51]\n    0x29: {\n      code: 'Select'\n    },\n    // (Not in D3E)\n    0x2A: {\n      code: 'Print'\n    },\n    // (Not in D3E)\n    0x2B: {\n      code: 'Execute'\n    },\n    // [USB: 0x74] (Not in D3E)\n    0x2C: {\n      code: 'PrintScreen'\n    },\n    // [USB: 0x46]\n    0x2D: {\n      code: 'Insert'\n    },\n    // [USB: 0x49]\n    0x2E: {\n      code: 'Delete'\n    },\n    // [USB: 0x4c]\n    0x2F: {\n      code: 'Help'\n    },\n    // [USB: 0x75] ???\n    0x30: {\n      code: 'Digit0',\n      keyCap: '0'\n    },\n    // [USB: 0x27] 0)\n    0x31: {\n      code: 'Digit1',\n      keyCap: '1'\n    },\n    // [USB: 0x1e] 1!\n    0x32: {\n      code: 'Digit2',\n      keyCap: '2'\n    },\n    // [USB: 0x1f] 2@\n    0x33: {\n      code: 'Digit3',\n      keyCap: '3'\n    },\n    // [USB: 0x20] 3#\n    0x34: {\n      code: 'Digit4',\n      keyCap: '4'\n    },\n    // [USB: 0x21] 4$\n    0x35: {\n      code: 'Digit5',\n      keyCap: '5'\n    },\n    // [USB: 0x22] 5%\n    0x36: {\n      code: 'Digit6',\n      keyCap: '6'\n    },\n    // [USB: 0x23] 6^\n    0x37: {\n      code: 'Digit7',\n      keyCap: '7'\n    },\n    // [USB: 0x24] 7&\n    0x38: {\n      code: 'Digit8',\n      keyCap: '8'\n    },\n    // [USB: 0x25] 8*\n    0x39: {\n      code: 'Digit9',\n      keyCap: '9'\n    },\n    // [USB: 0x26] 9(\n    // 0x3A-0x40 - undefined\n    0x41: {\n      code: 'KeyA',\n      keyCap: 'a'\n    },\n    // [USB: 0x04]\n    0x42: {\n      code: 'KeyB',\n      keyCap: 'b'\n    },\n    // [USB: 0x05]\n    0x43: {\n      code: 'KeyC',\n      keyCap: 'c'\n    },\n    // [USB: 0x06]\n    0x44: {\n      code: 'KeyD',\n      keyCap: 'd'\n    },\n    // [USB: 0x07]\n    0x45: {\n      code: 'KeyE',\n      keyCap: 'e'\n    },\n    // [USB: 0x08]\n    0x46: {\n      code: 'KeyF',\n      keyCap: 'f'\n    },\n    // [USB: 0x09]\n    0x47: {\n      code: 'KeyG',\n      keyCap: 'g'\n    },\n    // [USB: 0x0a]\n    0x48: {\n      code: 'KeyH',\n      keyCap: 'h'\n    },\n    // [USB: 0x0b]\n    0x49: {\n      code: 'KeyI',\n      keyCap: 'i'\n    },\n    // [USB: 0x0c]\n    0x4A: {\n      code: 'KeyJ',\n      keyCap: 'j'\n    },\n    // [USB: 0x0d]\n    0x4B: {\n      code: 'KeyK',\n      keyCap: 'k'\n    },\n    // [USB: 0x0e]\n    0x4C: {\n      code: 'KeyL',\n      keyCap: 'l'\n    },\n    // [USB: 0x0f]\n    0x4D: {\n      code: 'KeyM',\n      keyCap: 'm'\n    },\n    // [USB: 0x10]\n    0x4E: {\n      code: 'KeyN',\n      keyCap: 'n'\n    },\n    // [USB: 0x11]\n    0x4F: {\n      code: 'KeyO',\n      keyCap: 'o'\n    },\n    // [USB: 0x12]\n    0x50: {\n      code: 'KeyP',\n      keyCap: 'p'\n    },\n    // [USB: 0x13]\n    0x51: {\n      code: 'KeyQ',\n      keyCap: 'q'\n    },\n    // [USB: 0x14]\n    0x52: {\n      code: 'KeyR',\n      keyCap: 'r'\n    },\n    // [USB: 0x15]\n    0x53: {\n      code: 'KeyS',\n      keyCap: 's'\n    },\n    // [USB: 0x16]\n    0x54: {\n      code: 'KeyT',\n      keyCap: 't'\n    },\n    // [USB: 0x17]\n    0x55: {\n      code: 'KeyU',\n      keyCap: 'u'\n    },\n    // [USB: 0x18]\n    0x56: {\n      code: 'KeyV',\n      keyCap: 'v'\n    },\n    // [USB: 0x19]\n    0x57: {\n      code: 'KeyW',\n      keyCap: 'w'\n    },\n    // [USB: 0x1a]\n    0x58: {\n      code: 'KeyX',\n      keyCap: 'x'\n    },\n    // [USB: 0x1b]\n    0x59: {\n      code: 'KeyY',\n      keyCap: 'y'\n    },\n    // [USB: 0x1c]\n    0x5A: {\n      code: 'KeyZ',\n      keyCap: 'z'\n    },\n    // [USB: 0x1d]\n    0x5B: {\n      code: 'OSLeft',\n      location: LEFT\n    },\n    // [USB: 0xe3]\n    0x5C: {\n      code: 'OSRight',\n      location: RIGHT\n    },\n    // [USB: 0xe7]\n    0x5D: {\n      code: 'ContextMenu'\n    },\n    // [USB: 0x65] Context Menu\n    // 0x5E - reserved\n    0x5F: {\n      code: 'Standby'\n    },\n    // [USB: 0x82] Sleep\n    0x60: {\n      code: 'Numpad0',\n      keyCap: '0',\n      location: NUMPAD\n    },\n    // [USB: 0x62]\n    0x61: {\n      code: 'Numpad1',\n      keyCap: '1',\n      location: NUMPAD\n    },\n    // [USB: 0x59]\n    0x62: {\n      code: 'Numpad2',\n      keyCap: '2',\n      location: NUMPAD\n    },\n    // [USB: 0x5a]\n    0x63: {\n      code: 'Numpad3',\n      keyCap: '3',\n      location: NUMPAD\n    },\n    // [USB: 0x5b]\n    0x64: {\n      code: 'Numpad4',\n      keyCap: '4',\n      location: NUMPAD\n    },\n    // [USB: 0x5c]\n    0x65: {\n      code: 'Numpad5',\n      keyCap: '5',\n      location: NUMPAD\n    },\n    // [USB: 0x5d]\n    0x66: {\n      code: 'Numpad6',\n      keyCap: '6',\n      location: NUMPAD\n    },\n    // [USB: 0x5e]\n    0x67: {\n      code: 'Numpad7',\n      keyCap: '7',\n      location: NUMPAD\n    },\n    // [USB: 0x5f]\n    0x68: {\n      code: 'Numpad8',\n      keyCap: '8',\n      location: NUMPAD\n    },\n    // [USB: 0x60]\n    0x69: {\n      code: 'Numpad9',\n      keyCap: '9',\n      location: NUMPAD\n    },\n    // [USB: 0x61]\n    0x6A: {\n      code: 'NumpadMultiply',\n      keyCap: '*',\n      location: NUMPAD\n    },\n    // [USB: 0x55]\n    0x6B: {\n      code: 'NumpadAdd',\n      keyCap: '+',\n      location: NUMPAD\n    },\n    // [USB: 0x57]\n    0x6C: {\n      code: 'NumpadComma',\n      keyCap: ',',\n      location: NUMPAD\n    },\n    // [USB: 0x85]\n    0x6D: {\n      code: 'NumpadSubtract',\n      keyCap: '-',\n      location: NUMPAD\n    },\n    // [USB: 0x56]\n    0x6E: {\n      code: 'NumpadDecimal',\n      keyCap: '.',\n      location: NUMPAD\n    },\n    // [USB: 0x63]\n    0x6F: {\n      code: 'NumpadDivide',\n      keyCap: '/',\n      location: NUMPAD\n    },\n    // [USB: 0x54]\n    0x70: {\n      code: 'F1'\n    },\n    // [USB: 0x3a]\n    0x71: {\n      code: 'F2'\n    },\n    // [USB: 0x3b]\n    0x72: {\n      code: 'F3'\n    },\n    // [USB: 0x3c]\n    0x73: {\n      code: 'F4'\n    },\n    // [USB: 0x3d]\n    0x74: {\n      code: 'F5'\n    },\n    // [USB: 0x3e]\n    0x75: {\n      code: 'F6'\n    },\n    // [USB: 0x3f]\n    0x76: {\n      code: 'F7'\n    },\n    // [USB: 0x40]\n    0x77: {\n      code: 'F8'\n    },\n    // [USB: 0x41]\n    0x78: {\n      code: 'F9'\n    },\n    // [USB: 0x42]\n    0x79: {\n      code: 'F10'\n    },\n    // [USB: 0x43]\n    0x7A: {\n      code: 'F11'\n    },\n    // [USB: 0x44]\n    0x7B: {\n      code: 'F12'\n    },\n    // [USB: 0x45]\n    0x7C: {\n      code: 'F13'\n    },\n    // [USB: 0x68]\n    0x7D: {\n      code: 'F14'\n    },\n    // [USB: 0x69]\n    0x7E: {\n      code: 'F15'\n    },\n    // [USB: 0x6a]\n    0x7F: {\n      code: 'F16'\n    },\n    // [USB: 0x6b]\n    0x80: {\n      code: 'F17'\n    },\n    // [USB: 0x6c]\n    0x81: {\n      code: 'F18'\n    },\n    // [USB: 0x6d]\n    0x82: {\n      code: 'F19'\n    },\n    // [USB: 0x6e]\n    0x83: {\n      code: 'F20'\n    },\n    // [USB: 0x6f]\n    0x84: {\n      code: 'F21'\n    },\n    // [USB: 0x70]\n    0x85: {\n      code: 'F22'\n    },\n    // [USB: 0x71]\n    0x86: {\n      code: 'F23'\n    },\n    // [USB: 0x72]\n    0x87: {\n      code: 'F24'\n    },\n    // [USB: 0x73]\n    // 0x88-0x8F - unassigned\n    0x90: {\n      code: 'NumLock',\n      location: NUMPAD\n    },\n    // [USB: 0x53]\n    0x91: {\n      code: 'ScrollLock'\n    },\n    // [USB: 0x47]\n    // 0x92-0x96 - OEM specific\n    // 0x97-0x9F - unassigned\n    // NOTE: 0xA0-0xA5 usually mapped to 0x10-0x12 in browsers\n    0xA0: {\n      code: 'ShiftLeft',\n      location: LEFT\n    },\n    // [USB: 0xe1]\n    0xA1: {\n      code: 'ShiftRight',\n      location: RIGHT\n    },\n    // [USB: 0xe5]\n    0xA2: {\n      code: 'ControlLeft',\n      location: LEFT\n    },\n    // [USB: 0xe0]\n    0xA3: {\n      code: 'ControlRight',\n      location: RIGHT\n    },\n    // [USB: 0xe4]\n    0xA4: {\n      code: 'AltLeft',\n      location: LEFT\n    },\n    // [USB: 0xe2]\n    0xA5: {\n      code: 'AltRight',\n      location: RIGHT\n    },\n    // [USB: 0xe6]\n    0xA6: {\n      code: 'BrowserBack'\n    },\n    // [USB: 0x0c/0x0224]\n    0xA7: {\n      code: 'BrowserForward'\n    },\n    // [USB: 0x0c/0x0225]\n    0xA8: {\n      code: 'BrowserRefresh'\n    },\n    // [USB: 0x0c/0x0227]\n    0xA9: {\n      code: 'BrowserStop'\n    },\n    // [USB: 0x0c/0x0226]\n    0xAA: {\n      code: 'BrowserSearch'\n    },\n    // [USB: 0x0c/0x0221]\n    0xAB: {\n      code: 'BrowserFavorites'\n    },\n    // [USB: 0x0c/0x0228]\n    0xAC: {\n      code: 'BrowserHome'\n    },\n    // [USB: 0x0c/0x0222]\n    0xAD: {\n      code: 'VolumeMute'\n    },\n    // [USB: 0x7f]\n    0xAE: {\n      code: 'VolumeDown'\n    },\n    // [USB: 0x81]\n    0xAF: {\n      code: 'VolumeUp'\n    },\n    // [USB: 0x80]\n    0xB0: {\n      code: 'MediaTrackNext'\n    },\n    // [USB: 0x0c/0x00b5]\n    0xB1: {\n      code: 'MediaTrackPrevious'\n    },\n    // [USB: 0x0c/0x00b6]\n    0xB2: {\n      code: 'MediaStop'\n    },\n    // [USB: 0x0c/0x00b7]\n    0xB3: {\n      code: 'MediaPlayPause'\n    },\n    // [USB: 0x0c/0x00cd]\n    0xB4: {\n      code: 'LaunchMail'\n    },\n    // [USB: 0x0c/0x018a]\n    0xB5: {\n      code: 'MediaSelect'\n    },\n    0xB6: {\n      code: 'LaunchApp1'\n    },\n    0xB7: {\n      code: 'LaunchApp2'\n    },\n    // 0xB8-0xB9 - reserved\n    0xBA: {\n      code: 'Semicolon',\n      keyCap: ';'\n    },\n    // [USB: 0x33] ;: (US Standard 101)\n    0xBB: {\n      code: 'Equal',\n      keyCap: '='\n    },\n    // [USB: 0x2e] =+\n    0xBC: {\n      code: 'Comma',\n      keyCap: ','\n    },\n    // [USB: 0x36] ,<\n    0xBD: {\n      code: 'Minus',\n      keyCap: '-'\n    },\n    // [USB: 0x2d] -_\n    0xBE: {\n      code: 'Period',\n      keyCap: '.'\n    },\n    // [USB: 0x37] .>\n    0xBF: {\n      code: 'Slash',\n      keyCap: '/'\n    },\n    // [USB: 0x38] /? (US Standard 101)\n    0xC0: {\n      code: 'Backquote',\n      keyCap: '`'\n    },\n    // [USB: 0x35] `~ (US Standard 101)\n    // 0xC1-0xCF - reserved\n    // 0xD0-0xD7 - reserved\n    // 0xD8-0xDA - unassigned\n    0xDB: {\n      code: 'BracketLeft',\n      keyCap: '['\n    },\n    // [USB: 0x2f] [{ (US Standard 101)\n    0xDC: {\n      code: 'Backslash',\n      keyCap: '\\\\'\n    },\n    // [USB: 0x31] \\| (US Standard 101)\n    0xDD: {\n      code: 'BracketRight',\n      keyCap: ']'\n    },\n    // [USB: 0x30] ]} (US Standard 101)\n    0xDE: {\n      code: 'Quote',\n      keyCap: '\\''\n    },\n    // [USB: 0x34] '\" (US Standard 101)\n    // 0xDF - miscellaneous/varies\n    // 0xE0 - reserved\n    // 0xE1 - OEM specific\n    0xE2: {\n      code: 'IntlBackslash',\n      keyCap: '\\\\'\n    },\n    // [USB: 0x64] \\| (UK Standard 102)\n    // 0xE3-0xE4 - OEM specific\n    0xE5: {\n      code: 'Process'\n    },\n    // (Not in D3E)\n    // 0xE6 - OEM specific\n    // 0xE7 - VK_PACKET\n    // 0xE8 - unassigned\n    // 0xE9-0xEF - OEM specific\n    // 0xF0-0xF5 - OEM specific\n    0xF6: {\n      code: 'Attn'\n    },\n    // [USB: 0x9a] (Not in D3E)\n    0xF7: {\n      code: 'CrSel'\n    },\n    // [USB: 0xa3] (Not in D3E)\n    0xF8: {\n      code: 'ExSel'\n    },\n    // [USB: 0xa4] (Not in D3E)\n    0xF9: {\n      code: 'EraseEof'\n    },\n    // (Not in D3E)\n    0xFA: {\n      code: 'Play'\n    },\n    // (Not in D3E)\n    0xFB: {\n      code: 'ZoomToggle'\n    },\n    // (Not in D3E)\n    // 0xFC - VK_NONAME - reserved\n    // 0xFD - VK_PA1\n    0xFE: {\n      code: 'Clear'\n    } // [USB: 0x9c] (Not in D3E)\n\n  }; // No legacy keyCode, but listed in D3E:\n  // code: usb\n  // 'IntlHash': 0x070032,\n  // 'IntlRo': 0x070087,\n  // 'IntlYen': 0x070089,\n  // 'NumpadBackspace': 0x0700bb,\n  // 'NumpadClear': 0x0700d8,\n  // 'NumpadClearEntry': 0x0700d9,\n  // 'NumpadMemoryAdd': 0x0700d3,\n  // 'NumpadMemoryClear': 0x0700d2,\n  // 'NumpadMemoryRecall': 0x0700d1,\n  // 'NumpadMemoryStore': 0x0700d0,\n  // 'NumpadMemorySubtract': 0x0700d4,\n  // 'NumpadParenLeft': 0x0700b6,\n  // 'NumpadParenRight': 0x0700b7,\n  //--------------------------------------------------------------------\n  //\n  // Browser/OS Specific Mappings\n  //\n  //--------------------------------------------------------------------\n\n  mergeIf(keyCodeToInfoTable, 'moz', {\n    0x3B: {\n      code: 'Semicolon',\n      keyCap: ';'\n    },\n    // [USB: 0x33] ;: (US Standard 101)\n    0x3D: {\n      code: 'Equal',\n      keyCap: '='\n    },\n    // [USB: 0x2e] =+\n    0x6B: {\n      code: 'Equal',\n      keyCap: '='\n    },\n    // [USB: 0x2e] =+\n    0x6D: {\n      code: 'Minus',\n      keyCap: '-'\n    },\n    // [USB: 0x2d] -_\n    0xBB: {\n      code: 'NumpadAdd',\n      keyCap: '+',\n      location: NUMPAD\n    },\n    // [USB: 0x57]\n    0xBD: {\n      code: 'NumpadSubtract',\n      keyCap: '-',\n      location: NUMPAD\n    } // [USB: 0x56]\n\n  });\n  mergeIf(keyCodeToInfoTable, 'moz-mac', {\n    0x0C: {\n      code: 'NumLock',\n      location: NUMPAD\n    },\n    // [USB: 0x53]\n    0xAD: {\n      code: 'Minus',\n      keyCap: '-'\n    } // [USB: 0x2d] -_\n\n  });\n  mergeIf(keyCodeToInfoTable, 'moz-win', {\n    0xAD: {\n      code: 'Minus',\n      keyCap: '-'\n    } // [USB: 0x2d] -_\n\n  });\n  mergeIf(keyCodeToInfoTable, 'chrome-mac', {\n    0x5D: {\n      code: 'OSRight',\n      location: RIGHT\n    } // [USB: 0xe7]\n\n  }); // Windows via Bootcamp (!)\n\n  if (0) {\n    mergeIf(keyCodeToInfoTable, 'chrome-win', {\n      0xC0: {\n        code: 'Quote',\n        keyCap: '\\''\n      },\n      // [USB: 0x34] '\" (US Standard 101)\n      0xDE: {\n        code: 'Backslash',\n        keyCap: '\\\\'\n      },\n      // [USB: 0x31] \\| (US Standard 101)\n      0xDF: {\n        code: 'Backquote',\n        keyCap: '`'\n      } // [USB: 0x35] `~ (US Standard 101)\n\n    });\n    mergeIf(keyCodeToInfoTable, 'ie', {\n      0xC0: {\n        code: 'Quote',\n        keyCap: '\\''\n      },\n      // [USB: 0x34] '\" (US Standard 101)\n      0xDE: {\n        code: 'Backslash',\n        keyCap: '\\\\'\n      },\n      // [USB: 0x31] \\| (US Standard 101)\n      0xDF: {\n        code: 'Backquote',\n        keyCap: '`'\n      } // [USB: 0x35] `~ (US Standard 101)\n\n    });\n  }\n\n  mergeIf(keyCodeToInfoTable, 'safari', {\n    0x03: {\n      code: 'Enter'\n    },\n    // [USB: 0x28] old Safari\n    0x19: {\n      code: 'Tab'\n    } // [USB: 0x2b] old Safari for Shift+Tab\n\n  });\n  mergeIf(keyCodeToInfoTable, 'ios', {\n    0x0A: {\n      code: 'Enter',\n      location: STANDARD\n    } // [USB: 0x28]\n\n  });\n  mergeIf(keyCodeToInfoTable, 'safari-mac', {\n    0x5B: {\n      code: 'OSLeft',\n      location: LEFT\n    },\n    // [USB: 0xe3]\n    0x5D: {\n      code: 'OSRight',\n      location: RIGHT\n    },\n    // [USB: 0xe7]\n    0xE5: {\n      code: 'KeyQ',\n      keyCap: 'Q'\n    } // [USB: 0x14] On alternate presses, Ctrl+Q sends this\n\n  }); //--------------------------------------------------------------------\n  //\n  // Identifier Mappings\n  //\n  //--------------------------------------------------------------------\n  // Cases where newer-ish browsers send keyIdentifier which can be\n  // used to disambiguate keys.\n  // keyIdentifierTable[keyIdentifier] -> keyInfo\n\n  var keyIdentifierTable = {};\n\n  if ('cros' === os) {\n    keyIdentifierTable['U+00A0'] = {\n      code: 'ShiftLeft',\n      location: LEFT\n    };\n    keyIdentifierTable['U+00A1'] = {\n      code: 'ShiftRight',\n      location: RIGHT\n    };\n    keyIdentifierTable['U+00A2'] = {\n      code: 'ControlLeft',\n      location: LEFT\n    };\n    keyIdentifierTable['U+00A3'] = {\n      code: 'ControlRight',\n      location: RIGHT\n    };\n    keyIdentifierTable['U+00A4'] = {\n      code: 'AltLeft',\n      location: LEFT\n    };\n    keyIdentifierTable['U+00A5'] = {\n      code: 'AltRight',\n      location: RIGHT\n    };\n  }\n\n  if ('chrome-mac' === browser_os) {\n    keyIdentifierTable['U+0010'] = {\n      code: 'ContextMenu'\n    };\n  }\n\n  if ('safari-mac' === browser_os) {\n    keyIdentifierTable['U+0010'] = {\n      code: 'ContextMenu'\n    };\n  }\n\n  if ('ios' === os) {\n    // These only generate keyup events\n    keyIdentifierTable['U+0010'] = {\n      code: 'Function'\n    };\n    keyIdentifierTable['U+001C'] = {\n      code: 'ArrowLeft'\n    };\n    keyIdentifierTable['U+001D'] = {\n      code: 'ArrowRight'\n    };\n    keyIdentifierTable['U+001E'] = {\n      code: 'ArrowUp'\n    };\n    keyIdentifierTable['U+001F'] = {\n      code: 'ArrowDown'\n    };\n    keyIdentifierTable['U+0001'] = {\n      code: 'Home'\n    }; // [USB: 0x4a] Fn + ArrowLeft\n\n    keyIdentifierTable['U+0004'] = {\n      code: 'End'\n    }; // [USB: 0x4d] Fn + ArrowRight\n\n    keyIdentifierTable['U+000B'] = {\n      code: 'PageUp'\n    }; // [USB: 0x4b] Fn + ArrowUp\n\n    keyIdentifierTable['U+000C'] = {\n      code: 'PageDown'\n    }; // [USB: 0x4e] Fn + ArrowDown\n  } //--------------------------------------------------------------------\n  //\n  // Location Mappings\n  //\n  //--------------------------------------------------------------------\n  // Cases where newer-ish browsers send location/keyLocation which\n  // can be used to disambiguate keys.\n  // locationTable[location][keyCode] -> keyInfo\n\n\n  var locationTable = [];\n  locationTable[LEFT] = {\n    0x10: {\n      code: 'ShiftLeft',\n      location: LEFT\n    },\n    // [USB: 0xe1]\n    0x11: {\n      code: 'ControlLeft',\n      location: LEFT\n    },\n    // [USB: 0xe0]\n    0x12: {\n      code: 'AltLeft',\n      location: LEFT\n    } // [USB: 0xe2]\n\n  };\n  locationTable[RIGHT] = {\n    0x10: {\n      code: 'ShiftRight',\n      location: RIGHT\n    },\n    // [USB: 0xe5]\n    0x11: {\n      code: 'ControlRight',\n      location: RIGHT\n    },\n    // [USB: 0xe4]\n    0x12: {\n      code: 'AltRight',\n      location: RIGHT\n    } // [USB: 0xe6]\n\n  };\n  locationTable[NUMPAD] = {\n    0x0D: {\n      code: 'NumpadEnter',\n      location: NUMPAD\n    } // [USB: 0x58]\n\n  };\n  mergeIf(locationTable[NUMPAD], 'moz', {\n    0x6D: {\n      code: 'NumpadSubtract',\n      location: NUMPAD\n    },\n    // [USB: 0x56]\n    0x6B: {\n      code: 'NumpadAdd',\n      location: NUMPAD\n    } // [USB: 0x57]\n\n  });\n  mergeIf(locationTable[LEFT], 'moz-mac', {\n    0xE0: {\n      code: 'OSLeft',\n      location: LEFT\n    } // [USB: 0xe3]\n\n  });\n  mergeIf(locationTable[RIGHT], 'moz-mac', {\n    0xE0: {\n      code: 'OSRight',\n      location: RIGHT\n    } // [USB: 0xe7]\n\n  });\n  mergeIf(locationTable[RIGHT], 'moz-win', {\n    0x5B: {\n      code: 'OSRight',\n      location: RIGHT\n    } // [USB: 0xe7]\n\n  });\n  mergeIf(locationTable[RIGHT], 'mac', {\n    0x5D: {\n      code: 'OSRight',\n      location: RIGHT\n    } // [USB: 0xe7]\n\n  });\n  mergeIf(locationTable[NUMPAD], 'chrome-mac', {\n    0x0C: {\n      code: 'NumLock',\n      location: NUMPAD\n    } // [USB: 0x53]\n\n  });\n  mergeIf(locationTable[NUMPAD], 'safari-mac', {\n    0x0C: {\n      code: 'NumLock',\n      location: NUMPAD\n    },\n    // [USB: 0x53]\n    0xBB: {\n      code: 'NumpadAdd',\n      location: NUMPAD\n    },\n    // [USB: 0x57]\n    0xBD: {\n      code: 'NumpadSubtract',\n      location: NUMPAD\n    },\n    // [USB: 0x56]\n    0xBE: {\n      code: 'NumpadDecimal',\n      location: NUMPAD\n    },\n    // [USB: 0x63]\n    0xBF: {\n      code: 'NumpadDivide',\n      location: NUMPAD\n    } // [USB: 0x54]\n\n  }); //--------------------------------------------------------------------\n  //\n  // Key Values\n  //\n  //--------------------------------------------------------------------\n  // Mapping from `code` values to `key` values. Values defined at:\n  // https://dvcs.w3.org/hg/dom3events/raw-file/tip/html/DOM3Events-key.html\n  // Entries are only provided when `key` differs from `code`. If\n  // printable, `shiftKey` has the shifted printable character. This\n  // assumes US Standard 101 layout\n\n  var codeToKeyTable = {\n    // Modifier Keys\n    ShiftLeft: {\n      key: 'Shift'\n    },\n    ShiftRight: {\n      key: 'Shift'\n    },\n    ControlLeft: {\n      key: 'Control'\n    },\n    ControlRight: {\n      key: 'Control'\n    },\n    AltLeft: {\n      key: 'Alt'\n    },\n    AltRight: {\n      key: 'Alt'\n    },\n    OSLeft: {\n      key: 'OS'\n    },\n    OSRight: {\n      key: 'OS'\n    },\n    // Whitespace Keys\n    NumpadEnter: {\n      key: 'Enter'\n    },\n    Space: {\n      key: ' '\n    },\n    // Printable Keys\n    Digit0: {\n      key: '0',\n      shiftKey: ')'\n    },\n    Digit1: {\n      key: '1',\n      shiftKey: '!'\n    },\n    Digit2: {\n      key: '2',\n      shiftKey: '@'\n    },\n    Digit3: {\n      key: '3',\n      shiftKey: '#'\n    },\n    Digit4: {\n      key: '4',\n      shiftKey: '$'\n    },\n    Digit5: {\n      key: '5',\n      shiftKey: '%'\n    },\n    Digit6: {\n      key: '6',\n      shiftKey: '^'\n    },\n    Digit7: {\n      key: '7',\n      shiftKey: '&'\n    },\n    Digit8: {\n      key: '8',\n      shiftKey: '*'\n    },\n    Digit9: {\n      key: '9',\n      shiftKey: '('\n    },\n    KeyA: {\n      key: 'a',\n      shiftKey: 'A'\n    },\n    KeyB: {\n      key: 'b',\n      shiftKey: 'B'\n    },\n    KeyC: {\n      key: 'c',\n      shiftKey: 'C'\n    },\n    KeyD: {\n      key: 'd',\n      shiftKey: 'D'\n    },\n    KeyE: {\n      key: 'e',\n      shiftKey: 'E'\n    },\n    KeyF: {\n      key: 'f',\n      shiftKey: 'F'\n    },\n    KeyG: {\n      key: 'g',\n      shiftKey: 'G'\n    },\n    KeyH: {\n      key: 'h',\n      shiftKey: 'H'\n    },\n    KeyI: {\n      key: 'i',\n      shiftKey: 'I'\n    },\n    KeyJ: {\n      key: 'j',\n      shiftKey: 'J'\n    },\n    KeyK: {\n      key: 'k',\n      shiftKey: 'K'\n    },\n    KeyL: {\n      key: 'l',\n      shiftKey: 'L'\n    },\n    KeyM: {\n      key: 'm',\n      shiftKey: 'M'\n    },\n    KeyN: {\n      key: 'n',\n      shiftKey: 'N'\n    },\n    KeyO: {\n      key: 'o',\n      shiftKey: 'O'\n    },\n    KeyP: {\n      key: 'p',\n      shiftKey: 'P'\n    },\n    KeyQ: {\n      key: 'q',\n      shiftKey: 'Q'\n    },\n    KeyR: {\n      key: 'r',\n      shiftKey: 'R'\n    },\n    KeyS: {\n      key: 's',\n      shiftKey: 'S'\n    },\n    KeyT: {\n      key: 't',\n      shiftKey: 'T'\n    },\n    KeyU: {\n      key: 'u',\n      shiftKey: 'U'\n    },\n    KeyV: {\n      key: 'v',\n      shiftKey: 'V'\n    },\n    KeyW: {\n      key: 'w',\n      shiftKey: 'W'\n    },\n    KeyX: {\n      key: 'x',\n      shiftKey: 'X'\n    },\n    KeyY: {\n      key: 'y',\n      shiftKey: 'Y'\n    },\n    KeyZ: {\n      key: 'z',\n      shiftKey: 'Z'\n    },\n    Numpad0: {\n      key: '0'\n    },\n    Numpad1: {\n      key: '1'\n    },\n    Numpad2: {\n      key: '2'\n    },\n    Numpad3: {\n      key: '3'\n    },\n    Numpad4: {\n      key: '4'\n    },\n    Numpad5: {\n      key: '5'\n    },\n    Numpad6: {\n      key: '6'\n    },\n    Numpad7: {\n      key: '7'\n    },\n    Numpad8: {\n      key: '8'\n    },\n    Numpad9: {\n      key: '9'\n    },\n    NumpadMultiply: {\n      key: '*'\n    },\n    NumpadAdd: {\n      key: '+'\n    },\n    NumpadComma: {\n      key: ','\n    },\n    NumpadSubtract: {\n      key: '-'\n    },\n    NumpadDecimal: {\n      key: '.'\n    },\n    NumpadDivide: {\n      key: '/'\n    },\n    Semicolon: {\n      key: ';',\n      shiftKey: ':'\n    },\n    Equal: {\n      key: '=',\n      shiftKey: '+'\n    },\n    Comma: {\n      key: ',',\n      shiftKey: '<'\n    },\n    Minus: {\n      key: '-',\n      shiftKey: '_'\n    },\n    Period: {\n      key: '.',\n      shiftKey: '>'\n    },\n    Slash: {\n      key: '/',\n      shiftKey: '?'\n    },\n    Backquote: {\n      key: '`',\n      shiftKey: '~'\n    },\n    BracketLeft: {\n      key: '[',\n      shiftKey: '{'\n    },\n    Backslash: {\n      key: '\\\\',\n      shiftKey: '|'\n    },\n    BracketRight: {\n      key: ']',\n      shiftKey: '}'\n    },\n    Quote: {\n      key: '\\'',\n      shiftKey: '\"'\n    },\n    IntlBackslash: {\n      key: '\\\\',\n      shiftKey: '|'\n    }\n  };\n  mergeIf(codeToKeyTable, 'mac', {\n    OSLeft: {\n      key: 'Meta'\n    },\n    OSRight: {\n      key: 'Meta'\n    }\n  }); // Corrections for 'key' names in older browsers (e.g. FF36-)\n  // https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent.key#Key_values\n\n  var keyFixTable = {\n    Esc: 'Escape',\n    Nonconvert: 'NonConvert',\n    Left: 'ArrowLeft',\n    Up: 'ArrowUp',\n    Right: 'ArrowRight',\n    Down: 'ArrowDown',\n    Del: 'Delete',\n    Menu: 'ContextMenu',\n    MediaNextTrack: 'MediaTrackNext',\n    MediaPreviousTrack: 'MediaTrackPrevious',\n    SelectMedia: 'MediaSelect',\n    HalfWidth: 'Hankaku',\n    FullWidth: 'Zenkaku',\n    RomanCharacters: 'Romaji',\n    Crsel: 'CrSel',\n    Exsel: 'ExSel',\n    Zoom: 'ZoomToggle'\n  }; //--------------------------------------------------------------------\n  //\n  // Exported Functions\n  //\n  //--------------------------------------------------------------------\n\n  var codeTable = remap(keyCodeToInfoTable, 'code');\n\n  try {\n    var nativeLocation = nativeKeyboardEvent && 'location' in new KeyboardEvent('');\n  } catch (_) {}\n\n  function keyInfoForEvent(event) {\n    var keyCode = 'keyCode' in event ? event.keyCode : 'which' in event ? event.which : 0;\n\n    var keyInfo = function () {\n      if (nativeLocation || 'keyLocation' in event) {\n        var location = nativeLocation ? event.location : event.keyLocation;\n\n        if (location && keyCode in locationTable[location]) {\n          return locationTable[location][keyCode];\n        }\n      }\n\n      if ('keyIdentifier' in event && event.keyIdentifier in keyIdentifierTable) {\n        return keyIdentifierTable[event.keyIdentifier];\n      }\n\n      if (keyCode in keyCodeToInfoTable) {\n        return keyCodeToInfoTable[keyCode];\n      }\n\n      return null;\n    }(); // TODO: Track these down and move to general tables\n\n\n    if (0) {\n      // TODO: Map these for newerish browsers?\n      // TODO: iOS only?\n      // TODO: Override with more common keyIdentifier name?\n      switch (event.keyIdentifier) {\n        case 'U+0010':\n          keyInfo = {\n            code: 'Function'\n          };\n          break;\n\n        case 'U+001C':\n          keyInfo = {\n            code: 'ArrowLeft'\n          };\n          break;\n\n        case 'U+001D':\n          keyInfo = {\n            code: 'ArrowRight'\n          };\n          break;\n\n        case 'U+001E':\n          keyInfo = {\n            code: 'ArrowUp'\n          };\n          break;\n\n        case 'U+001F':\n          keyInfo = {\n            code: 'ArrowDown'\n          };\n          break;\n      }\n    }\n\n    if (!keyInfo) return null;\n\n    var key = function () {\n      var entry = codeToKeyTable[keyInfo.code];\n      if (!entry) return keyInfo.code;\n      return event.shiftKey && 'shiftKey' in entry ? entry.shiftKey : entry.key;\n    }();\n\n    return {\n      code: keyInfo.code,\n      key: key,\n      location: keyInfo.location,\n      keyCap: keyInfo.keyCap\n    };\n  }\n\n  function queryKeyCap(code, locale) {\n    code = String(code);\n    if (!codeTable.hasOwnProperty(code)) return 'Undefined';\n    if (locale && String(locale).toLowerCase() !== 'en-us') throw Error('Unsupported locale');\n    var keyInfo = codeTable[code];\n    return keyInfo.keyCap || keyInfo.code || 'Undefined';\n  }\n\n  if ('KeyboardEvent' in global && 'defineProperty' in Object) {\n    (function () {\n      function define(o, p, v) {\n        if (p in o) return;\n        Object.defineProperty(o, p, v);\n      }\n\n      define(KeyboardEvent.prototype, 'code', {\n        get: function get() {\n          var keyInfo = keyInfoForEvent(this);\n          return keyInfo ? keyInfo.code : '';\n        }\n      }); // Fix for nonstandard `key` values (FF36-)\n\n      if ('key' in KeyboardEvent.prototype) {\n        var desc = Object.getOwnPropertyDescriptor(KeyboardEvent.prototype, 'key');\n        Object.defineProperty(KeyboardEvent.prototype, 'key', {\n          get: function get() {\n            var key = desc.get.call(this);\n            return keyFixTable.hasOwnProperty(key) ? keyFixTable[key] : key;\n          }\n        });\n      }\n\n      define(KeyboardEvent.prototype, 'key', {\n        get: function get() {\n          var keyInfo = keyInfoForEvent(this);\n          return keyInfo && 'key' in keyInfo ? keyInfo.key : 'Unidentified';\n        }\n      });\n      define(KeyboardEvent.prototype, 'location', {\n        get: function get() {\n          var keyInfo = keyInfoForEvent(this);\n          return keyInfo && 'location' in keyInfo ? keyInfo.location : STANDARD;\n        }\n      });\n      define(KeyboardEvent.prototype, 'locale', {\n        get: function get() {\n          return '';\n        }\n      });\n    })();\n  }\n\n  if (!('queryKeyCap' in global.KeyboardEvent)) global.KeyboardEvent.queryKeyCap = queryKeyCap; // Helper for IE8-\n\n  global.identifyKey = function (event) {\n    if ('code' in event) return;\n    var keyInfo = keyInfoForEvent(event);\n    event.code = keyInfo ? keyInfo.code : '';\n    event.key = keyInfo && 'key' in keyInfo ? keyInfo.key : 'Unidentified';\n    event.location = 'location' in event ? event.location : 'keyLocation' in event ? event.keyLocation : keyInfo && 'location' in keyInfo ? keyInfo.location : STANDARD;\n    event.locale = '';\n  };\n})(window);","import \"core-js/modules/es7.object.entries\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.set\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.object.define-property\";\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nvar pluck = function pluck(obj, keys) {\n  return Object.assign.apply(Object, [{}].concat(_toConsumableArray(keys.map(function (key) {\n    return _defineProperty({}, key, obj[key]);\n  }))));\n};\n\nvar omit = function omit(obj, keys) {\n  var keySet = new Set(keys);\n  return Object.assign.apply(Object, [{}].concat(_toConsumableArray(Object.entries(obj).filter(function (_ref2) {\n    var _ref3 = _slicedToArray(_ref2, 1),\n        key = _ref3[0];\n\n    return !keySet.has(key);\n  }).map(function (_ref4) {\n    var _ref5 = _slicedToArray(_ref4, 2),\n        key = _ref5[0],\n        val = _ref5[1];\n\n    return _defineProperty({}, key, val);\n  }))));\n};\n\nexport { omit, pluck };","import \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport React, { forwardRef, useRef, useState, useEffect, useMemo, useLayoutEffect, useCallback, useImperativeHandle } from 'react';\nimport { omit } from 'jerrypick';\nimport fromEntries from 'fromentries';\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction index(kapsuleComponent, comboParam) {\n  var _ref = _typeof(comboParam) === 'object' ? comboParam : {\n    // support old schema for backwards compatibility\n    wrapperElementType: comboParam,\n    methodNames: (arguments.length <= 2 ? undefined : arguments[2]) || undefined,\n    initPropNames: (arguments.length <= 3 ? undefined : arguments[3]) || undefined\n  },\n      _ref$wrapperElementTy = _ref.wrapperElementType,\n      wrapperElementType = _ref$wrapperElementTy === void 0 ? 'div' : _ref$wrapperElementTy,\n      _ref$methodNames = _ref.methodNames,\n      methodNames = _ref$methodNames === void 0 ? [] : _ref$methodNames,\n      _ref$initPropNames = _ref.initPropNames,\n      initPropNames = _ref$initPropNames === void 0 ? [] : _ref$initPropNames;\n\n  return forwardRef(function (props, ref) {\n    var domEl = useRef();\n\n    var _useState = useState({}),\n        _useState2 = _slicedToArray(_useState, 2),\n        prevProps = _useState2[0],\n        setPrevProps = _useState2[1];\n\n    useEffect(function () {\n      return setPrevProps(props);\n    }); // remember previous props\n    // instantiate the inner kapsule component with the defined initPropNames\n\n    var comp = useMemo(function () {\n      var configOptions = fromEntries(initPropNames.filter(function (p) {\n        return props.hasOwnProperty(p);\n      }).map(function (prop) {\n        return [prop, props[prop]];\n      }));\n      return kapsuleComponent(configOptions);\n    }, []);\n    useLayoutEffect(function () {\n      comp(domEl.current); // mount kapsule synchronously on this element ref\n    }, []);\n    useEffect(function () {\n      // invoke destructor on unmount, if it exists\n      return comp._destructor instanceof Function ? comp._destructor : undefined;\n    }, []); // Call a component method\n\n    var _call = useCallback(function (method) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return comp[method] instanceof Function ? comp[method].apply(comp, args) : undefined;\n    } // method not found\n    , [comp]); // propagate component props that have changed\n\n\n    var dynamicProps = omit(props, [].concat(_toConsumableArray(methodNames), _toConsumableArray(initPropNames))); // initPropNames or methodNames should not be called\n\n    Object.keys(dynamicProps).filter(function (p) {\n      return prevProps[p] !== props[p];\n    }).forEach(function (p) {\n      return _call(p, props[p]);\n    }); // bind external methods to parent ref\n\n    useImperativeHandle(ref, function () {\n      return fromEntries(methodNames.map(function (method) {\n        return [method, function () {\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n\n          return _call.apply(void 0, [method].concat(args));\n        }];\n      }));\n    });\n    return React.createElement(wrapperElementType, {\n      ref: domEl\n    });\n  });\n}\n\nexport default index;","import \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es7.object.entries\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.object.define-property\";\nimport 'aframe';\nimport 'aframe-extras';\nimport 'aframe-forcegraph-component';\nimport Kapsule from 'kapsule';\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".graph-nav-info {\\n  position: absolute;\\n  bottom: 5px;\\n  width: 100%;\\n  text-align: center;\\n  color: slategrey;\\n  opacity: 0.7;\\n  font-size: 10px;\\n  font-family: Sans-serif;\\n  z-index: 1000;\\n}\";\nstyleInject(css_248z);\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar _3dForceGraphVr = Kapsule({\n  props: {\n    width: {\n      \"default\": window.innerWidth,\n      triggerUpdate: false,\n      onChange: function onChange(width, state) {\n        if (state.container) state.container.style.width = width;\n      }\n    },\n    height: {\n      \"default\": window.innerHeight,\n      triggerUpdate: false,\n      onChange: function onChange(height, state) {\n        if (state.container) state.container.style.height = height;\n      }\n    },\n    jsonUrl: {},\n    graphData: {\n      \"default\": {\n        nodes: [],\n        links: []\n      }\n    },\n    numDimensions: {\n      \"default\": 3\n    },\n    dagMode: {},\n    dagLevelDistance: {},\n    backgroundColor: {\n      \"default\": '#002'\n    },\n    showNavInfo: {\n      \"default\": true\n    },\n    nodeRelSize: {\n      \"default\": 4\n    },\n    // volume per val unit\n    nodeId: {\n      \"default\": 'id'\n    },\n    nodeLabel: {\n      \"default\": 'name'\n    },\n    nodeDesc: {\n      \"default\": 'desc'\n    },\n    onNodeCenterHover: {},\n    nodeVal: {\n      \"default\": 'val'\n    },\n    nodeResolution: {\n      \"default\": 8\n    },\n    // how many slice segments in the sphere's circumference\n    nodeVisibility: {\n      \"default\": true\n    },\n    nodeColor: {\n      \"default\": 'color'\n    },\n    nodeAutoColorBy: {},\n    nodeOpacity: {\n      \"default\": 0.75\n    },\n    nodeThreeObject: {},\n    nodeThreeObjectExtend: {\n      \"default\": false\n    },\n    linkSource: {\n      \"default\": 'source'\n    },\n    linkTarget: {\n      \"default\": 'target'\n    },\n    linkLabel: {\n      \"default\": 'name'\n    },\n    linkDesc: {\n      \"default\": 'desc'\n    },\n    onLinkCenterHover: {},\n    linkHoverPrecision: {\n      \"default\": 2\n    },\n    linkVisibility: {\n      \"default\": true\n    },\n    linkColor: {\n      \"default\": 'color'\n    },\n    linkAutoColorBy: {},\n    linkOpacity: {\n      \"default\": 0.2\n    },\n    linkWidth: {\n      \"default\": 0\n    },\n    linkResolution: {\n      \"default\": 6\n    },\n    // how many radial segments in each line cylinder's geometry\n    linkCurvature: {\n      \"default\": 0\n    },\n    linkCurveRotation: {\n      \"default\": 0\n    },\n    linkMaterial: {},\n    linkThreeObject: {},\n    linkThreeObjectExtend: {\n      \"default\": false\n    },\n    linkPositionUpdate: {},\n    linkDirectionalArrowLength: {\n      \"default\": 0\n    },\n    linkDirectionalArrowColor: {},\n    linkDirectionalArrowRelPos: {\n      \"default\": 0.5\n    },\n    // value between 0<>1 indicating the relative pos along the (exposed) line\n    linkDirectionalArrowResolution: {\n      \"default\": 8\n    },\n    // how many slice segments in the arrow's conic circumference\n    linkDirectionalParticles: {\n      \"default\": 0\n    },\n    // animate photons travelling in the link direction\n    linkDirectionalParticleSpeed: {\n      \"default\": 0.01\n    },\n    // in link length ratio per frame\n    linkDirectionalParticleWidth: {\n      \"default\": 0.5\n    },\n    linkDirectionalParticleColor: {},\n    linkDirectionalParticleResolution: {\n      \"default\": 4\n    },\n    // how many slice segments in the particle sphere's circumference\n    forceEngine: {\n      \"default\": 'd3'\n    },\n    // d3 or ngraph\n    d3AlphaMin: {\n      \"default\": 0\n    },\n    d3AlphaDecay: {\n      \"default\": 0.0228\n    },\n    d3VelocityDecay: {\n      \"default\": 0.4\n    },\n    warmupTicks: {\n      \"default\": 0\n    },\n    // how many times to tick the force engine at init before starting to render\n    cooldownTicks: {},\n    cooldownTime: {\n      \"default\": 15000\n    },\n    // ms\n    onEngineTick: {},\n    onEngineStop: {}\n  },\n  methods: _objectSpread2({}, Object.assign.apply(Object, [{}].concat(_toConsumableArray(['emitParticle', 'd3Force', 'd3ReheatSimulation', 'refresh'].map(function (method) {\n    return _defineProperty({}, method, function (state) {\n      var aframeComp = state.forcegraph.components.forcegraph;\n\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var returnVal = aframeComp[method].apply(aframeComp, args);\n      return returnVal === aframeComp ? this // chain based on this object, not the inner aframe component\n      : returnVal;\n    });\n  })))), {\n    _destructor: function _destructor() {\n      this.graphData({\n        nodes: [],\n        links: []\n      });\n    }\n  }),\n  init: function init(domNode, state) {\n    // Wipe DOM\n    domNode.innerHTML = '';\n    state.container = document.createElement('div');\n    domNode.appendChild(state.container);\n    state.container.style.position = 'relative';\n    state.container.style.width = state.width;\n    state.container.style.height = state.height; // Add nav info section\n\n    state.container.appendChild(state.navInfo = document.createElement('div'));\n    state.navInfo.className = 'graph-nav-info';\n    state.navInfo.textContent = 'Mouse drag: look, gamepad/arrow/wasd keys: move'; // Create scene\n\n    var scene = document.createElement('a-scene');\n    scene.setAttribute('embedded', ''); //scene.setAttribute('stats', null);\n\n    scene.appendChild(state.sky = document.createElement('a-sky'));\n    state.sky.setAttribute('radius', 5000); // Add camera and cursor\n\n    var cameraG;\n    scene.appendChild(cameraG = document.createElement('a-entity'));\n    cameraG.setAttribute('position', '0 0 300');\n    cameraG.setAttribute('movement-controls', 'fly: true; speed: 7');\n    var camera;\n    cameraG.appendChild(camera = document.createElement('a-entity'));\n    camera.setAttribute('camera', '');\n    camera.setAttribute('position', '0 0.001 0');\n    camera.setAttribute('look-controls', 'reverseMouseDrag: false; pointerLockEnabled: true');\n    var cursor;\n    camera.appendChild(cursor = document.createElement('a-cursor'));\n    cursor.setAttribute('color', 'lavender');\n    cursor.setAttribute('opacity', 0.5);\n    cursor.setAttribute('raycaster', 'objects: ----none----'); // disable cursor raycaster\n    // Add forcegraph entity\n\n    scene.appendChild(state.forcegraph = document.createElement('a-entity'));\n    state.forcegraph.setAttribute('forcegraph', null); // attach scene\n\n    state.container.appendChild(scene);\n  },\n  update: function update(state, changedProps) {\n    changedProps.hasOwnProperty('backgroundColor') && state.sky.setAttribute('color', state.backgroundColor);\n    changedProps.hasOwnProperty('showNavInfo') && (state.navInfo.style.display = state.showNavInfo ? null : 'none');\n    var passThroughProps = ['jsonUrl', 'numDimensions', 'dagMode', 'dagLevelDistance', 'nodeRelSize', 'nodeId', 'nodeLabel', 'nodeDesc', 'onNodeCenterHover', 'nodeVal', 'nodeResolution', 'nodeVisibility', 'nodeColor', 'nodeAutoColorBy', 'nodeOpacity', 'nodeThreeObject', 'nodeThreeObjectExtend', 'linkSource', 'linkTarget', 'linkLabel', 'linkDesc', 'onLinkCenterHover', 'linkHoverPrecision', 'linkVisibility', 'linkColor', 'linkAutoColorBy', 'linkOpacity', 'linkWidth', 'linkResolution', 'linkCurvature', 'linkCurveRotation', 'linkMaterial', 'linkThreeObject', 'linkThreeObjectExtend', 'linkPositionUpdate', 'linkDirectionalArrowLength', 'linkDirectionalArrowColor', 'linkDirectionalArrowRelPos', 'linkDirectionalArrowResolution', 'linkDirectionalParticles', 'linkDirectionalParticleSpeed', 'linkDirectionalParticleWidth', 'linkDirectionalParticleColor', 'linkDirectionalParticleResolution', 'forceEngine', 'd3AlphaMin', 'd3AlphaDecay', 'd3VelocityDecay', 'warmupTicks', 'cooldownTicks', 'cooldownTime', 'onEngineTick', 'onEngineStop'];\n    var newProps = Object.assign.apply(Object, [{}].concat(_toConsumableArray(Object.entries(state).filter(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          prop = _ref3[0],\n          val = _ref3[1];\n\n      return changedProps.hasOwnProperty(prop) && passThroughProps.indexOf(prop) != -1 && val !== undefined && val !== null;\n    }).map(function (_ref4) {\n      var _ref5 = _slicedToArray(_ref4, 2),\n          key = _ref5[0],\n          val = _ref5[1];\n\n      return _defineProperty({}, key, val);\n    })), _toConsumableArray(Object.entries(state.graphData).map(function (_ref7) {\n      var _ref8 = _slicedToArray(_ref7, 2),\n          key = _ref8[0],\n          val = _ref8[1];\n\n      return _defineProperty({}, key, val);\n    }))));\n    state.forcegraph.setAttribute('forcegraph', newProps);\n  }\n});\n\nexport default _3dForceGraphVr;","import \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es7.object.entries\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.object.define-property\";\nimport 'aframe-forcegraph-component';\nimport Kapsule from 'kapsule';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar _3dForceGraphAr = Kapsule({\n  props: {\n    width: {},\n    height: {},\n    yOffset: {\n      \"default\": 1.5\n    },\n    // marker size units\n    glScale: {\n      \"default\": 200\n    },\n    // gl units per marker width\n    jsonUrl: {},\n    graphData: {\n      \"default\": {\n        nodes: [],\n        links: []\n      }\n    },\n    numDimensions: {\n      \"default\": 3\n    },\n    dagMode: {},\n    dagLevelDistance: {},\n    nodeRelSize: {\n      \"default\": 4\n    },\n    // volume per val unit\n    nodeId: {\n      \"default\": 'id'\n    },\n    nodeVal: {\n      \"default\": 'val'\n    },\n    nodeResolution: {\n      \"default\": 8\n    },\n    // how many slice segments in the sphere's circumference\n    nodeVisibility: {\n      \"default\": true\n    },\n    nodeColor: {\n      \"default\": 'color'\n    },\n    nodeAutoColorBy: {},\n    nodeOpacity: {\n      \"default\": 0.75\n    },\n    nodeThreeObject: {},\n    nodeThreeObjectExtend: {\n      \"default\": false\n    },\n    linkSource: {\n      \"default\": 'source'\n    },\n    linkTarget: {\n      \"default\": 'target'\n    },\n    linkHoverPrecision: {\n      \"default\": 2\n    },\n    linkVisibility: {\n      \"default\": true\n    },\n    linkColor: {\n      \"default\": 'color'\n    },\n    linkAutoColorBy: {},\n    linkOpacity: {\n      \"default\": 0.2\n    },\n    linkWidth: {\n      \"default\": 0\n    },\n    linkResolution: {\n      \"default\": 6\n    },\n    // how many radial segments in each line cylinder's geometry\n    linkCurvature: {\n      \"default\": 0\n    },\n    linkCurveRotation: {\n      \"default\": 0\n    },\n    linkMaterial: {},\n    linkThreeObject: {},\n    linkThreeObjectExtend: {\n      \"default\": false\n    },\n    linkPositionUpdate: {},\n    linkDirectionalArrowLength: {\n      \"default\": 0\n    },\n    linkDirectionalArrowColor: {},\n    linkDirectionalArrowRelPos: {\n      \"default\": 0.5\n    },\n    // value between 0<>1 indicating the relative pos along the (exposed) line\n    linkDirectionalArrowResolution: {\n      \"default\": 8\n    },\n    // how many slice segments in the arrow's conic circumference\n    linkDirectionalParticles: {\n      \"default\": 0\n    },\n    // animate photons travelling in the link direction\n    linkDirectionalParticleSpeed: {\n      \"default\": 0.01\n    },\n    // in link length ratio per frame\n    linkDirectionalParticleWidth: {\n      \"default\": 0.5\n    },\n    linkDirectionalParticleColor: {},\n    linkDirectionalParticleResolution: {\n      \"default\": 4\n    },\n    // how many slice segments in the particle sphere's circumference\n    onNodeCenterHover: {},\n    onLinkCenterHover: {},\n    forceEngine: {\n      \"default\": 'd3'\n    },\n    // d3 or ngraph\n    d3AlphaMin: {\n      \"default\": 0\n    },\n    d3AlphaDecay: {\n      \"default\": 0.0228\n    },\n    d3VelocityDecay: {\n      \"default\": 0.4\n    },\n    warmupTicks: {\n      \"default\": 0\n    },\n    // how many times to tick the force engine at init before starting to render\n    cooldownTicks: {},\n    cooldownTime: {\n      \"default\": 15000\n    },\n    // ms\n    onEngineTick: {},\n    onEngineStop: {}\n  },\n  methods: _objectSpread2({}, Object.assign.apply(Object, [{}].concat(_toConsumableArray(['emitParticle', 'd3Force', 'd3ReheatSimulation', 'refresh'].map(function (method) {\n    return _defineProperty({}, method, function (state) {\n      var aframeComp = state.forcegraph.components.forcegraph;\n\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var returnVal = aframeComp[method].apply(aframeComp, args);\n      return returnVal === aframeComp ? this // chain based on this object, not the inner aframe component\n      : returnVal;\n    });\n  })))), {\n    _destructor: function _destructor() {\n      this.graphData({\n        nodes: [],\n        links: []\n      });\n    }\n  }),\n  init: function init(domNode, state) {\n    var _ref2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n        _ref2$markerAttrs = _ref2.markerAttrs,\n        markerAttrs = _ref2$markerAttrs === void 0 ? {\n      preset: 'hiro'\n    } : _ref2$markerAttrs; // Wipe DOM\n\n\n    domNode.innerHTML = '';\n    state.container = document.createElement('div');\n    domNode.appendChild(state.container); // Create scene\n\n    var scene = document.createElement('a-scene');\n    scene.setAttribute('embedded', '');\n    scene.setAttribute('arjs', 'debugUIEnabled: false;');\n    var arMarker = document.createElement('a-marker'); // add marker attributes\n\n    Object.entries(markerAttrs).forEach(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n          attr = _ref4[0],\n          val = _ref4[1];\n\n      return arMarker.setAttribute(attr, val);\n    });\n    scene.appendChild(arMarker); // Add forcegraph entity\n\n    state.forcegraph = document.createElement('a-entity');\n    state.forcegraph.setAttribute('forcegraph', null);\n    arMarker.appendChild(state.forcegraph);\n    var cameraEntity = document.createElement('a-entity');\n    cameraEntity.setAttribute('camera', '');\n    scene.appendChild(cameraEntity); // attach scene\n\n    state.container.appendChild(scene); //domNode.appendChild(scene);\n  },\n  update: function update(state, changedProps) {\n    changedProps.hasOwnProperty('width') && state.width && (state.container.style.width = state.width);\n    changedProps.hasOwnProperty('height') && state.height && (state.container.style.height = state.height);\n    changedProps.hasOwnProperty('glScale') && state.forcegraph.setAttribute('scale', _toConsumableArray(new Array(3)).map(function () {\n      return 1 / state.glScale;\n    }).join(' '));\n    changedProps.hasOwnProperty('yOffset') && state.forcegraph.setAttribute('position', \"0 \".concat(state.yOffset, \" 0\"));\n    var passThroughProps = ['jsonUrl', 'numDimensions', 'dagMode', 'dagLevelDistance', 'nodeRelSize', 'nodeId', 'nodeVal', 'nodeResolution', 'nodeVisibility', 'nodeColor', 'nodeAutoColorBy', 'nodeOpacity', 'nodeThreeObject', 'nodeThreeObjectExtend', 'linkSource', 'linkTarget', 'linkHoverPrecision', 'linkVisibility', 'linkColor', 'linkAutoColorBy', 'linkOpacity', 'linkWidth', 'linkResolution', 'linkCurvature', 'linkCurveRotation', 'linkMaterial', 'linkThreeObject', 'linkThreeObjectExtend', 'linkPositionUpdate', 'linkDirectionalArrowLength', 'linkDirectionalArrowColor', 'linkDirectionalArrowRelPos', 'linkDirectionalArrowResolution', 'linkDirectionalParticles', 'linkDirectionalParticleSpeed', 'linkDirectionalParticleWidth', 'linkDirectionalParticleColor', 'linkDirectionalParticleResolution', 'onNodeCenterHover', 'onLinkCenterHover', 'forceEngine', 'd3AlphaMin', 'd3AlphaDecay', 'd3VelocityDecay', 'warmupTicks', 'cooldownTicks', 'cooldownTime', 'onEngineTick', 'onEngineStop'];\n    var newProps = Object.assign.apply(Object, [{}].concat(_toConsumableArray(Object.entries(state).filter(function (_ref5) {\n      var _ref6 = _slicedToArray(_ref5, 2),\n          prop = _ref6[0],\n          val = _ref6[1];\n\n      return changedProps.hasOwnProperty(prop) && passThroughProps.indexOf(prop) != -1 && val !== undefined && val !== null;\n    }).map(function (_ref7) {\n      var _ref8 = _slicedToArray(_ref7, 2),\n          key = _ref8[0],\n          val = _ref8[1];\n\n      return _defineProperty({}, key, val);\n    })), _toConsumableArray(Object.entries(state.graphData).map(function (_ref10) {\n      var _ref11 = _slicedToArray(_ref10, 2),\n          key = _ref11[0],\n          val = _ref11[1];\n\n      return _defineProperty({}, key, val);\n    }))));\n    state.forcegraph.setAttribute('forcegraph', newProps);\n  }\n});\n\nexport default _3dForceGraphAr;","import \"core-js/modules/es6.object.create\";\nimport \"core-js/modules/es6.string.sub\";\nimport { EventDispatcher, Plane, Raycaster, Vector2, Vector3 } from 'three';\n/*\n * @author zz85 / https://github.com/zz85\n * @author mrdoob / http://mrdoob.com\n * Running this will allow you to drag three.js objects around the screen.\n */\n\nfunction DragControls(_objects, _camera, _domElement) {\n  if (_objects.isCamera) {\n    console.warn('THREE.DragControls: Constructor now expects ( objects, camera, domElement )');\n    var temp = _objects;\n    _objects = _camera;\n    _camera = temp;\n  }\n\n  var _plane = new Plane();\n\n  var _raycaster = new Raycaster();\n\n  var _mouse = new Vector2();\n\n  var _offset = new Vector3();\n\n  var _intersection = new Vector3();\n\n  var _selected = null,\n      _hovered = null; //\n\n  var scope = this;\n\n  function activate() {\n    _domElement.addEventListener('mousemove', onDocumentMouseMove, false);\n\n    _domElement.addEventListener('mousedown', onDocumentMouseDown, false);\n\n    _domElement.addEventListener('mouseup', onDocumentMouseCancel, false);\n\n    _domElement.addEventListener('mouseleave', onDocumentMouseCancel, false);\n\n    _domElement.addEventListener('touchmove', onDocumentTouchMove, false);\n\n    _domElement.addEventListener('touchstart', onDocumentTouchStart, false);\n\n    _domElement.addEventListener('touchend', onDocumentTouchEnd, false);\n  }\n\n  function deactivate() {\n    _domElement.removeEventListener('mousemove', onDocumentMouseMove, false);\n\n    _domElement.removeEventListener('mousedown', onDocumentMouseDown, false);\n\n    _domElement.removeEventListener('mouseup', onDocumentMouseCancel, false);\n\n    _domElement.removeEventListener('mouseleave', onDocumentMouseCancel, false);\n\n    _domElement.removeEventListener('touchmove', onDocumentTouchMove, false);\n\n    _domElement.removeEventListener('touchstart', onDocumentTouchStart, false);\n\n    _domElement.removeEventListener('touchend', onDocumentTouchEnd, false);\n  }\n\n  function dispose() {\n    deactivate();\n  }\n\n  function onDocumentMouseMove(event) {\n    event.preventDefault();\n\n    var rect = _domElement.getBoundingClientRect();\n\n    _mouse.x = (event.clientX - rect.left) / rect.width * 2 - 1;\n    _mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;\n\n    _raycaster.setFromCamera(_mouse, _camera);\n\n    if (_selected && scope.enabled) {\n      if (_raycaster.ray.intersectPlane(_plane, _intersection)) {\n        _selected.position.copy(_intersection.sub(_offset));\n      }\n\n      scope.dispatchEvent({\n        type: 'drag',\n        object: _selected\n      });\n      return;\n    }\n\n    _raycaster.setFromCamera(_mouse, _camera);\n\n    var intersects = _raycaster.intersectObjects(_objects);\n\n    if (intersects.length > 0) {\n      var object = intersects[0].object;\n\n      _plane.setFromNormalAndCoplanarPoint(_camera.getWorldDirection(_plane.normal), object.position);\n\n      if (_hovered !== object) {\n        scope.dispatchEvent({\n          type: 'hoveron',\n          object: object\n        });\n        _domElement.style.cursor = 'pointer';\n        _hovered = object;\n      }\n    } else {\n      if (_hovered !== null) {\n        scope.dispatchEvent({\n          type: 'hoveroff',\n          object: _hovered\n        });\n        _domElement.style.cursor = 'auto';\n        _hovered = null;\n      }\n    }\n  }\n\n  function onDocumentMouseDown(event) {\n    event.preventDefault();\n\n    _raycaster.setFromCamera(_mouse, _camera);\n\n    var intersects = _raycaster.intersectObjects(_objects);\n\n    if (intersects.length > 0) {\n      _selected = intersects[0].object;\n\n      if (_raycaster.ray.intersectPlane(_plane, _intersection)) {\n        _offset.copy(_intersection).sub(_selected.position);\n      }\n\n      _domElement.style.cursor = 'move';\n      scope.dispatchEvent({\n        type: 'dragstart',\n        object: _selected\n      });\n    }\n  }\n\n  function onDocumentMouseCancel(event) {\n    event.preventDefault();\n\n    if (_selected) {\n      scope.dispatchEvent({\n        type: 'dragend',\n        object: _selected\n      });\n      _selected = null;\n    }\n\n    _domElement.style.cursor = 'auto';\n  }\n\n  function onDocumentTouchMove(event) {\n    event.preventDefault();\n    event = event.changedTouches[0];\n\n    var rect = _domElement.getBoundingClientRect();\n\n    _mouse.x = (event.clientX - rect.left) / rect.width * 2 - 1;\n    _mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;\n\n    _raycaster.setFromCamera(_mouse, _camera);\n\n    if (_selected && scope.enabled) {\n      if (_raycaster.ray.intersectPlane(_plane, _intersection)) {\n        _selected.position.copy(_intersection.sub(_offset));\n      }\n\n      scope.dispatchEvent({\n        type: 'drag',\n        object: _selected\n      });\n      return;\n    }\n  }\n\n  function onDocumentTouchStart(event) {\n    event.preventDefault();\n    event = event.changedTouches[0];\n\n    var rect = _domElement.getBoundingClientRect();\n\n    _mouse.x = (event.clientX - rect.left) / rect.width * 2 - 1;\n    _mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;\n\n    _raycaster.setFromCamera(_mouse, _camera);\n\n    var intersects = _raycaster.intersectObjects(_objects);\n\n    if (intersects.length > 0) {\n      _selected = intersects[0].object;\n\n      _plane.setFromNormalAndCoplanarPoint(_camera.getWorldDirection(_plane.normal), _selected.position);\n\n      if (_raycaster.ray.intersectPlane(_plane, _intersection)) {\n        _offset.copy(_intersection).sub(_selected.position);\n      }\n\n      _domElement.style.cursor = 'move';\n      scope.dispatchEvent({\n        type: 'dragstart',\n        object: _selected\n      });\n    }\n  }\n\n  function onDocumentTouchEnd(event) {\n    event.preventDefault();\n\n    if (_selected) {\n      scope.dispatchEvent({\n        type: 'dragend',\n        object: _selected\n      });\n      _selected = null;\n    }\n\n    _domElement.style.cursor = 'auto';\n  }\n\n  activate(); // API\n\n  this.enabled = true;\n  this.activate = activate;\n  this.deactivate = deactivate;\n  this.dispose = dispose; // Backward compatibility\n\n  this.setObjects = function () {\n    console.error('THREE.DragControls: setObjects() has been removed.');\n  };\n\n  this.on = function (type, listener) {\n    console.warn('THREE.DragControls: on() has been deprecated. Use addEventListener() instead.');\n    scope.addEventListener(type, listener);\n  };\n\n  this.off = function (type, listener) {\n    console.warn('THREE.DragControls: off() has been deprecated. Use removeEventListener() instead.');\n    scope.removeEventListener(type, listener);\n  };\n\n  this.notify = function (type) {\n    console.error('THREE.DragControls: notify() has been deprecated. Use dispatchEvent() instead.');\n    scope.dispatchEvent({\n      type: type\n    });\n  };\n}\n\nDragControls.prototype = Object.create(EventDispatcher.prototype);\nDragControls.prototype.constructor = DragControls;\nexport default DragControls;","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import setPrototypeOf from \"./setPrototypeOf\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import getPrototypeOf from \"./getPrototypeOf\";\nimport setPrototypeOf from \"./setPrototypeOf\";\nimport isNativeFunction from \"./isNativeFunction\";\nimport construct from \"./construct\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","import \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.string.sup\";\nimport \"core-js/modules/es6.string.sub\";\nimport \"core-js/modules/es6.string.small\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.array.reduce\";\nimport \"core-js/modules/es6.string.trim\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.of\";\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport _wrapNativeSuper from '@babel/runtime/helpers/esm/wrapNativeSuper';\nimport _taggedTemplateLiteralLoose from '@babel/runtime/helpers/esm/taggedTemplateLiteralLoose';\n\nfunction last() {\n  var _ref;\n\n  return _ref = arguments.length - 1, _ref < 0 || arguments.length <= _ref ? undefined : arguments[_ref];\n}\n\nfunction negation(a) {\n  return -a;\n}\n\nfunction addition(a, b) {\n  return a + b;\n}\n\nfunction subtraction(a, b) {\n  return a - b;\n}\n\nfunction multiplication(a, b) {\n  return a * b;\n}\n\nfunction division(a, b) {\n  return a / b;\n}\n\nfunction factorial(a) {\n  if (a % 1 || !(+a >= 0)) return NaN;\n  if (a > 170) return Infinity;else if (a === 0) return 1;else {\n    return a * factorial(a - 1);\n  }\n}\n\nfunction power(a, b) {\n  return Math.pow(a, b);\n}\n\nfunction sqrt(a) {\n  return Math.sqrt(a);\n}\n\nfunction max() {\n  return Math.max.apply(Math, arguments);\n}\n\nfunction min() {\n  return Math.min.apply(Math, arguments);\n}\n\nfunction comma() {\n  return Array.of.apply(Array, arguments);\n}\n\nvar defaultMathSymbols = {\n  symbols: {\n    '!': {\n      postfix: {\n        symbol: '!',\n        f: factorial,\n        notation: 'postfix',\n        precedence: 6,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: '!',\n      regSymbol: '!'\n    },\n    '^': {\n      infix: {\n        symbol: '^',\n        f: power,\n        notation: 'infix',\n        precedence: 5,\n        rightToLeft: 1,\n        argCount: 2\n      },\n      symbol: '^',\n      regSymbol: '\\\\^'\n    },\n    '*': {\n      infix: {\n        symbol: '*',\n        f: multiplication,\n        notation: 'infix',\n        precedence: 4,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      symbol: '*',\n      regSymbol: '\\\\*'\n    },\n    '/': {\n      infix: {\n        symbol: '/',\n        f: division,\n        notation: 'infix',\n        precedence: 4,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      symbol: '/',\n      regSymbol: '/'\n    },\n    '+': {\n      infix: {\n        symbol: '+',\n        f: addition,\n        notation: 'infix',\n        precedence: 2,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      prefix: {\n        symbol: '+',\n        f: last,\n        notation: 'prefix',\n        precedence: 3,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: '+',\n      regSymbol: '\\\\+'\n    },\n    '-': {\n      infix: {\n        symbol: '-',\n        f: subtraction,\n        notation: 'infix',\n        precedence: 2,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      prefix: {\n        symbol: '-',\n        f: negation,\n        notation: 'prefix',\n        precedence: 3,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: '-',\n      regSymbol: '-'\n    },\n    ',': {\n      infix: {\n        symbol: ',',\n        f: comma,\n        notation: 'infix',\n        precedence: 1,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      symbol: ',',\n      regSymbol: ','\n    },\n    '(': {\n      prefix: {\n        symbol: '(',\n        f: last,\n        notation: 'prefix',\n        precedence: 0,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: '(',\n      regSymbol: '\\\\('\n    },\n    ')': {\n      postfix: {\n        symbol: ')',\n        f: undefined,\n        notation: 'postfix',\n        precedence: 0,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: ')',\n      regSymbol: '\\\\)'\n    },\n    min: {\n      func: {\n        symbol: 'min',\n        f: min,\n        notation: 'func',\n        precedence: 0,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: 'min',\n      regSymbol: 'min\\\\b'\n    },\n    max: {\n      func: {\n        symbol: 'max',\n        f: max,\n        notation: 'func',\n        precedence: 0,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: 'max',\n      regSymbol: 'max\\\\b'\n    },\n    sqrt: {\n      func: {\n        symbol: 'sqrt',\n        f: sqrt,\n        notation: 'func',\n        precedence: 0,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: 'sqrt',\n      regSymbol: 'sqrt\\\\b'\n    }\n  }\n}; // based on https://github.com/styled-components/styled-components/blob/fcf6f3804c57a14dd7984dfab7bc06ee2edca044/src/utils/error.js\n\n/**\n * Parse errors.md and turn it into a simple hash of code: message\n * @private\n */\n\nvar ERRORS = {\n  \"1\": \"Passed invalid arguments to hsl, please pass multiple numbers e.g. hsl(360, 0.75, 0.4) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75 }).\\n\\n\",\n  \"2\": \"Passed invalid arguments to hsla, please pass multiple numbers e.g. hsla(360, 0.75, 0.4, 0.7) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75, alpha: 0.7 }).\\n\\n\",\n  \"3\": \"Passed an incorrect argument to a color function, please pass a string representation of a color.\\n\\n\",\n  \"4\": \"Couldn't generate valid rgb string from %s, it returned %s.\\n\\n\",\n  \"5\": \"Couldn't parse the color string. Please provide the color as a string in hex, rgb, rgba, hsl or hsla notation.\\n\\n\",\n  \"6\": \"Passed invalid arguments to rgb, please pass multiple numbers e.g. rgb(255, 205, 100) or an object e.g. rgb({ red: 255, green: 205, blue: 100 }).\\n\\n\",\n  \"7\": \"Passed invalid arguments to rgba, please pass multiple numbers e.g. rgb(255, 205, 100, 0.75) or an object e.g. rgb({ red: 255, green: 205, blue: 100, alpha: 0.75 }).\\n\\n\",\n  \"8\": \"Passed invalid argument to toColorString, please pass a RgbColor, RgbaColor, HslColor or HslaColor object.\\n\\n\",\n  \"9\": \"Please provide a number of steps to the modularScale helper.\\n\\n\",\n  \"10\": \"Please pass a number or one of the predefined scales to the modularScale helper as the ratio.\\n\\n\",\n  \"11\": \"Invalid value passed as base to modularScale, expected number or em string but got \\\"%s\\\"\\n\\n\",\n  \"12\": \"Expected a string ending in \\\"px\\\" or a number passed as the first argument to %s(), got \\\"%s\\\" instead.\\n\\n\",\n  \"13\": \"Expected a string ending in \\\"px\\\" or a number passed as the second argument to %s(), got \\\"%s\\\" instead.\\n\\n\",\n  \"14\": \"Passed invalid pixel value (\\\"%s\\\") to %s(), please pass a value like \\\"12px\\\" or 12.\\n\\n\",\n  \"15\": \"Passed invalid base value (\\\"%s\\\") to %s(), please pass a value like \\\"12px\\\" or 12.\\n\\n\",\n  \"16\": \"You must provide a template to this method.\\n\\n\",\n  \"17\": \"You passed an unsupported selector state to this method.\\n\\n\",\n  \"18\": \"minScreen and maxScreen must be provided as stringified numbers with the same units.\\n\\n\",\n  \"19\": \"fromSize and toSize must be provided as stringified numbers with the same units.\\n\\n\",\n  \"20\": \"expects either an array of objects or a single object with the properties prop, fromSize, and toSize.\\n\\n\",\n  \"21\": \"expects the objects in the first argument array to have the properties `prop`, `fromSize`, and `toSize`.\\n\\n\",\n  \"22\": \"expects the first argument object to have the properties `prop`, `fromSize`, and `toSize`.\\n\\n\",\n  \"23\": \"fontFace expects a name of a font-family.\\n\\n\",\n  \"24\": \"fontFace expects either the path to the font file(s) or a name of a local copy.\\n\\n\",\n  \"25\": \"fontFace expects localFonts to be an array.\\n\\n\",\n  \"26\": \"fontFace expects fileFormats to be an array.\\n\\n\",\n  \"27\": \"radialGradient requries at least 2 color-stops to properly render.\\n\\n\",\n  \"28\": \"Please supply a filename to retinaImage() as the first argument.\\n\\n\",\n  \"29\": \"Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.\\n\\n\",\n  \"30\": \"Passed an invalid value to `height` or `width`. Please provide a pixel based unit.\\n\\n\",\n  \"31\": \"The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation\\n\\n\",\n  \"32\": \"To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])\\nTo pass a single animation please supply them in simple values, e.g. animation('rotate', '2s')\\n\\n\",\n  \"33\": \"The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation\\n\\n\",\n  \"34\": \"borderRadius expects a radius value as a string or number as the second argument.\\n\\n\",\n  \"35\": \"borderRadius expects one of \\\"top\\\", \\\"bottom\\\", \\\"left\\\" or \\\"right\\\" as the first argument.\\n\\n\",\n  \"36\": \"Property must be a string value.\\n\\n\",\n  \"37\": \"Syntax Error at %s.\\n\\n\",\n  \"38\": \"Formula contains a function that needs parentheses at %s.\\n\\n\",\n  \"39\": \"Formula is missing closing parenthesis at %s.\\n\\n\",\n  \"40\": \"Formula has too many closing parentheses at %s.\\n\\n\",\n  \"41\": \"All values in a formula must have the same unit or be unitless.\\n\\n\",\n  \"42\": \"Please provide a number of steps to the modularScale helper.\\n\\n\",\n  \"43\": \"Please pass a number or one of the predefined scales to the modularScale helper as the ratio.\\n\\n\",\n  \"44\": \"Invalid value passed as base to modularScale, expected number or em/rem string but got %s.\\n\\n\",\n  \"45\": \"Passed invalid argument to hslToColorString, please pass a HslColor or HslaColor object.\\n\\n\",\n  \"46\": \"Passed invalid argument to rgbToColorString, please pass a RgbColor or RgbaColor object.\\n\\n\",\n  \"47\": \"minScreen and maxScreen must be provided as stringified numbers with the same units.\\n\\n\",\n  \"48\": \"fromSize and toSize must be provided as stringified numbers with the same units.\\n\\n\",\n  \"49\": \"Expects either an array of objects or a single object with the properties prop, fromSize, and toSize.\\n\\n\",\n  \"50\": \"Expects the objects in the first argument array to have the properties prop, fromSize, and toSize.\\n\\n\",\n  \"51\": \"Expects the first argument object to have the properties prop, fromSize, and toSize.\\n\\n\",\n  \"52\": \"fontFace expects either the path to the font file(s) or a name of a local copy.\\n\\n\",\n  \"53\": \"fontFace expects localFonts to be an array.\\n\\n\",\n  \"54\": \"fontFace expects fileFormats to be an array.\\n\\n\",\n  \"55\": \"fontFace expects a name of a font-family.\\n\\n\",\n  \"56\": \"linearGradient requries at least 2 color-stops to properly render.\\n\\n\",\n  \"57\": \"radialGradient requries at least 2 color-stops to properly render.\\n\\n\",\n  \"58\": \"Please supply a filename to retinaImage() as the first argument.\\n\\n\",\n  \"59\": \"Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.\\n\\n\",\n  \"60\": \"Passed an invalid value to `height` or `width`. Please provide a pixel based unit.\\n\\n\",\n  \"61\": \"Property must be a string value.\\n\\n\",\n  \"62\": \"borderRadius expects a radius value as a string or number as the second argument.\\n\\n\",\n  \"63\": \"borderRadius expects one of \\\"top\\\", \\\"bottom\\\", \\\"left\\\" or \\\"right\\\" as the first argument.\\n\\n\",\n  \"64\": \"The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation.\\n\\n\",\n  \"65\": \"To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])\\\\nTo pass a single animation please supply them in simple values, e.g. animation('rotate', '2s').\\n\\n\",\n  \"66\": \"The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation.\\n\\n\",\n  \"67\": \"You must provide a template to this method.\\n\\n\",\n  \"68\": \"You passed an unsupported selector state to this method.\\n\\n\",\n  \"69\": \"Expected a string ending in \\\"px\\\" or a number passed as the first argument to %s(), got %s instead.\\n\\n\",\n  \"70\": \"Expected a string ending in \\\"px\\\" or a number passed as the second argument to %s(), got %s instead.\\n\\n\",\n  \"71\": \"Passed invalid pixel value %s to %s(), please pass a value like \\\"12px\\\" or 12.\\n\\n\",\n  \"72\": \"Passed invalid base value %s to %s(), please pass a value like \\\"12px\\\" or 12.\\n\\n\",\n  \"73\": \"Please provide a valid CSS variable.\\n\\n\",\n  \"74\": \"CSS variable not found.\\n\"\n};\n/**\n * super basic version of sprintf\n * @private\n */\n\nfunction format() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  var a = args[0];\n  var b = [];\n  var c;\n\n  for (c = 1; c < args.length; c += 1) {\n    b.push(args[c]);\n  }\n\n  b.forEach(function (d) {\n    a = a.replace(/%[a-z]/, d);\n  });\n  return a;\n}\n/**\n * Create an error file out of errors.md for development and a simple web link to the full errors\n * in production mode.\n * @private\n */\n\n\nvar PolishedError = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(PolishedError, _Error);\n\n  function PolishedError(code) {\n    var _this;\n\n    if (process.env.NODE_ENV === 'production') {\n      _this = _Error.call(this, \"An error occurred. See https://github.com/styled-components/polished/blob/master/src/internalHelpers/errors.md#\" + code + \" for more information.\") || this;\n    } else {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      _this = _Error.call(this, format.apply(void 0, [ERRORS[code]].concat(args))) || this;\n    }\n\n    return _assertThisInitialized(_this);\n  }\n\n  return PolishedError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nvar unitRegExp = /((?!\\w)a|na|hc|mc|dg|me[r]?|xe|ni(?![a-zA-Z])|mm|cp|tp|xp|q(?!s)|hv|xamv|nimv|wv|sm|s(?!\\D|$)|ged|darg?|nrut)/g; // Merges additional math functionality into the defaults.\n\nfunction mergeSymbolMaps(additionalSymbols) {\n  var symbolMap = {};\n  symbolMap.symbols = additionalSymbols ? _extends({}, defaultMathSymbols.symbols, {}, additionalSymbols.symbols) : _extends({}, defaultMathSymbols.symbols);\n  return symbolMap;\n}\n\nfunction exec(operators, values) {\n  var _ref;\n\n  var op = operators.pop();\n  values.push(op.f.apply(op, (_ref = []).concat.apply(_ref, values.splice(-op.argCount))));\n  return op.precedence;\n}\n\nfunction calculate(expression, additionalSymbols) {\n  var symbolMap = mergeSymbolMaps(additionalSymbols);\n  var match;\n  var operators = [symbolMap.symbols['('].prefix];\n  var values = [];\n  var pattern = new RegExp( // Pattern for numbers\n  \"\\\\d+(?:\\\\.\\\\d+)?|\" + // ...and patterns for individual operators/function names\n  Object.keys(symbolMap.symbols).map(function (key) {\n    return symbolMap.symbols[key];\n  }) // longer symbols should be listed first\n  // $FlowFixMe\n  .sort(function (a, b) {\n    return b.symbol.length - a.symbol.length;\n  }) // $FlowFixMe\n  .map(function (val) {\n    return val.regSymbol;\n  }).join('|') + \"|(\\\\S)\", 'g');\n  pattern.lastIndex = 0; // Reset regular expression object\n\n  var afterValue = false;\n\n  do {\n    match = pattern.exec(expression);\n\n    var _ref2 = match || [')', undefined],\n        token = _ref2[0],\n        bad = _ref2[1];\n\n    var notNumber = symbolMap.symbols[token];\n    var notNewValue = notNumber && !notNumber.prefix && !notNumber.func;\n    var notAfterValue = !notNumber || !notNumber.postfix && !notNumber.infix; // Check for syntax errors:\n\n    if (bad || (afterValue ? notAfterValue : notNewValue)) {\n      throw new PolishedError(37, match ? match.index : expression.length, expression);\n    }\n\n    if (afterValue) {\n      // We either have an infix or postfix operator (they should be mutually exclusive)\n      var curr = notNumber.postfix || notNumber.infix;\n\n      do {\n        var prev = operators[operators.length - 1];\n        if ((curr.precedence - prev.precedence || prev.rightToLeft) > 0) break; // Apply previous operator, since it has precedence over current one\n      } while (exec(operators, values)); // Exit loop after executing an opening parenthesis or function\n\n\n      afterValue = curr.notation === 'postfix';\n\n      if (curr.symbol !== ')') {\n        operators.push(curr); // Postfix always has precedence over any operator that follows after it\n\n        if (afterValue) exec(operators, values);\n      }\n    } else if (notNumber) {\n      // prefix operator or function\n      operators.push(notNumber.prefix || notNumber.func);\n\n      if (notNumber.func) {\n        // Require an opening parenthesis\n        match = pattern.exec(expression);\n\n        if (!match || match[0] !== '(') {\n          throw new PolishedError(38, match ? match.index : expression.length, expression);\n        }\n      }\n    } else {\n      // number\n      values.push(+token);\n      afterValue = true;\n    }\n  } while (match && operators.length);\n\n  if (operators.length) {\n    throw new PolishedError(39, match ? match.index : expression.length, expression);\n  } else if (match) {\n    throw new PolishedError(40, match ? match.index : expression.length, expression);\n  } else {\n    return values.pop();\n  }\n}\n\nfunction reverseString(str) {\n  return str.split('').reverse().join('');\n}\n/**\n * Helper for doing math with CSS Units. Accepts a formula as a string. All values in the formula must have the same unit (or be unitless). Supports complex formulas utliziing addition, subtraction, multiplication, division, square root, powers, factorial, min, max, as well as parentheses for order of operation.\n *\n *In cases where you need to do calculations with mixed units where one unit is a [relative length unit](https://developer.mozilla.org/en-US/docs/Web/CSS/length#Relative_length_units), you will want to use [CSS Calc](https://developer.mozilla.org/en-US/docs/Web/CSS/calc).\n *\n * *warning* While we've done everything possible to ensure math safely evalutes formulas expressed as strings, you should always use extreme caution when passing `math` user provided values.\n * @example\n * // Styles as object usage\n * const styles = {\n *   fontSize: math('12rem + 8rem'),\n *   fontSize: math('(12px + 2px) * 3'),\n *   fontSize: math('3px^2 + sqrt(4)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   fontSize: ${math('12rem + 8rem')};\n *   fontSize: ${math('(12px + 2px) * 3')};\n *   fontSize: ${math('3px^2 + sqrt(4)')};\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   fontSize: '20rem',\n *   fontSize: '42px',\n *   fontSize: '11px',\n * }\n */\n\n\nfunction math(formula, additionalSymbols) {\n  var reversedFormula = reverseString(formula);\n  var formulaMatch = reversedFormula.match(unitRegExp); // Check that all units are the same\n\n  if (formulaMatch && !formulaMatch.every(function (unit) {\n    return unit === formulaMatch[0];\n  })) {\n    throw new PolishedError(41);\n  }\n\n  var cleanFormula = reverseString(reversedFormula.replace(unitRegExp, ''));\n  return \"\" + calculate(cleanFormula, additionalSymbols) + (formulaMatch ? reverseString(formulaMatch[0]) : '');\n}\n\nvar cssVariableRegex = /--[\\S]*/g;\n/**\n * Fetches the value of a passed CSS Variable.\n *\n * Passthrough can be enabled (off by default) for when you are unsure of the input and want non-variable values to be returned instead of an error.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'background': cssVar('--background-color'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${cssVar('--background-color')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'background': 'red'\n * }\n */\n\nfunction cssVar(cssVariable, passThrough) {\n  if (!cssVariable || !cssVariable.match(cssVariableRegex)) {\n    if (passThrough) return cssVariable;\n    throw new PolishedError(73);\n  }\n\n  var variableValue;\n  /* eslint-disable */\n\n  /* istanbul ignore next */\n\n  if (document.documentElement !== null) {\n    variableValue = getComputedStyle(document.documentElement).getPropertyValue(cssVariable);\n  }\n  /* eslint-enable */\n\n\n  if (variableValue) {\n    return variableValue.trim();\n  } else {\n    throw new PolishedError(74);\n  }\n} // @private\n\n\nfunction capitalizeString(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nvar positionMap = ['Top', 'Right', 'Bottom', 'Left'];\n\nfunction generateProperty(property, position) {\n  if (!property) return position.toLowerCase();\n  var splitProperty = property.split('-');\n\n  if (splitProperty.length > 1) {\n    splitProperty.splice(1, 0, position);\n    return splitProperty.reduce(function (acc, val) {\n      return \"\" + acc + capitalizeString(val);\n    });\n  }\n\n  var joinedProperty = property.replace(/([a-z])([A-Z])/g, \"$1\" + position + \"$2\");\n  return property === joinedProperty ? \"\" + property + position : joinedProperty;\n}\n\nfunction generateStyles(property, valuesWithDefaults) {\n  var styles = {};\n\n  for (var i = 0; i < valuesWithDefaults.length; i += 1) {\n    if (valuesWithDefaults[i] || valuesWithDefaults[i] === 0) {\n      styles[generateProperty(property, positionMap[i])] = valuesWithDefaults[i];\n    }\n  }\n\n  return styles;\n}\n/**\n * Enables shorthand for direction-based properties. It accepts a property (hyphenated or camelCased) and up to four values that map to top, right, bottom, and left, respectively. You can optionally pass an empty string to get only the directional values as properties. You can also optionally pass a null argument for a directional value to ignore it.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...directionalProperty('padding', '12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${directionalProperty('padding', '12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'paddingTop': '12px',\n *   'paddingRight': '24px',\n *   'paddingBottom': '36px',\n *   'paddingLeft': '48px'\n * }\n */\n\n\nfunction directionalProperty(property) {\n  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    values[_key - 1] = arguments[_key];\n  } //  prettier-ignore\n\n\n  var firstValue = values[0],\n      _values$ = values[1],\n      secondValue = _values$ === void 0 ? firstValue : _values$,\n      _values$2 = values[2],\n      thirdValue = _values$2 === void 0 ? firstValue : _values$2,\n      _values$3 = values[3],\n      fourthValue = _values$3 === void 0 ? secondValue : _values$3;\n  var valuesWithDefaults = [firstValue, secondValue, thirdValue, fourthValue];\n  return generateStyles(property, valuesWithDefaults);\n}\n/**\n * Check if a string ends with something\n * @private\n */\n\n\nfunction endsWith(string, suffix) {\n  return string.substr(-suffix.length) === suffix;\n}\n\nvar cssRegex = /^([+-]?(?:\\d+|\\d*\\.\\d+))([a-z]*|%)$/;\n/**\n * Returns a given CSS value minus its unit of measure.\n *\n * @deprecated - stripUnit's unitReturn functionality has been marked for deprecation in polished 4.0. It's functionality has been been moved to getValueAndUnit.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   '--dimension': stripUnit('100px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   --dimension: ${stripUnit('100px')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   '--dimension': 100\n * }\n */\n\nfunction stripUnit(value, unitReturn) {\n  if (typeof value !== 'string') return unitReturn ? [value, undefined] : value;\n  var matchedValue = value.match(cssRegex);\n\n  if (unitReturn) {\n    // eslint-disable-next-line no-console\n    console.warn(\"stripUnit's unitReturn functionality has been marked for deprecation in polished 4.0. It's functionality has been been moved to getValueAndUnit.\");\n    if (matchedValue) return [parseFloat(value), matchedValue[2]];\n    return [value, undefined];\n  }\n\n  if (matchedValue) return parseFloat(value);\n  return value;\n}\n/**\n * Factory function that creates pixel-to-x converters\n * @private\n */\n\n\nvar pxtoFactory = function pxtoFactory(to) {\n  return function (pxval, base) {\n    if (base === void 0) {\n      base = '16px';\n    }\n\n    var newPxval = pxval;\n    var newBase = base;\n\n    if (typeof pxval === 'string') {\n      if (!endsWith(pxval, 'px')) {\n        throw new PolishedError(69, to, pxval);\n      }\n\n      newPxval = stripUnit(pxval);\n    }\n\n    if (typeof base === 'string') {\n      if (!endsWith(base, 'px')) {\n        throw new PolishedError(70, to, base);\n      }\n\n      newBase = stripUnit(base);\n    }\n\n    if (typeof newPxval === 'string') {\n      throw new PolishedError(71, pxval, to);\n    }\n\n    if (typeof newBase === 'string') {\n      throw new PolishedError(72, base, to);\n    }\n\n    return \"\" + newPxval / newBase + to;\n  };\n};\n/**\n * Convert pixel value to ems. The default base value is 16px, but can be changed by passing a\n * second argument to the function.\n * @function\n * @param {string|number} pxval\n * @param {string|number} [base='16px']\n * @example\n * // Styles as object usage\n * const styles = {\n *   'height': em('16px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   height: ${em('16px')}\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'height': '1em'\n * }\n */\n\n\nvar em = /*#__PURE__*/pxtoFactory('em');\nvar cssRegex$1 = /^([+-]?(?:\\d+|\\d*\\.\\d+))([a-z]*|%)$/;\n/**\n * Returns a given CSS value and its unit as elements of an array.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   '--dimension': getValueAndUnit('100px')[0],\n *   '--unit': getValueAndUnit('100px')[1],\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   --dimension: ${getValueAndUnit('100px')[0]};\n *   --unit: ${getValueAndUnit('100px')[1]};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   '--dimension': 100,\n *   '--unit': 'px',\n * }\n */\n\nfunction getValueAndUnit(value) {\n  if (typeof value !== 'string') return [value, ''];\n  var matchedValue = value.match(cssRegex$1);\n  if (matchedValue) return [parseFloat(value), matchedValue[2]];\n  return [value, undefined];\n}\n\nvar ratioNames = {\n  minorSecond: 1.067,\n  majorSecond: 1.125,\n  minorThird: 1.2,\n  majorThird: 1.25,\n  perfectFourth: 1.333,\n  augFourth: 1.414,\n  perfectFifth: 1.5,\n  minorSixth: 1.6,\n  goldenSection: 1.618,\n  majorSixth: 1.667,\n  minorSeventh: 1.778,\n  majorSeventh: 1.875,\n  octave: 2,\n  majorTenth: 2.5,\n  majorEleventh: 2.667,\n  majorTwelfth: 3,\n  doubleOctave: 4\n};\n\nfunction getRatio(ratioName) {\n  return ratioNames[ratioName];\n}\n/**\n * Establish consistent measurements and spacial relationships throughout your projects by incrementing an em or rem value up or down a defined scale. We provide a list of commonly used scales as pre-defined variables.\n * @example\n * // Styles as object usage\n * const styles = {\n *    // Increment two steps up the default scale\n *   'fontSize': modularScale(2)\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *    // Increment two steps up the default scale\n *   fontSize: ${modularScale(2)}\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'fontSize': '1.77689em'\n * }\n */\n\n\nfunction modularScale(steps, base, ratio) {\n  if (base === void 0) {\n    base = '1em';\n  }\n\n  if (ratio === void 0) {\n    ratio = 1.333;\n  }\n\n  if (typeof steps !== 'number') {\n    throw new PolishedError(42);\n  }\n\n  if (typeof ratio === 'string' && !ratioNames[ratio]) {\n    throw new PolishedError(43);\n  }\n\n  var _ref = typeof base === 'string' ? getValueAndUnit(base) : [base, ''],\n      realBase = _ref[0],\n      unit = _ref[1];\n\n  var realRatio = typeof ratio === 'string' ? getRatio(ratio) : ratio;\n\n  if (typeof realBase === 'string') {\n    throw new PolishedError(44, base);\n  }\n\n  return \"\" + realBase * Math.pow(realRatio, steps) + (unit || '');\n}\n/**\n * Convert pixel value to rems. The default base value is 16px, but can be changed by passing a\n * second argument to the function.\n * @function\n * @param {string|number} pxval\n * @param {string|number} [base='16px']\n * @example\n * // Styles as object usage\n * const styles = {\n *   'height': rem('16px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   height: ${rem('16px')}\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'height': '1rem'\n * }\n */\n\n\nvar rem = /*#__PURE__*/pxtoFactory('rem');\n/**\n * Returns a CSS calc formula for linear interpolation of a property between two values. Accepts optional minScreen (defaults to '320px') and maxScreen (defaults to '1200px').\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   fontSize: between('20px', '100px', '400px', '1000px'),\n *   fontSize: between('20px', '100px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   fontSize: ${between('20px', '100px', '400px', '1000px')};\n *   fontSize: ${between('20px', '100px')}\n * `\n *\n * // CSS as JS Output\n *\n * h1: {\n *   'fontSize': 'calc(-33.33333333333334px + 13.333333333333334vw)',\n *   'fontSize': 'calc(-9.090909090909093px + 9.090909090909092vw)'\n * }\n */\n\nfunction between(fromSize, toSize, minScreen, maxScreen) {\n  if (minScreen === void 0) {\n    minScreen = '320px';\n  }\n\n  if (maxScreen === void 0) {\n    maxScreen = '1200px';\n  }\n\n  var _getValueAndUnit = getValueAndUnit(fromSize),\n      unitlessFromSize = _getValueAndUnit[0],\n      fromSizeUnit = _getValueAndUnit[1];\n\n  var _getValueAndUnit2 = getValueAndUnit(toSize),\n      unitlessToSize = _getValueAndUnit2[0],\n      toSizeUnit = _getValueAndUnit2[1];\n\n  var _getValueAndUnit3 = getValueAndUnit(minScreen),\n      unitlessMinScreen = _getValueAndUnit3[0],\n      minScreenUnit = _getValueAndUnit3[1];\n\n  var _getValueAndUnit4 = getValueAndUnit(maxScreen),\n      unitlessMaxScreen = _getValueAndUnit4[0],\n      maxScreenUnit = _getValueAndUnit4[1];\n\n  if (typeof unitlessMinScreen !== 'number' || typeof unitlessMaxScreen !== 'number' || !minScreenUnit || !maxScreenUnit || minScreenUnit !== maxScreenUnit) {\n    throw new PolishedError(47);\n  }\n\n  if (typeof unitlessFromSize !== 'number' || typeof unitlessToSize !== 'number' || fromSizeUnit !== toSizeUnit) {\n    throw new PolishedError(48);\n  }\n\n  var slope = (unitlessFromSize - unitlessToSize) / (unitlessMinScreen - unitlessMaxScreen);\n  var base = unitlessToSize - slope * unitlessMaxScreen;\n  return \"calc(\" + base.toFixed(2) + (fromSizeUnit || '') + \" + \" + (100 * slope).toFixed(2) + \"vw)\";\n}\n/**\n * CSS to contain a float (credit to CSSMojo).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *    ...clearFix(),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${clearFix()}\n * `\n *\n * // CSS as JS Output\n *\n * '&::after': {\n *   'clear': 'both',\n *   'content': '\"\"',\n *   'display': 'table'\n * }\n */\n\n\nfunction clearFix(parent) {\n  var _ref;\n\n  if (parent === void 0) {\n    parent = '&';\n  }\n\n  var pseudoSelector = parent + \"::after\";\n  return _ref = {}, _ref[pseudoSelector] = {\n    clear: 'both',\n    content: '\"\"',\n    display: 'table'\n  }, _ref;\n}\n/**\n * CSS to fully cover an area. Can optionally be passed an offset to act as a \"padding\".\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...cover()\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${cover()}\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   'position': 'absolute',\n *   'top': '0',\n *   'right: '0',\n *   'bottom': '0',\n *   'left: '0'\n * }\n */\n\n\nfunction cover(offset) {\n  if (offset === void 0) {\n    offset = 0;\n  }\n\n  return {\n    position: 'absolute',\n    top: offset,\n    right: offset,\n    bottom: offset,\n    left: offset\n  };\n}\n/**\n * CSS to represent truncated text with an ellipsis.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...ellipsis('250px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${ellipsis('250px')}\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   'display': 'inline-block',\n *   'maxWidth': '250px',\n *   'overflow': 'hidden',\n *   'textOverflow': 'ellipsis',\n *   'whiteSpace': 'nowrap',\n *   'wordWrap': 'normal'\n * }\n */\n\n\nfunction ellipsis(width) {\n  if (width === void 0) {\n    width = '100%';\n  }\n\n  return {\n    display: 'inline-block',\n    maxWidth: width,\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    wordWrap: 'normal'\n  };\n}\n/**\n * Returns a set of media queries that resizes a property (or set of properties) between a provided fromSize and toSize. Accepts optional minScreen (defaults to '320px') and maxScreen (defaults to '1200px') to constrain the interpolation.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...fluidRange(\n *    {\n *        prop: 'padding',\n *        fromSize: '20px',\n *        toSize: '100px',\n *      },\n *      '400px',\n *      '1000px',\n *    )\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${fluidRange(\n *      {\n *        prop: 'padding',\n *        fromSize: '20px',\n *        toSize: '100px',\n *      },\n *      '400px',\n *      '1000px',\n *    )}\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   \"@media (min-width: 1000px)\": Object {\n *     \"padding\": \"100px\",\n *   },\n *   \"@media (min-width: 400px)\": Object {\n *     \"padding\": \"calc(-33.33333333333334px + 13.333333333333334vw)\",\n *   },\n *   \"padding\": \"20px\",\n * }\n */\n\n\nfunction fluidRange(cssProp, minScreen, maxScreen) {\n  if (minScreen === void 0) {\n    minScreen = '320px';\n  }\n\n  if (maxScreen === void 0) {\n    maxScreen = '1200px';\n  }\n\n  if (!Array.isArray(cssProp) && typeof cssProp !== 'object' || cssProp === null) {\n    throw new PolishedError(49);\n  }\n\n  if (Array.isArray(cssProp)) {\n    var mediaQueries = {};\n    var fallbacks = {};\n\n    for (var _iterator = cssProp, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n      var _extends2, _extends3;\n\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var obj = _ref;\n\n      if (!obj.prop || !obj.fromSize || !obj.toSize) {\n        throw new PolishedError(50);\n      }\n\n      fallbacks[obj.prop] = obj.fromSize;\n      mediaQueries[\"@media (min-width: \" + minScreen + \")\"] = _extends({}, mediaQueries[\"@media (min-width: \" + minScreen + \")\"], (_extends2 = {}, _extends2[obj.prop] = between(obj.fromSize, obj.toSize, minScreen, maxScreen), _extends2));\n      mediaQueries[\"@media (min-width: \" + maxScreen + \")\"] = _extends({}, mediaQueries[\"@media (min-width: \" + maxScreen + \")\"], (_extends3 = {}, _extends3[obj.prop] = obj.toSize, _extends3));\n    }\n\n    return _extends({}, fallbacks, {}, mediaQueries);\n  } else {\n    var _ref2, _ref3, _ref4;\n\n    if (!cssProp.prop || !cssProp.fromSize || !cssProp.toSize) {\n      throw new PolishedError(51);\n    }\n\n    return _ref4 = {}, _ref4[cssProp.prop] = cssProp.fromSize, _ref4[\"@media (min-width: \" + minScreen + \")\"] = (_ref2 = {}, _ref2[cssProp.prop] = between(cssProp.fromSize, cssProp.toSize, minScreen, maxScreen), _ref2), _ref4[\"@media (min-width: \" + maxScreen + \")\"] = (_ref3 = {}, _ref3[cssProp.prop] = cssProp.toSize, _ref3), _ref4;\n  }\n}\n\nvar dataURIRegex = /^\\s*data:([a-z]+\\/[a-z-]+(;[a-z-]+=[a-z-]+)?)?(;charset=[a-z0-9-]+)?(;base64)?,[a-z0-9!$&',()*+,;=\\-._~:@/?%\\s]*\\s*$/i;\nvar formatHintMap = {\n  woff: 'woff',\n  woff2: 'woff2',\n  ttf: 'truetype',\n  otf: 'opentype',\n  eot: 'embedded-opentype',\n  svg: 'svg',\n  svgz: 'svg'\n};\n\nfunction generateFormatHint(format, formatHint) {\n  if (!formatHint) return '';\n  return \" format(\\\"\" + formatHintMap[format] + \"\\\")\";\n}\n\nfunction isDataURI(fontFilePath) {\n  return !!fontFilePath.match(dataURIRegex);\n}\n\nfunction generateFileReferences(fontFilePath, fileFormats, formatHint) {\n  if (isDataURI(fontFilePath)) {\n    return \"url(\\\"\" + fontFilePath + \"\\\")\" + generateFormatHint(fileFormats[0], formatHint);\n  }\n\n  var fileFontReferences = fileFormats.map(function (format) {\n    return \"url(\\\"\" + fontFilePath + \".\" + format + \"\\\")\" + generateFormatHint(format, formatHint);\n  });\n  return fileFontReferences.join(', ');\n}\n\nfunction generateLocalReferences(localFonts) {\n  var localFontReferences = localFonts.map(function (font) {\n    return \"local(\\\"\" + font + \"\\\")\";\n  });\n  return localFontReferences.join(', ');\n}\n\nfunction generateSources(fontFilePath, localFonts, fileFormats, formatHint) {\n  var fontReferences = [];\n  if (localFonts) fontReferences.push(generateLocalReferences(localFonts));\n\n  if (fontFilePath) {\n    fontReferences.push(generateFileReferences(fontFilePath, fileFormats, formatHint));\n  }\n\n  return fontReferences.join(', ');\n}\n/**\n * CSS for a @font-face declaration.\n *\n * @example\n * // Styles as object basic usage\n * const styles = {\n *    ...fontFace({\n *      'fontFamily': 'Sans-Pro',\n *      'fontFilePath': 'path/to/file'\n *    })\n * }\n *\n * // styled-components basic usage\n * const GlobalStyle = createGlobalStyle`${\n *   fontFace({\n *     'fontFamily': 'Sans-Pro',\n *     'fontFilePath': 'path/to/file'\n *   }\n * )}`\n *\n * // CSS as JS Output\n *\n * '@font-face': {\n *   'fontFamily': 'Sans-Pro',\n *   'src': 'url(\"path/to/file.eot\"), url(\"path/to/file.woff2\"), url(\"path/to/file.woff\"), url(\"path/to/file.ttf\"), url(\"path/to/file.svg\")',\n * }\n */\n\n\nfunction fontFace(_ref) {\n  var fontFamily = _ref.fontFamily,\n      fontFilePath = _ref.fontFilePath,\n      fontStretch = _ref.fontStretch,\n      fontStyle = _ref.fontStyle,\n      fontVariant = _ref.fontVariant,\n      fontWeight = _ref.fontWeight,\n      _ref$fileFormats = _ref.fileFormats,\n      fileFormats = _ref$fileFormats === void 0 ? ['eot', 'woff2', 'woff', 'ttf', 'svg'] : _ref$fileFormats,\n      _ref$formatHint = _ref.formatHint,\n      formatHint = _ref$formatHint === void 0 ? false : _ref$formatHint,\n      localFonts = _ref.localFonts,\n      unicodeRange = _ref.unicodeRange,\n      fontDisplay = _ref.fontDisplay,\n      fontVariationSettings = _ref.fontVariationSettings,\n      fontFeatureSettings = _ref.fontFeatureSettings; // Error Handling\n\n  if (!fontFamily) throw new PolishedError(55);\n\n  if (!fontFilePath && !localFonts) {\n    throw new PolishedError(52);\n  }\n\n  if (localFonts && !Array.isArray(localFonts)) {\n    throw new PolishedError(53);\n  }\n\n  if (!Array.isArray(fileFormats)) {\n    throw new PolishedError(54);\n  }\n\n  var fontFaceDeclaration = {\n    '@font-face': {\n      fontFamily: fontFamily,\n      src: generateSources(fontFilePath, localFonts, fileFormats, formatHint),\n      unicodeRange: unicodeRange,\n      fontStretch: fontStretch,\n      fontStyle: fontStyle,\n      fontVariant: fontVariant,\n      fontWeight: fontWeight,\n      fontDisplay: fontDisplay,\n      fontVariationSettings: fontVariationSettings,\n      fontFeatureSettings: fontFeatureSettings\n    }\n  }; // Removes undefined fields for cleaner css object.\n\n  return JSON.parse(JSON.stringify(fontFaceDeclaration));\n}\n/**\n * CSS to hide text to show a background image in a SEO-friendly way.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'backgroundImage': 'url(logo.png)',\n *   ...hideText(),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   backgroundImage: url(logo.png);\n *   ${hideText()};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'backgroundImage': 'url(logo.png)',\n *   'textIndent': '101%',\n *   'overflow': 'hidden',\n *   'whiteSpace': 'nowrap',\n * }\n */\n\n\nfunction hideText() {\n  return {\n    textIndent: '101%',\n    overflow: 'hidden',\n    whiteSpace: 'nowrap'\n  };\n}\n/**\n * CSS to hide content visually but remain accessible to screen readers.\n * from [HTML5 Boilerplate](https://github.com/h5bp/html5-boilerplate/blob/9a176f57af1cfe8ec70300da4621fb9b07e5fa31/src/css/main.css#L121)\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...hideVisually(),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${hideVisually()};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'border': '0',\n *   'clip': 'rect(0 0 0 0)',\n *   'height': '1px',\n *   'margin': '-1px',\n *   'overflow': 'hidden',\n *   'padding': '0',\n *   'position': 'absolute',\n *   'whiteSpace': 'nowrap',\n *   'width': '1px',\n * }\n */\n\n\nfunction hideVisually() {\n  return {\n    border: '0',\n    clip: 'rect(0 0 0 0)',\n    height: '1px',\n    margin: '-1px',\n    overflow: 'hidden',\n    padding: '0',\n    position: 'absolute',\n    whiteSpace: 'nowrap',\n    width: '1px'\n  };\n}\n/**\n * Generates a media query to target HiDPI devices.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *  [hiDPI(1.5)]: {\n *    width: 200px;\n *  }\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${hiDPI(1.5)} {\n *     width: 200px;\n *   }\n * `\n *\n * // CSS as JS Output\n *\n * '@media only screen and (-webkit-min-device-pixel-ratio: 1.5),\n *  only screen and (min--moz-device-pixel-ratio: 1.5),\n *  only screen and (-o-min-device-pixel-ratio: 1.5/1),\n *  only screen and (min-resolution: 144dpi),\n *  only screen and (min-resolution: 1.5dppx)': {\n *   'width': '200px',\n * }\n */\n\n\nfunction hiDPI(ratio) {\n  if (ratio === void 0) {\n    ratio = 1.3;\n  }\n\n  return \"\\n    @media only screen and (-webkit-min-device-pixel-ratio: \" + ratio + \"),\\n    only screen and (min--moz-device-pixel-ratio: \" + ratio + \"),\\n    only screen and (-o-min-device-pixel-ratio: \" + ratio + \"/1),\\n    only screen and (min-resolution: \" + Math.round(ratio * 96) + \"dpi),\\n    only screen and (min-resolution: \" + ratio + \"dppx)\\n  \";\n}\n\nfunction constructGradientValue(literals) {\n  var template = '';\n\n  for (var _len = arguments.length, substitutions = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    substitutions[_key - 1] = arguments[_key];\n  }\n\n  for (var i = 0; i < literals.length; i += 1) {\n    template += literals[i];\n\n    if (i === substitutions.length - 1 && substitutions[i]) {\n      var definedValues = substitutions.filter(function (substitute) {\n        return !!substitute;\n      }); // Adds leading coma if properties preceed color-stops\n\n      if (definedValues.length > 1) {\n        template = template.slice(0, -1);\n        template += \", \" + substitutions[i]; // No trailing space if color-stops is the only param provided\n      } else if (definedValues.length === 1) {\n        template += \"\" + substitutions[i];\n      }\n    } else if (substitutions[i]) {\n      template += substitutions[i] + \" \";\n    }\n  }\n\n  return template.trim();\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteralLoose([\"linear-gradient(\", \"\", \")\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n/**\n * CSS for declaring a linear gradient, including a fallback background-color. The fallback is either the first color-stop or an explicitly passed fallback color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...linearGradient({\n        colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],\n        toDirection: 'to top right',\n        fallback: '#FFF',\n      })\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${linearGradient({\n        colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],\n        toDirection: 'to top right',\n        fallback: '#FFF',\n      })}\n *`\n *\n * // CSS as JS Output\n *\n * div: {\n *   'backgroundColor': '#FFF',\n *   'backgroundImage': 'linear-gradient(to top right, #00FFFF 0%, rgba(0, 0, 255, 0) 50%, #0000FF 95%)',\n * }\n */\n\n\nfunction linearGradient(_ref) {\n  var colorStops = _ref.colorStops,\n      fallback = _ref.fallback,\n      _ref$toDirection = _ref.toDirection,\n      toDirection = _ref$toDirection === void 0 ? '' : _ref$toDirection;\n\n  if (!colorStops || colorStops.length < 2) {\n    throw new PolishedError(56);\n  }\n\n  return {\n    backgroundColor: fallback || colorStops[0].split(' ')[0],\n    backgroundImage: constructGradientValue(_templateObject(), toDirection, colorStops.join(', '))\n  };\n}\n/**\n * CSS to normalize abnormalities across browsers (normalize.css v8.0.0 | MIT License | github.com/necolas/normalize.css)\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *    ...normalize(),\n * }\n *\n * // styled-components usage\n * const GlobalStyle = createGlobalStyle`${normalize()}`\n *\n * // CSS as JS Output\n *\n * html {\n *   lineHeight: 1.15,\n *   textSizeAdjust: 100%,\n * } ...\n */\n\n\nfunction normalize() {\n  var _ref;\n\n  return [(_ref = {\n    html: {\n      lineHeight: '1.15',\n      textSizeAdjust: '100%'\n    },\n    body: {\n      margin: '0'\n    },\n    h1: {\n      fontSize: '2em',\n      margin: '0.67em 0'\n    },\n    hr: {\n      boxSizing: 'content-box',\n      height: '0',\n      overflow: 'visible'\n    },\n    pre: {\n      fontFamily: 'monospace, monospace',\n      fontSize: '1em'\n    },\n    a: {\n      backgroundColor: 'transparent'\n    },\n    'abbr[title]': {\n      borderBottom: 'none',\n      textDecoration: 'underline'\n    }\n  }, _ref[\"b,\\n    strong\"] = {\n    fontWeight: 'bolder'\n  }, _ref[\"code,\\n    kbd,\\n    samp\"] = {\n    fontFamily: 'monospace, monospace',\n    fontSize: '1em'\n  }, _ref.small = {\n    fontSize: '80%'\n  }, _ref[\"sub,\\n    sup\"] = {\n    fontSize: '75%',\n    lineHeight: '0',\n    position: 'relative',\n    verticalAlign: 'baseline'\n  }, _ref.sub = {\n    bottom: '-0.25em'\n  }, _ref.sup = {\n    top: '-0.5em'\n  }, _ref.img = {\n    borderStyle: 'none'\n  }, _ref[\"button,\\n    input,\\n    optgroup,\\n    select,\\n    textarea\"] = {\n    fontFamily: 'inherit',\n    fontSize: '100%',\n    lineHeight: '1.15',\n    margin: '0'\n  }, _ref[\"button,\\n    input\"] = {\n    overflow: 'visible'\n  }, _ref[\"button,\\n    select\"] = {\n    textTransform: 'none'\n  }, _ref[\"button,\\n    html [type=\\\"button\\\"],\\n    [type=\\\"reset\\\"],\\n    [type=\\\"submit\\\"]\"] = {\n    WebkitAppearance: 'button'\n  }, _ref[\"button::-moz-focus-inner,\\n    [type=\\\"button\\\"]::-moz-focus-inner,\\n    [type=\\\"reset\\\"]::-moz-focus-inner,\\n    [type=\\\"submit\\\"]::-moz-focus-inner\"] = {\n    borderStyle: 'none',\n    padding: '0'\n  }, _ref[\"button:-moz-focusring,\\n    [type=\\\"button\\\"]:-moz-focusring,\\n    [type=\\\"reset\\\"]:-moz-focusring,\\n    [type=\\\"submit\\\"]:-moz-focusring\"] = {\n    outline: '1px dotted ButtonText'\n  }, _ref.fieldset = {\n    padding: '0.35em 0.625em 0.75em'\n  }, _ref.legend = {\n    boxSizing: 'border-box',\n    color: 'inherit',\n    display: 'table',\n    maxWidth: '100%',\n    padding: '0',\n    whiteSpace: 'normal'\n  }, _ref.progress = {\n    verticalAlign: 'baseline'\n  }, _ref.textarea = {\n    overflow: 'auto'\n  }, _ref[\"[type=\\\"checkbox\\\"],\\n    [type=\\\"radio\\\"]\"] = {\n    boxSizing: 'border-box',\n    padding: '0'\n  }, _ref[\"[type=\\\"number\\\"]::-webkit-inner-spin-button,\\n    [type=\\\"number\\\"]::-webkit-outer-spin-button\"] = {\n    height: 'auto'\n  }, _ref['[type=\"search\"]'] = {\n    WebkitAppearance: 'textfield',\n    outlineOffset: '-2px'\n  }, _ref['[type=\"search\"]::-webkit-search-decoration'] = {\n    WebkitAppearance: 'none'\n  }, _ref['::-webkit-file-upload-button'] = {\n    WebkitAppearance: 'button',\n    font: 'inherit'\n  }, _ref.details = {\n    display: 'block'\n  }, _ref.summary = {\n    display: 'list-item'\n  }, _ref.template = {\n    display: 'none'\n  }, _ref['[hidden]'] = {\n    display: 'none'\n  }, _ref), {\n    'abbr[title]': {\n      textDecoration: 'underline dotted'\n    }\n  }];\n}\n\nfunction _templateObject$1() {\n  var data = _taggedTemplateLiteralLoose([\"radial-gradient(\", \"\", \"\", \"\", \")\"]);\n\n  _templateObject$1 = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n/**\n * CSS for declaring a radial gradient, including a fallback background-color. The fallback is either the first color-stop or an explicitly passed fallback color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...radialGradient({\n *     colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],\n *     extent: 'farthest-corner at 45px 45px',\n *     position: 'center',\n *     shape: 'ellipse',\n *   })\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${radialGradient({\n *     colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],\n *     extent: 'farthest-corner at 45px 45px',\n *     position: 'center',\n *     shape: 'ellipse',\n *   })}\n *`\n *\n * // CSS as JS Output\n *\n * div: {\n *   'backgroundColor': '#00FFFF',\n *   'backgroundImage': 'radial-gradient(center ellipse farthest-corner at 45px 45px, #00FFFF 0%, rgba(0, 0, 255, 0) 50%, #0000FF 95%)',\n * }\n */\n\n\nfunction radialGradient(_ref) {\n  var colorStops = _ref.colorStops,\n      _ref$extent = _ref.extent,\n      extent = _ref$extent === void 0 ? '' : _ref$extent,\n      fallback = _ref.fallback,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? '' : _ref$position,\n      _ref$shape = _ref.shape,\n      shape = _ref$shape === void 0 ? '' : _ref$shape;\n\n  if (!colorStops || colorStops.length < 2) {\n    throw new PolishedError(57);\n  }\n\n  return {\n    backgroundColor: fallback || colorStops[0].split(' ')[0],\n    backgroundImage: constructGradientValue(_templateObject$1(), position, shape, extent, colorStops.join(', '))\n  };\n}\n/**\n * A helper to generate a retina background image and non-retina\n * background image. The retina background image will output to a HiDPI media query. The mixin uses\n * a _2x.png filename suffix by default.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *  ...retinaImage('my-img')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${retinaImage('my-img')}\n * `\n *\n * // CSS as JS Output\n * div {\n *   backgroundImage: 'url(my-img.png)',\n *   '@media only screen and (-webkit-min-device-pixel-ratio: 1.3),\n *    only screen and (min--moz-device-pixel-ratio: 1.3),\n *    only screen and (-o-min-device-pixel-ratio: 1.3/1),\n *    only screen and (min-resolution: 144dpi),\n *    only screen and (min-resolution: 1.5dppx)': {\n *     backgroundImage: 'url(my-img_2x.png)',\n *   }\n * }\n */\n\n\nfunction retinaImage(filename, backgroundSize, extension, retinaFilename, retinaSuffix) {\n  var _ref;\n\n  if (extension === void 0) {\n    extension = 'png';\n  }\n\n  if (retinaSuffix === void 0) {\n    retinaSuffix = '_2x';\n  }\n\n  if (!filename) {\n    throw new PolishedError(58);\n  } // Replace the dot at the beginning of the passed extension if one exists\n\n\n  var ext = extension.replace(/^\\./, '');\n  var rFilename = retinaFilename ? retinaFilename + \".\" + ext : \"\" + filename + retinaSuffix + \".\" + ext;\n  return _ref = {\n    backgroundImage: \"url(\" + filename + \".\" + ext + \")\"\n  }, _ref[hiDPI()] = _extends({\n    backgroundImage: \"url(\" + rFilename + \")\"\n  }, backgroundSize ? {\n    backgroundSize: backgroundSize\n  } : {}), _ref;\n}\n/* eslint-disable key-spacing */\n\n\nvar functionsMap = {\n  easeInBack: 'cubic-bezier(0.600, -0.280, 0.735, 0.045)',\n  easeInCirc: 'cubic-bezier(0.600,  0.040, 0.980, 0.335)',\n  easeInCubic: 'cubic-bezier(0.550,  0.055, 0.675, 0.190)',\n  easeInExpo: 'cubic-bezier(0.950,  0.050, 0.795, 0.035)',\n  easeInQuad: 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',\n  easeInQuart: 'cubic-bezier(0.895,  0.030, 0.685, 0.220)',\n  easeInQuint: 'cubic-bezier(0.755,  0.050, 0.855, 0.060)',\n  easeInSine: 'cubic-bezier(0.470,  0.000, 0.745, 0.715)',\n  easeOutBack: 'cubic-bezier(0.175,  0.885, 0.320, 1.275)',\n  easeOutCubic: 'cubic-bezier(0.215,  0.610, 0.355, 1.000)',\n  easeOutCirc: 'cubic-bezier(0.075,  0.820, 0.165, 1.000)',\n  easeOutExpo: 'cubic-bezier(0.190,  1.000, 0.220, 1.000)',\n  easeOutQuad: 'cubic-bezier(0.250,  0.460, 0.450, 0.940)',\n  easeOutQuart: 'cubic-bezier(0.165,  0.840, 0.440, 1.000)',\n  easeOutQuint: 'cubic-bezier(0.230,  1.000, 0.320, 1.000)',\n  easeOutSine: 'cubic-bezier(0.390,  0.575, 0.565, 1.000)',\n  easeInOutBack: 'cubic-bezier(0.680, -0.550, 0.265, 1.550)',\n  easeInOutCirc: 'cubic-bezier(0.785,  0.135, 0.150, 0.860)',\n  easeInOutCubic: 'cubic-bezier(0.645,  0.045, 0.355, 1.000)',\n  easeInOutExpo: 'cubic-bezier(1.000,  0.000, 0.000, 1.000)',\n  easeInOutQuad: 'cubic-bezier(0.455,  0.030, 0.515, 0.955)',\n  easeInOutQuart: 'cubic-bezier(0.770,  0.000, 0.175, 1.000)',\n  easeInOutQuint: 'cubic-bezier(0.860,  0.000, 0.070, 1.000)',\n  easeInOutSine: 'cubic-bezier(0.445,  0.050, 0.550, 0.950)'\n};\n/* eslint-enable key-spacing */\n\nfunction getTimingFunction(functionName) {\n  return functionsMap[functionName];\n}\n/**\n * String to represent common easing functions as demonstrated here: (github.com/jaukia/easie).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'transitionTimingFunction': timingFunctions('easeInQuad')\n * }\n *\n * // styled-components usage\n *  const div = styled.div`\n *   transitionTimingFunction: ${timingFunctions('easeInQuad')};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'transitionTimingFunction': 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',\n * }\n */\n\n\nfunction timingFunctions(timingFunction) {\n  return getTimingFunction(timingFunction);\n}\n\nvar getBorderWidth = function getBorderWidth(pointingDirection, height, width) {\n  var fullWidth = \"\" + width[0] + (width[1] || '');\n  var halfWidth = \"\" + width[0] / 2 + (width[1] || '');\n  var fullHeight = \"\" + height[0] + (height[1] || '');\n  var halfHeight = \"\" + height[0] / 2 + (height[1] || '');\n\n  switch (pointingDirection) {\n    case 'top':\n      return \"0 \" + halfWidth + \" \" + fullHeight + \" \" + halfWidth;\n\n    case 'topLeft':\n      return fullWidth + \" \" + fullHeight + \" 0 0\";\n\n    case 'left':\n      return halfHeight + \" \" + fullWidth + \" \" + halfHeight + \" 0\";\n\n    case 'bottomLeft':\n      return fullWidth + \" 0 0 \" + fullHeight;\n\n    case 'bottom':\n      return fullHeight + \" \" + halfWidth + \" 0 \" + halfWidth;\n\n    case 'bottomRight':\n      return \"0 0 \" + fullWidth + \" \" + fullHeight;\n\n    case 'right':\n      return halfHeight + \" 0 \" + halfHeight + \" \" + fullWidth;\n\n    case 'topRight':\n    default:\n      return \"0 \" + fullWidth + \" \" + fullHeight + \" 0\";\n  }\n};\n\nvar getBorderColor = function getBorderColor(pointingDirection, foregroundColor, backgroundColor) {\n  switch (pointingDirection) {\n    case 'top':\n    case 'bottomRight':\n      return backgroundColor + \" \" + backgroundColor + \" \" + foregroundColor + \" \" + backgroundColor;\n\n    case 'right':\n    case 'bottomLeft':\n      return backgroundColor + \" \" + backgroundColor + \" \" + backgroundColor + \" \" + foregroundColor;\n\n    case 'bottom':\n    case 'topLeft':\n      return foregroundColor + \" \" + backgroundColor + \" \" + backgroundColor + \" \" + backgroundColor;\n\n    case 'left':\n    case 'topRight':\n      return backgroundColor + \" \" + foregroundColor + \" \" + backgroundColor + \" \" + backgroundColor;\n\n    default:\n      throw new PolishedError(59);\n  }\n};\n/**\n * CSS to represent triangle with any pointing direction with an optional background color.\n *\n * @example\n * // Styles as object usage\n *\n * const styles = {\n *   ...triangle({ pointingDirection: 'right', width: '100px', height: '100px', foregroundColor: 'red' })\n * }\n *\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${triangle({ pointingDirection: 'right', width: '100px', height: '100px', foregroundColor: 'red' })}\n *\n *\n * // CSS as JS Output\n *\n * div: {\n *  'borderColor': 'transparent transparent transparent red',\n *  'borderStyle': 'solid',\n *  'borderWidth': '50px 0 50px 100px',\n *  'height': '0',\n *  'width': '0',\n * }\n */\n\n\nfunction triangle(_ref) {\n  var pointingDirection = _ref.pointingDirection,\n      height = _ref.height,\n      width = _ref.width,\n      foregroundColor = _ref.foregroundColor,\n      _ref$backgroundColor = _ref.backgroundColor,\n      backgroundColor = _ref$backgroundColor === void 0 ? 'transparent' : _ref$backgroundColor;\n  var widthAndUnit = getValueAndUnit(width);\n  var heightAndUnit = getValueAndUnit(height);\n\n  if (isNaN(heightAndUnit[0]) || isNaN(widthAndUnit[0])) {\n    throw new PolishedError(60);\n  }\n\n  return {\n    width: '0',\n    height: '0',\n    borderColor: getBorderColor(pointingDirection, foregroundColor, backgroundColor),\n    borderStyle: 'solid',\n    borderWidth: getBorderWidth(pointingDirection, heightAndUnit, widthAndUnit)\n  };\n}\n/**\n * Provides an easy way to change the `wordWrap` property.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...wordWrap('break-word')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${wordWrap('break-word')}\n * `\n *\n * // CSS as JS Output\n *\n * const styles = {\n *   overflowWrap: 'break-word',\n *   wordWrap: 'break-word',\n *   wordBreak: 'break-all',\n * }\n */\n\n\nfunction wordWrap(wrap) {\n  if (wrap === void 0) {\n    wrap = 'break-word';\n  }\n\n  var wordBreak = wrap === 'break-word' ? 'break-all' : wrap;\n  return {\n    overflowWrap: wrap,\n    wordWrap: wrap,\n    wordBreak: wordBreak\n  };\n}\n\nfunction colorToInt(color) {\n  return Math.round(color * 255);\n}\n\nfunction convertToInt(red, green, blue) {\n  return colorToInt(red) + \",\" + colorToInt(green) + \",\" + colorToInt(blue);\n}\n\nfunction hslToRgb(hue, saturation, lightness, convert) {\n  if (convert === void 0) {\n    convert = convertToInt;\n  }\n\n  if (saturation === 0) {\n    // achromatic\n    return convert(lightness, lightness, lightness);\n  } // formulae from https://en.wikipedia.org/wiki/HSL_and_HSV\n\n\n  var huePrime = (hue % 360 + 360) % 360 / 60;\n  var chroma = (1 - Math.abs(2 * lightness - 1)) * saturation;\n  var secondComponent = chroma * (1 - Math.abs(huePrime % 2 - 1));\n  var red = 0;\n  var green = 0;\n  var blue = 0;\n\n  if (huePrime >= 0 && huePrime < 1) {\n    red = chroma;\n    green = secondComponent;\n  } else if (huePrime >= 1 && huePrime < 2) {\n    red = secondComponent;\n    green = chroma;\n  } else if (huePrime >= 2 && huePrime < 3) {\n    green = chroma;\n    blue = secondComponent;\n  } else if (huePrime >= 3 && huePrime < 4) {\n    green = secondComponent;\n    blue = chroma;\n  } else if (huePrime >= 4 && huePrime < 5) {\n    red = secondComponent;\n    blue = chroma;\n  } else if (huePrime >= 5 && huePrime < 6) {\n    red = chroma;\n    blue = secondComponent;\n  }\n\n  var lightnessModification = lightness - chroma / 2;\n  var finalRed = red + lightnessModification;\n  var finalGreen = green + lightnessModification;\n  var finalBlue = blue + lightnessModification;\n  return convert(finalRed, finalGreen, finalBlue);\n}\n\nvar namedColorMap = {\n  aliceblue: 'f0f8ff',\n  antiquewhite: 'faebd7',\n  aqua: '00ffff',\n  aquamarine: '7fffd4',\n  azure: 'f0ffff',\n  beige: 'f5f5dc',\n  bisque: 'ffe4c4',\n  black: '000',\n  blanchedalmond: 'ffebcd',\n  blue: '0000ff',\n  blueviolet: '8a2be2',\n  brown: 'a52a2a',\n  burlywood: 'deb887',\n  cadetblue: '5f9ea0',\n  chartreuse: '7fff00',\n  chocolate: 'd2691e',\n  coral: 'ff7f50',\n  cornflowerblue: '6495ed',\n  cornsilk: 'fff8dc',\n  crimson: 'dc143c',\n  cyan: '00ffff',\n  darkblue: '00008b',\n  darkcyan: '008b8b',\n  darkgoldenrod: 'b8860b',\n  darkgray: 'a9a9a9',\n  darkgreen: '006400',\n  darkgrey: 'a9a9a9',\n  darkkhaki: 'bdb76b',\n  darkmagenta: '8b008b',\n  darkolivegreen: '556b2f',\n  darkorange: 'ff8c00',\n  darkorchid: '9932cc',\n  darkred: '8b0000',\n  darksalmon: 'e9967a',\n  darkseagreen: '8fbc8f',\n  darkslateblue: '483d8b',\n  darkslategray: '2f4f4f',\n  darkslategrey: '2f4f4f',\n  darkturquoise: '00ced1',\n  darkviolet: '9400d3',\n  deeppink: 'ff1493',\n  deepskyblue: '00bfff',\n  dimgray: '696969',\n  dimgrey: '696969',\n  dodgerblue: '1e90ff',\n  firebrick: 'b22222',\n  floralwhite: 'fffaf0',\n  forestgreen: '228b22',\n  fuchsia: 'ff00ff',\n  gainsboro: 'dcdcdc',\n  ghostwhite: 'f8f8ff',\n  gold: 'ffd700',\n  goldenrod: 'daa520',\n  gray: '808080',\n  green: '008000',\n  greenyellow: 'adff2f',\n  grey: '808080',\n  honeydew: 'f0fff0',\n  hotpink: 'ff69b4',\n  indianred: 'cd5c5c',\n  indigo: '4b0082',\n  ivory: 'fffff0',\n  khaki: 'f0e68c',\n  lavender: 'e6e6fa',\n  lavenderblush: 'fff0f5',\n  lawngreen: '7cfc00',\n  lemonchiffon: 'fffacd',\n  lightblue: 'add8e6',\n  lightcoral: 'f08080',\n  lightcyan: 'e0ffff',\n  lightgoldenrodyellow: 'fafad2',\n  lightgray: 'd3d3d3',\n  lightgreen: '90ee90',\n  lightgrey: 'd3d3d3',\n  lightpink: 'ffb6c1',\n  lightsalmon: 'ffa07a',\n  lightseagreen: '20b2aa',\n  lightskyblue: '87cefa',\n  lightslategray: '789',\n  lightslategrey: '789',\n  lightsteelblue: 'b0c4de',\n  lightyellow: 'ffffe0',\n  lime: '0f0',\n  limegreen: '32cd32',\n  linen: 'faf0e6',\n  magenta: 'f0f',\n  maroon: '800000',\n  mediumaquamarine: '66cdaa',\n  mediumblue: '0000cd',\n  mediumorchid: 'ba55d3',\n  mediumpurple: '9370db',\n  mediumseagreen: '3cb371',\n  mediumslateblue: '7b68ee',\n  mediumspringgreen: '00fa9a',\n  mediumturquoise: '48d1cc',\n  mediumvioletred: 'c71585',\n  midnightblue: '191970',\n  mintcream: 'f5fffa',\n  mistyrose: 'ffe4e1',\n  moccasin: 'ffe4b5',\n  navajowhite: 'ffdead',\n  navy: '000080',\n  oldlace: 'fdf5e6',\n  olive: '808000',\n  olivedrab: '6b8e23',\n  orange: 'ffa500',\n  orangered: 'ff4500',\n  orchid: 'da70d6',\n  palegoldenrod: 'eee8aa',\n  palegreen: '98fb98',\n  paleturquoise: 'afeeee',\n  palevioletred: 'db7093',\n  papayawhip: 'ffefd5',\n  peachpuff: 'ffdab9',\n  peru: 'cd853f',\n  pink: 'ffc0cb',\n  plum: 'dda0dd',\n  powderblue: 'b0e0e6',\n  purple: '800080',\n  rebeccapurple: '639',\n  red: 'f00',\n  rosybrown: 'bc8f8f',\n  royalblue: '4169e1',\n  saddlebrown: '8b4513',\n  salmon: 'fa8072',\n  sandybrown: 'f4a460',\n  seagreen: '2e8b57',\n  seashell: 'fff5ee',\n  sienna: 'a0522d',\n  silver: 'c0c0c0',\n  skyblue: '87ceeb',\n  slateblue: '6a5acd',\n  slategray: '708090',\n  slategrey: '708090',\n  snow: 'fffafa',\n  springgreen: '00ff7f',\n  steelblue: '4682b4',\n  tan: 'd2b48c',\n  teal: '008080',\n  thistle: 'd8bfd8',\n  tomato: 'ff6347',\n  turquoise: '40e0d0',\n  violet: 'ee82ee',\n  wheat: 'f5deb3',\n  white: 'fff',\n  whitesmoke: 'f5f5f5',\n  yellow: 'ff0',\n  yellowgreen: '9acd32'\n};\n/**\n * Checks if a string is a CSS named color and returns its equivalent hex value, otherwise returns the original color.\n * @private\n */\n\nfunction nameToHex(color) {\n  if (typeof color !== 'string') return color;\n  var normalizedColorName = color.toLowerCase();\n  return namedColorMap[normalizedColorName] ? \"#\" + namedColorMap[normalizedColorName] : color;\n}\n\nvar hexRegex = /^#[a-fA-F0-9]{6}$/;\nvar hexRgbaRegex = /^#[a-fA-F0-9]{8}$/;\nvar reducedHexRegex = /^#[a-fA-F0-9]{3}$/;\nvar reducedRgbaHexRegex = /^#[a-fA-F0-9]{4}$/;\nvar rgbRegex = /^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/i;\nvar rgbaRegex = /^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*([-+]?[0-9]*[.]?[0-9]+)\\s*\\)$/i;\nvar hslRegex = /^hsl\\(\\s*(\\d{0,3}[.]?[0-9]+)\\s*,\\s*(\\d{1,3}[.]?[0-9]?)%\\s*,\\s*(\\d{1,3}[.]?[0-9]?)%\\s*\\)$/i;\nvar hslaRegex = /^hsla\\(\\s*(\\d{0,3}[.]?[0-9]+)\\s*,\\s*(\\d{1,3}[.]?[0-9]?)%\\s*,\\s*(\\d{1,3}[.]?[0-9]?)%\\s*,\\s*([-+]?[0-9]*[.]?[0-9]+)\\s*\\)$/i;\n/**\n * Returns an RgbColor or RgbaColor object. This utility function is only useful\n * if want to extract a color component. With the color util `toColorString` you\n * can convert a RgbColor or RgbaColor object back to a string.\n *\n * @example\n * // Assigns `{ red: 255, green: 0, blue: 0 }` to color1\n * const color1 = parseToRgb('rgb(255, 0, 0)');\n * // Assigns `{ red: 92, green: 102, blue: 112, alpha: 0.75 }` to color2\n * const color2 = parseToRgb('hsla(210, 10%, 40%, 0.75)');\n */\n\nfunction parseToRgb(color) {\n  if (typeof color !== 'string') {\n    throw new PolishedError(3);\n  }\n\n  var normalizedColor = nameToHex(color);\n\n  if (normalizedColor.match(hexRegex)) {\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[2], 16),\n      green: parseInt(\"\" + normalizedColor[3] + normalizedColor[4], 16),\n      blue: parseInt(\"\" + normalizedColor[5] + normalizedColor[6], 16)\n    };\n  }\n\n  if (normalizedColor.match(hexRgbaRegex)) {\n    var alpha = parseFloat((parseInt(\"\" + normalizedColor[7] + normalizedColor[8], 16) / 255).toFixed(2));\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[2], 16),\n      green: parseInt(\"\" + normalizedColor[3] + normalizedColor[4], 16),\n      blue: parseInt(\"\" + normalizedColor[5] + normalizedColor[6], 16),\n      alpha: alpha\n    };\n  }\n\n  if (normalizedColor.match(reducedHexRegex)) {\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[1], 16),\n      green: parseInt(\"\" + normalizedColor[2] + normalizedColor[2], 16),\n      blue: parseInt(\"\" + normalizedColor[3] + normalizedColor[3], 16)\n    };\n  }\n\n  if (normalizedColor.match(reducedRgbaHexRegex)) {\n    var _alpha = parseFloat((parseInt(\"\" + normalizedColor[4] + normalizedColor[4], 16) / 255).toFixed(2));\n\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[1], 16),\n      green: parseInt(\"\" + normalizedColor[2] + normalizedColor[2], 16),\n      blue: parseInt(\"\" + normalizedColor[3] + normalizedColor[3], 16),\n      alpha: _alpha\n    };\n  }\n\n  var rgbMatched = rgbRegex.exec(normalizedColor);\n\n  if (rgbMatched) {\n    return {\n      red: parseInt(\"\" + rgbMatched[1], 10),\n      green: parseInt(\"\" + rgbMatched[2], 10),\n      blue: parseInt(\"\" + rgbMatched[3], 10)\n    };\n  }\n\n  var rgbaMatched = rgbaRegex.exec(normalizedColor);\n\n  if (rgbaMatched) {\n    return {\n      red: parseInt(\"\" + rgbaMatched[1], 10),\n      green: parseInt(\"\" + rgbaMatched[2], 10),\n      blue: parseInt(\"\" + rgbaMatched[3], 10),\n      alpha: parseFloat(\"\" + rgbaMatched[4])\n    };\n  }\n\n  var hslMatched = hslRegex.exec(normalizedColor);\n\n  if (hslMatched) {\n    var hue = parseInt(\"\" + hslMatched[1], 10);\n    var saturation = parseInt(\"\" + hslMatched[2], 10) / 100;\n    var lightness = parseInt(\"\" + hslMatched[3], 10) / 100;\n    var rgbColorString = \"rgb(\" + hslToRgb(hue, saturation, lightness) + \")\";\n    var hslRgbMatched = rgbRegex.exec(rgbColorString);\n\n    if (!hslRgbMatched) {\n      throw new PolishedError(4, normalizedColor, rgbColorString);\n    }\n\n    return {\n      red: parseInt(\"\" + hslRgbMatched[1], 10),\n      green: parseInt(\"\" + hslRgbMatched[2], 10),\n      blue: parseInt(\"\" + hslRgbMatched[3], 10)\n    };\n  }\n\n  var hslaMatched = hslaRegex.exec(normalizedColor);\n\n  if (hslaMatched) {\n    var _hue = parseInt(\"\" + hslaMatched[1], 10);\n\n    var _saturation = parseInt(\"\" + hslaMatched[2], 10) / 100;\n\n    var _lightness = parseInt(\"\" + hslaMatched[3], 10) / 100;\n\n    var _rgbColorString = \"rgb(\" + hslToRgb(_hue, _saturation, _lightness) + \")\";\n\n    var _hslRgbMatched = rgbRegex.exec(_rgbColorString);\n\n    if (!_hslRgbMatched) {\n      throw new PolishedError(4, normalizedColor, _rgbColorString);\n    }\n\n    return {\n      red: parseInt(\"\" + _hslRgbMatched[1], 10),\n      green: parseInt(\"\" + _hslRgbMatched[2], 10),\n      blue: parseInt(\"\" + _hslRgbMatched[3], 10),\n      alpha: parseFloat(\"\" + hslaMatched[4])\n    };\n  }\n\n  throw new PolishedError(5);\n}\n\nfunction rgbToHsl(color) {\n  // make sure rgb are contained in a set of [0, 255]\n  var red = color.red / 255;\n  var green = color.green / 255;\n  var blue = color.blue / 255;\n  var max = Math.max(red, green, blue);\n  var min = Math.min(red, green, blue);\n  var lightness = (max + min) / 2;\n\n  if (max === min) {\n    // achromatic\n    if (color.alpha !== undefined) {\n      return {\n        hue: 0,\n        saturation: 0,\n        lightness: lightness,\n        alpha: color.alpha\n      };\n    } else {\n      return {\n        hue: 0,\n        saturation: 0,\n        lightness: lightness\n      };\n    }\n  }\n\n  var hue;\n  var delta = max - min;\n  var saturation = lightness > 0.5 ? delta / (2 - max - min) : delta / (max + min);\n\n  switch (max) {\n    case red:\n      hue = (green - blue) / delta + (green < blue ? 6 : 0);\n      break;\n\n    case green:\n      hue = (blue - red) / delta + 2;\n      break;\n\n    default:\n      // blue case\n      hue = (red - green) / delta + 4;\n      break;\n  }\n\n  hue *= 60;\n\n  if (color.alpha !== undefined) {\n    return {\n      hue: hue,\n      saturation: saturation,\n      lightness: lightness,\n      alpha: color.alpha\n    };\n  }\n\n  return {\n    hue: hue,\n    saturation: saturation,\n    lightness: lightness\n  };\n}\n/**\n * Returns an HslColor or HslaColor object. This utility function is only useful\n * if want to extract a color component. With the color util `toColorString` you\n * can convert a HslColor or HslaColor object back to a string.\n *\n * @example\n * // Assigns `{ hue: 0, saturation: 1, lightness: 0.5 }` to color1\n * const color1 = parseToHsl('rgb(255, 0, 0)');\n * // Assigns `{ hue: 128, saturation: 1, lightness: 0.5, alpha: 0.75 }` to color2\n * const color2 = parseToHsl('hsla(128, 100%, 50%, 0.75)');\n */\n\n\nfunction parseToHsl(color) {\n  // Note: At a later stage we can optimize this function as right now a hsl\n  // color would be parsed converted to rgb values and converted back to hsl.\n  return rgbToHsl(parseToRgb(color));\n}\n/**\n * Reduces hex values if possible e.g. #ff8866 to #f86\n * @private\n */\n\n\nvar reduceHexValue = function reduceHexValue(value) {\n  if (value.length === 7 && value[1] === value[2] && value[3] === value[4] && value[5] === value[6]) {\n    return \"#\" + value[1] + value[3] + value[5];\n  }\n\n  return value;\n};\n\nfunction numberToHex(value) {\n  var hex = value.toString(16);\n  return hex.length === 1 ? \"0\" + hex : hex;\n}\n\nfunction colorToHex(color) {\n  return numberToHex(Math.round(color * 255));\n}\n\nfunction convertToHex(red, green, blue) {\n  return reduceHexValue(\"#\" + colorToHex(red) + colorToHex(green) + colorToHex(blue));\n}\n\nfunction hslToHex(hue, saturation, lightness) {\n  return hslToRgb(hue, saturation, lightness, convertToHex);\n}\n/**\n * Returns a string value for the color. The returned result is the smallest possible hex notation.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: hsl(359, 0.75, 0.4),\n *   background: hsl({ hue: 360, saturation: 0.75, lightness: 0.4 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${hsl(359, 0.75, 0.4)};\n *   background: ${hsl({ hue: 360, saturation: 0.75, lightness: 0.4 })};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#b3191c\";\n *   background: \"#b3191c\";\n * }\n */\n\n\nfunction hsl(value, saturation, lightness) {\n  if (typeof value === 'number' && typeof saturation === 'number' && typeof lightness === 'number') {\n    return hslToHex(value, saturation, lightness);\n  } else if (typeof value === 'object' && saturation === undefined && lightness === undefined) {\n    return hslToHex(value.hue, value.saturation, value.lightness);\n  }\n\n  throw new PolishedError(1);\n}\n/**\n * Returns a string value for the color. The returned result is the smallest possible rgba or hex notation.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: hsla(359, 0.75, 0.4, 0.7),\n *   background: hsla({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0,7 }),\n *   background: hsla(359, 0.75, 0.4, 1),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${hsla(359, 0.75, 0.4, 0.7)};\n *   background: ${hsla({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0,7 })};\n *   background: ${hsla(359, 0.75, 0.4, 1)};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"rgba(179,25,28,0.7)\";\n *   background: \"rgba(179,25,28,0.7)\";\n *   background: \"#b3191c\";\n * }\n */\n\n\nfunction hsla(value, saturation, lightness, alpha) {\n  if (typeof value === 'number' && typeof saturation === 'number' && typeof lightness === 'number' && typeof alpha === 'number') {\n    return alpha >= 1 ? hslToHex(value, saturation, lightness) : \"rgba(\" + hslToRgb(value, saturation, lightness) + \",\" + alpha + \")\";\n  } else if (typeof value === 'object' && saturation === undefined && lightness === undefined && alpha === undefined) {\n    return value.alpha >= 1 ? hslToHex(value.hue, value.saturation, value.lightness) : \"rgba(\" + hslToRgb(value.hue, value.saturation, value.lightness) + \",\" + value.alpha + \")\";\n  }\n\n  throw new PolishedError(2);\n}\n/**\n * Returns a string value for the color. The returned result is the smallest possible hex notation.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: rgb(255, 205, 100),\n *   background: rgb({ red: 255, green: 205, blue: 100 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${rgb(255, 205, 100)};\n *   background: ${rgb({ red: 255, green: 205, blue: 100 })};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#ffcd64\";\n *   background: \"#ffcd64\";\n * }\n */\n\n\nfunction rgb(value, green, blue) {\n  if (typeof value === 'number' && typeof green === 'number' && typeof blue === 'number') {\n    return reduceHexValue(\"#\" + numberToHex(value) + numberToHex(green) + numberToHex(blue));\n  } else if (typeof value === 'object' && green === undefined && blue === undefined) {\n    return reduceHexValue(\"#\" + numberToHex(value.red) + numberToHex(value.green) + numberToHex(value.blue));\n  }\n\n  throw new PolishedError(6);\n}\n/**\n * Returns a string value for the color. The returned result is the smallest possible rgba or hex notation.\n *\n * Can also be used to fade a color by passing a hex value or named CSS color along with an alpha value.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: rgba(255, 205, 100, 0.7),\n *   background: rgba({ red: 255, green: 205, blue: 100, alpha: 0.7 }),\n *   background: rgba(255, 205, 100, 1),\n *   background: rgba('#ffffff', 0.4),\n *   background: rgba('black', 0.7),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${rgba(255, 205, 100, 0.7)};\n *   background: ${rgba({ red: 255, green: 205, blue: 100, alpha: 0.7 })};\n *   background: ${rgba(255, 205, 100, 1)};\n *   background: ${rgba('#ffffff', 0.4)};\n *   background: ${rgba('black', 0.7)};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"rgba(255,205,100,0.7)\";\n *   background: \"rgba(255,205,100,0.7)\";\n *   background: \"#ffcd64\";\n *   background: \"rgba(255,255,255,0.4)\";\n *   background: \"rgba(0,0,0,0.7)\";\n * }\n */\n\n\nfunction rgba(firstValue, secondValue, thirdValue, fourthValue) {\n  if (typeof firstValue === 'string' && typeof secondValue === 'number') {\n    var rgbValue = parseToRgb(firstValue);\n    return \"rgba(\" + rgbValue.red + \",\" + rgbValue.green + \",\" + rgbValue.blue + \",\" + secondValue + \")\";\n  } else if (typeof firstValue === 'number' && typeof secondValue === 'number' && typeof thirdValue === 'number' && typeof fourthValue === 'number') {\n    return fourthValue >= 1 ? rgb(firstValue, secondValue, thirdValue) : \"rgba(\" + firstValue + \",\" + secondValue + \",\" + thirdValue + \",\" + fourthValue + \")\";\n  } else if (typeof firstValue === 'object' && secondValue === undefined && thirdValue === undefined && fourthValue === undefined) {\n    return firstValue.alpha >= 1 ? rgb(firstValue.red, firstValue.green, firstValue.blue) : \"rgba(\" + firstValue.red + \",\" + firstValue.green + \",\" + firstValue.blue + \",\" + firstValue.alpha + \")\";\n  }\n\n  throw new PolishedError(7);\n}\n\nvar isRgb = function isRgb(color) {\n  return typeof color.red === 'number' && typeof color.green === 'number' && typeof color.blue === 'number' && (typeof color.alpha !== 'number' || typeof color.alpha === 'undefined');\n};\n\nvar isRgba = function isRgba(color) {\n  return typeof color.red === 'number' && typeof color.green === 'number' && typeof color.blue === 'number' && typeof color.alpha === 'number';\n};\n\nvar isHsl = function isHsl(color) {\n  return typeof color.hue === 'number' && typeof color.saturation === 'number' && typeof color.lightness === 'number' && (typeof color.alpha !== 'number' || typeof color.alpha === 'undefined');\n};\n\nvar isHsla = function isHsla(color) {\n  return typeof color.hue === 'number' && typeof color.saturation === 'number' && typeof color.lightness === 'number' && typeof color.alpha === 'number';\n};\n/**\n * Converts a RgbColor, RgbaColor, HslColor or HslaColor object to a color string.\n * This util is useful in case you only know on runtime which color object is\n * used. Otherwise we recommend to rely on `rgb`, `rgba`, `hsl` or `hsla`.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: toColorString({ red: 255, green: 205, blue: 100 }),\n *   background: toColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 }),\n *   background: toColorString({ hue: 240, saturation: 1, lightness: 0.5 }),\n *   background: toColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${toColorString({ red: 255, green: 205, blue: 100 })};\n *   background: ${toColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 })};\n *   background: ${toColorString({ hue: 240, saturation: 1, lightness: 0.5 })};\n *   background: ${toColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 })};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#ffcd64\";\n *   background: \"rgba(255,205,100,0.72)\";\n *   background: \"#00f\";\n *   background: \"rgba(179,25,25,0.72)\";\n * }\n */\n\n\nfunction toColorString(color) {\n  if (typeof color !== 'object') throw new PolishedError(8);\n  if (isRgba(color)) return rgba(color);\n  if (isRgb(color)) return rgb(color);\n  if (isHsla(color)) return hsla(color);\n  if (isHsl(color)) return hsl(color);\n  throw new PolishedError(8);\n} // Type definitions taken from https://github.com/gcanti/flow-static-land/blob/master/src/Fun.js\n// eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line no-redeclare\n\n\nfunction curried(f, length, acc) {\n  return function fn() {\n    // eslint-disable-next-line prefer-rest-params\n    var combined = acc.concat(Array.prototype.slice.call(arguments));\n    return combined.length >= length ? f.apply(this, combined) : curried(f, length, combined);\n  };\n} // eslint-disable-next-line no-redeclare\n\n\nfunction curry(f) {\n  // eslint-disable-line no-redeclare\n  return curried(f, f.length, []);\n}\n/**\n * Changes the hue of the color. Hue is a number between 0 to 360. The first\n * argument for adjustHue is the amount of degrees the color is rotated around\n * the color wheel, always producing a positive hue value.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: adjustHue(180, '#448'),\n *   background: adjustHue('180', 'rgba(101,100,205,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${adjustHue(180, '#448')};\n *   background: ${adjustHue('180', 'rgba(101,100,205,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#888844\";\n *   background: \"rgba(136,136,68,0.7)\";\n * }\n */\n\n\nfunction adjustHue(degree, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    hue: hslColor.hue + parseFloat(degree)\n  }));\n} // prettier-ignore\n\n\nvar curriedAdjustHue = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(adjustHue);\n/**\n * Returns the complement of the provided color. This is identical to adjustHue(180, <color>).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: complement('#448'),\n *   background: complement('rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${complement('#448')};\n *   background: ${complement('rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#884\";\n *   background: \"rgba(153,153,153,0.7)\";\n * }\n */\n\nfunction complement(color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    hue: (hslColor.hue + 180) % 360\n  }));\n}\n\nfunction guard(lowerBoundary, upperBoundary, value) {\n  return Math.max(lowerBoundary, Math.min(upperBoundary, value));\n}\n/**\n * Returns a string value for the darkened color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: darken(0.2, '#FFCD64'),\n *   background: darken('0.2', 'rgba(255,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${darken(0.2, '#FFCD64')};\n *   background: ${darken('0.2', 'rgba(255,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#ffbd31\";\n *   background: \"rgba(255,189,49,0.7)\";\n * }\n */\n\n\nfunction darken(amount, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    lightness: guard(0, 1, hslColor.lightness - parseFloat(amount))\n  }));\n} // prettier-ignore\n\n\nvar curriedDarken = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(darken);\n/**\n * Decreases the intensity of a color. Its range is between 0 to 1. The first\n * argument of the desaturate function is the amount by how much the color\n * intensity should be decreased.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: desaturate(0.2, '#CCCD64'),\n *   background: desaturate('0.2', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${desaturate(0.2, '#CCCD64')};\n *   background: ${desaturate('0.2', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#b8b979\";\n *   background: \"rgba(184,185,121,0.7)\";\n * }\n */\n\nfunction desaturate(amount, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    saturation: guard(0, 1, hslColor.saturation - parseFloat(amount))\n  }));\n} // prettier-ignore\n\n\nvar curriedDesaturate = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(desaturate);\n/**\n * Returns a number (float) representing the luminance of a color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: getLuminance('#CCCD64') >= getLuminance('#0000ff') ? '#CCCD64' : '#0000ff',\n *   background: getLuminance('rgba(58, 133, 255, 1)') >= getLuminance('rgba(255, 57, 149, 1)') ?\n *                             'rgba(58, 133, 255, 1)' :\n *                             'rgba(255, 57, 149, 1)',\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${getLuminance('#CCCD64') >= getLuminance('#0000ff') ? '#CCCD64' : '#0000ff'};\n *   background: ${getLuminance('rgba(58, 133, 255, 1)') >= getLuminance('rgba(255, 57, 149, 1)') ?\n *                             'rgba(58, 133, 255, 1)' :\n *                             'rgba(255, 57, 149, 1)'};\n *\n * // CSS in JS Output\n *\n * div {\n *   background: \"#CCCD64\";\n *   background: \"rgba(58, 133, 255, 1)\";\n * }\n */\n\nfunction getLuminance(color) {\n  if (color === 'transparent') return 0;\n  var rgbColor = parseToRgb(color);\n\n  var _Object$keys$map = Object.keys(rgbColor).map(function (key) {\n    var channel = rgbColor[key] / 255;\n    return channel <= 0.03928 ? channel / 12.92 : Math.pow((channel + 0.055) / 1.055, 2.4);\n  }),\n      r = _Object$keys$map[0],\n      g = _Object$keys$map[1],\n      b = _Object$keys$map[2];\n\n  return parseFloat((0.2126 * r + 0.7152 * g + 0.0722 * b).toFixed(3));\n}\n/**\n * Returns the contrast ratio between two colors based on\n * [W3's recommended equation for calculating contrast](http://www.w3.org/TR/WCAG20/#contrast-ratiodef).\n *\n * @example\n * const contrastRatio = getContrast('#444', '#fff');\n */\n\n\nfunction getContrast(color1, color2) {\n  var luminance1 = getLuminance(color1);\n  var luminance2 = getLuminance(color2);\n  return parseFloat((luminance1 > luminance2 ? (luminance1 + 0.05) / (luminance2 + 0.05) : (luminance2 + 0.05) / (luminance1 + 0.05)).toFixed(2));\n}\n/**\n * Converts the color to a grayscale, by reducing its saturation to 0.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: grayscale('#CCCD64'),\n *   background: grayscale('rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${grayscale('#CCCD64')};\n *   background: ${grayscale('rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#999\";\n *   background: \"rgba(153,153,153,0.7)\";\n * }\n */\n\n\nfunction grayscale(color) {\n  if (color === 'transparent') return color;\n  return toColorString(_extends({}, parseToHsl(color), {\n    saturation: 0\n  }));\n}\n/**\n * Converts a HslColor or HslaColor object to a color string.\n * This util is useful in case you only know on runtime which color object is\n * used. Otherwise we recommend to rely on `hsl` or `hsla`.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: hslToColorString({ hue: 240, saturation: 1, lightness: 0.5 }),\n *   background: hslToColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${hslToColorString({ hue: 240, saturation: 1, lightness: 0.5 })};\n *   background: ${hslToColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 })};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#00f\";\n *   background: \"rgba(179,25,25,0.72)\";\n * }\n */\n\n\nfunction hslToColorString(color) {\n  if (typeof color === 'object' && typeof color.hue === 'number' && typeof color.saturation === 'number' && typeof color.lightness === 'number') {\n    if (color.alpha && typeof color.alpha === 'number') {\n      return hsla({\n        hue: color.hue,\n        saturation: color.saturation,\n        lightness: color.lightness,\n        alpha: color.alpha\n      });\n    }\n\n    return hsl({\n      hue: color.hue,\n      saturation: color.saturation,\n      lightness: color.lightness\n    });\n  }\n\n  throw new PolishedError(45);\n}\n/**\n * Inverts the red, green and blue values of a color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: invert('#CCCD64'),\n *   background: invert('rgba(101,100,205,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${invert('#CCCD64')};\n *   background: ${invert('rgba(101,100,205,0.7)')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#33329b\";\n *   background: \"rgba(154,155,50,0.7)\";\n * }\n */\n\n\nfunction invert(color) {\n  if (color === 'transparent') return color; // parse color string to rgb\n\n  var value = parseToRgb(color);\n  return toColorString(_extends({}, value, {\n    red: 255 - value.red,\n    green: 255 - value.green,\n    blue: 255 - value.blue\n  }));\n}\n/**\n * Returns a string value for the lightened color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: lighten(0.2, '#CCCD64'),\n *   background: lighten('0.2', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${lighten(0.2, '#FFCD64')};\n *   background: ${lighten('0.2', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#e5e6b1\";\n *   background: \"rgba(229,230,177,0.7)\";\n * }\n */\n\n\nfunction lighten(amount, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    lightness: guard(0, 1, hslColor.lightness + parseFloat(amount))\n  }));\n} // prettier-ignore\n\n\nvar curriedLighten = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(lighten);\n/**\n * Determines which contrast guidelines have been met for two colors.\n * Based on the [contrast calculations recommended by W3](https://www.w3.org/WAI/WCAG21/Understanding/contrast-enhanced.html).\n *\n * @example\n * const scores = meetsContrastGuidelines('#444', '#fff');\n */\n\nfunction meetsContrastGuidelines(color1, color2) {\n  var contrastRatio = getContrast(color1, color2);\n  return {\n    AA: contrastRatio >= 4.5,\n    AALarge: contrastRatio >= 3,\n    AAA: contrastRatio >= 7,\n    AAALarge: contrastRatio >= 4.5\n  };\n}\n/**\n * Mixes the two provided colors together by calculating the average of each of the RGB components weighted to the first color by the provided weight.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: mix(0.5, '#f00', '#00f')\n *   background: mix(0.25, '#f00', '#00f')\n *   background: mix('0.5', 'rgba(255, 0, 0, 0.5)', '#00f')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${mix(0.5, '#f00', '#00f')};\n *   background: ${mix(0.25, '#f00', '#00f')};\n *   background: ${mix('0.5', 'rgba(255, 0, 0, 0.5)', '#00f')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#7f007f\";\n *   background: \"#3f00bf\";\n *   background: \"rgba(63, 0, 191, 0.75)\";\n * }\n */\n\n\nfunction mix(weight, color, otherColor) {\n  if (color === 'transparent') return otherColor;\n  if (otherColor === 'transparent') return color;\n  if (weight === 0) return otherColor;\n  var parsedColor1 = parseToRgb(color);\n\n  var color1 = _extends({}, parsedColor1, {\n    alpha: typeof parsedColor1.alpha === 'number' ? parsedColor1.alpha : 1\n  });\n\n  var parsedColor2 = parseToRgb(otherColor);\n\n  var color2 = _extends({}, parsedColor2, {\n    alpha: typeof parsedColor2.alpha === 'number' ? parsedColor2.alpha : 1\n  }); // The formula is copied from the original Sass implementation:\n  // http://sass-lang.com/documentation/Sass/Script/Functions.html#mix-instance_method\n\n\n  var alphaDelta = color1.alpha - color2.alpha;\n  var x = parseFloat(weight) * 2 - 1;\n  var y = x * alphaDelta === -1 ? x : x + alphaDelta;\n  var z = 1 + x * alphaDelta;\n  var weight1 = (y / z + 1) / 2.0;\n  var weight2 = 1 - weight1;\n  var mixedColor = {\n    red: Math.floor(color1.red * weight1 + color2.red * weight2),\n    green: Math.floor(color1.green * weight1 + color2.green * weight2),\n    blue: Math.floor(color1.blue * weight1 + color2.blue * weight2),\n    alpha: color1.alpha * (parseFloat(weight) / 1.0) + color2.alpha * (1 - parseFloat(weight) / 1.0)\n  };\n  return rgba(mixedColor);\n} // prettier-ignore\n\n\nvar curriedMix = /*#__PURE__*/curry\n/* ::<number | string, string, string, string> */\n(mix);\n/**\n * Increases the opacity of a color. Its range for the amount is between 0 to 1.\n *\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: opacify(0.1, 'rgba(255, 255, 255, 0.9)');\n *   background: opacify(0.2, 'hsla(0, 0%, 100%, 0.5)'),\n *   background: opacify('0.5', 'rgba(255, 0, 0, 0.2)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${opacify(0.1, 'rgba(255, 255, 255, 0.9)')};\n *   background: ${opacify(0.2, 'hsla(0, 0%, 100%, 0.5)')},\n *   background: ${opacify('0.5', 'rgba(255, 0, 0, 0.2)')},\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#fff\";\n *   background: \"rgba(255,255,255,0.7)\";\n *   background: \"rgba(255,0,0,0.7)\";\n * }\n */\n\nfunction opacify(amount, color) {\n  if (color === 'transparent') return color;\n  var parsedColor = parseToRgb(color);\n  var alpha = typeof parsedColor.alpha === 'number' ? parsedColor.alpha : 1;\n\n  var colorWithAlpha = _extends({}, parsedColor, {\n    alpha: guard(0, 1, (alpha * 100 + parseFloat(amount) * 100) / 100)\n  });\n\n  return rgba(colorWithAlpha);\n} // prettier-ignore\n\n\nvar curriedOpacify = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(opacify);\nvar defaultLightReturnColor = '#000';\nvar defaultDarkReturnColor = '#fff';\n/**\n * Returns black or white (or optional light and dark return colors) for best\n * contrast depending on the luminosity of the given color.\n * When passing custom return colors, set `strict` to `true` to ensure that the\n * return color always meets or exceeds WCAG level AA or greater. If this test\n * fails, the default return color (black or white) is returned in place of the\n * custom return color.\n *\n * Follows [W3C specs for readability](https://www.w3.org/TR/WCAG20-TECHS/G18.html).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   color: readableColor('#000'),\n *   color: readableColor('black', '#001', '#ff8'),\n *   color: readableColor('white', '#001', '#ff8'),\n *   color: readableColor('red', '#333', '#ddd', true)\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   color: ${readableColor('#000')};\n *   color: ${readableColor('black', '#001', '#ff8')};\n *   color: ${readableColor('white', '#001', '#ff8')};\n *   color: ${readableColor('red', '#333', '#ddd', true)};\n * `\n *\n * // CSS in JS Output\n * element {\n *   color: \"#fff\";\n *   color: \"#ff8\";\n *   color: \"#001\";\n *   color: \"#000\";\n * }\n */\n\nfunction readableColor(color, lightReturnColor, darkReturnColor, strict) {\n  if (lightReturnColor === void 0) {\n    lightReturnColor = defaultLightReturnColor;\n  }\n\n  if (darkReturnColor === void 0) {\n    darkReturnColor = defaultDarkReturnColor;\n  }\n\n  if (strict === void 0) {\n    strict = false;\n  }\n\n  var isLightColor = getLuminance(color) > 0.179;\n  var preferredReturnColor = isLightColor ? lightReturnColor : darkReturnColor; // TODO: Make `strict` the default behaviour in the next major release.\n  // Without `strict`, this may return a color that does not meet WCAG AA.\n\n  if (!strict || getContrast(color, preferredReturnColor) >= 4.5) {\n    return preferredReturnColor;\n  }\n\n  return isLightColor ? defaultLightReturnColor : defaultDarkReturnColor;\n}\n/**\n * Converts a RgbColor or RgbaColor object to a color string.\n * This util is useful in case you only know on runtime which color object is\n * used. Otherwise we recommend to rely on `rgb` or `rgba`.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: rgbToColorString({ red: 255, green: 205, blue: 100 }),\n *   background: rgbToColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${rgbToColorString({ red: 255, green: 205, blue: 100 })};\n *   background: ${rgbToColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 })};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#ffcd64\";\n *   background: \"rgba(255,205,100,0.72)\";\n * }\n */\n\n\nfunction rgbToColorString(color) {\n  if (typeof color === 'object' && typeof color.red === 'number' && typeof color.green === 'number' && typeof color.blue === 'number') {\n    if (color.alpha && typeof color.alpha === 'number') {\n      return rgba({\n        red: color.red,\n        green: color.green,\n        blue: color.blue,\n        alpha: color.alpha\n      });\n    }\n\n    return rgb({\n      red: color.red,\n      green: color.green,\n      blue: color.blue\n    });\n  }\n\n  throw new PolishedError(46);\n}\n/**\n * Increases the intensity of a color. Its range is between 0 to 1. The first\n * argument of the saturate function is the amount by how much the color\n * intensity should be increased.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: saturate(0.2, '#CCCD64'),\n *   background: saturate('0.2', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${saturate(0.2, '#FFCD64')};\n *   background: ${saturate('0.2', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#e0e250\";\n *   background: \"rgba(224,226,80,0.7)\";\n * }\n */\n\n\nfunction saturate(amount, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    saturation: guard(0, 1, hslColor.saturation + parseFloat(amount))\n  }));\n} // prettier-ignore\n\n\nvar curriedSaturate = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(saturate);\n/**\n * Sets the hue of a color to the provided value. The hue range can be\n * from 0 and 359.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: setHue(42, '#CCCD64'),\n *   background: setHue('244', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${setHue(42, '#CCCD64')};\n *   background: ${setHue('244', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#cdae64\";\n *   background: \"rgba(107,100,205,0.7)\";\n * }\n */\n\nfunction setHue(hue, color) {\n  if (color === 'transparent') return color;\n  return toColorString(_extends({}, parseToHsl(color), {\n    hue: parseFloat(hue)\n  }));\n} // prettier-ignore\n\n\nvar curriedSetHue = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(setHue);\n/**\n * Sets the lightness of a color to the provided value. The lightness range can be\n * from 0 and 1.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: setLightness(0.2, '#CCCD64'),\n *   background: setLightness('0.75', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${setLightness(0.2, '#CCCD64')};\n *   background: ${setLightness('0.75', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#4d4d19\";\n *   background: \"rgba(223,224,159,0.7)\";\n * }\n */\n\nfunction setLightness(lightness, color) {\n  if (color === 'transparent') return color;\n  return toColorString(_extends({}, parseToHsl(color), {\n    lightness: parseFloat(lightness)\n  }));\n} // prettier-ignore\n\n\nvar curriedSetLightness = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(setLightness);\n/**\n * Sets the saturation of a color to the provided value. The saturation range can be\n * from 0 and 1.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: setSaturation(0.2, '#CCCD64'),\n *   background: setSaturation('0.75', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${setSaturation(0.2, '#CCCD64')};\n *   background: ${setSaturation('0.75', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#adad84\";\n *   background: \"rgba(228,229,76,0.7)\";\n * }\n */\n\nfunction setSaturation(saturation, color) {\n  if (color === 'transparent') return color;\n  return toColorString(_extends({}, parseToHsl(color), {\n    saturation: parseFloat(saturation)\n  }));\n} // prettier-ignore\n\n\nvar curriedSetSaturation = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(setSaturation);\n/**\n * Shades a color by mixing it with black. `shade` can produce\n * hue shifts, where as `darken` manipulates the luminance channel and therefore\n * doesn't produce hue shifts.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: shade(0.25, '#00f')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${shade(0.25, '#00f')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#00003f\";\n * }\n */\n\nfunction shade(percentage, color) {\n  if (color === 'transparent') return color;\n  return curriedMix(parseFloat(percentage), 'rgb(0, 0, 0)', color);\n} // prettier-ignore\n\n\nvar curriedShade = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(shade);\n/**\n * Tints a color by mixing it with white. `tint` can produce\n * hue shifts, where as `lighten` manipulates the luminance channel and therefore\n * doesn't produce hue shifts.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: tint(0.25, '#00f')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${tint(0.25, '#00f')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#bfbfff\";\n * }\n */\n\nfunction tint(percentage, color) {\n  if (color === 'transparent') return color;\n  return curriedMix(parseFloat(percentage), 'rgb(255, 255, 255)', color);\n} // prettier-ignore\n\n\nvar curriedTint = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(tint);\n/**\n * Decreases the opacity of a color. Its range for the amount is between 0 to 1.\n *\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: transparentize(0.1, '#fff');\n *   background: transparentize(0.2, 'hsl(0, 0%, 100%)'),\n *   background: transparentize('0.5', 'rgba(255, 0, 0, 0.8)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${transparentize(0.1, '#fff')};\n *   background: ${transparentize(0.2, 'hsl(0, 0%, 100%)')},\n *   background: ${transparentize('0.5', 'rgba(255, 0, 0, 0.8)')},\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"rgba(255,255,255,0.9)\";\n *   background: \"rgba(255,255,255,0.8)\";\n *   background: \"rgba(255,0,0,0.3)\";\n * }\n */\n\nfunction transparentize(amount, color) {\n  if (color === 'transparent') return color;\n  var parsedColor = parseToRgb(color);\n  var alpha = typeof parsedColor.alpha === 'number' ? parsedColor.alpha : 1;\n\n  var colorWithAlpha = _extends({}, parsedColor, {\n    alpha: guard(0, 1, (alpha * 100 - parseFloat(amount) * 100) / 100)\n  });\n\n  return rgba(colorWithAlpha);\n} // prettier-ignore\n\n\nvar curriedTransparentize = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(transparentize);\n/**\n * Shorthand for easily setting the animation property. Allows either multiple arrays with animations\n * or a single animation spread over the arguments.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...animation(['rotate', '1s', 'ease-in-out'], ['colorchange', '2s'])\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${animation(['rotate', '1s', 'ease-in-out'], ['colorchange', '2s'])}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'animation': 'rotate 1s ease-in-out, colorchange 2s'\n * }\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...animation('rotate', '1s', 'ease-in-out')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${animation('rotate', '1s', 'ease-in-out')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'animation': 'rotate 1s ease-in-out'\n * }\n */\n\nfunction animation() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  } // Allow single or multiple animations passed\n\n\n  var multiMode = Array.isArray(args[0]);\n\n  if (!multiMode && args.length > 8) {\n    throw new PolishedError(64);\n  }\n\n  var code = args.map(function (arg) {\n    if (multiMode && !Array.isArray(arg) || !multiMode && Array.isArray(arg)) {\n      throw new PolishedError(65);\n    }\n\n    if (Array.isArray(arg) && arg.length > 8) {\n      throw new PolishedError(66);\n    }\n\n    return Array.isArray(arg) ? arg.join(' ') : arg;\n  }).join(', ');\n  return {\n    animation: code\n  };\n}\n/**\n * Shorthand that accepts any number of backgroundImage values as parameters for creating a single background statement.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...backgroundImages('url(\"/image/background.jpg\")', 'linear-gradient(red, green)')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${backgroundImages('url(\"/image/background.jpg\")', 'linear-gradient(red, green)')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'backgroundImage': 'url(\"/image/background.jpg\"), linear-gradient(red, green)'\n * }\n */\n\n\nfunction backgroundImages() {\n  for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {\n    properties[_key] = arguments[_key];\n  }\n\n  return {\n    backgroundImage: properties.join(', ')\n  };\n}\n/**\n * Shorthand that accepts any number of background values as parameters for creating a single background statement.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...backgrounds('url(\"/image/background.jpg\")', 'linear-gradient(red, green)', 'center no-repeat')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${backgrounds('url(\"/image/background.jpg\")', 'linear-gradient(red, green)', 'center no-repeat')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'background': 'url(\"/image/background.jpg\"), linear-gradient(red, green), center no-repeat'\n * }\n */\n\n\nfunction backgrounds() {\n  for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {\n    properties[_key] = arguments[_key];\n  }\n\n  return {\n    background: properties.join(', ')\n  };\n}\n\nvar sideMap = ['top', 'right', 'bottom', 'left'];\n/**\n * Shorthand for the border property that splits out individual properties for use with tools like Fela and Styletron. A side keyword can optionally be passed to target only one side's border properties.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...border('1px', 'solid', 'red')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${border('1px', 'solid', 'red')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderColor': 'red',\n *   'borderStyle': 'solid',\n *   'borderWidth': `1px`,\n * }\n *\n * // Styles as object usage\n * const styles = {\n *   ...border('top', '1px', 'solid', 'red')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${border('top', '1px', 'solid', 'red')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopColor': 'red',\n *   'borderTopStyle': 'solid',\n *   'borderTopWidth': `1px`,\n * }\n */\n\nfunction border(sideKeyword) {\n  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    values[_key - 1] = arguments[_key];\n  }\n\n  if (typeof sideKeyword === 'string' && sideMap.indexOf(sideKeyword) >= 0) {\n    var _ref;\n\n    return _ref = {}, _ref[\"border\" + capitalizeString(sideKeyword) + \"Width\"] = values[0], _ref[\"border\" + capitalizeString(sideKeyword) + \"Style\"] = values[1], _ref[\"border\" + capitalizeString(sideKeyword) + \"Color\"] = values[2], _ref;\n  } else {\n    values.unshift(sideKeyword);\n    return {\n      borderWidth: values[0],\n      borderStyle: values[1],\n      borderColor: values[2]\n    };\n  }\n}\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...borderColor('red', 'green', 'blue', 'yellow')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${borderColor('red', 'green', 'blue', 'yellow')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopColor': 'red',\n *   'borderRightColor': 'green',\n *   'borderBottomColor': 'blue',\n *   'borderLeftColor': 'yellow'\n * }\n */\n\n\nfunction borderColor() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  return directionalProperty.apply(void 0, ['borderColor'].concat(values));\n}\n/**\n * Shorthand that accepts a value for side and a value for radius and applies the radius value to both corners of the side.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...borderRadius('top', '5px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${borderRadius('top', '5px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopRightRadius': '5px',\n *   'borderTopLeftRadius': '5px',\n * }\n */\n\n\nfunction borderRadius(side, radius) {\n  var uppercaseSide = capitalizeString(side);\n\n  if (!radius && radius !== 0) {\n    throw new PolishedError(62);\n  }\n\n  if (uppercaseSide === 'Top' || uppercaseSide === 'Bottom') {\n    var _ref;\n\n    return _ref = {}, _ref[\"border\" + uppercaseSide + \"RightRadius\"] = radius, _ref[\"border\" + uppercaseSide + \"LeftRadius\"] = radius, _ref;\n  }\n\n  if (uppercaseSide === 'Left' || uppercaseSide === 'Right') {\n    var _ref2;\n\n    return _ref2 = {}, _ref2[\"borderTop\" + uppercaseSide + \"Radius\"] = radius, _ref2[\"borderBottom\" + uppercaseSide + \"Radius\"] = radius, _ref2;\n  }\n\n  throw new PolishedError(63);\n}\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...borderStyle('solid', 'dashed', 'dotted', 'double')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${borderStyle('solid', 'dashed', 'dotted', 'double')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopStyle': 'solid',\n *   'borderRightStyle': 'dashed',\n *   'borderBottomStyle': 'dotted',\n *   'borderLeftStyle': 'double'\n * }\n */\n\n\nfunction borderStyle() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  return directionalProperty.apply(void 0, ['borderStyle'].concat(values));\n}\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...borderWidth('12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${borderWidth('12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopWidth': '12px',\n *   'borderRightWidth': '24px',\n *   'borderBottomWidth': '36px',\n *   'borderLeftWidth': '48px'\n * }\n */\n\n\nfunction borderWidth() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  return directionalProperty.apply(void 0, ['borderWidth'].concat(values));\n}\n\nfunction generateSelectors(template, state) {\n  var stateSuffix = state ? \":\" + state : '';\n  return template(stateSuffix);\n}\n/**\n * Function helper that adds an array of states to a template of selectors. Used in textInputs and buttons.\n * @private\n */\n\n\nfunction statefulSelectors(states, template, stateMap) {\n  if (!template) throw new PolishedError(67);\n  if (states.length === 0) return generateSelectors(template, null);\n  var selectors = [];\n\n  for (var i = 0; i < states.length; i += 1) {\n    if (stateMap && stateMap.indexOf(states[i]) < 0) {\n      throw new PolishedError(68);\n    }\n\n    selectors.push(generateSelectors(template, states[i]));\n  }\n\n  selectors = selectors.join(',');\n  return selectors;\n}\n\nvar stateMap = [undefined, null, 'active', 'focus', 'hover'];\n\nfunction template(state) {\n  return \"button\" + state + \",\\n  input[type=\\\"button\\\"]\" + state + \",\\n  input[type=\\\"reset\\\"]\" + state + \",\\n  input[type=\\\"submit\\\"]\" + state;\n}\n/**\n * Populates selectors that target all buttons. You can pass optional states to append to the selectors.\n * @example\n * // Styles as object usage\n * const styles = {\n *   [buttons('active')]: {\n *     'border': 'none'\n *   }\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   > ${buttons('active')} {\n *     border: none;\n *   }\n * `\n *\n * // CSS in JS Output\n *\n *  'button:active,\n *  'input[type=\"button\"]:active,\n *  'input[type=\\\"reset\\\"]:active,\n *  'input[type=\\\"submit\\\"]:active: {\n *   'border': 'none'\n * }\n */\n\n\nfunction buttons() {\n  for (var _len = arguments.length, states = new Array(_len), _key = 0; _key < _len; _key++) {\n    states[_key] = arguments[_key];\n  }\n\n  return statefulSelectors(states, template, stateMap);\n}\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...margin('12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${margin('12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'marginTop': '12px',\n *   'marginRight': '24px',\n *   'marginBottom': '36px',\n *   'marginLeft': '48px'\n * }\n */\n\n\nfunction margin() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  return directionalProperty.apply(void 0, ['margin'].concat(values));\n}\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...padding('12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${padding('12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'paddingTop': '12px',\n *   'paddingRight': '24px',\n *   'paddingBottom': '36px',\n *   'paddingLeft': '48px'\n * }\n */\n\n\nfunction padding() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  return directionalProperty.apply(void 0, ['padding'].concat(values));\n}\n\nvar positionMap$1 = ['absolute', 'fixed', 'relative', 'static', 'sticky'];\n/**\n * Shorthand accepts up to five values, including null to skip a value, and maps them to their respective directions. The first value can optionally be a position keyword.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...position('12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${position('12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'top': '12px',\n *   'right': '24px',\n *   'bottom': '36px',\n *   'left': '48px'\n * }\n *\n * // Styles as object usage\n * const styles = {\n *   ...position('absolute', '12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${position('absolute', '12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'position': 'absolute',\n *   'top': '12px',\n *   'right': '24px',\n *   'bottom': '36px',\n *   'left': '48px'\n * }\n */\n\nfunction position(firstValue) {\n  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    values[_key - 1] = arguments[_key];\n  }\n\n  if (positionMap$1.indexOf(firstValue) >= 0 && firstValue) {\n    return _extends({}, directionalProperty.apply(void 0, [''].concat(values)), {\n      position: firstValue\n    });\n  } else {\n    return directionalProperty.apply(void 0, ['', firstValue].concat(values));\n  }\n}\n/**\n * Shorthand to set the height and width properties in a single statement.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...size('300px', '250px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${size('300px', '250px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'height': '300px',\n *   'width': '250px',\n * }\n */\n\n\nfunction size(height, width) {\n  if (width === void 0) {\n    width = height;\n  }\n\n  return {\n    height: height,\n    width: width\n  };\n}\n\nvar stateMap$1 = [undefined, null, 'active', 'focus', 'hover'];\n\nfunction template$1(state) {\n  return \"input[type=\\\"color\\\"]\" + state + \",\\n    input[type=\\\"date\\\"]\" + state + \",\\n    input[type=\\\"datetime\\\"]\" + state + \",\\n    input[type=\\\"datetime-local\\\"]\" + state + \",\\n    input[type=\\\"email\\\"]\" + state + \",\\n    input[type=\\\"month\\\"]\" + state + \",\\n    input[type=\\\"number\\\"]\" + state + \",\\n    input[type=\\\"password\\\"]\" + state + \",\\n    input[type=\\\"search\\\"]\" + state + \",\\n    input[type=\\\"tel\\\"]\" + state + \",\\n    input[type=\\\"text\\\"]\" + state + \",\\n    input[type=\\\"time\\\"]\" + state + \",\\n    input[type=\\\"url\\\"]\" + state + \",\\n    input[type=\\\"week\\\"]\" + state + \",\\n    input:not([type])\" + state + \",\\n    textarea\" + state;\n}\n/**\n * Populates selectors that target all text inputs. You can pass optional states to append to the selectors.\n * @example\n * // Styles as object usage\n * const styles = {\n *   [textInputs('active')]: {\n *     'border': 'none'\n *   }\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   > ${textInputs('active')} {\n *     border: none;\n *   }\n * `\n *\n * // CSS in JS Output\n *\n *  'input[type=\"color\"]:active,\n *  input[type=\"date\"]:active,\n *  input[type=\"datetime\"]:active,\n *  input[type=\"datetime-local\"]:active,\n *  input[type=\"email\"]:active,\n *  input[type=\"month\"]:active,\n *  input[type=\"number\"]:active,\n *  input[type=\"password\"]:active,\n *  input[type=\"search\"]:active,\n *  input[type=\"tel\"]:active,\n *  input[type=\"text\"]:active,\n *  input[type=\"time\"]:active,\n *  input[type=\"url\"]:active,\n *  input[type=\"week\"]:active,\n *  input:not([type]):active,\n *  textarea:active': {\n *   'border': 'none'\n * }\n */\n\n\nfunction textInputs() {\n  for (var _len = arguments.length, states = new Array(_len), _key = 0; _key < _len; _key++) {\n    states[_key] = arguments[_key];\n  }\n\n  return statefulSelectors(states, template$1, stateMap$1);\n}\n/**\n * Accepts any number of transition values as parameters for creating a single transition statement. You may also pass an array of properties as the first parameter that you would like to apply the same transition values to (second parameter).\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...transitions('opacity 1.0s ease-in 0s', 'width 2.0s ease-in 2s'),\n *   ...transitions(['color', 'background-color'], '2.0s ease-in 2s')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${transitions('opacity 1.0s ease-in 0s', 'width 2.0s ease-in 2s')};\n *   ${transitions(['color', 'background-color'], '2.0s ease-in 2s'),};\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'transition': 'opacity 1.0s ease-in 0s, width 2.0s ease-in 2s'\n *   'transition': 'color 2.0s ease-in 2s, background-color 2.0s ease-in 2s',\n * }\n */\n\n\nfunction transitions() {\n  for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {\n    properties[_key] = arguments[_key];\n  }\n\n  if (Array.isArray(properties[0]) && properties.length === 2) {\n    var value = properties[1];\n\n    if (typeof value !== 'string') {\n      throw new PolishedError(61);\n    }\n\n    var transitionsString = properties[0].map(function (property) {\n      return property + \" \" + value;\n    }).join(', ');\n    return {\n      transition: transitionsString\n    };\n  } else {\n    return {\n      transition: properties.join(', ')\n    };\n  }\n}\n\nexport { curriedAdjustHue as adjustHue, animation, backgroundImages, backgrounds, between, border, borderColor, borderRadius, borderStyle, borderWidth, buttons, clearFix, complement, cover, cssVar, curriedDarken as darken, curriedDesaturate as desaturate, directionalProperty, ellipsis, em, fluidRange, fontFace, getContrast, getLuminance, getValueAndUnit, grayscale, hiDPI, hideText, hideVisually, hsl, hslToColorString, hsla, invert, curriedLighten as lighten, linearGradient, margin, math, meetsContrastGuidelines, curriedMix as mix, modularScale, normalize, curriedOpacify as opacify, padding, parseToHsl, parseToRgb, position, radialGradient, readableColor, rem, retinaImage, rgb, rgbToColorString, rgba, curriedSaturate as saturate, curriedSetHue as setHue, curriedSetLightness as setLightness, curriedSetSaturation as setSaturation, curriedShade as shade, size, stripUnit, textInputs, timingFunctions, curriedTint as tint, toColorString, transitions, curriedTransparentize as transparentize, triangle, wordWrap };","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.array.sort\";\nimport { WebGLRenderer, Scene, PerspectiveCamera, Raycaster, TextureLoader, Vector2, Vector3, Color, Mesh, SphereGeometry, MeshBasicMaterial, BackSide, EventDispatcher, MOUSE, Quaternion, Spherical, Clock } from 'three';\nimport ThreeTrackballControls from 'three-trackballcontrols';\nimport OrbitControlsWrapper from 'three-orbit-controls';\nimport FlyControlsWrapper from 'three-fly-controls';\nimport { parseToRgb, opacify } from 'polished';\nimport TWEEN from '@tweenjs/tween.js';\nimport accessorFn from 'accessor-fn';\nimport Kapsule from 'kapsule';\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".scene-nav-info {\\n  bottom: 5px;\\n  width: 100%;\\n  text-align: center;\\n  color: slategrey;\\n  opacity: 0.7;\\n  font-size: 10px;\\n}\\n\\n.scene-tooltip {\\n  color: lavender;\\n  font-size: 15px;\\n}\\n\\n.scene-nav-info, .scene-tooltip {\\n  position: absolute;\\n  font-family: sans-serif;\\n  pointer-events: none;\\n}\";\nstyleInject(css_248z);\nvar three = window.THREE ? window.THREE // Prefer consumption from global THREE, if exists\n: {\n  WebGLRenderer: WebGLRenderer,\n  Scene: Scene,\n  PerspectiveCamera: PerspectiveCamera,\n  Raycaster: Raycaster,\n  TextureLoader: TextureLoader,\n  Vector2: Vector2,\n  Vector3: Vector3,\n  Color: Color,\n  Mesh: Mesh,\n  SphereGeometry: SphereGeometry,\n  MeshBasicMaterial: MeshBasicMaterial,\n  BackSide: BackSide,\n  EventDispatcher: EventDispatcher,\n  MOUSE: MOUSE,\n  Quaternion: Quaternion,\n  Spherical: Spherical,\n  Clock: Clock\n};\nvar ThreeOrbitControls = OrbitControlsWrapper(three);\nvar ThreeFlyControls = (FlyControlsWrapper(three), three.FlyControls);\nvar threeRenderObjects = Kapsule({\n  props: {\n    width: {\n      \"default\": window.innerWidth,\n      onChange: function onChange(width, state, prevWidth) {\n        isNaN(width) && (state.width = prevWidth);\n      }\n    },\n    height: {\n      \"default\": window.innerHeight,\n      onChange: function onChange(height, state, prevHeight) {\n        isNaN(height) && (state.height = prevHeight);\n      }\n    },\n    backgroundColor: {\n      \"default\": '#000011'\n    },\n    backgroundImageUrl: {},\n    onBackgroundImageLoaded: {},\n    showNavInfo: {\n      \"default\": true\n    },\n    skyRadius: {\n      \"default\": 50000\n    },\n    objects: {\n      \"default\": []\n    },\n    postProcessingComposer: {\n      triggerUpdate: false\n    },\n    enablePointerInteraction: {\n      \"default\": true,\n      onChange: function onChange(_, state) {\n        // Reset hover state\n        state.hoverObj = null;\n        if (state.toolTipElem) state.toolTipElem.innerHTML = '';\n      },\n      triggerUpdate: false\n    },\n    lineHoverPrecision: {\n      \"default\": 1,\n      triggerUpdate: false\n    },\n    hoverOrderComparator: {\n      \"default\": function _default() {\n        return -1;\n      },\n      triggerUpdate: false\n    },\n    // keep existing order by default\n    tooltipContent: {\n      triggerUpdate: false\n    },\n    hoverDuringDrag: {\n      \"default\": false,\n      triggerUpdate: false\n    },\n    onHover: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onClick: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onRightClick: {\n      triggerUpdate: false\n    }\n  },\n  methods: {\n    tick: function tick(state) {\n      if (state.initialised) {\n        state.controls.update && state.controls.update(state.clock.getDelta()); // timedelta is required for fly controls\n\n        state.postProcessingComposer ? state.postProcessingComposer.render() // if using postprocessing, render only the output of the\n        : state.renderer.render(state.scene, state.camera);\n\n        if (state.enablePointerInteraction) {\n          // Update tooltip and trigger onHover events\n          var topObject = null;\n\n          if (state.hoverDuringDrag || !state.controlsDragging) {\n            var raycaster = new three.Raycaster();\n            raycaster.params.Line.threshold = state.lineHoverPrecision; // set linePrecision\n\n            raycaster.setFromCamera(state.mousePos, state.camera);\n            var intersects = raycaster.intersectObjects(state.objects, true).map(function (_ref) {\n              var object = _ref.object;\n              return object;\n            }).sort(state.hoverOrderComparator);\n            topObject = intersects.length ? intersects[0] : null;\n          }\n\n          if (topObject !== state.hoverObj) {\n            state.onHover(topObject, state.hoverObj);\n            state.toolTipElem.innerHTML = topObject ? accessorFn(state.tooltipContent)(topObject) || '' : '';\n            state.hoverObj = topObject;\n          }\n        }\n\n        TWEEN.update(); // update camera animation tweens\n      }\n\n      return this;\n    },\n    cameraPosition: function cameraPosition(state, position, lookAt, transitionDuration) {\n      var camera = state.camera; // Setter\n\n      if (position && state.initialised) {\n        var finalPos = position;\n        var finalLookAt = lookAt || {\n          x: 0,\n          y: 0,\n          z: 0\n        };\n\n        if (!transitionDuration) {\n          // no animation\n          setCameraPos(finalPos);\n          setLookAt(finalLookAt);\n        } else {\n          var camPos = Object.assign({}, camera.position);\n          var camLookAt = getLookAt();\n          new TWEEN.Tween(camPos).to(finalPos, transitionDuration).easing(TWEEN.Easing.Quadratic.Out).onUpdate(setCameraPos).start(); // Face direction in 1/3rd of time\n\n          new TWEEN.Tween(camLookAt).to(finalLookAt, transitionDuration / 3).easing(TWEEN.Easing.Quadratic.Out).onUpdate(setLookAt).start();\n        }\n\n        return this;\n      } // Getter\n\n\n      return Object.assign({}, camera.position, {\n        lookAt: getLookAt()\n      }); //\n\n      function setCameraPos(pos) {\n        var x = pos.x,\n            y = pos.y,\n            z = pos.z;\n        if (x !== undefined) camera.position.x = x;\n        if (y !== undefined) camera.position.y = y;\n        if (z !== undefined) camera.position.z = z;\n      }\n\n      function setLookAt(lookAt) {\n        state.controls.target = new three.Vector3(lookAt.x, lookAt.y, lookAt.z);\n      }\n\n      function getLookAt() {\n        return Object.assign(new three.Vector3(0, 0, -1000).applyQuaternion(camera.quaternion).add(camera.position));\n      }\n    },\n    renderer: function renderer(state) {\n      return state.renderer;\n    },\n    scene: function scene(state) {\n      return state.scene;\n    },\n    camera: function camera(state) {\n      return state.camera;\n    },\n    controls: function controls(state) {\n      return state.controls;\n    },\n    tbControls: function tbControls(state) {\n      return state.controls;\n    } // to be deprecated\n\n  },\n  stateInit: function stateInit() {\n    return {\n      scene: new three.Scene(),\n      camera: new three.PerspectiveCamera(),\n      clock: new three.Clock()\n    };\n  },\n  init: function init(domNode, state, _ref2) {\n    var _ref2$controlType = _ref2.controlType,\n        controlType = _ref2$controlType === void 0 ? 'trackball' : _ref2$controlType,\n        _ref2$rendererConfig = _ref2.rendererConfig,\n        rendererConfig = _ref2$rendererConfig === void 0 ? {} : _ref2$rendererConfig,\n        _ref2$waitForLoadComp = _ref2.waitForLoadComplete,\n        waitForLoadComplete = _ref2$waitForLoadComp === void 0 ? true : _ref2$waitForLoadComp; // Wipe DOM\n\n    domNode.innerHTML = ''; // Add relative container\n\n    domNode.appendChild(state.container = document.createElement('div'));\n    state.container.style.position = 'relative'; // Add nav info section\n\n    state.container.appendChild(state.navInfo = document.createElement('div'));\n    state.navInfo.className = 'scene-nav-info';\n    state.navInfo.textContent = {\n      orbit: 'Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan',\n      trackball: 'Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan',\n      fly: 'WASD: move, R|F: up | down, Q|E: roll, up|down: pitch, left|right: yaw'\n    }[controlType] || '';\n    state.navInfo.style.display = state.showNavInfo ? null : 'none'; // Setup tooltip\n\n    state.toolTipElem = document.createElement('div');\n    state.toolTipElem.classList.add('scene-tooltip');\n    state.container.appendChild(state.toolTipElem); // Capture mouse coords on move\n\n    state.mousePos = new three.Vector2();\n    state.mousePos.x = -2; // Initialize off canvas\n\n    state.mousePos.y = -2;\n    state.container.addEventListener(\"mousemove\", function (ev) {\n      if (state.enablePointerInteraction) {\n        // update the mouse pos\n        var offset = getOffset(state.container),\n            relPos = {\n          x: ev.pageX - offset.left,\n          y: ev.pageY - offset.top\n        };\n        state.mousePos.x = relPos.x / state.width * 2 - 1;\n        state.mousePos.y = -(relPos.y / state.height) * 2 + 1; // Move tooltip\n\n        state.toolTipElem.style.top = \"\".concat(relPos.y, \"px\");\n        state.toolTipElem.style.left = \"\".concat(relPos.x, \"px\");\n        state.toolTipElem.style.transform = \"translate(-\".concat(relPos.x / state.width * 100, \"%, 21px)\"); // adjust horizontal position to not exceed canvas boundaries\n      }\n\n      function getOffset(el) {\n        var rect = el.getBoundingClientRect(),\n            scrollLeft = window.pageXOffset || document.documentElement.scrollLeft,\n            scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n        return {\n          top: rect.top + scrollTop,\n          left: rect.left + scrollLeft\n        };\n      }\n    }, false); // Handle click events on objs\n\n    state.container.addEventListener('mouseup', function (ev) {\n      if (state.ignoreOneClick) {\n        state.ignoreOneClick = false; // because of controls end event\n\n        return;\n      }\n\n      if (ev.button === 0) {\n        // left-click\n        state.onClick(state.hoverObj || null, ev); // trigger background clicks with null\n      }\n\n      if (ev.button === 2 && state.onRightClick) {\n        // right-click\n        state.onRightClick(state.hoverObj || null, ev);\n      }\n    }, true); // use capture phase to prevent propagation blocking from controls (specifically for fly)\n\n    state.container.addEventListener('contextmenu', function (ev) {\n      if (state.onRightClick) ev.preventDefault(); // prevent default contextmenu behavior and allow mouseup to fire instead\n    }, false); // Setup renderer, camera and controls\n\n    state.renderer = new three.WebGLRenderer(Object.assign({\n      antialias: true,\n      alpha: true\n    }, rendererConfig));\n    state.renderer.setPixelRatio(window.devicePixelRatio);\n    state.container.appendChild(state.renderer.domElement); // configure controls\n\n    state.controls = new {\n      trackball: ThreeTrackballControls,\n      orbit: ThreeOrbitControls,\n      fly: ThreeFlyControls\n    }[controlType](state.camera, state.renderer.domElement);\n\n    if (controlType === 'fly') {\n      state.controls.movementSpeed = 300;\n      state.controls.rollSpeed = Math.PI / 6;\n      state.controls.dragToLook = true;\n    }\n\n    if (controlType === 'trackball' || controlType === 'orbit') {\n      state.controls.minDistance = 0.1;\n      state.controls.maxDistance = state.skyRadius;\n      state.controls.addEventListener('start', function () {\n        return state.controlsEngaged = true;\n      });\n      state.controls.addEventListener('change', function () {\n        if (state.controlsEngaged) {\n          state.controlsDragging = true;\n          state.ignoreOneClick = true;\n        }\n      });\n      state.controls.addEventListener('end', function () {\n        state.controlsEngaged = false;\n        state.controlsDragging = false;\n      });\n    }\n\n    state.renderer.setSize(state.width, state.height);\n    state.camera.aspect = state.width / state.height;\n    state.camera.updateProjectionMatrix();\n    state.camera.position.z = 1000; // add sky\n\n    state.scene.add(state.skysphere = new three.Mesh());\n    state.skysphere.visible = false;\n    state.loadComplete = state.scene.visible = !waitForLoadComplete;\n    window.scene = state.scene;\n  },\n  update: function update(state, changedProps) {\n    // resize canvas\n    if (state.width && state.height && (changedProps.hasOwnProperty('width') || changedProps.hasOwnProperty('height'))) {\n      state.container.style.width = state.width;\n      state.container.style.height = state.height;\n      state.renderer.setSize(state.width, state.height);\n      state.camera.aspect = state.width / state.height;\n      state.camera.updateProjectionMatrix();\n    }\n\n    if (changedProps.hasOwnProperty('skyRadius') && state.skyRadius) {\n      state.controls.hasOwnProperty('maxDistance') && changedProps.skyRadius && (state.controls.maxDistance = state.skyRadius);\n      state.camera.far = state.skyRadius * 2.5;\n      state.camera.updateProjectionMatrix();\n      state.skysphere.geometry = new three.SphereGeometry(state.skyRadius);\n    }\n\n    if (changedProps.hasOwnProperty('backgroundColor')) {\n      var alpha = parseToRgb(state.backgroundColor).alpha;\n      if (alpha === undefined) alpha = 1;\n      state.renderer.setClearColor(new three.Color(opacify(1, state.backgroundColor)), alpha);\n    }\n\n    if (changedProps.hasOwnProperty('backgroundImageUrl')) {\n      if (!state.backgroundImageUrl) {\n        state.skysphere.visible = false;\n        state.skysphere.material.map = null;\n        !state.loadComplete && finishLoad();\n      } else {\n        new three.TextureLoader().load(state.backgroundImageUrl, function (texture) {\n          state.skysphere.material = new three.MeshBasicMaterial({\n            map: texture,\n            side: three.BackSide\n          });\n          state.skysphere.visible = true; // triggered when background image finishes loading (asynchronously to allow 1 frame to load texture)\n\n          state.onBackgroundImageLoaded && setTimeout(state.onBackgroundImageLoaded);\n          !state.loadComplete && finishLoad();\n        });\n      }\n    }\n\n    changedProps.hasOwnProperty('showNavInfo') && (state.navInfo.style.display = state.showNavInfo ? null : 'none');\n\n    if (changedProps.hasOwnProperty('objects')) {\n      (changedProps.objects || []).forEach(function (obj) {\n        return state.scene.remove(obj);\n      }); // Clear the place\n\n      state.objects.forEach(function (obj) {\n        return state.scene.add(obj);\n      }); // Add to scene\n    } //\n\n\n    function finishLoad() {\n      state.loadComplete = state.scene.visible = true;\n    }\n  }\n});\nexport default threeRenderObjects;","import \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.math.cbrt\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.object.define-property\";\nimport { AmbientLight, DirectionalLight, Vector3 } from 'three';\nimport ThreeDragControls from 'three-dragcontrols';\nimport ThreeForceGraph from 'three-forcegraph';\nimport ThreeRenderObjects from 'three-render-objects';\nimport accessorFn from 'accessor-fn';\nimport Kapsule from 'kapsule';\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".graph-info-msg {\\n  top: 50%;\\n  width: 100%;\\n  text-align: center;\\n  color: lavender;\\n  opacity: 0.7;\\n  font-size: 22px;\\n  position: absolute;\\n  font-family: Sans-serif;\\n}\\n\\n.grabbable {\\n  cursor: move;\\n  cursor: grab;\\n  cursor: -moz-grab;\\n  cursor: -webkit-grab;\\n}\\n\\n.grabbable:active {\\n  cursor: grabbing;\\n  cursor: -moz-grabbing;\\n  cursor: -webkit-grabbing;\\n}\";\nstyleInject(css_248z);\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction linkKapsule(kapsulePropName, kapsuleType) {\n  var dummyK = new kapsuleType(); // To extract defaults\n\n  return {\n    linkProp: function linkProp(prop) {\n      // link property config\n      return {\n        \"default\": dummyK[prop](),\n        onChange: function onChange(v, state) {\n          state[kapsulePropName][prop](v);\n        },\n        triggerUpdate: false\n      };\n    },\n    linkMethod: function linkMethod(method) {\n      // link method pass-through\n      return function (state) {\n        var kapsuleInstance = state[kapsulePropName];\n\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        var returnVal = kapsuleInstance[method].apply(kapsuleInstance, args);\n        return returnVal === kapsuleInstance ? this // chain based on the parent object, not the inner kapsule\n        : returnVal;\n      };\n    }\n  };\n}\n\nvar three = window.THREE ? window.THREE // Prefer consumption from global THREE, if exists\n: {\n  AmbientLight: AmbientLight,\n  DirectionalLight: DirectionalLight,\n  Vector3: Vector3\n};\nvar CAMERA_DISTANCE2NODES_FACTOR = 170; //\n// Expose config from forceGraph\n\nvar bindFG = linkKapsule('forceGraph', ThreeForceGraph);\nvar linkedFGProps = Object.assign.apply(Object, _toConsumableArray(['jsonUrl', 'graphData', 'numDimensions', 'dagMode', 'dagLevelDistance', 'nodeRelSize', 'nodeId', 'nodeVal', 'nodeResolution', 'nodeColor', 'nodeAutoColorBy', 'nodeOpacity', 'nodeVisibility', 'nodeThreeObject', 'nodeThreeObjectExtend', 'linkSource', 'linkTarget', 'linkVisibility', 'linkColor', 'linkAutoColorBy', 'linkOpacity', 'linkWidth', 'linkResolution', 'linkCurvature', 'linkCurveRotation', 'linkMaterial', 'linkThreeObject', 'linkThreeObjectExtend', 'linkPositionUpdate', 'linkDirectionalArrowLength', 'linkDirectionalArrowColor', 'linkDirectionalArrowRelPos', 'linkDirectionalArrowResolution', 'linkDirectionalParticles', 'linkDirectionalParticleSpeed', 'linkDirectionalParticleWidth', 'linkDirectionalParticleColor', 'linkDirectionalParticleResolution', 'forceEngine', 'd3AlphaDecay', 'd3VelocityDecay', 'd3AlphaMin', 'warmupTicks', 'cooldownTicks', 'cooldownTime', 'onEngineTick', 'onEngineStop'].map(function (p) {\n  return _defineProperty({}, p, bindFG.linkProp(p));\n})));\nvar linkedFGMethods = Object.assign.apply(Object, _toConsumableArray(['refresh', 'd3Force', 'd3ReheatSimulation', 'emitParticle'].map(function (p) {\n  return _defineProperty({}, p, bindFG.linkMethod(p));\n}))); // Expose config from renderObjs\n\nvar bindRenderObjs = linkKapsule('renderObjs', ThreeRenderObjects);\nvar linkedRenderObjsProps = Object.assign.apply(Object, _toConsumableArray(['width', 'height', 'backgroundColor', 'showNavInfo', 'enablePointerInteraction', 'postProcessingComposer'].map(function (p) {\n  return _defineProperty({}, p, bindRenderObjs.linkProp(p));\n})));\nvar linkedRenderObjsMethods = Object.assign.apply(Object, _toConsumableArray(['cameraPosition'].map(function (p) {\n  return _defineProperty({}, p, bindRenderObjs.linkMethod(p));\n}))); //\n\nvar _3dForceGraph = Kapsule({\n  props: _objectSpread2({\n    nodeLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    linkLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    linkHoverPrecision: {\n      \"default\": 1,\n      onChange: function onChange(p, state) {\n        return state.renderObjs.lineHoverPrecision(p);\n      },\n      triggerUpdate: false\n    },\n    enableNavigationControls: {\n      \"default\": true,\n      onChange: function onChange(enable, state) {\n        var controls = state.renderObjs.controls();\n\n        if (controls) {\n          controls.enabled = enable;\n        }\n      },\n      triggerUpdate: false\n    },\n    enableNodeDrag: {\n      \"default\": true,\n      triggerUpdate: false\n    },\n    onNodeDrag: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onNodeDragEnd: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onNodeClick: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onNodeRightClick: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onNodeHover: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onLinkClick: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onLinkRightClick: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onLinkHover: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onBackgroundClick: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onBackgroundRightClick: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    }\n  }, linkedFGProps, {}, linkedRenderObjsProps),\n  methods: _objectSpread2({\n    graph2ScreenCoords: function graph2ScreenCoords(state, x, y, z) {\n      var vec = new three.Vector3(x, y, z);\n      vec.project(this.camera()); // project to the camera plane\n\n      return {\n        // align relative pos to canvas dimensions\n        x: (vec.x + 1) * state.width / 2,\n        y: -(vec.y - 1) * state.height / 2\n      };\n    },\n    pauseAnimation: function pauseAnimation(state) {\n      if (state.animationFrameRequestId !== null) {\n        cancelAnimationFrame(state.animationFrameRequestId);\n        state.animationFrameRequestId = null;\n      }\n\n      return this;\n    },\n    resumeAnimation: function resumeAnimation(state) {\n      if (state.animationFrameRequestId === null) {\n        this._animationCycle();\n      }\n\n      return this;\n    },\n    _animationCycle: function _animationCycle(state) {\n      if (state.enablePointerInteraction) {\n        // reset canvas cursor (override dragControls cursor)\n        this.renderer().domElement.style.cursor = null;\n      } // Frame cycle\n\n\n      state.forceGraph.tickFrame();\n      state.renderObjs.tick();\n      state.animationFrameRequestId = requestAnimationFrame(this._animationCycle);\n    },\n    scene: function scene(state) {\n      return state.renderObjs.scene();\n    },\n    // Expose scene\n    camera: function camera(state) {\n      return state.renderObjs.camera();\n    },\n    // Expose camera\n    renderer: function renderer(state) {\n      return state.renderObjs.renderer();\n    },\n    // Expose renderer\n    controls: function controls(state) {\n      return state.renderObjs.controls();\n    },\n    // Expose controls\n    tbControls: function tbControls(state) {\n      return state.renderObjs.tbControls();\n    },\n    // To be deprecated\n    _destructor: function _destructor() {\n      this.pauseAnimation();\n      this.graphData({\n        nodes: [],\n        links: []\n      });\n    }\n  }, linkedFGMethods, {}, linkedRenderObjsMethods),\n  stateInit: function stateInit(_ref5) {\n    var controlType = _ref5.controlType,\n        rendererConfig = _ref5.rendererConfig;\n    return {\n      forceGraph: new ThreeForceGraph(),\n      renderObjs: ThreeRenderObjects({\n        controlType: controlType,\n        rendererConfig: rendererConfig\n      })\n    };\n  },\n  init: function init(domNode, state) {\n    // Wipe DOM\n    domNode.innerHTML = ''; // Add relative container\n\n    domNode.appendChild(state.container = document.createElement('div'));\n    state.container.style.position = 'relative'; // Add renderObjs\n\n    var roDomNode = document.createElement('div');\n    state.container.appendChild(roDomNode);\n    state.renderObjs(roDomNode);\n    var camera = state.renderObjs.camera();\n    var renderer = state.renderObjs.renderer();\n    var controls = state.renderObjs.controls();\n    controls.enabled = !!state.enableNavigationControls;\n    state.lastSetCameraZ = camera.position.z; // Add info space\n\n    var infoElem;\n    state.container.appendChild(infoElem = document.createElement('div'));\n    infoElem.className = 'graph-info-msg';\n    infoElem.textContent = ''; // config forcegraph\n\n    state.forceGraph.onLoading(function () {\n      infoElem.textContent = 'Loading...';\n    }).onFinishLoading(function () {\n      infoElem.textContent = '';\n    }).onUpdate(function () {\n      // sync graph data structures\n      state.graphData = state.forceGraph.graphData(); // re-aim camera, if still in default position (not user modified)\n\n      if (camera.position.x === 0 && camera.position.y === 0 && camera.position.z === state.lastSetCameraZ && state.graphData.nodes.length) {\n        camera.lookAt(state.forceGraph.position);\n        state.lastSetCameraZ = camera.position.z = Math.cbrt(state.graphData.nodes.length) * CAMERA_DISTANCE2NODES_FACTOR;\n      }\n    }).onFinishUpdate(function () {\n      // Setup node drag interaction\n      if (state._dragControls) {\n        var curNodeDrag = state.graphData.nodes.find(function (node) {\n          return node.__initialFixedPos && !node.__disposeControlsAfterDrag;\n        }); // detect if there's a node being dragged using the existing drag controls\n\n        if (curNodeDrag) {\n          curNodeDrag.__disposeControlsAfterDrag = true; // postpone previous controls disposal until drag ends\n        } else {\n          state._dragControls.dispose(); // cancel previous drag controls\n\n        }\n\n        state._dragControls = undefined;\n      }\n\n      if (state.enableNodeDrag && state.enablePointerInteraction && state.forceEngine === 'd3') {\n        // Can't access node positions programatically in ngraph\n        var dragControls = state._dragControls = new ThreeDragControls(state.graphData.nodes.map(function (node) {\n          return node.__threeObj;\n        }).filter(function (obj) {\n          return obj;\n        }), camera, renderer.domElement);\n        dragControls.addEventListener('dragstart', function (event) {\n          controls.enabled = false; // Disable controls while dragging\n\n          var node = event.object.__data;\n          !node.__initialFixedPos && (node.__initialFixedPos = {\n            fx: node.fx,\n            fy: node.fy,\n            fz: node.fz\n          });\n          !node.__initialPos && (node.__initialPos = {\n            x: node.x,\n            y: node.y,\n            z: node.z\n          }); // lock node\n\n          ['x', 'y', 'z'].forEach(function (c) {\n            return node[\"f\".concat(c)] = node[c];\n          }); // drag cursor\n\n          renderer.domElement.classList.add('grabbable');\n        });\n        dragControls.addEventListener('drag', function (event) {\n          state.ignoreOneClick = true; // Don't click the node if it's being dragged\n\n          var node = event.object.__data;\n          var newPos = event.object.position;\n          var translate = {\n            x: newPos.x - node.x,\n            y: newPos.y - node.y,\n            z: newPos.z - node.z\n          }; // Move fx/fy/fz (and x/y/z) of nodes based on object new position\n\n          ['x', 'y', 'z'].forEach(function (c) {\n            return node[\"f\".concat(c)] = node[c] = newPos[c];\n          });\n          state.forceGraph.d3AlphaTarget(0.3) // keep engine running at low intensity throughout drag\n          .resetCountdown(); // prevent freeze while dragging\n\n          node.__dragged = true;\n          state.onNodeDrag(node, translate);\n        });\n        dragControls.addEventListener('dragend', function (event) {\n          var node = event.object.__data; // dispose previous controls if needed\n\n          if (node.__disposeControlsAfterDrag) {\n            dragControls.dispose();\n            delete node.__disposeControlsAfterDrag;\n          }\n\n          var initFixedPos = node.__initialFixedPos;\n          var initPos = node.__initialPos;\n          var translate = {\n            x: initPos.x - node.x,\n            y: initPos.y - node.y,\n            z: initPos.z - node.z\n          };\n\n          if (initFixedPos) {\n            ['x', 'y', 'z'].forEach(function (c) {\n              var fc = \"f\".concat(c);\n\n              if (initFixedPos[fc] === undefined) {\n                delete node[fc];\n              }\n            });\n            delete node.__initialFixedPos;\n            delete node.__initialPos;\n\n            if (node.__dragged) {\n              delete node.__dragged;\n              state.onNodeDragEnd(node, translate);\n            }\n          }\n\n          state.forceGraph.d3AlphaTarget(0) // release engine low intensity\n          .resetCountdown(); // let the engine readjust after releasing fixed nodes\n\n          if (state.enableNavigationControls) {\n            controls.enabled = true; // Re-enable controls\n          } // clear cursor\n\n\n          renderer.domElement.classList.remove('grabbable');\n        });\n      }\n    }); // config renderObjs\n\n    var getGraphObj = function getGraphObj(object) {\n      var obj = object; // recurse up object chain until finding the graph object\n\n      while (obj && !obj.hasOwnProperty('__graphObjType')) {\n        obj = obj.parent;\n      }\n\n      return obj;\n    };\n\n    state.renderObjs.objects([// Populate scene\n    new three.AmbientLight(0xbbbbbb), new three.DirectionalLight(0xffffff, 0.6), state.forceGraph]).hoverOrderComparator(function (a, b) {\n      // Prioritize graph objects\n      var aObj = getGraphObj(a);\n      if (!aObj) return 1;\n      var bObj = getGraphObj(b);\n      if (!bObj) return -1; // Prioritize nodes over links\n\n      var isNode = function isNode(o) {\n        return o.__graphObjType === 'node';\n      };\n\n      return isNode(bObj) - isNode(aObj);\n    }).tooltipContent(function (obj) {\n      var graphObj = getGraphObj(obj);\n      return graphObj ? accessorFn(state[\"\".concat(graphObj.__graphObjType, \"Label\")])(graphObj.__data) || '' : '';\n    }).onHover(function (obj) {\n      // Update tooltip and trigger onHover events\n      var hoverObj = getGraphObj(obj);\n\n      if (hoverObj !== state.hoverObj) {\n        var prevObjType = state.hoverObj ? state.hoverObj.__graphObjType : null;\n        var prevObjData = state.hoverObj ? state.hoverObj.__data : null;\n        var objType = hoverObj ? hoverObj.__graphObjType : null;\n        var objData = hoverObj ? hoverObj.__data : null;\n\n        if (prevObjType && prevObjType !== objType) {\n          // Hover out\n          state[\"on\".concat(prevObjType === 'node' ? 'Node' : 'Link', \"Hover\")](null, prevObjData);\n        }\n\n        if (objType) {\n          // Hover in\n          state[\"on\".concat(objType === 'node' ? 'Node' : 'Link', \"Hover\")](objData, prevObjType === objType ? prevObjData : null);\n        }\n\n        state.hoverObj = hoverObj;\n      }\n    }).onClick(function (obj, ev) {\n      // Handle click events on objects\n      if (state.ignoreOneClick) {\n        // f.e. because of dragend event\n        state.ignoreOneClick = false;\n        return;\n      }\n\n      var graphObj = getGraphObj(obj);\n\n      if (graphObj) {\n        state[\"on\".concat(graphObj.__graphObjType === 'node' ? 'Node' : 'Link', \"Click\")](graphObj.__data, ev);\n      } else {\n        state.onBackgroundClick(ev);\n      }\n    }).onRightClick(function (obj, ev) {\n      // Handle right-click events\n      var graphObj = getGraphObj(obj);\n\n      if (graphObj) {\n        state[\"on\".concat(graphObj.__graphObjType === 'node' ? 'Node' : 'Link', \"RightClick\")](graphObj.__data, ev);\n      } else {\n        state.onBackgroundRightClick(ev);\n      }\n    }); //\n    // Kick-off renderer\n\n    this._animationCycle();\n  }\n});\n\nexport default _3dForceGraph;","export default function (x) {\n  return function () {\n    return x;\n  };\n}","export default function DragEvent(target, type, subject, id, active, x, y, dx, dy, dispatch) {\n  this.target = target;\n  this.type = type;\n  this.subject = subject;\n  this.identifier = id;\n  this.active = active;\n  this.x = x;\n  this.y = y;\n  this.dx = dx;\n  this.dy = dy;\n  this._ = dispatch;\n}\n\nDragEvent.prototype.on = function () {\n  var value = this._.on.apply(this._, arguments);\n\n  return value === this._ ? this : value;\n};","import \"core-js/modules/es6.array.filter\";\nimport { dispatch } from \"d3-dispatch\";\nimport { event, customEvent, select, mouse, touch } from \"d3-selection\";\nimport nodrag, { yesdrag } from \"./nodrag.js\";\nimport noevent, { nopropagation } from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\"; // Ignore right-click, since that should open the context menu.\n\nfunction defaultFilter() {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(d) {\n  return d == null ? {\n    x: event.x,\n    y: event.y\n  } : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || \"ontouchstart\" in this;\n}\n\nexport default function () {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection.on(\"mousedown.drag\", mousedowned).filter(touchable).on(\"touchstart.drag\", touchstarted).on(\"touchmove.drag\", touchmoved).on(\"touchend.drag touchcancel.drag\", touchended).style(\"touch-action\", \"none\").style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var gesture = beforestart(\"mouse\", container.apply(this, arguments), mouse, this, arguments);\n    if (!gesture) return;\n    select(event.view).on(\"mousemove.drag\", mousemoved, true).on(\"mouseup.drag\", mouseupped, true);\n    nodrag(event.view);\n    nopropagation();\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\");\n  }\n\n  function mousemoved() {\n    noevent();\n\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx,\n          dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n\n    gestures.mouse(\"drag\");\n  }\n\n  function mouseupped() {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent();\n    gestures.mouse(\"end\");\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.changedTouches,\n        c = container.apply(this, arguments),\n        n = touches.length,\n        i,\n        gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(touches[i].identifier, c, touch, this, arguments)) {\n        nopropagation();\n        gesture(\"start\");\n      }\n    }\n  }\n\n  function touchmoved() {\n    var touches = event.changedTouches,\n        n = touches.length,\n        i,\n        gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent();\n        gesture(\"drag\");\n      }\n    }\n  }\n\n  function touchended() {\n    var touches = event.changedTouches,\n        n = touches.length,\n        i,\n        gesture;\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function () {\n      touchending = null;\n    }, 500); // Ghost clicks are delayed!\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation();\n        gesture(\"end\");\n      }\n    }\n  }\n\n  function beforestart(id, container, point, that, args) {\n    var p = point(container, id),\n        s,\n        dx,\n        dy,\n        sublisteners = listeners.copy();\n    if (!customEvent(new DragEvent(drag, \"beforestart\", s, id, active, p[0], p[1], 0, 0, sublisteners), function () {\n      if ((event.subject = s = subject.apply(that, args)) == null) return false;\n      dx = s.x - p[0] || 0;\n      dy = s.y - p[1] || 0;\n      return true;\n    })) return;\n    return function gesture(type) {\n      var p0 = p,\n          n;\n\n      switch (type) {\n        case \"start\":\n          gestures[id] = gesture, n = active++;\n          break;\n\n        case \"end\":\n          delete gestures[id], --active;\n        // nobreak\n\n        case \"drag\":\n          p = point(container, id), n = active;\n          break;\n      }\n\n      customEvent(new DragEvent(drag, type, s, id, n, p[0] + dx, p[1] + dy, p[0] - p0[0], p[1] - p0[1], sublisteners), sublisteners.apply, sublisteners, [type, that, args]);\n    };\n  }\n\n  drag.filter = function (_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function (_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function (_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function (_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function () {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function (_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}","import \"core-js/modules/es7.string.pad-start\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.object.define-property\";\nimport tinyColor from 'tinycolor2';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nvar ENTROPY = 123; // Raise numbers to prevent collisions in lower indexes\n\nvar int2HexColor = function int2HexColor(num) {\n  return \"#\".concat(Math.min(num, Math.pow(2, 24)).toString(16).padStart(6, '0'));\n};\n\nvar rgb2Int = function rgb2Int(r, g, b) {\n  return (r << 16) + (g << 8) + b;\n};\n\nvar colorStr2Int = function colorStr2Int(str) {\n  var _tinyColor$toRgb = tinyColor(str).toRgb(),\n      r = _tinyColor$toRgb.r,\n      g = _tinyColor$toRgb.g,\n      b = _tinyColor$toRgb.b;\n\n  return rgb2Int(r, g, b);\n};\n\nvar checksum = function checksum(n, csBits) {\n  return n * ENTROPY % Math.pow(2, csBits);\n};\n\nvar _default = /*#__PURE__*/function () {\n  function _default() {\n    var csBits = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 6;\n\n    _classCallCheck(this, _default);\n\n    this.csBits = csBits; // How many bits to reserve for checksum. Will eat away into the usable size of the registry.\n\n    this.registry = ['__reserved for background__']; // indexed objects for rgb lookup;\n  }\n\n  _createClass(_default, [{\n    key: \"register\",\n    value: function register(obj) {\n      if (this.registry.length >= Math.pow(2, 24 - this.csBits)) {\n        // color has 24 bits (-checksum)\n        return null; // Registry is full\n      }\n\n      var idx = this.registry.length;\n      var cs = checksum(idx, this.csBits);\n      var color = int2HexColor(idx + (cs << 24 - this.csBits));\n      this.registry.push(obj);\n      return color;\n    }\n  }, {\n    key: \"lookup\",\n    value: function lookup(color) {\n      var n = typeof color === 'string' ? colorStr2Int(color) : rgb2Int.apply(void 0, _toConsumableArray(color));\n      if (!n) return null; // 0 index is reserved for background\n\n      var idx = n & Math.pow(2, 24 - this.csBits) - 1; // registry index\n\n      var cs = n >> 24 - this.csBits & Math.pow(2, this.csBits) - 1; // extract bits reserved for checksum\n\n      if (checksum(idx, this.csBits) !== cs || idx >= this.registry.length) return null; // failed checksum or registry out of bounds\n\n      return this.registry[idx];\n    }\n  }]);\n\n  return _default;\n}();\n\nexport default _default;","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0:\n      break;\n\n    case 1:\n      this.range(domain);\n      break;\n\n    default:\n      this.range(range).domain(domain);\n      break;\n  }\n\n  return this;\n}\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0:\n      break;\n\n    case 1:\n      {\n        if (typeof domain === \"function\") this.interpolator(domain);else this.range(domain);\n        break;\n      }\n\n    default:\n      {\n        this.domain(domain);\n        if (typeof interpolator === \"function\") this.interpolator(interpolator);else this.range(interpolator);\n        break;\n      }\n  }\n\n  return this;\n}","import \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.map\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\n\nfunction _createForOfIteratorHelper(o) { if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) { var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var it, normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(n); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { initRange } from \"./init.js\";\nexport var implicit = Symbol(\"implicit\");\nexport default function ordinal() {\n  var index = new Map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\",\n        i = index.get(key);\n\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function (_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new Map();\n\n    var _iterator = _createForOfIteratorHelper(_),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var value = _step.value;\n        var key = value + \"\";\n        if (index.has(key)) continue;\n        index.set(key, domain.push(value));\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    return scale;\n  };\n\n  scale.range = function (_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function (_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function () {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n  return scale;\n}","import \"core-js/modules/es6.math.cbrt\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es7.object.entries\";\nimport \"core-js/modules/es6.array.fill\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es7.object.values\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport \"core-js/modules/es6.object.set-prototype-of\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport { select, event } from 'd3-selection';\nimport { zoomTransform, zoom } from 'd3-zoom';\nimport { drag } from 'd3-drag';\nimport throttle from 'lodash.throttle';\nimport TWEEN from '@tweenjs/tween.js';\nimport Kapsule from 'kapsule';\nimport accessorFn from 'accessor-fn';\nimport ColorTracker from 'canvas-color-tracker';\nimport { forceSimulation, forceLink, forceManyBody, forceCenter, forceRadial } from 'd3-force-3d';\nimport Bezier from 'bezier-js';\nimport indexBy from 'index-array-by';\nimport { scaleOrdinal } from 'd3-scale';\nimport { schemePaired } from 'd3-scale-chromatic';\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".graph-tooltip {\\n  position: absolute;\\n  transform: translate(-50%, 25px);\\n  font-family: sans-serif;\\n  font-size: 16px;\\n  padding: 4px;\\n  border-radius: 3px;\\n  color: #eee;\\n  background: rgba(0,0,0,0.65);\\n  visibility: hidden; /* by default */\\n}\\n\\n.grabbable {\\n  cursor: move;\\n  cursor: grab;\\n  cursor: -moz-grab;\\n  cursor: -webkit-grab;\\n}\\n\\n.grabbable:active {\\n  cursor: grabbing;\\n  cursor: -moz-grabbing;\\n  cursor: -webkit-grabbing;\\n}\\n\";\nstyleInject(css_248z);\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar autoColorScale = scaleOrdinal(schemePaired); // Autoset attribute colorField by colorByAccessor property\n// If an object has already a color, don't set it\n// Objects can be nodes or links\n\nfunction autoColorObjects(objects, colorByAccessor, colorField) {\n  if (!colorByAccessor || typeof colorField !== 'string') return;\n  objects.filter(function (obj) {\n    return !obj[colorField];\n  }).forEach(function (obj) {\n    obj[colorField] = autoColorScale(colorByAccessor(obj));\n  });\n}\n\nfunction getDagDepths(_ref, idAccessor) {\n  var nodes = _ref.nodes,\n      links = _ref.links; // linked graph\n\n  var graph = {};\n  nodes.forEach(function (node) {\n    return graph[idAccessor(node)] = {\n      data: node,\n      out: [],\n      depth: -1\n    };\n  });\n  links.forEach(function (_ref2) {\n    var source = _ref2.source,\n        target = _ref2.target;\n    var sourceId = getNodeId(source);\n    var targetId = getNodeId(target);\n    if (!graph.hasOwnProperty(sourceId)) throw \"Missing source node with id: \".concat(sourceId);\n    if (!graph.hasOwnProperty(targetId)) throw \"Missing target node with id: \".concat(targetId);\n    var sourceNode = graph[sourceId];\n    var targetNode = graph[targetId];\n    sourceNode.out.push(targetNode);\n\n    function getNodeId(node) {\n      return _typeof(node) === 'object' ? idAccessor(node) : node;\n    }\n  });\n  traverse(Object.values(graph)); // cleanup\n\n  Object.keys(graph).forEach(function (id) {\n    return graph[id] = graph[id].depth;\n  });\n  return graph;\n\n  function traverse(nodes) {\n    var nodeStack = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    var currentDepth = nodeStack.length;\n\n    for (var i = 0, l = nodes.length; i < l; i++) {\n      var node = nodes[i];\n\n      if (nodeStack.indexOf(node) !== -1) {\n        var loop = [].concat(_toConsumableArray(nodeStack.slice(nodeStack.indexOf(node))), [node]).map(function (d) {\n          return idAccessor(d.data);\n        });\n        throw \"Invalid DAG structure! Found cycle in node path: \".concat(loop.join(' -> '), \".\");\n      }\n\n      if (currentDepth > node.depth) {\n        // Don't unnecessarily revisit chunks of the graph\n        node.depth = currentDepth;\n        traverse(node.out, [].concat(_toConsumableArray(nodeStack), [node]));\n      }\n    }\n  }\n}\n\nvar DAG_LEVEL_NODE_RATIO = 2;\nvar CanvasForceGraph = Kapsule({\n  props: {\n    graphData: {\n      \"default\": {\n        nodes: [],\n        links: []\n      },\n      onChange: function onChange(_, state) {\n        state.engineRunning = false;\n      } // Pause simulation\n\n    },\n    dagMode: {\n      onChange: function onChange(dagMode, state) {\n        // td, bu, lr, rl, radialin, radialout\n        !dagMode && (state.graphData.nodes || []).forEach(function (n) {\n          return n.fx = n.fy = undefined;\n        }); // unfix nodes when disabling dag mode\n      }\n    },\n    dagLevelDistance: {},\n    nodeRelSize: {\n      \"default\": 4,\n      triggerUpdate: false\n    },\n    // area per val unit\n    nodeId: {\n      \"default\": 'id'\n    },\n    nodeVal: {\n      \"default\": 'val',\n      triggerUpdate: false\n    },\n    nodeColor: {\n      \"default\": 'color',\n      triggerUpdate: false\n    },\n    nodeAutoColorBy: {},\n    nodeCanvasObject: {\n      triggerUpdate: false\n    },\n    nodeCanvasObjectMode: {\n      \"default\": function _default() {\n        return 'replace';\n      },\n      triggerUpdate: false\n    },\n    nodeVisibility: {\n      \"default\": true,\n      triggerUpdate: false\n    },\n    linkSource: {\n      \"default\": 'source'\n    },\n    linkTarget: {\n      \"default\": 'target'\n    },\n    linkVisibility: {\n      \"default\": true,\n      triggerUpdate: false\n    },\n    linkColor: {\n      \"default\": 'color',\n      triggerUpdate: false\n    },\n    linkAutoColorBy: {},\n    linkLineDash: {\n      triggerUpdate: false\n    },\n    linkWidth: {\n      \"default\": 1,\n      triggerUpdate: false\n    },\n    linkCurvature: {\n      \"default\": 0,\n      triggerUpdate: false\n    },\n    linkCanvasObject: {\n      triggerUpdate: false\n    },\n    linkCanvasObjectMode: {\n      \"default\": function _default() {\n        return 'replace';\n      },\n      triggerUpdate: false\n    },\n    linkDirectionalArrowLength: {\n      \"default\": 0,\n      triggerUpdate: false\n    },\n    linkDirectionalArrowColor: {\n      triggerUpdate: false\n    },\n    linkDirectionalArrowRelPos: {\n      \"default\": 0.5,\n      triggerUpdate: false\n    },\n    // value between 0<>1 indicating the relative pos along the (exposed) line\n    linkDirectionalParticles: {\n      \"default\": 0\n    },\n    // animate photons travelling in the link direction\n    linkDirectionalParticleSpeed: {\n      \"default\": 0.01,\n      triggerUpdate: false\n    },\n    // in link length ratio per frame\n    linkDirectionalParticleWidth: {\n      \"default\": 4,\n      triggerUpdate: false\n    },\n    linkDirectionalParticleColor: {\n      triggerUpdate: false\n    },\n    globalScale: {\n      \"default\": 1,\n      triggerUpdate: false\n    },\n    d3AlphaMin: {\n      \"default\": 0,\n      triggerUpdate: false\n    },\n    d3AlphaDecay: {\n      \"default\": 0.0228,\n      triggerUpdate: false,\n      onChange: function onChange(alphaDecay, state) {\n        state.forceLayout.alphaDecay(alphaDecay);\n      }\n    },\n    d3AlphaTarget: {\n      \"default\": 0,\n      triggerUpdate: false,\n      onChange: function onChange(alphaTarget, state) {\n        state.forceLayout.alphaTarget(alphaTarget);\n      }\n    },\n    d3VelocityDecay: {\n      \"default\": 0.4,\n      triggerUpdate: false,\n      onChange: function onChange(velocityDecay, state) {\n        state.forceLayout.velocityDecay(velocityDecay);\n      }\n    },\n    warmupTicks: {\n      \"default\": 0,\n      triggerUpdate: false\n    },\n    // how many times to tick the force engine at init before starting to render\n    cooldownTicks: {\n      \"default\": Infinity,\n      triggerUpdate: false\n    },\n    cooldownTime: {\n      \"default\": 15000,\n      triggerUpdate: false\n    },\n    // ms\n    onUpdate: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onFinishUpdate: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onEngineTick: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onEngineStop: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    isShadow: {\n      \"default\": false,\n      triggerUpdate: false\n    }\n  },\n  methods: {\n    // Expose d3 forces for external manipulation\n    d3Force: function d3Force(state, forceName, forceFn) {\n      if (forceFn === undefined) {\n        return state.forceLayout.force(forceName); // Force getter\n      }\n\n      state.forceLayout.force(forceName, forceFn); // Force setter\n\n      return this;\n    },\n    d3ReheatSimulation: function d3ReheatSimulation(state) {\n      state.forceLayout.alpha(1);\n      this.resetCountdown();\n      return this;\n    },\n    // reset cooldown state\n    resetCountdown: function resetCountdown(state) {\n      state.cntTicks = 0;\n      state.startTickTime = new Date();\n      state.engineRunning = true;\n      return this;\n    },\n    tickFrame: function tickFrame(state) {\n      !state.isShadow && layoutTick();\n      paintLinks();\n      !state.isShadow && paintArrows();\n      !state.isShadow && paintPhotons();\n      paintNodes();\n      return this; //\n\n      function layoutTick() {\n        if (state.engineRunning) {\n          if (++state.cntTicks > state.cooldownTicks || new Date() - state.startTickTime > state.cooldownTime || state.d3AlphaMin > 0 && state.forceLayout.alpha() < state.d3AlphaMin) {\n            state.engineRunning = false; // Stop ticking graph\n\n            state.onEngineStop();\n          } else {\n            state.forceLayout.tick(); // Tick it\n\n            state.onEngineTick();\n          }\n        }\n      }\n\n      function paintNodes() {\n        var getVisibility = accessorFn(state.nodeVisibility);\n        var getVal = accessorFn(state.nodeVal);\n        var getColor = accessorFn(state.nodeColor);\n        var getNodeCanvasObjectMode = accessorFn(state.nodeCanvasObjectMode);\n        var ctx = state.ctx; // Draw wider nodes by 1px on shadow canvas for more precise hovering (due to boundary anti-aliasing)\n\n        var padAmount = state.isShadow / state.globalScale;\n        var visibleNodes = state.graphData.nodes.filter(getVisibility);\n        ctx.save();\n        visibleNodes.forEach(function (node) {\n          var nodeCanvasObjectMode = getNodeCanvasObjectMode(node);\n\n          if (state.nodeCanvasObject && (nodeCanvasObjectMode === 'before' || nodeCanvasObjectMode === 'replace')) {\n            // Custom node before/replace paint\n            state.nodeCanvasObject(node, ctx, state.globalScale, state.isShadow);\n\n            if (nodeCanvasObjectMode === 'replace') {\n              ctx.restore();\n              return;\n            }\n          } // Draw wider nodes by 1px on shadow canvas for more precise hovering (due to boundary anti-aliasing)\n\n\n          var r = Math.sqrt(Math.max(0, getVal(node) || 1)) * state.nodeRelSize + padAmount;\n          ctx.beginPath();\n          ctx.arc(node.x, node.y, r, 0, 2 * Math.PI, false);\n          ctx.fillStyle = getColor(node) || 'rgba(31, 120, 180, 0.92)';\n          ctx.fill();\n\n          if (state.nodeCanvasObject && nodeCanvasObjectMode === 'after') {\n            // Custom node after paint\n            state.nodeCanvasObject(node, state.ctx, state.globalScale);\n          }\n        });\n        ctx.restore();\n      }\n\n      function paintLinks() {\n        var getVisibility = accessorFn(state.linkVisibility);\n        var getColor = accessorFn(state.linkColor);\n        var getWidth = accessorFn(state.linkWidth);\n        var getLineDash = accessorFn(state.linkLineDash);\n        var getCurvature = accessorFn(state.linkCurvature);\n        var getLinkCanvasObjectMode = accessorFn(state.linkCanvasObjectMode);\n        var ctx = state.ctx; // Draw wider lines by 2px on shadow canvas for more precise hovering (due to boundary anti-aliasing)\n\n        var padAmount = state.isShadow * 2;\n        var visibleLinks = state.graphData.links.filter(getVisibility);\n        visibleLinks.forEach(calcLinkControlPoints); // calculate curvature control points for all visible links\n\n        var beforeCustomLinks = [],\n            afterCustomLinks = [],\n            defaultPaintLinks = visibleLinks;\n\n        if (state.linkCanvasObject) {\n          var replaceCustomLinks = [],\n              otherCustomLinks = [];\n          visibleLinks.forEach(function (d) {\n            return ({\n              before: beforeCustomLinks,\n              after: afterCustomLinks,\n              replace: replaceCustomLinks\n            }[getLinkCanvasObjectMode(d)] || otherCustomLinks).push(d);\n          });\n          defaultPaintLinks = [].concat(_toConsumableArray(beforeCustomLinks), afterCustomLinks, otherCustomLinks);\n          beforeCustomLinks = beforeCustomLinks.concat(replaceCustomLinks);\n        } // Custom link before paints\n\n\n        ctx.save();\n        beforeCustomLinks.forEach(function (link) {\n          return state.linkCanvasObject(link, ctx, state.globalScale);\n        });\n        ctx.restore(); // Bundle strokes per unique color/width/dash for performance optimization\n\n        var linksPerColor = indexBy(defaultPaintLinks, [getColor, getWidth, getLineDash]);\n        ctx.save();\n        Object.entries(linksPerColor).forEach(function (_ref) {\n          var _ref2 = _slicedToArray(_ref, 2),\n              color = _ref2[0],\n              linksPerWidth = _ref2[1];\n\n          var lineColor = !color || color === 'undefined' ? 'rgba(0,0,0,0.15)' : color;\n          Object.entries(linksPerWidth).forEach(function (_ref3) {\n            var _ref4 = _slicedToArray(_ref3, 2),\n                width = _ref4[0],\n                linesPerLineDash = _ref4[1];\n\n            var lineWidth = (width || 1) / state.globalScale + padAmount;\n            Object.entries(linesPerLineDash).forEach(function (_ref5) {\n              var _ref6 = _slicedToArray(_ref5, 2),\n                  dashSegments = _ref6[0],\n                  links = _ref6[1];\n\n              var lineDashSegments = getLineDash(links[0]);\n              ctx.beginPath();\n              links.forEach(function (link) {\n                var start = link.source;\n                var end = link.target;\n                if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n                ctx.moveTo(start.x, start.y);\n                var controlPoints = link.__controlPoints;\n\n                if (!controlPoints) {\n                  // Straight line\n                  ctx.lineTo(end.x, end.y);\n                } else {\n                  // Use quadratic curves for regular lines and bezier for loops\n                  ctx[controlPoints.length === 2 ? 'quadraticCurveTo' : 'bezierCurveTo'].apply(ctx, _toConsumableArray(controlPoints).concat([end.x, end.y]));\n                }\n              });\n              ctx.strokeStyle = lineColor;\n              ctx.lineWidth = lineWidth;\n              ctx.setLineDash(lineDashSegments || []);\n              ctx.stroke();\n            });\n          });\n        });\n        ctx.restore(); // Custom link after paints\n\n        ctx.save();\n        afterCustomLinks.forEach(function (link) {\n          return state.linkCanvasObject(link, ctx, state.globalScale);\n        });\n        ctx.restore(); //\n\n        function calcLinkControlPoints(link) {\n          var curvature = getCurvature(link);\n\n          if (!curvature) {\n            // straight line\n            link.__controlPoints = null;\n            return;\n          }\n\n          var start = link.source;\n          var end = link.target;\n          if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n          var l = Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2)); // line length\n\n          if (l > 0) {\n            var a = Math.atan2(end.y - start.y, end.x - start.x); // line angle\n\n            var d = l * curvature; // control point distance\n\n            var cp = {\n              // control point\n              x: (start.x + end.x) / 2 + d * Math.cos(a - Math.PI / 2),\n              y: (start.y + end.y) / 2 + d * Math.sin(a - Math.PI / 2)\n            };\n            link.__controlPoints = [cp.x, cp.y];\n          } else {\n            // Same point, draw a loop\n            var _d = curvature * 70;\n\n            link.__controlPoints = [end.x, end.y - _d, end.x + _d, end.y];\n          }\n        }\n      }\n\n      function paintArrows() {\n        var ARROW_WH_RATIO = 1.6;\n        var ARROW_VLEN_RATIO = 0.2;\n        var getLength = accessorFn(state.linkDirectionalArrowLength);\n        var getRelPos = accessorFn(state.linkDirectionalArrowRelPos);\n        var getVisibility = accessorFn(state.linkVisibility);\n        var getColor = accessorFn(state.linkDirectionalArrowColor || state.linkColor);\n        var getNodeVal = accessorFn(state.nodeVal);\n        var ctx = state.ctx;\n        ctx.save();\n        state.graphData.links.filter(getVisibility).forEach(function (link) {\n          var arrowLength = getLength(link);\n          if (!arrowLength || arrowLength < 0) return;\n          var start = link.source;\n          var end = link.target;\n          if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n          var startR = Math.sqrt(Math.max(0, getNodeVal(start) || 1)) * state.nodeRelSize;\n          var endR = Math.sqrt(Math.max(0, getNodeVal(end) || 1)) * state.nodeRelSize;\n          var arrowRelPos = Math.min(1, Math.max(0, getRelPos(link)));\n          var arrowColor = getColor(link) || 'rgba(0,0,0,0.28)';\n          var arrowHalfWidth = arrowLength / ARROW_WH_RATIO / 2; // Construct bezier for curved lines\n\n          var bzLine = link.__controlPoints && _construct(Bezier, [start.x, start.y].concat(_toConsumableArray(link.__controlPoints), [end.x, end.y]));\n\n          var getCoordsAlongLine = bzLine ? function (t) {\n            return bzLine.get(t);\n          } // get position along bezier line\n          : function (t) {\n            return {\n              // straight line: interpolate linearly\n              x: start.x + (end.x - start.x) * t || 0,\n              y: start.y + (end.y - start.y) * t || 0\n            };\n          };\n          var lineLen = bzLine ? bzLine.length() : Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n          var posAlongLine = startR + arrowLength + (lineLen - startR - endR - arrowLength) * arrowRelPos;\n          var arrowHead = getCoordsAlongLine(posAlongLine / lineLen);\n          var arrowTail = getCoordsAlongLine((posAlongLine - arrowLength) / lineLen);\n          var arrowTailVertex = getCoordsAlongLine((posAlongLine - arrowLength * (1 - ARROW_VLEN_RATIO)) / lineLen);\n          var arrowTailAngle = Math.atan2(arrowHead.y - arrowTail.y, arrowHead.x - arrowTail.x) - Math.PI / 2;\n          ctx.beginPath();\n          ctx.moveTo(arrowHead.x, arrowHead.y);\n          ctx.lineTo(arrowTail.x + arrowHalfWidth * Math.cos(arrowTailAngle), arrowTail.y + arrowHalfWidth * Math.sin(arrowTailAngle));\n          ctx.lineTo(arrowTailVertex.x, arrowTailVertex.y);\n          ctx.lineTo(arrowTail.x - arrowHalfWidth * Math.cos(arrowTailAngle), arrowTail.y - arrowHalfWidth * Math.sin(arrowTailAngle));\n          ctx.fillStyle = arrowColor;\n          ctx.fill();\n        });\n        ctx.restore();\n      }\n\n      function paintPhotons() {\n        var getNumPhotons = accessorFn(state.linkDirectionalParticles);\n        var getSpeed = accessorFn(state.linkDirectionalParticleSpeed);\n        var getDiameter = accessorFn(state.linkDirectionalParticleWidth);\n        var getVisibility = accessorFn(state.linkVisibility);\n        var getColor = accessorFn(state.linkDirectionalParticleColor || state.linkColor);\n        var ctx = state.ctx;\n        ctx.save();\n        state.graphData.links.filter(getVisibility).forEach(function (link) {\n          var numCyclePhotons = getNumPhotons(link);\n          if (!link.hasOwnProperty('__photons') || !link.__photons.length) return;\n          var start = link.source;\n          var end = link.target;\n          if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n          var particleSpeed = getSpeed(link);\n          var photons = link.__photons || [];\n          var photonR = Math.max(0, getDiameter(link) / 2) / Math.sqrt(state.globalScale);\n          var photonColor = getColor(link) || 'rgba(0,0,0,0.28)';\n          ctx.fillStyle = photonColor; // Construct bezier for curved lines\n\n          var bzLine = link.__controlPoints ? _construct(Bezier, [start.x, start.y].concat(_toConsumableArray(link.__controlPoints), [end.x, end.y])) : null;\n          var cyclePhotonIdx = 0;\n          var needsCleanup = false; // whether some photons need to be removed from list\n\n          photons.forEach(function (photon) {\n            var singleHop = !!photon.__singleHop;\n\n            if (!photon.hasOwnProperty('__progressRatio')) {\n              photon.__progressRatio = singleHop ? 0 : cyclePhotonIdx / numCyclePhotons;\n            }\n\n            !singleHop && cyclePhotonIdx++; // increase regular photon index\n\n            photon.__progressRatio += particleSpeed;\n\n            if (photon.__progressRatio >= 1) {\n              if (!singleHop) {\n                photon.__progressRatio = photon.__progressRatio % 1;\n              } else {\n                needsCleanup = true;\n                return;\n              }\n            }\n\n            var photonPosRatio = photon.__progressRatio;\n            var coords = bzLine ? bzLine.get(photonPosRatio) // get position along bezier line\n            : {\n              // straight line: interpolate linearly\n              x: start.x + (end.x - start.x) * photonPosRatio || 0,\n              y: start.y + (end.y - start.y) * photonPosRatio || 0\n            };\n            ctx.beginPath();\n            ctx.arc(coords.x, coords.y, photonR, 0, 2 * Math.PI, false);\n            ctx.fill();\n          });\n\n          if (needsCleanup) {\n            // remove expired single hop photons\n            link.__photons = link.__photons.filter(function (photon) {\n              return !photon.__singleHop || photon.__progressRatio <= 1;\n            });\n          }\n        });\n        ctx.restore();\n      }\n    },\n    emitParticle: function emitParticle(state, link) {\n      if (link) {\n        !link.__photons && (link.__photons = []);\n\n        link.__photons.push({\n          __singleHop: true\n        }); // add a single hop particle\n\n      }\n\n      return this;\n    }\n  },\n  stateInit: function stateInit() {\n    return {\n      forceLayout: forceSimulation().force('link', forceLink()).force('charge', forceManyBody()).force('center', forceCenter()).force('dagRadial', null).stop(),\n      engineRunning: false\n    };\n  },\n  init: function init(canvasCtx, state) {\n    // Main canvas object to manipulate\n    state.ctx = canvasCtx;\n  },\n  update: function update(state) {\n    state.engineRunning = false; // Pause simulation\n\n    state.onUpdate();\n\n    if (state.nodeAutoColorBy !== null) {\n      // Auto add color to uncolored nodes\n      autoColorObjects(state.graphData.nodes, accessorFn(state.nodeAutoColorBy), state.nodeColor);\n    }\n\n    if (state.linkAutoColorBy !== null) {\n      // Auto add color to uncolored links\n      autoColorObjects(state.graphData.links, accessorFn(state.linkAutoColorBy), state.linkColor);\n    } // parse links\n\n\n    state.graphData.links.forEach(function (link) {\n      link.source = link[state.linkSource];\n      link.target = link[state.linkTarget];\n    });\n\n    if (!state.isShadow) {\n      // Add photon particles\n      var linkParticlesAccessor = accessorFn(state.linkDirectionalParticles);\n      state.graphData.links.forEach(function (link) {\n        var numPhotons = Math.round(Math.abs(linkParticlesAccessor(link)));\n\n        if (numPhotons) {\n          link.__photons = _toConsumableArray(Array(numPhotons)).map(function () {\n            return {};\n          });\n        } else {\n          delete link.__photons;\n        }\n      });\n    } // Feed data to force-directed layout\n\n\n    state.forceLayout.stop().alpha(1) // re-heat the simulation\n    .nodes(state.graphData.nodes); // add links (if link force is still active)\n\n    var linkForce = state.forceLayout.force('link');\n\n    if (linkForce) {\n      linkForce.id(function (d) {\n        return d[state.nodeId];\n      }).links(state.graphData.links);\n    } // setup dag force constraints\n\n\n    var nodeDepths = state.dagMode && getDagDepths(state.graphData, function (node) {\n      return node[state.nodeId];\n    });\n    var maxDepth = Math.max.apply(Math, _toConsumableArray(Object.values(nodeDepths || [])));\n    var dagLevelDistance = state.dagLevelDistance || state.graphData.nodes.length / (maxDepth || 1) * DAG_LEVEL_NODE_RATIO * (['radialin', 'radialout'].indexOf(state.dagMode) !== -1 ? 0.7 : 1); // Fix nodes to x,y for dag mode\n\n    if (state.dagMode) {\n      var getFFn = function getFFn(fix, invert) {\n        return function (node) {\n          return !fix ? undefined : (nodeDepths[node[state.nodeId]] - maxDepth / 2) * dagLevelDistance * (invert ? -1 : 1);\n        };\n      };\n\n      var fxFn = getFFn(['lr', 'rl'].indexOf(state.dagMode) !== -1, state.dagMode === 'rl');\n      var fyFn = getFFn(['td', 'bu'].indexOf(state.dagMode) !== -1, state.dagMode === 'bu');\n      state.graphData.nodes.forEach(function (node) {\n        node.fx = fxFn(node);\n        node.fy = fyFn(node);\n      });\n    } // Use radial force for radial dags\n\n\n    state.forceLayout.force('dagRadial', ['radialin', 'radialout'].indexOf(state.dagMode) !== -1 ? forceRadial(function (node) {\n      var nodeDepth = nodeDepths[node[state.nodeId]];\n      return (state.dagMode === 'radialin' ? maxDepth - nodeDepth : nodeDepth) * dagLevelDistance;\n    }).strength(1) : null);\n\n    for (var i = 0; i < state.warmupTicks && !(state.d3AlphaMin > 0 && state.forceLayout.alpha() < state.d3AlphaMin); i++) {\n      state.forceLayout.tick();\n    } // Initial ticks before starting to render\n\n\n    this.resetCountdown();\n    state.onFinishUpdate();\n  }\n});\n\nfunction linkKapsule(kapsulePropNames, kapsuleType) {\n  var propNames = kapsulePropNames instanceof Array ? kapsulePropNames : [kapsulePropNames];\n  var dummyK = new kapsuleType(); // To extract defaults\n\n  return {\n    linkProp: function linkProp(prop) {\n      // link property config\n      return {\n        \"default\": dummyK[prop](),\n        onChange: function onChange(v, state) {\n          propNames.forEach(function (propName) {\n            return state[propName][prop](v);\n          });\n        },\n        triggerUpdate: false\n      };\n    },\n    linkMethod: function linkMethod(method) {\n      // link method pass-through\n      return function (state) {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        var returnVals = [];\n        propNames.forEach(function (propName) {\n          var kapsuleInstance = state[propName];\n          var returnVal = kapsuleInstance[method].apply(kapsuleInstance, args);\n\n          if (returnVal !== kapsuleInstance) {\n            returnVals.push(returnVal);\n          }\n        });\n        return returnVals.length ? returnVals[0] : this; // chain based on the parent object, not the inner kapsule\n      };\n    }\n  };\n}\n\nvar HOVER_CANVAS_THROTTLE_DELAY = 800; // ms to throttle shadow canvas updates for perf improvement\n\nvar ZOOM2NODES_FACTOR = 4; // Expose config from forceGraph\n\nvar bindFG = linkKapsule('forceGraph', CanvasForceGraph);\nvar bindBoth = linkKapsule(['forceGraph', 'shadowGraph'], CanvasForceGraph);\nvar linkedProps = Object.assign.apply(Object, _toConsumableArray(['nodeColor', 'nodeAutoColorBy', 'nodeCanvasObject', 'nodeCanvasObjectMode', 'linkColor', 'linkAutoColorBy', 'linkLineDash', 'linkWidth', 'linkCanvasObject', 'linkCanvasObjectMode', 'linkDirectionalArrowLength', 'linkDirectionalArrowColor', 'linkDirectionalArrowRelPos', 'linkDirectionalParticles', 'linkDirectionalParticleSpeed', 'linkDirectionalParticleWidth', 'linkDirectionalParticleColor', 'dagMode', 'dagLevelDistance', 'd3AlphaMin', 'd3AlphaDecay', 'd3VelocityDecay', 'warmupTicks', 'cooldownTicks', 'cooldownTime', 'onEngineTick', 'onEngineStop'].map(function (p) {\n  return _defineProperty({}, p, bindFG.linkProp(p));\n})).concat(_toConsumableArray(['nodeRelSize', 'nodeId', 'nodeVal', 'nodeVisibility', 'linkSource', 'linkTarget', 'linkVisibility', 'linkCurvature'].map(function (p) {\n  return _defineProperty({}, p, bindBoth.linkProp(p));\n}))));\nvar linkedMethods = Object.assign.apply(Object, _toConsumableArray(['d3Force', 'd3ReheatSimulation', 'emitParticle'].map(function (p) {\n  return _defineProperty({}, p, bindFG.linkMethod(p));\n})));\n\nfunction adjustCanvasSize(state) {\n  if (state.canvas) {\n    var curWidth = state.canvas.width;\n    var curHeight = state.canvas.height;\n\n    if (curWidth === 300 && curHeight === 150) {\n      // Default canvas dimensions\n      curWidth = curHeight = 0;\n    }\n\n    var pxScale = window.devicePixelRatio; // 2 on retina displays\n\n    curWidth /= pxScale;\n    curHeight /= pxScale; // Resize canvases\n\n    [state.canvas, state.shadowCanvas].forEach(function (canvas) {\n      // Element size\n      canvas.style.width = \"\".concat(state.width, \"px\");\n      canvas.style.height = \"\".concat(state.height, \"px\"); // Memory size (scaled to avoid blurriness)\n\n      canvas.width = state.width * pxScale;\n      canvas.height = state.height * pxScale; // Normalize coordinate system to use css pixels (on init only)\n\n      if (!curWidth && !curHeight) {\n        canvas.getContext('2d').scale(pxScale, pxScale);\n      }\n    }); // Relative center panning based on 0,0\n\n    var k = zoomTransform(state.canvas).k;\n    state.zoom.translateBy(state.zoom.__baseElem, (state.width - curWidth) / 2 / k, (state.height - curHeight) / 2 / k);\n  }\n}\n\nfunction resetTransform(ctx) {\n  var pxRatio = window.devicePixelRatio;\n  ctx.setTransform(pxRatio, 0, 0, pxRatio, 0, 0);\n}\n\nfunction clearCanvas(ctx, width, height) {\n  ctx.save();\n  resetTransform(ctx); // reset transform\n\n  ctx.clearRect(0, 0, width, height);\n  ctx.restore(); //restore transforms\n} //\n\n\nvar forceGraph = Kapsule({\n  props: _objectSpread2({\n    width: {\n      \"default\": window.innerWidth,\n      onChange: function onChange(_, state) {\n        return adjustCanvasSize(state);\n      },\n      triggerUpdate: false\n    },\n    height: {\n      \"default\": window.innerHeight,\n      onChange: function onChange(_, state) {\n        return adjustCanvasSize(state);\n      },\n      triggerUpdate: false\n    },\n    graphData: {\n      \"default\": {\n        nodes: [],\n        links: []\n      },\n      onChange: function onChange(d, state) {\n        if (d.nodes.length || d.links.length) {\n          console.info('force-graph loading', d.nodes.length + ' nodes', d.links.length + ' links');\n        }\n\n        [{\n          type: 'Node',\n          objs: d.nodes\n        }, {\n          type: 'Link',\n          objs: d.links\n        }].forEach(hexIndex);\n        state.forceGraph.graphData(d);\n        state.shadowGraph.graphData(d);\n\n        function hexIndex(_ref4) {\n          var type = _ref4.type,\n              objs = _ref4.objs;\n          objs.filter(function (d) {\n            if (!d.hasOwnProperty('__indexColor')) return true;\n            var cur = state.colorTracker.lookup(d.__indexColor);\n            return !cur || !cur.hasOwnProperty('d') || cur.d !== d;\n          }).forEach(function (d) {\n            // store object lookup color\n            d.__indexColor = state.colorTracker.register({\n              type: type,\n              d: d\n            });\n          });\n        }\n      },\n      triggerUpdate: false\n    },\n    backgroundColor: {\n      onChange: function onChange(color, state) {\n        state.canvas && color && (state.canvas.style.background = color);\n      },\n      triggerUpdate: false\n    },\n    nodeLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    linkLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    linkHoverPrecision: {\n      \"default\": 4,\n      triggerUpdate: false\n    },\n    enableNodeDrag: {\n      \"default\": true,\n      triggerUpdate: false\n    },\n    enableZoomPanInteraction: {\n      \"default\": true,\n      triggerUpdate: false\n    },\n    enablePointerInteraction: {\n      \"default\": true,\n      onChange: function onChange(_, state) {\n        state.hoverObj = null;\n      },\n      triggerUpdate: false\n    },\n    onNodeDrag: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onNodeDragEnd: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onNodeClick: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onNodeRightClick: {\n      triggerUpdate: false\n    },\n    onNodeHover: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onLinkClick: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onLinkRightClick: {\n      triggerUpdate: false\n    },\n    onLinkHover: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onBackgroundClick: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onBackgroundRightClick: {\n      triggerUpdate: false\n    },\n    onZoom: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onZoomEnd: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    }\n  }, linkedProps),\n  aliases: {\n    // Prop names supported for backwards compatibility\n    stopAnimation: 'pauseAnimation'\n  },\n  methods: _objectSpread2({\n    graph2ScreenCoords: function graph2ScreenCoords(state, x, y) {\n      var t = zoomTransform(state.canvas);\n      return {\n        x: x * t.k + t.x,\n        y: y * t.k + t.y\n      };\n    },\n    screen2GraphCoords: function screen2GraphCoords(state, x, y) {\n      var t = zoomTransform(state.canvas);\n      return {\n        x: (x - t.x) / t.k,\n        y: (y - t.y) / t.k\n      };\n    },\n    centerAt: function centerAt(state, x, y, transitionDuration) {\n      if (!state.canvas) return null; // no canvas yet\n      // setter\n\n      if (x !== undefined || y !== undefined) {\n        var finalPos = Object.assign({}, x !== undefined ? {\n          x: x\n        } : {}, y !== undefined ? {\n          y: y\n        } : {});\n\n        if (!transitionDuration) {\n          // no animation\n          setCenter(finalPos);\n        } else {\n          new TWEEN.Tween(getCenter()).to(finalPos, transitionDuration).easing(TWEEN.Easing.Quadratic.Out).onUpdate(setCenter).start();\n        }\n\n        return this;\n      } // getter\n\n\n      return getCenter(); //\n\n      function getCenter() {\n        var t = zoomTransform(state.canvas);\n        return {\n          x: (state.width / 2 - t.x) / t.k,\n          y: (state.height / 2 - t.y) / t.k\n        };\n      }\n\n      function setCenter(_ref5) {\n        var x = _ref5.x,\n            y = _ref5.y;\n        state.zoom.translateTo(state.zoom.__baseElem, x === undefined ? getCenter().x : x, y === undefined ? getCenter().y : y);\n      }\n    },\n    zoom: function zoom(state, k, transitionDuration) {\n      if (!state.canvas) return null; // no canvas yet\n      // setter\n\n      if (k !== undefined) {\n        if (!transitionDuration) {\n          // no animation\n          setZoom(k);\n        } else {\n          new TWEEN.Tween({\n            k: getZoom()\n          }).to({\n            k: k\n          }, transitionDuration).easing(TWEEN.Easing.Quadratic.Out).onUpdate(function (_ref6) {\n            var k = _ref6.k;\n            return setZoom(k);\n          }).start();\n        }\n\n        return this;\n      } // getter\n\n\n      return getZoom(); //\n\n      function getZoom() {\n        return zoomTransform(state.canvas).k;\n      }\n\n      function setZoom(k) {\n        state.zoom.scaleTo(state.zoom.__baseElem, k);\n      }\n    },\n    pauseAnimation: function pauseAnimation(state) {\n      if (state.animationFrameRequestId) {\n        cancelAnimationFrame(state.animationFrameRequestId);\n        state.animationFrameRequestId = null;\n      }\n\n      return this;\n    },\n    resumeAnimation: function resumeAnimation(state) {\n      if (!state.animationFrameRequestId) {\n        this._animationCycle();\n      }\n\n      return this;\n    },\n    _destructor: function _destructor() {\n      this.pauseAnimation();\n      this.graphData({\n        nodes: [],\n        links: []\n      });\n    }\n  }, linkedMethods),\n  stateInit: function stateInit() {\n    return {\n      lastSetZoom: 1,\n      forceGraph: new CanvasForceGraph(),\n      shadowGraph: new CanvasForceGraph().cooldownTicks(0).nodeColor('__indexColor').linkColor('__indexColor').isShadow(true),\n      colorTracker: new ColorTracker() // indexed objects for rgb lookup\n\n    };\n  },\n  init: function init(domNode, state) {\n    // Wipe DOM\n    domNode.innerHTML = ''; // Container anchor for canvas and tooltip\n\n    var container = document.createElement('div');\n    container.style.position = 'relative';\n    domNode.appendChild(container);\n    state.canvas = document.createElement('canvas');\n    if (state.backgroundColor) state.canvas.style.background = state.backgroundColor;\n    container.appendChild(state.canvas);\n    state.shadowCanvas = document.createElement('canvas'); // Show shadow canvas\n    //state.shadowCanvas.style.position = 'absolute';\n    //state.shadowCanvas.style.top = '0';\n    //state.shadowCanvas.style.left = '0';\n    //container.appendChild(state.shadowCanvas);\n\n    var ctx = state.canvas.getContext('2d');\n    var shadowCtx = state.shadowCanvas.getContext('2d'); // Setup node drag interaction\n\n    select(state.canvas).call(drag().subject(function () {\n      if (!state.enableNodeDrag) {\n        return null;\n      }\n\n      var obj = state.hoverObj;\n      return obj && obj.type === 'Node' ? obj.d : null; // Only drag nodes\n    }).on('start', function () {\n      var obj = event.subject;\n      obj.__initialDragPos = {\n        x: obj.x,\n        y: obj.y,\n        fx: obj.fx,\n        fy: obj.fy\n      }; // keep engine running at low intensity throughout drag\n\n      if (!event.active) {\n        obj.fx = obj.x;\n        obj.fy = obj.y; // Fix points\n      } // drag cursor\n\n\n      state.canvas.classList.add('grabbable');\n    }).on('drag', function () {\n      var obj = event.subject;\n      var initPos = obj.__initialDragPos;\n      var dragPos = event;\n      var k = zoomTransform(state.canvas).k;\n      var translate = {\n        x: initPos.x + (dragPos.x - initPos.x) / k - obj.x,\n        y: initPos.y + (dragPos.y - initPos.y) / k - obj.y\n      }; // Move fx/fy (and x/y) of nodes based on the scaled drag distance since the drag start\n\n      ['x', 'y'].forEach(function (c) {\n        return obj[\"f\".concat(c)] = obj[c] = initPos[c] + (dragPos[c] - initPos[c]) / k;\n      }); // prevent freeze while dragging\n\n      state.forceGraph.d3AlphaTarget(0.3) // keep engine running at low intensity throughout drag\n      .resetCountdown(); // prevent freeze while dragging\n\n      obj.__dragged = true;\n      state.onNodeDrag(obj, translate);\n    }).on('end', function () {\n      var obj = event.subject;\n      var initPos = obj.__initialDragPos;\n      var translate = {\n        x: obj.x - initPos.x,\n        y: obj.y - initPos.y\n      };\n\n      if (initPos.fx === undefined) {\n        obj.fx = undefined;\n      }\n\n      if (initPos.fy === undefined) {\n        obj.fy = undefined;\n      }\n\n      delete obj.__initialDragPos;\n      state.forceGraph.d3AlphaTarget(0) // release engine low intensity\n      .resetCountdown(); // let the engine readjust after releasing fixed nodes\n      // drag cursor\n\n      state.canvas.classList.remove('grabbable');\n\n      if (obj.__dragged) {\n        delete obj.__dragged;\n        state.onNodeDragEnd(obj, translate);\n      }\n    })); // Setup zoom / pan interaction\n\n    state.zoom = zoom();\n    state.zoom(state.zoom.__baseElem = select(state.canvas)); // Attach controlling elem for easy access\n\n    state.zoom.__baseElem.on('dblclick.zoom', null); // Disable double-click to zoom\n\n\n    state.zoom.filter(function () {\n      return state.enableZoomPanInteraction ? !event.button : false;\n    }) // disable zoom interaction\n    .scaleExtent([0.01, 1000]).on('zoom', function () {\n      var t = zoomTransform(this); // Same as d3.event.transform\n\n      [ctx, shadowCtx].forEach(function (c) {\n        resetTransform(c);\n        c.translate(t.x, t.y);\n        c.scale(t.k, t.k);\n      });\n      state.onZoom(_objectSpread2({}, t));\n    }).on('end', function () {\n      var t = zoomTransform(this); // Same as d3.event.transform\n\n      state.onZoomEnd(_objectSpread2({}, t));\n    });\n    adjustCanvasSize(state);\n    state.forceGraph.onFinishUpdate(function () {\n      // re-zoom, if still in default position (not user modified)\n      if (zoomTransform(state.canvas).k === state.lastSetZoom && state.graphData.nodes.length) {\n        state.zoom.scaleTo(state.zoom.__baseElem, state.lastSetZoom = ZOOM2NODES_FACTOR / Math.cbrt(state.graphData.nodes.length));\n      }\n    }); // Setup tooltip\n\n    var toolTipElem = document.createElement('div');\n    toolTipElem.classList.add('graph-tooltip');\n    container.appendChild(toolTipElem); // Capture mouse coords on move\n\n    var mousePos = {\n      x: -1e12,\n      y: -1e12\n    };\n    state.canvas.addEventListener('mousemove', function (ev) {\n      // update the mouse pos\n      var offset = getOffset(container);\n      mousePos.x = ev.pageX - offset.left;\n      mousePos.y = ev.pageY - offset.top; // Move tooltip\n\n      toolTipElem.style.top = \"\".concat(mousePos.y, \"px\");\n      toolTipElem.style.left = \"\".concat(mousePos.x, \"px\"); //\n\n      function getOffset(el) {\n        var rect = el.getBoundingClientRect(),\n            scrollLeft = window.pageXOffset || document.documentElement.scrollLeft,\n            scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n        return {\n          top: rect.top + scrollTop,\n          left: rect.left + scrollLeft\n        };\n      }\n    }, false); // Handle click events on nodes/links\n\n    container.addEventListener('click', function (ev) {\n      if (state.hoverObj) {\n        state[\"on\".concat(state.hoverObj.type, \"Click\")](state.hoverObj.d, ev);\n      } else {\n        state.onBackgroundClick(ev);\n      }\n    }, false); // Handle right-click events\n\n    container.addEventListener('contextmenu', function (ev) {\n      if (!state.onBackgroundRightClick && !state.onNodeRightClick && !state.onLinkRightClick) return true; // default contextmenu behavior\n\n      ev.preventDefault();\n\n      if (state.hoverObj) {\n        var fn = state[\"on\".concat(state.hoverObj.type, \"RightClick\")];\n        fn && fn(state.hoverObj.d, ev);\n      } else {\n        state.onBackgroundRightClick && state.onBackgroundRightClick(ev);\n      }\n\n      return false;\n    }, false);\n    state.forceGraph(ctx);\n    state.shadowGraph(shadowCtx); //\n\n    var refreshShadowCanvas = throttle(function () {\n      // wipe canvas\n      clearCanvas(shadowCtx, state.width, state.height); // Adjust link hover area\n\n      state.shadowGraph.linkWidth(function (l) {\n        return accessorFn(state.linkWidth)(l) + state.linkHoverPrecision;\n      }); // redraw\n\n      var t = zoomTransform(state.canvas);\n      state.shadowGraph.globalScale(t.k).tickFrame();\n    }, HOVER_CANVAS_THROTTLE_DELAY); // Kick-off renderer\n\n    (this._animationCycle = function animate() {\n      // IIFE\n      if (state.enablePointerInteraction) {\n        // Update tooltip and trigger onHover events\n        // Lookup object per pixel color\n        var pxScale = window.devicePixelRatio;\n        var px = mousePos.x > 0 && mousePos.y > 0 ? shadowCtx.getImageData(mousePos.x * pxScale, mousePos.y * pxScale, 1, 1) : null;\n        var obj = px ? state.colorTracker.lookup(px.data) : null;\n\n        if (obj !== state.hoverObj) {\n          var prevObj = state.hoverObj;\n          var prevObjType = prevObj ? prevObj.type : null;\n          var objType = obj ? obj.type : null;\n\n          if (prevObjType && prevObjType !== objType) {\n            // Hover out\n            state[\"on\".concat(prevObjType, \"Hover\")](null, prevObj.d);\n          }\n\n          if (objType) {\n            // Hover in\n            state[\"on\".concat(objType, \"Hover\")](obj.d, prevObjType === objType ? prevObj.d : null);\n          }\n\n          var tooltipContent = obj ? accessorFn(state[\"\".concat(obj.type.toLowerCase(), \"Label\")])(obj.d) || '' : '';\n          toolTipElem.style.visibility = tooltipContent ? 'visible' : 'hidden';\n          toolTipElem.innerHTML = tooltipContent;\n          state.hoverObj = obj;\n        }\n\n        refreshShadowCanvas();\n      } // Wipe canvas\n\n\n      clearCanvas(ctx, state.width, state.height); // Frame cycle\n\n      var t = zoomTransform(state.canvas);\n      state.forceGraph.globalScale(t.k).tickFrame();\n      TWEEN.update(); // update canvas animation tweens\n\n      state.animationFrameRequestId = requestAnimationFrame(animate);\n    })();\n  },\n  update: function updateFn(state) {}\n});\nexport default forceGraph;","import \"core-js/modules/es6.object.assign\";\nimport fromKapsule from 'react-kapsule';\nimport ForceGraphVRKapsule from '3d-force-graph-vr';\nimport PropTypes from 'prop-types';\nimport ForceGraphARKapsule from '3d-force-graph-ar';\nimport ForceGraph3DKapsule from '3d-force-graph';\nimport ForceGraph2DKapsule from 'force-graph';\nvar commonPropTypes = {\n  width: PropTypes.number,\n  height: PropTypes.number,\n  graphData: PropTypes.shape({\n    nodes: PropTypes.arrayOf(PropTypes.object).isRequired,\n    links: PropTypes.arrayOf(PropTypes.object).isRequired\n  }),\n  backgroundColor: PropTypes.string,\n  nodeRelSize: PropTypes.number,\n  nodeId: PropTypes.string,\n  nodeLabel: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  nodeVal: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  nodeVisibility: PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.func]),\n  nodeColor: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  nodeAutoColorBy: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  linkSource: PropTypes.string,\n  linkTarget: PropTypes.string,\n  linkLabel: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  linkVisibility: PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.func]),\n  linkHoverPrecision: PropTypes.number,\n  linkColor: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  linkAutoColorBy: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  linkWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkCurvature: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkDirectionalArrowLength: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkDirectionalArrowColor: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  linkDirectionalArrowRelPos: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkDirectionalParticles: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkDirectionalParticleSpeed: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkDirectionalParticleWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkDirectionalParticleColor: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  dagMode: PropTypes.oneOf(['td', 'bu', 'lr', 'rl', 'zin', 'zout', 'radialin', 'radialout']),\n  dagLevelDistance: PropTypes.number,\n  d3AlphaMin: PropTypes.number,\n  d3AlphaDecay: PropTypes.number,\n  d3VelocityDecay: PropTypes.number,\n  warmupTicks: PropTypes.number,\n  cooldownTicks: PropTypes.number,\n  cooldownTime: PropTypes.number,\n  onEngineTick: PropTypes.func,\n  onEngineStop: PropTypes.func\n};\nvar pointerBasedPropTypes = {\n  onNodeClick: PropTypes.func,\n  onNodeRightClick: PropTypes.func,\n  onNodeHover: PropTypes.func,\n  onNodeDrag: PropTypes.func,\n  onNodeDragEnd: PropTypes.func,\n  onLinkClick: PropTypes.func,\n  onLinkRightClick: PropTypes.func,\n  onLinkHover: PropTypes.func,\n  onBackgroundClick: PropTypes.func,\n  onBackgroundRightClick: PropTypes.func,\n  enablePointerInteraction: PropTypes.bool,\n  enableNodeDrag: PropTypes.bool\n};\nvar threeBasedPropTypes = {\n  showNavInfo: PropTypes.bool,\n  nodeOpacity: PropTypes.number,\n  nodeResolution: PropTypes.number,\n  nodeThreeObject: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func]),\n  nodeThreeObjectExtend: PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.func]),\n  linkOpacity: PropTypes.number,\n  linkResolution: PropTypes.number,\n  linkCurveRotation: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  linkMaterial: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func]),\n  linkThreeObject: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func]),\n  linkThreeObjectExtend: PropTypes.oneOfType([PropTypes.bool, PropTypes.string, PropTypes.func]),\n  linkPositionUpdate: PropTypes.func,\n  linkDirectionalArrowResolution: PropTypes.number,\n  linkDirectionalParticleResolution: PropTypes.number,\n  forceEngine: PropTypes.oneOf(['d3', 'ngraph']),\n  numDimensions: PropTypes.oneOf([1, 2, 3])\n};\nvar ForceGraph2DPropTypes = Object.assign({}, commonPropTypes, pointerBasedPropTypes, {\n  linkLineDash: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.number), PropTypes.string, PropTypes.func]),\n  nodeCanvasObject: PropTypes.func,\n  nodeCanvasObjectMode: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  linkCanvasObject: PropTypes.func,\n  linkCanvasObjectMode: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  enableZoomPanInteraction: PropTypes.bool,\n  onZoom: PropTypes.func,\n  onZoomEnd: PropTypes.func\n});\nvar ForceGraph3DPropTypes = Object.assign({}, commonPropTypes, pointerBasedPropTypes, threeBasedPropTypes, {\n  enableNavigationControls: PropTypes.bool,\n  controlType: PropTypes.oneOf(['trackball', 'orbit', 'fly']),\n  rendererConfig: PropTypes.object\n});\nvar ForceGraphVRPropTypes = Object.assign({}, commonPropTypes, threeBasedPropTypes, {\n  nodeDesc: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  linkDesc: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  onNodeCenterHover: PropTypes.func,\n  onLinkCenterHover: PropTypes.func\n});\nvar ForceGraphARPropTypes = Object.assign({}, commonPropTypes, threeBasedPropTypes, {\n  markerAttrs: PropTypes.object,\n  yOffset: PropTypes.number,\n  glScale: PropTypes.number,\n  onNodeCenterHover: PropTypes.func,\n  onLinkCenterHover: PropTypes.func\n});\nvar ForceGraphVR = fromKapsule(ForceGraphVRKapsule, {\n  methodNames: [// bind methods\n  'emitParticle', 'd3Force', 'd3ReheatSimulation', 'refresh']\n});\nForceGraphVR.displayName = 'ForceGraphVR';\nForceGraphVR.propTypes = ForceGraphVRPropTypes;\nvar ForceGraphAR = fromKapsule(ForceGraphARKapsule, {\n  methodNames: [// bind methods\n  'emitParticle', 'd3Force', 'd3ReheatSimulation', 'refresh'],\n  initPropNames: ['markerAttrs']\n});\nForceGraphAR.displayName = 'ForceGraphAR';\nForceGraphAR.propTypes = ForceGraphARPropTypes;\nvar ForceGraph3D = fromKapsule(ForceGraph3DKapsule, {\n  methodNames: [// bind methods\n  'emitParticle', 'd3Force', 'd3ReheatSimulation', 'stopAnimation', 'pauseAnimation', 'resumeAnimation', 'cameraPosition', 'graph2ScreenCoords', 'scene', 'camera', 'renderer', 'controls', 'refresh'],\n  initPropNames: ['controlType', 'rendererConfig']\n});\nForceGraph3D.displayName = 'ForceGraph3D';\nForceGraph3D.propTypes = ForceGraph3DPropTypes;\nvar ForceGraph2D = fromKapsule(ForceGraph2DKapsule, {\n  methodNames: [// bind methods\n  'emitParticle', 'd3Force', 'd3ReheatSimulation', 'stopAnimation', 'pauseAnimation', 'resumeAnimation', 'centerAt', 'zoom', 'screen2GraphCoords', 'graph2ScreenCoords']\n});\nForceGraph2D.displayName = 'ForceGraph2D';\nForceGraph2D.propTypes = ForceGraph2DPropTypes;\nexport { ForceGraph2D, ForceGraph3D, ForceGraphAR, ForceGraphVR };","var ResizeObserverBoxOptions;\n\n(function (ResizeObserverBoxOptions) {\n  ResizeObserverBoxOptions[\"BORDER_BOX\"] = \"border-box\";\n  ResizeObserverBoxOptions[\"CONTENT_BOX\"] = \"content-box\";\n  ResizeObserverBoxOptions[\"DEVICE_PIXEL_CONTENT_BOX\"] = \"device-pixel-content-box\";\n})(ResizeObserverBoxOptions || (ResizeObserverBoxOptions = {}));\n\nexport { ResizeObserverBoxOptions };","var resizeObservers = [];\nexport { resizeObservers };","var msg = 'ResizeObserver loop completed with undelivered notifications.';\n\nvar deliverResizeLoopError = function deliverResizeLoopError() {\n  var event;\n\n  if (typeof ErrorEvent === 'function') {\n    event = new ErrorEvent('error', {\n      message: msg\n    });\n  } else {\n    event = document.createEvent('Event');\n    event.initEvent('error', false, false);\n    event.message = msg;\n  }\n\n  window.dispatchEvent(event);\n};\n\nexport { deliverResizeLoopError };","import \"core-js/modules/es6.array.for-each\";\nvar trigger;\nvar callbacks = [];\n\nvar notify = function notify() {\n  return callbacks.splice(0).forEach(function (cb) {\n    return cb();\n  });\n};\n\nvar queueMicroTask = function queueMicroTask(callback) {\n  if (!trigger) {\n    var toggle_1 = 0;\n    var el_1 = document.createTextNode('');\n    var config = {\n      characterData: true\n    };\n    new MutationObserver(function () {\n      return notify();\n    }).observe(el_1, config);\n\n    trigger = function trigger() {\n      el_1.textContent = \"\" + (toggle_1 ? toggle_1-- : toggle_1++);\n    };\n  }\n\n  callbacks.push(callback);\n  trigger();\n};\n\nexport { queueMicroTask };","import \"core-js/modules/es6.date.to-json\";\nimport \"core-js/modules/es6.object.freeze\";\n\nvar DOMRectReadOnly = function () {\n  function DOMRectReadOnly(x, y, width, height) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.top = this.y;\n    this.left = this.x;\n    this.bottom = this.top + this.height;\n    this.right = this.left + this.width;\n    return Object.freeze(this);\n  }\n\n  DOMRectReadOnly.prototype.toJSON = function () {\n    var _a = this,\n        x = _a.x,\n        y = _a.y,\n        top = _a.top,\n        right = _a.right,\n        bottom = _a.bottom,\n        left = _a.left,\n        width = _a.width,\n        height = _a.height;\n\n    return {\n      x: x,\n      y: y,\n      top: top,\n      right: right,\n      bottom: bottom,\n      left: left,\n      width: width,\n      height: height\n    };\n  };\n\n  DOMRectReadOnly.fromRect = function (rectangle) {\n    return new DOMRectReadOnly(rectangle.x, rectangle.y, rectangle.width, rectangle.height);\n  };\n\n  return DOMRectReadOnly;\n}();\n\nexport { DOMRectReadOnly };","var isSVG = function isSVG(target) {\n  return target instanceof SVGElement && 'getBBox' in target;\n};\n\nvar isHidden = function isHidden(target) {\n  if (isSVG(target)) {\n    var _a = target.getBBox(),\n        width = _a.width,\n        height = _a.height;\n\n    return !width && !height;\n  }\n\n  var _b = target,\n      offsetWidth = _b.offsetWidth,\n      offsetHeight = _b.offsetHeight;\n  return !(offsetWidth || offsetHeight || target.getClientRects().length);\n};\n\nvar isElement = function isElement(obj) {\n  var _a, _b;\n\n  var scope = (_b = (_a = obj) === null || _a === void 0 ? void 0 : _a.ownerDocument) === null || _b === void 0 ? void 0 : _b.defaultView;\n  return !!(scope && obj instanceof scope.Element);\n};\n\nvar isReplacedElement = function isReplacedElement(target) {\n  switch (target.tagName) {\n    case 'INPUT':\n      if (target.type !== 'image') {\n        break;\n      }\n\n    case 'VIDEO':\n    case 'AUDIO':\n    case 'EMBED':\n    case 'OBJECT':\n    case 'CANVAS':\n    case 'IFRAME':\n    case 'IMG':\n      return true;\n  }\n\n  return false;\n};\n\nexport { isSVG, isHidden, isElement, isReplacedElement };","export var global = typeof window !== 'undefined' ? window : {};","import \"core-js/modules/es6.object.freeze\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.map\";\nimport { ResizeObserverBoxOptions } from '../ResizeObserverBoxOptions';\nimport { DOMRectReadOnly } from '../DOMRectReadOnly';\nimport { isSVG, isHidden } from '../utils/element';\nimport { global } from '../utils/global';\nvar cache = new Map();\nvar scrollRegexp = /auto|scroll/;\nvar verticalRegexp = /^tb|vertical/;\nvar IE = /msie|trident/i.test(global.navigator && global.navigator.userAgent);\n\nvar parseDimension = function parseDimension(pixel) {\n  return parseFloat(pixel || '0');\n};\n\nvar size = function size(inlineSize, blockSize, switchSizes) {\n  if (inlineSize === void 0) {\n    inlineSize = 0;\n  }\n\n  if (blockSize === void 0) {\n    blockSize = 0;\n  }\n\n  if (switchSizes === void 0) {\n    switchSizes = false;\n  }\n\n  return Object.freeze({\n    inlineSize: (switchSizes ? blockSize : inlineSize) || 0,\n    blockSize: (switchSizes ? inlineSize : blockSize) || 0\n  });\n};\n\nvar zeroBoxes = Object.freeze({\n  devicePixelContentBoxSize: size(),\n  borderBoxSize: size(),\n  contentBoxSize: size(),\n  contentRect: new DOMRectReadOnly(0, 0, 0, 0)\n});\n\nvar calculateBoxSizes = function calculateBoxSizes(target) {\n  if (cache.has(target)) {\n    return cache.get(target);\n  }\n\n  if (isHidden(target)) {\n    cache.set(target, zeroBoxes);\n    return zeroBoxes;\n  }\n\n  var cs = getComputedStyle(target);\n  var svg = isSVG(target) && target.ownerSVGElement && target.getBBox();\n  var removePadding = !IE && cs.boxSizing === 'border-box';\n  var switchSizes = verticalRegexp.test(cs.writingMode || '');\n  var canScrollVertically = !svg && scrollRegexp.test(cs.overflowY || '');\n  var canScrollHorizontally = !svg && scrollRegexp.test(cs.overflowX || '');\n  var paddingTop = svg ? 0 : parseDimension(cs.paddingTop);\n  var paddingRight = svg ? 0 : parseDimension(cs.paddingRight);\n  var paddingBottom = svg ? 0 : parseDimension(cs.paddingBottom);\n  var paddingLeft = svg ? 0 : parseDimension(cs.paddingLeft);\n  var borderTop = svg ? 0 : parseDimension(cs.borderTopWidth);\n  var borderRight = svg ? 0 : parseDimension(cs.borderRightWidth);\n  var borderBottom = svg ? 0 : parseDimension(cs.borderBottomWidth);\n  var borderLeft = svg ? 0 : parseDimension(cs.borderLeftWidth);\n  var horizontalPadding = paddingLeft + paddingRight;\n  var verticalPadding = paddingTop + paddingBottom;\n  var horizontalBorderArea = borderLeft + borderRight;\n  var verticalBorderArea = borderTop + borderBottom;\n  var horizontalScrollbarThickness = !canScrollHorizontally ? 0 : target.offsetHeight - verticalBorderArea - target.clientHeight;\n  var verticalScrollbarThickness = !canScrollVertically ? 0 : target.offsetWidth - horizontalBorderArea - target.clientWidth;\n  var widthReduction = removePadding ? horizontalPadding + horizontalBorderArea : 0;\n  var heightReduction = removePadding ? verticalPadding + verticalBorderArea : 0;\n  var contentWidth = svg ? svg.width : parseDimension(cs.width) - widthReduction - verticalScrollbarThickness;\n  var contentHeight = svg ? svg.height : parseDimension(cs.height) - heightReduction - horizontalScrollbarThickness;\n  var borderBoxWidth = contentWidth + horizontalPadding + verticalScrollbarThickness + horizontalBorderArea;\n  var borderBoxHeight = contentHeight + verticalPadding + horizontalScrollbarThickness + verticalBorderArea;\n  var boxes = Object.freeze({\n    devicePixelContentBoxSize: size(Math.round(contentWidth * devicePixelRatio), Math.round(contentHeight * devicePixelRatio), switchSizes),\n    borderBoxSize: size(borderBoxWidth, borderBoxHeight, switchSizes),\n    contentBoxSize: size(contentWidth, contentHeight, switchSizes),\n    contentRect: new DOMRectReadOnly(paddingLeft, paddingTop, contentWidth, contentHeight)\n  });\n  cache.set(target, boxes);\n  return boxes;\n};\n\nvar calculateBoxSize = function calculateBoxSize(target, observedBox) {\n  var _a = calculateBoxSizes(target),\n      borderBoxSize = _a.borderBoxSize,\n      contentBoxSize = _a.contentBoxSize,\n      devicePixelContentBoxSize = _a.devicePixelContentBoxSize;\n\n  switch (observedBox) {\n    case ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:\n      return devicePixelContentBoxSize;\n\n    case ResizeObserverBoxOptions.BORDER_BOX:\n      return borderBoxSize;\n\n    default:\n      return contentBoxSize;\n  }\n};\n\nexport { calculateBoxSize, calculateBoxSizes, cache };","import { calculateBoxSizes } from './algorithms/calculateBoxSize';\n\nvar ResizeObserverEntry = function () {\n  function ResizeObserverEntry(target) {\n    var boxes = calculateBoxSizes(target);\n    this.target = target;\n    this.contentRect = boxes.contentRect;\n    this.borderBoxSize = [boxes.borderBoxSize];\n    this.contentBoxSize = [boxes.contentBoxSize];\n    this.devicePixelContentBoxSize = [boxes.devicePixelContentBoxSize];\n  }\n\n  return ResizeObserverEntry;\n}();\n\nexport { ResizeObserverEntry };","import { isHidden } from '../utils/element';\n\nvar calculateDepthForNode = function calculateDepthForNode(node) {\n  if (isHidden(node)) {\n    return Infinity;\n  }\n\n  var depth = 0;\n  var parent = node.parentNode;\n\n  while (parent) {\n    depth += 1;\n    parent = parent.parentNode;\n  }\n\n  return depth;\n};\n\nexport { calculateDepthForNode };","import \"core-js/modules/es6.array.for-each\";\nimport { resizeObservers } from '../utils/resizeObservers';\nimport { ResizeObserverEntry } from '../ResizeObserverEntry';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nimport { calculateBoxSize } from './calculateBoxSize';\n\nvar broadcastActiveObservations = function broadcastActiveObservations() {\n  var shallowestDepth = Infinity;\n  var callbacks = [];\n  resizeObservers.forEach(function processObserver(ro) {\n    if (ro.activeTargets.length === 0) {\n      return;\n    }\n\n    var entries = [];\n    ro.activeTargets.forEach(function processTarget(ot) {\n      var entry = new ResizeObserverEntry(ot.target);\n      var targetDepth = calculateDepthForNode(ot.target);\n      entries.push(entry);\n      ot.lastReportedSize = calculateBoxSize(ot.target, ot.observedBox);\n\n      if (targetDepth < shallowestDepth) {\n        shallowestDepth = targetDepth;\n      }\n    });\n    callbacks.push(function resizeObserverCallback() {\n      ro.callback.call(ro.observer, entries, ro.observer);\n    });\n    ro.activeTargets.splice(0, ro.activeTargets.length);\n  });\n\n  for (var _i = 0, callbacks_1 = callbacks; _i < callbacks_1.length; _i++) {\n    var callback = callbacks_1[_i];\n    callback();\n  }\n\n  return shallowestDepth;\n};\n\nexport { broadcastActiveObservations };","import \"core-js/modules/es6.array.for-each\";\nimport { resizeObservers } from '../utils/resizeObservers';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nimport { cache as sizeCache } from './calculateBoxSize';\n\nvar gatherActiveObservationsAtDepth = function gatherActiveObservationsAtDepth(depth) {\n  sizeCache.clear();\n  resizeObservers.forEach(function processObserver(ro) {\n    ro.activeTargets.splice(0, ro.activeTargets.length);\n    ro.skippedTargets.splice(0, ro.skippedTargets.length);\n    ro.observationTargets.forEach(function processTarget(ot) {\n      if (ot.isActive()) {\n        if (calculateDepthForNode(ot.target) > depth) {\n          ro.activeTargets.push(ot);\n        } else {\n          ro.skippedTargets.push(ot);\n        }\n      }\n    });\n  });\n};\n\nexport { gatherActiveObservationsAtDepth };","import { hasActiveObservations } from '../algorithms/hasActiveObservations';\nimport { hasSkippedObservations } from '../algorithms/hasSkippedObservations';\nimport { deliverResizeLoopError } from '../algorithms/deliverResizeLoopError';\nimport { broadcastActiveObservations } from '../algorithms/broadcastActiveObservations';\nimport { gatherActiveObservationsAtDepth } from '../algorithms/gatherActiveObservationsAtDepth';\n\nvar process = function process() {\n  var depth = 0;\n  gatherActiveObservationsAtDepth(depth);\n\n  while (hasActiveObservations()) {\n    depth = broadcastActiveObservations();\n    gatherActiveObservationsAtDepth(depth);\n  }\n\n  if (hasSkippedObservations()) {\n    deliverResizeLoopError();\n  }\n\n  return depth > 0;\n};\n\nexport { process };","import \"core-js/modules/es6.array.some\";\nimport { resizeObservers } from '../utils/resizeObservers';\n\nvar hasActiveObservations = function hasActiveObservations() {\n  return resizeObservers.some(function (ro) {\n    return ro.activeTargets.length > 0;\n  });\n};\n\nexport { hasActiveObservations };","import \"core-js/modules/es6.array.some\";\nimport { resizeObservers } from '../utils/resizeObservers';\n\nvar hasSkippedObservations = function hasSkippedObservations() {\n  return resizeObservers.some(function (ro) {\n    return ro.skippedTargets.length > 0;\n  });\n};\n\nexport { hasSkippedObservations };","import \"core-js/modules/es6.array.for-each\";\nimport { process } from './process';\nimport { global } from './global';\nimport { queueResizeObserver } from './queueResizeObserver';\nvar watching = 0;\n\nvar isWatching = function isWatching() {\n  return !!watching;\n};\n\nvar CATCH_FRAMES = 60 / 5;\nvar observerConfig = {\n  attributes: true,\n  characterData: true,\n  childList: true,\n  subtree: true\n};\nvar events = ['resize', 'load', 'transitionend', 'animationend', 'animationstart', 'animationiteration', 'keyup', 'keydown', 'mouseup', 'mousedown', 'mouseover', 'mouseout', 'blur', 'focus'];\nvar scheduled = false;\n\nvar Scheduler = function () {\n  function Scheduler() {\n    var _this = this;\n\n    this.stopped = true;\n\n    this.listener = function () {\n      return _this.schedule();\n    };\n  }\n\n  Scheduler.prototype.run = function (frames) {\n    var _this = this;\n\n    if (scheduled) {\n      return;\n    }\n\n    scheduled = true;\n    queueResizeObserver(function () {\n      var elementsHaveResized = false;\n\n      try {\n        elementsHaveResized = process();\n      } finally {\n        scheduled = false;\n\n        if (!isWatching()) {\n          return;\n        }\n\n        if (elementsHaveResized) {\n          _this.run(60);\n        } else if (frames) {\n          _this.run(frames - 1);\n        } else {\n          _this.start();\n        }\n      }\n    });\n  };\n\n  Scheduler.prototype.schedule = function () {\n    this.stop();\n    this.run(CATCH_FRAMES);\n  };\n\n  Scheduler.prototype.observe = function () {\n    var _this = this;\n\n    var cb = function cb() {\n      return _this.observer && _this.observer.observe(document.body, observerConfig);\n    };\n\n    document.body ? cb() : global.addEventListener('DOMContentLoaded', cb);\n  };\n\n  Scheduler.prototype.start = function () {\n    var _this = this;\n\n    if (this.stopped) {\n      this.stopped = false;\n      this.observer = new MutationObserver(this.listener);\n      this.observe();\n      events.forEach(function (name) {\n        return global.addEventListener(name, _this.listener, true);\n      });\n    }\n  };\n\n  Scheduler.prototype.stop = function () {\n    var _this = this;\n\n    if (!this.stopped) {\n      this.observer && this.observer.disconnect();\n      events.forEach(function (name) {\n        return global.removeEventListener(name, _this.listener, true);\n      });\n      this.stopped = true;\n    }\n  };\n\n  return Scheduler;\n}();\n\nvar scheduler = new Scheduler();\n\nvar updateCount = function updateCount(n) {\n  !watching && n > 0 && scheduler.start();\n  watching += n;\n  !watching && scheduler.stop();\n};\n\nexport { scheduler, updateCount };","import { queueMicroTask } from './queueMicroTask';\n\nvar queueResizeObserver = function queueResizeObserver(cb) {\n  queueMicroTask(function ResizeObserver() {\n    requestAnimationFrame(cb);\n  });\n};\n\nexport { queueResizeObserver };","import { ResizeObserverBoxOptions } from './ResizeObserverBoxOptions';\nimport { calculateBoxSize } from './algorithms/calculateBoxSize';\nimport { isSVG, isReplacedElement } from './utils/element';\n\nvar skipNotifyOnElement = function skipNotifyOnElement(target) {\n  return !isSVG(target) && !isReplacedElement(target) && getComputedStyle(target).display === 'inline';\n};\n\nvar ResizeObservation = function () {\n  function ResizeObservation(target, observedBox) {\n    this.target = target;\n    this.observedBox = observedBox || ResizeObserverBoxOptions.CONTENT_BOX;\n    this.lastReportedSize = {\n      inlineSize: 0,\n      blockSize: 0\n    };\n  }\n\n  ResizeObservation.prototype.isActive = function () {\n    var size = calculateBoxSize(this.target, this.observedBox);\n\n    if (skipNotifyOnElement(this.target)) {\n      this.lastReportedSize = size;\n    }\n\n    if (this.lastReportedSize.inlineSize !== size.inlineSize || this.lastReportedSize.blockSize !== size.blockSize) {\n      return true;\n    }\n\n    return false;\n  };\n\n  return ResizeObservation;\n}();\n\nexport { ResizeObservation };","var ResizeObserverDetail = function () {\n  function ResizeObserverDetail(resizeObserver, callback) {\n    this.activeTargets = [];\n    this.skippedTargets = [];\n    this.observationTargets = [];\n    this.observer = resizeObserver;\n    this.callback = callback;\n  }\n\n  return ResizeObserverDetail;\n}();\n\nexport { ResizeObserverDetail };","import \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.map\";\nimport { scheduler, updateCount } from './utils/scheduler';\nimport { ResizeObservation } from './ResizeObservation';\nimport { ResizeObserverDetail } from './ResizeObserverDetail';\nimport { resizeObservers } from './utils/resizeObservers';\nvar observerMap = new Map();\n\nvar getObservationIndex = function getObservationIndex(observationTargets, target) {\n  for (var i = 0; i < observationTargets.length; i += 1) {\n    if (observationTargets[i].target === target) {\n      return i;\n    }\n  }\n\n  return -1;\n};\n\nvar ResizeObserverController = function () {\n  function ResizeObserverController() {}\n\n  ResizeObserverController.connect = function (resizeObserver, callback) {\n    var detail = new ResizeObserverDetail(resizeObserver, callback);\n    resizeObservers.push(detail);\n    observerMap.set(resizeObserver, detail);\n  };\n\n  ResizeObserverController.observe = function (resizeObserver, target, options) {\n    if (observerMap.has(resizeObserver)) {\n      var detail = observerMap.get(resizeObserver);\n\n      if (getObservationIndex(detail.observationTargets, target) < 0) {\n        detail.observationTargets.push(new ResizeObservation(target, options && options.box));\n        updateCount(1);\n        scheduler.schedule();\n      }\n    }\n  };\n\n  ResizeObserverController.unobserve = function (resizeObserver, target) {\n    if (observerMap.has(resizeObserver)) {\n      var detail = observerMap.get(resizeObserver);\n      var index = getObservationIndex(detail.observationTargets, target);\n\n      if (index >= 0) {\n        detail.observationTargets.splice(index, 1);\n        updateCount(-1);\n      }\n    }\n  };\n\n  ResizeObserverController.disconnect = function (resizeObserver) {\n    if (observerMap.has(resizeObserver)) {\n      var detail = observerMap.get(resizeObserver);\n      resizeObservers.splice(resizeObservers.indexOf(detail), 1);\n      observerMap[\"delete\"](resizeObserver);\n      updateCount(-detail.observationTargets.length);\n    }\n  };\n\n  return ResizeObserverController;\n}();\n\nexport { ResizeObserverController };","import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport { ResizeObserverController } from './ResizeObserverController';\nimport { isElement } from './utils/element';\n\nvar ResizeObserver = function () {\n  function ResizeObserver(callback) {\n    if (arguments.length === 0) {\n      throw new TypeError(\"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.\");\n    }\n\n    if (typeof callback !== 'function') {\n      throw new TypeError(\"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.\");\n    }\n\n    ResizeObserverController.connect(this, callback);\n  }\n\n  ResizeObserver.prototype.observe = function (target, options) {\n    if (arguments.length === 0) {\n      throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n    }\n\n    if (!isElement(target)) {\n      throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n    }\n\n    ResizeObserverController.observe(this, target, options);\n  };\n\n  ResizeObserver.prototype.unobserve = function (target) {\n    if (arguments.length === 0) {\n      throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n    }\n\n    if (!isElement(target)) {\n      throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n    }\n\n    ResizeObserverController.unobserve(this, target);\n  };\n\n  ResizeObserver.prototype.disconnect = function () {\n    ResizeObserverController.disconnect(this);\n  };\n\n  ResizeObserver.toString = function () {\n    return 'function ResizeObserver () { [polyfill code] }';\n  };\n\n  return ResizeObserver;\n}();\n\nexport { ResizeObserver };","import React, {\n  useEffect,\n  useState,\n  useCallback,\n  useMemo,\n  useRef,\n} from 'react';\nimport { graphql, useStaticQuery, Link } from 'gatsby';\nimport { navigate } from '@reach/router';\nimport { Index } from 'elasticlunr';\nimport { ForceGraph2D } from 'react-force-graph';\nimport styled from 'styled-components';\nimport { Form, FormControl } from 'react-bootstrap';\nimport { max, forceCollide } from 'd3';\nimport kebabCase from 'lodash/kebabCase';\nimport { useDimensions } from '../utils/useDimensions';\n\nconst SearchInput = styled(Form)`\n  margin-top: 0.5em;\n  margin-bottom: 1em;\n`;\n\nconst getTextWithMeasures = (\n  text,\n  ctx,\n  maxWidth,\n  fontSize = 12,\n  padding = 0,\n  linePadding = 0,\n  wrap = true\n) => {\n  const words = text.split(' ');\n  const widths = words.map((d) => ctx.measureText(d).width);\n  let lines = [];\n  let width = 0;\n  let line = '';\n  widths.forEach((w, i) => {\n    const word = words[i];\n    width += w;\n    if (width > maxWidth) {\n      lines.push(line);\n      line = word;\n      width = w;\n    } else {\n      line += (line.length === 0 ? '' : ' ') + word;\n    }\n  });\n  lines.push(line);\n  lines = lines.filter((d) => d.length > 0);\n\n  const finalWidth = wrap\n    ? max(lines.map((d) => ctx.measureText(d).width))\n    : maxWidth;\n\n  let height = lines.length * fontSize;\n  if (lines.length > 1) height += linePadding * (lines.length - 1);\n\n  const measures = [finalWidth, height].map((d) => d + 2 * padding);\n  return { lines, measures };\n};\n\nexport const SearchGraph = () => {\n  const indexQuery = useStaticQuery(\n    graphql`\n      query SearchGraphIndexQuery {\n        siteSearchIndex {\n          index\n        }\n      }\n    `\n  ).siteSearchIndex.index;\n  const { ref: viewRef, width: viewWidth } = useDimensions();\n  const ref = useRef();\n  const [graphData, setGraphData] = useState({ nodes: [], links: [] });\n  const [results, setResults] = useState([]);\n  const [highlightLinks, setHighlightLinks] = useState([]);\n  const index = useMemo(() => Index.load(indexQuery), [indexQuery]);\n\n  useEffect(() => {\n    ref.current.d3Force('collide', forceCollide(35));\n  }, []);\n\n  const search = useCallback(\n    (event) => {\n      const query = event.target.value;\n      setResults(\n        index\n          .search(query, { expand: true })\n          .map(({ ref }) => index.documentStore.getDoc(ref))\n      );\n    },\n    [index]\n  );\n\n  useEffect(() => {\n    const { nodes: tmpNodes } = graphData;\n    const newNodes = results.map((d) => d.id);\n    const newTags = [...new Set(results.map((d) => d.tags).flat())];\n    const nodes = tmpNodes.filter(\n      (d) => newNodes.includes(d.id) || newTags.includes(d.id)\n    );\n    const currentNodes = nodes.map((d) => d.id);\n\n    results\n      .filter((d) => !currentNodes.includes(d.id))\n      .forEach((d) => {\n        nodes.push({\n          id: d.id,\n          name: d.title.replace('-', ' '),\n          type: d.slug ? 'blog' : 'repo',\n          link: d.slug ?? `https://github.com/renato145/${d.name}`,\n        });\n      });\n\n    newTags\n      .filter((d) => !currentNodes.includes(d))\n      .forEach((d) => {\n        nodes.push({\n          id: d,\n          name: d.replace('-', ' '),\n          type: 'tag',\n          link: `/tags/${kebabCase(d)}`,\n        });\n      });\n\n    const links = [];\n    results.forEach((d) => {\n      d.tags.forEach((tag) => {\n        links.push({\n          source: tag,\n          target: d.id,\n        });\n      });\n    });\n\n    setGraphData({ nodes, links });\n  }, [results]);\n\n  const handleNodeHover = (node) => {\n    if (node) {\n      const links = graphData.links\n        .filter((d) => d.source.id === node.id || d.target.id === node.id)\n        .map((d) => d.index);\n      setHighlightLinks(links);\n    } else {\n      setHighlightLinks([]);\n    }\n  };\n\n  return (\n    <div ref={viewRef}>\n      <SearchInput>\n        <Link to=\"/search\" style={{fontSize: '0.8em'}}>Go back to normal search</Link>\n        <FormControl type=\"text\" placeholder=\"Search\" onChange={search} />\n      </SearchInput>\n      <ForceGraph2D\n        ref={ref}\n        width={viewWidth}\n        height={viewWidth * 0.5}\n        backgroundColor=\"#eee\"\n        graphData={graphData}\n        linkCurvature={0.25}\n        onNodeClick={(node) => {\n          if (node.type === 'repo') window.open(node.link);\n          else navigate(node.link);\n        }}\n        onNodeHover={handleNodeHover}\n        linkHoverPrecision={15}\n        linkWidth={(d) => (highlightLinks.includes(d.index) ? 3 : 2)}\n        linkColor={(d) => (highlightLinks.includes(d.index) ? '#888' : '#ccc')}\n        nodeCanvasObject={(node, ctx, globalScale) => {\n          const { x, y, name, type } = node;\n          const maxWidth = 60;\n          const fontSize = (type === 'tag' ? 14 : 16) / globalScale;\n          const padding = (type === 'tag' ? 0.6 : 0.5) * fontSize;\n          const linePadding = 0.1 * fontSize;\n          ctx.font =\n            (type === 'tag' ? 'bold ' : '') + `${fontSize}px Sans-Serif`; // This needs to be set before calculating measures\n          const { lines, measures } = getTextWithMeasures(\n            name,\n            ctx,\n            maxWidth,\n            fontSize,\n            padding,\n            linePadding\n          );\n\n          ctx.fillStyle =\n            type === 'tag' ? 'rgba(147, 0, 58, 0.7)' : 'rgba(0, 66, 157, 0.7)';\n          ctx.fillRect(x - measures[0] / 2, y - measures[1] / 2, ...measures);\n\n          ctx.textAlign = 'center';\n          ctx.textBaseline = 'middle';\n          ctx.fillStyle = '#fff';\n          lines.forEach((line, i) =>\n            ctx.fillText(\n              line,\n              x,\n              y + padding * 2 + i * (linePadding + fontSize) - measures[1] / 2\n            )\n          );\n        }}\n        enableZoomPanInteraction={true}\n      />\n    </div>\n  );\n};\n","import { useRef, useEffect, useState, useMemo } from 'react';\nimport { ResizeObserver } from '@juggle/resize-observer';\n\nexport const useDimensions = () => {\n  const ref = useRef();\n  const [width, setWidth] = useState(0);\n  const [height, setHeight] = useState(0);\n\n  const ro = useMemo(\n    () =>\n      new ResizeObserver((entries) => {\n        const entry = entries[0];\n        setWidth(entry.contentRect.width);\n        setHeight(entry.contentRect.height);\n      }),\n    []\n  );\n\n  useEffect(() => {\n    const element = ref.current;\n    if (element) ro.observe(element);\n    return () => ro.unobserve(element);\n  }, [ro]);\n\n  return { ref, width, height };\n};\n","import React from 'react';\nimport Layout from '../components/Layout';\nimport { SearchGraph } from '../components/SearchGraph';\n\nconst SearchGraphPage = ({ location }) => {\n  const title = 'Search Graph';\n\n  return (\n    <Layout\n      location={location}\n      title=\"\"\n      // description=\"some description\"\n      headerConfig={{ title }}\n    >\n      <SearchGraph />\n    </Layout>\n  );\n};\n\nexport default SearchGraphPage;\n","/**\n * Internal data structure to represent 2D QuadTree node\n */\nmodule.exports = function Node() {\n  // body stored inside this node. In quad tree only leaf nodes (by construction)\n  // contain boides:\n  this.body = null; // Child nodes are stored in quads. Each quad is presented by number:\n  // 0 | 1\n  // -----\n  // 2 | 3\n\n  this.quad0 = null;\n  this.quad1 = null;\n  this.quad2 = null;\n  this.quad3 = null; // Total mass of current node\n\n  this.mass = 0; // Center of mass coordinates\n\n  this.massX = 0;\n  this.massY = 0; // bounding box coordinates\n\n  this.left = 0;\n  this.top = 0;\n  this.bottom = 0;\n  this.right = 0;\n};","require(\"core-js/modules/es6.number.constructor\");\n\nrequire(\"core-js/modules/es6.number.is-nan\");\n\nrequire(\"core-js/modules/es6.string.link\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nmodule.exports = createLayout;\nmodule.exports.simulator = require('ngraph.physics.simulator');\n\nvar eventify = require('ngraph.events');\n/**\n * Creates force based layout for a given graph.\n *\n * @param {ngraph.graph} graph which needs to be laid out\n * @param {object} physicsSettings if you need custom settings\n * for physics simulator you can pass your own settings here. If it's not passed\n * a default one will be created.\n */\n\n\nfunction createLayout(graph, physicsSettings) {\n  if (!graph) {\n    throw new Error('Graph structure cannot be undefined');\n  }\n\n  var createSimulator = require('ngraph.physics.simulator');\n\n  var physicsSimulator = createSimulator(physicsSettings);\n  var nodeMass = defaultNodeMass;\n\n  if (physicsSettings && typeof physicsSettings.nodeMass === 'function') {\n    nodeMass = physicsSettings.nodeMass;\n  }\n\n  var nodeBodies = Object.create(null);\n  var springs = {};\n  var bodiesCount = 0;\n  var springTransform = physicsSimulator.settings.springTransform || noop; // Initialize physics with what we have in the graph:\n\n  initPhysics();\n  listenToEvents();\n  var wasStable = false;\n  var api = {\n    /**\n     * Performs one step of iterative layout algorithm\n     *\n     * @returns {boolean} true if the system should be considered stable; False otherwise.\n     * The system is stable if no further call to `step()` can improve the layout.\n     */\n    step: function step() {\n      if (bodiesCount === 0) return true; // TODO: This will never fire 'stable'\n\n      var lastMove = physicsSimulator.step(); // Save the movement in case if someone wants to query it in the step\n      // callback.\n\n      api.lastMove = lastMove; // Allow listeners to perform low-level actions after nodes are updated.\n\n      api.fire('step');\n      var ratio = lastMove / bodiesCount;\n      var isStableNow = ratio <= 0.01; // TODO: The number is somewhat arbitrary...\n\n      if (wasStable !== isStableNow) {\n        wasStable = isStableNow;\n        onStableChanged(isStableNow);\n      }\n\n      return isStableNow;\n    },\n\n    /**\n     * For a given `nodeId` returns position\n     */\n    getNodePosition: function getNodePosition(nodeId) {\n      return getInitializedBody(nodeId).pos;\n    },\n\n    /**\n     * Sets position of a node to a given coordinates\n     * @param {string} nodeId node identifier\n     * @param {number} x position of a node\n     * @param {number} y position of a node\n     * @param {number=} z position of node (only if applicable to body)\n     */\n    setNodePosition: function setNodePosition(nodeId) {\n      var body = getInitializedBody(nodeId);\n      body.setPosition.apply(body, Array.prototype.slice.call(arguments, 1));\n      physicsSimulator.invalidateBBox();\n    },\n\n    /**\n     * @returns {Object} Link position by link id\n     * @returns {Object.from} {x, y} coordinates of link start\n     * @returns {Object.to} {x, y} coordinates of link end\n     */\n    getLinkPosition: function getLinkPosition(linkId) {\n      var spring = springs[linkId];\n\n      if (spring) {\n        return {\n          from: spring.from.pos,\n          to: spring.to.pos\n        };\n      }\n    },\n\n    /**\n     * @returns {Object} area required to fit in the graph. Object contains\n     * `x1`, `y1` - top left coordinates\n     * `x2`, `y2` - bottom right coordinates\n     */\n    getGraphRect: function getGraphRect() {\n      return physicsSimulator.getBBox();\n    },\n\n    /**\n     * Iterates over each body in the layout simulator and performs a callback(body, nodeId)\n     */\n    forEachBody: forEachBody,\n\n    /*\n     * Requests layout algorithm to pin/unpin node to its current position\n     * Pinned nodes should not be affected by layout algorithm and always\n     * remain at their position\n     */\n    pinNode: function pinNode(node, isPinned) {\n      var body = getInitializedBody(node.id);\n      body.isPinned = !!isPinned;\n    },\n\n    /**\n     * Checks whether given graph's node is currently pinned\n     */\n    isNodePinned: function isNodePinned(node) {\n      return getInitializedBody(node.id).isPinned;\n    },\n\n    /**\n     * Request to release all resources\n     */\n    dispose: function dispose() {\n      graph.off('changed', onGraphChanged);\n      api.fire('disposed');\n    },\n\n    /**\n     * Gets physical body for a given node id. If node is not found undefined\n     * value is returned.\n     */\n    getBody: getBody,\n\n    /**\n     * Gets spring for a given edge.\n     *\n     * @param {string} linkId link identifer. If two arguments are passed then\n     * this argument is treated as formNodeId\n     * @param {string=} toId when defined this parameter denotes head of the link\n     * and first argument is treated as tail of the link (fromId)\n     */\n    getSpring: getSpring,\n\n    /**\n     * [Read only] Gets current physics simulator\n     */\n    simulator: physicsSimulator,\n\n    /**\n     * Gets the graph that was used for layout\n     */\n    graph: graph,\n\n    /**\n     * Gets amount of movement performed during last step operation\n     */\n    lastMove: 0\n  };\n  eventify(api);\n  return api;\n\n  function forEachBody(cb) {\n    Object.keys(nodeBodies).forEach(function (bodyId) {\n      cb(nodeBodies[bodyId], bodyId);\n    });\n  }\n\n  function getSpring(fromId, toId) {\n    var linkId;\n\n    if (toId === undefined) {\n      if (typeof fromId !== 'object') {\n        // assume fromId as a linkId:\n        linkId = fromId;\n      } else {\n        // assume fromId to be a link object:\n        linkId = fromId.id;\n      }\n    } else {\n      // toId is defined, should grab link:\n      var link = graph.hasLink(fromId, toId);\n      if (!link) return;\n      linkId = link.id;\n    }\n\n    return springs[linkId];\n  }\n\n  function getBody(nodeId) {\n    return nodeBodies[nodeId];\n  }\n\n  function listenToEvents() {\n    graph.on('changed', onGraphChanged);\n  }\n\n  function onStableChanged(isStable) {\n    api.fire('stable', isStable);\n  }\n\n  function onGraphChanged(changes) {\n    for (var i = 0; i < changes.length; ++i) {\n      var change = changes[i];\n\n      if (change.changeType === 'add') {\n        if (change.node) {\n          initBody(change.node.id);\n        }\n\n        if (change.link) {\n          initLink(change.link);\n        }\n      } else if (change.changeType === 'remove') {\n        if (change.node) {\n          releaseNode(change.node);\n        }\n\n        if (change.link) {\n          releaseLink(change.link);\n        }\n      }\n    }\n\n    bodiesCount = graph.getNodesCount();\n  }\n\n  function initPhysics() {\n    bodiesCount = 0;\n    graph.forEachNode(function (node) {\n      initBody(node.id);\n      bodiesCount += 1;\n    });\n    graph.forEachLink(initLink);\n  }\n\n  function initBody(nodeId) {\n    var body = nodeBodies[nodeId];\n\n    if (!body) {\n      var node = graph.getNode(nodeId);\n\n      if (!node) {\n        throw new Error('initBody() was called with unknown node id');\n      }\n\n      var pos = node.position;\n\n      if (!pos) {\n        var neighbors = getNeighborBodies(node);\n        pos = physicsSimulator.getBestNewBodyPosition(neighbors);\n      }\n\n      body = physicsSimulator.addBodyAt(pos);\n      body.id = nodeId;\n      nodeBodies[nodeId] = body;\n      updateBodyMass(nodeId);\n\n      if (isNodeOriginallyPinned(node)) {\n        body.isPinned = true;\n      }\n    }\n  }\n\n  function releaseNode(node) {\n    var nodeId = node.id;\n    var body = nodeBodies[nodeId];\n\n    if (body) {\n      nodeBodies[nodeId] = null;\n      delete nodeBodies[nodeId];\n      physicsSimulator.removeBody(body);\n    }\n  }\n\n  function initLink(link) {\n    updateBodyMass(link.fromId);\n    updateBodyMass(link.toId);\n    var fromBody = nodeBodies[link.fromId],\n        toBody = nodeBodies[link.toId],\n        spring = physicsSimulator.addSpring(fromBody, toBody, link.length);\n    springTransform(link, spring);\n    springs[link.id] = spring;\n  }\n\n  function releaseLink(link) {\n    var spring = springs[link.id];\n\n    if (spring) {\n      var from = graph.getNode(link.fromId),\n          to = graph.getNode(link.toId);\n      if (from) updateBodyMass(from.id);\n      if (to) updateBodyMass(to.id);\n      delete springs[link.id];\n      physicsSimulator.removeSpring(spring);\n    }\n  }\n\n  function getNeighborBodies(node) {\n    // TODO: Could probably be done better on memory\n    var neighbors = [];\n\n    if (!node.links) {\n      return neighbors;\n    }\n\n    var maxNeighbors = Math.min(node.links.length, 2);\n\n    for (var i = 0; i < maxNeighbors; ++i) {\n      var link = node.links[i];\n      var otherBody = link.fromId !== node.id ? nodeBodies[link.fromId] : nodeBodies[link.toId];\n\n      if (otherBody && otherBody.pos) {\n        neighbors.push(otherBody);\n      }\n    }\n\n    return neighbors;\n  }\n\n  function updateBodyMass(nodeId) {\n    var body = nodeBodies[nodeId];\n    body.mass = nodeMass(nodeId);\n\n    if (Number.isNaN(body.mass)) {\n      throw new Error('Node mass should be a number');\n    }\n  }\n  /**\n   * Checks whether graph node has in its settings pinned attribute,\n   * which means layout algorithm cannot move it. Node can be marked\n   * as pinned, if it has \"isPinned\" attribute, or when node.data has it.\n   *\n   * @param {Object} node a graph node to check\n   * @return {Boolean} true if node should be treated as pinned; false otherwise.\n   */\n\n\n  function isNodeOriginallyPinned(node) {\n    return node && (node.isPinned || node.data && node.data.isPinned);\n  }\n\n  function getInitializedBody(nodeId) {\n    var body = nodeBodies[nodeId];\n\n    if (!body) {\n      initBody(nodeId);\n      body = nodeBodies[nodeId];\n    }\n\n    return body;\n  }\n  /**\n   * Calculates mass of a body, which corresponds to node with given id.\n   *\n   * @param {String|Number} nodeId identifier of a node, for which body mass needs to be calculated\n   * @returns {Number} recommended mass of the body;\n   */\n\n\n  function defaultNodeMass(nodeId) {\n    var links = graph.getLinks(nodeId);\n    if (!links) return 1;\n    return 1 + links.length / 3.0;\n  }\n}\n\nfunction noop() {}","module.exports = {\n  Body: Body,\n  Vector2d: Vector2d,\n  Body3d: Body3d,\n  Vector3d: Vector3d\n};\n\nfunction Body(x, y) {\n  this.pos = new Vector2d(x, y);\n  this.prevPos = new Vector2d(x, y);\n  this.force = new Vector2d();\n  this.velocity = new Vector2d();\n  this.mass = 1;\n}\n\nBody.prototype.setPosition = function (x, y) {\n  this.prevPos.x = this.pos.x = x;\n  this.prevPos.y = this.pos.y = y;\n};\n\nfunction Vector2d(x, y) {\n  if (x && typeof x !== 'number') {\n    // could be another vector\n    this.x = typeof x.x === 'number' ? x.x : 0;\n    this.y = typeof x.y === 'number' ? x.y : 0;\n  } else {\n    this.x = typeof x === 'number' ? x : 0;\n    this.y = typeof y === 'number' ? y : 0;\n  }\n}\n\nVector2d.prototype.reset = function () {\n  this.x = this.y = 0;\n};\n\nfunction Body3d(x, y, z) {\n  this.pos = new Vector3d(x, y, z);\n  this.prevPos = new Vector3d(x, y, z);\n  this.force = new Vector3d();\n  this.velocity = new Vector3d();\n  this.mass = 1;\n}\n\nBody3d.prototype.setPosition = function (x, y, z) {\n  this.prevPos.x = this.pos.x = x;\n  this.prevPos.y = this.pos.y = y;\n  this.prevPos.z = this.pos.z = z;\n};\n\nfunction Vector3d(x, y, z) {\n  if (x && typeof x !== 'number') {\n    // could be another vector\n    this.x = typeof x.x === 'number' ? x.x : 0;\n    this.y = typeof x.y === 'number' ? x.y : 0;\n    this.z = typeof x.z === 'number' ? x.z : 0;\n  } else {\n    this.x = typeof x === 'number' ? x : 0;\n    this.y = typeof y === 'number' ? y : 0;\n    this.z = typeof z === 'number' ? z : 0;\n  }\n}\n\n;\n\nVector3d.prototype.reset = function () {\n  this.x = this.y = this.z = 0;\n};","export default function (x, y, z) {\n  var nodes;\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n  if (z == null) z = 0;\n\n  function force() {\n    var i,\n        n = nodes.length,\n        node,\n        sx = 0,\n        sy = 0,\n        sz = 0;\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], sx += node.x || 0, sy += node.y || 0, sz += node.z || 0;\n    }\n\n    for (sx = sx / n - x, sy = sy / n - y, sz = sz / n - z, i = 0; i < n; ++i) {\n      node = nodes[i];\n\n      if (sx) {\n        node.x -= sx;\n      }\n\n      if (sy) {\n        node.y -= sy;\n      }\n\n      if (sz) {\n        node.z -= sz;\n      }\n    }\n  }\n\n  force.initialize = function (_) {\n    nodes = _;\n  };\n\n  force.x = function (_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function (_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  force.z = function (_) {\n    return arguments.length ? (z = +_, force) : z;\n  };\n\n  return force;\n}","export default function (d) {\n  var x = +this._x.call(null, d);\n  return add(this.cover(x), x, d);\n}\n\nfunction add(tree, x, d) {\n  if (isNaN(x)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {\n    data: d\n  },\n      x0 = tree._x0,\n      x1 = tree._x1,\n      xm,\n      xp,\n      right,\n      i,\n      j; // If the tree is empty, initialize the root as a leaf.\n\n  if (!node) return tree._root = leaf, tree; // Find the existing leaf for the new point, or add it.\n\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm;else x1 = xm;\n    if (parent = node, !(node = node[i = +right])) return parent[i] = leaf, tree;\n  } // Is the new point is exactly coincident with the existing point?\n\n\n  xp = +tree._x.call(null, node.data);\n  if (x === xp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree; // Otherwise, split the leaf node until the old and new point are separated.\n\n  do {\n    parent = parent ? parent[i] = new Array(2) : tree._root = new Array(2);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm;else x1 = xm;\n  } while ((i = +right) === (j = +(xp >= xm)));\n\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var i,\n      n = data.length,\n      x,\n      xz = new Array(n),\n      x0 = Infinity,\n      x1 = -Infinity; // Compute the points and their extent.\n\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, data[i]))) continue;\n    xz[i] = x;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n  } // If there were no (valid) points, inherit the existing extent.\n\n\n  if (x1 < x0) x0 = this._x0, x1 = this._x1; // Expand the tree to cover the new points.\n\n  this.cover(x0).cover(x1); // Add the new points.\n\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], data[i]);\n  }\n\n  return this;\n}","export default function (x) {\n  if (isNaN(x = +x)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      x1 = this._x1; // If the binarytree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing half boundaries dont change due to floating point error!\n\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n  } // Otherwise, double repeatedly to cover.\n  else if (x0 > x || x > x1) {\n      var z = x1 - x0,\n          node = this._root,\n          parent,\n          i;\n\n      switch (i = +(x < (x0 + x1) / 2)) {\n        case 0:\n          {\n            do {\n              parent = new Array(2), parent[i] = node, node = parent;\n            } while ((z *= 2, x1 = x0 + z, x > x1));\n\n            break;\n          }\n\n        case 1:\n          {\n            do {\n              parent = new Array(2), parent[i] = node, node = parent;\n            } while ((z *= 2, x0 = x1 - z, x0 > x));\n\n            break;\n          }\n      }\n\n      if (this._root && this._root.length) this._root = node;\n    } // If the binarytree covers the point already, just return.\n    else return this;\n\n  this._x0 = x0;\n  this._x1 = x1;\n  return this;\n}","export default function (node, x0, x1) {\n  this.node = node;\n  this.x0 = x0;\n  this.x1 = x1;\n}","export function defaultX(d) {\n  return d[0];\n}\nexport default function (_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}","import \"core-js/modules/es6.array.find\";\nimport tree_add, { addAll as tree_addAll } from \"./add\";\nimport tree_cover from \"./cover\";\nimport tree_data from \"./data\";\nimport tree_extent from \"./extent\";\nimport tree_find from \"./find\";\nimport tree_remove, { removeAll as tree_removeAll } from \"./remove\";\nimport tree_root from \"./root\";\nimport tree_size from \"./size\";\nimport tree_visit from \"./visit\";\nimport tree_visitAfter from \"./visitAfter\";\nimport tree_x, { defaultX } from \"./x\";\nexport default function binarytree(nodes, x) {\n  var tree = new Binarytree(x == null ? defaultX : x, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Binarytree(x, x0, x1) {\n  this._x = x;\n  this._x0 = x0;\n  this._x1 = x1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {\n    data: leaf.data\n  },\n      next = copy;\n\n  while (leaf = leaf.next) {\n    next = next.next = {\n      data: leaf.data\n    };\n  }\n\n  return copy;\n}\n\nvar treeProto = binarytree.prototype = Binarytree.prototype;\n\ntreeProto.copy = function () {\n  var copy = new Binarytree(this._x, this._x0, this._x1),\n      node = this._root,\n      nodes,\n      child;\n  if (!node) return copy;\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n  nodes = [{\n    source: node,\n    target: copy._root = new Array(2)\n  }];\n\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 2; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({\n          source: child,\n          target: node.target[i] = new Array(2)\n        });else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;","export default function () {\n  var data = [];\n  this.visit(function (node) {\n    if (!node.length) do {\n      data.push(node.data);\n    } while (node = node.next);\n  });\n  return data;\n}","export default function (_) {\n  return arguments.length ? this.cover(+_[0][0]).cover(+_[1][0]) : isNaN(this._x0) ? undefined : [[this._x0], [this._x1]];\n}","import Half from \"./half\";\nexport default function (x, radius) {\n  var data,\n      x0 = this._x0,\n      x1,\n      x2,\n      x3 = this._x1,\n      halves = [],\n      node = this._root,\n      q,\n      i;\n  if (node) halves.push(new Half(node, x0, x3));\n  if (radius == null) radius = Infinity;else {\n    x0 = x - radius;\n    x3 = x + radius;\n  }\n\n  while (q = halves.pop()) {\n    // Stop searching if this half cant contain a closer node.\n    if (!(node = q.node) || (x1 = q.x0) > x3 || (x2 = q.x1) < x0) continue; // Bisect the current half.\n\n    if (node.length) {\n      var xm = (x1 + x2) / 2;\n      halves.push(new Half(node[1], xm, x2), new Half(node[0], x1, xm)); // Visit the closest half first.\n\n      if (i = +(x >= xm)) {\n        q = halves[halves.length - 1];\n        halves[halves.length - 1] = halves[halves.length - 1 - i];\n        halves[halves.length - 1 - i] = q;\n      }\n    } // Visit this point. (Visiting coincident points isnt necessary!)\n    else {\n        var d = Math.abs(x - +this._x.call(null, node.data));\n\n        if (d < radius) {\n          radius = d;\n          x0 = x - d;\n          x3 = x + d;\n          data = node.data;\n        }\n      }\n  }\n\n  return data;\n}","export default function (d) {\n  if (isNaN(x = +this._x.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      x1 = this._x1,\n      x,\n      xm,\n      right,\n      i,\n      j; // If the tree is empty, initialize the root as a leaf.\n\n  if (!node) return this; // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm;else x1 = xm;\n    if (!(parent = node, node = node[i = +right])) return this;\n    if (!node.length) break;\n    if (parent[i + 1 & 1]) retainer = parent, j = i;\n  } // Find the point to remove.\n\n  while (node.data !== d) {\n    if (!(previous = node, node = node.next)) return this;\n  }\n\n  if (next = node.next) delete node.next; // If there are multiple coincident points, remove just the point.\n\n  if (previous) return next ? previous.next = next : delete previous.next, this; // If this is the root point, remove it.\n\n  if (!parent) return this._root = next, this; // Remove this leaf.\n\n  next ? parent[i] = next : delete parent[i]; // If the parent now contains exactly one leaf, collapse superfluous parents.\n\n  if ((node = parent[0] || parent[1]) && node === (parent[1] || parent[0]) && !node.length) {\n    if (retainer) retainer[j] = node;else this._root = node;\n  }\n\n  return this;\n}\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) {\n    this.remove(data[i]);\n  }\n\n  return this;\n}","export default function () {\n  return this._root;\n}","export default function () {\n  var size = 0;\n  this.visit(function (node) {\n    if (!node.length) do {\n      ++size;\n    } while (node = node.next);\n  });\n  return size;\n}","import Half from \"./half\";\nexport default function (callback) {\n  var halves = [],\n      q,\n      node = this._root,\n      child,\n      x0,\n      x1;\n  if (node) halves.push(new Half(node, this._x0, this._x1));\n\n  while (q = halves.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, x1 = q.x1) && node.length) {\n      var xm = (x0 + x1) / 2;\n      if (child = node[1]) halves.push(new Half(child, xm, x1));\n      if (child = node[0]) halves.push(new Half(child, x0, xm));\n    }\n  }\n\n  return this;\n}","import Half from \"./half\";\nexport default function (callback) {\n  var halves = [],\n      next = [],\n      q;\n  if (this._root) halves.push(new Half(this._root, this._x0, this._x1));\n\n  while (q = halves.pop()) {\n    var node = q.node;\n\n    if (node.length) {\n      var child,\n          x0 = q.x0,\n          x1 = q.x1,\n          xm = (x0 + x1) / 2;\n      if (child = node[0]) halves.push(new Half(child, x0, xm));\n      if (child = node[1]) halves.push(new Half(child, xm, x1));\n    }\n\n    next.push(q);\n  }\n\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.x1);\n  }\n\n  return this;\n}","export default function (d) {\n  var x = +this._x.call(null, d),\n      y = +this._y.call(null, d),\n      z = +this._z.call(null, d);\n  return add(this.cover(x, y, z), x, y, z, d);\n}\n\nfunction add(tree, x, y, z, d) {\n  if (isNaN(x) || isNaN(y) || isNaN(z)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {\n    data: d\n  },\n      x0 = tree._x0,\n      y0 = tree._y0,\n      z0 = tree._z0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      z1 = tree._z1,\n      xm,\n      ym,\n      zm,\n      xp,\n      yp,\n      zp,\n      right,\n      bottom,\n      deep,\n      i,\n      j; // If the tree is empty, initialize the root as a leaf.\n\n  if (!node) return tree._root = leaf, tree; // Find the existing leaf for the new point, or add it.\n\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm;else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym;else y1 = ym;\n    if (deep = z >= (zm = (z0 + z1) / 2)) z0 = zm;else z1 = zm;\n    if (parent = node, !(node = node[i = deep << 2 | bottom << 1 | right])) return parent[i] = leaf, tree;\n  } // Is the new point is exactly coincident with the existing point?\n\n\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  zp = +tree._z.call(null, node.data);\n  if (x === xp && y === yp && z === zp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree; // Otherwise, split the leaf node until the old and new point are separated.\n\n  do {\n    parent = parent ? parent[i] = new Array(8) : tree._root = new Array(8);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm;else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym;else y1 = ym;\n    if (deep = z >= (zm = (z0 + z1) / 2)) z0 = zm;else z1 = zm;\n  } while ((i = deep << 2 | bottom << 1 | right) === (j = (zp >= zm) << 2 | (yp >= ym) << 1 | xp >= xm));\n\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d,\n      i,\n      n = data.length,\n      x,\n      y,\n      z,\n      xz = new Array(n),\n      yz = new Array(n),\n      zz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      z0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity,\n      z1 = -Infinity; // Compute the points and their extent.\n\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d)) || isNaN(z = +this._z.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    zz[i] = z;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n    if (z < z0) z0 = z;\n    if (z > z1) z1 = z;\n  } // If there were no (valid) points, inherit the existing extent.\n\n\n  if (x1 < x0) x0 = this._x0, x1 = this._x1;\n  if (y1 < y0) y0 = this._y0, y1 = this._y1;\n  if (z1 < z0) z0 = this._z0, z1 = this._z1; // Expand the tree to cover the new points.\n\n  this.cover(x0, y0, z0).cover(x1, y1, z1); // Add the new points.\n\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], zz[i], data[i]);\n  }\n\n  return this;\n}","export default function (x, y, z) {\n  if (isNaN(x = +x) || isNaN(y = +y) || isNaN(z = +z)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      z0 = this._z0,\n      x1 = this._x1,\n      y1 = this._y1,\n      z1 = this._z1; // If the octree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing octant boundaries dont change due to floating point error!\n\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n    z1 = (z0 = Math.floor(z)) + 1;\n  } // Otherwise, double repeatedly to cover.\n  else if (x0 > x || x > x1 || y0 > y || y > y1 || z0 > z || z > z1) {\n      var t = x1 - x0,\n          node = this._root,\n          parent,\n          i;\n\n      switch (i = (z < (z0 + z1) / 2) << 2 | (y < (y0 + y1) / 2) << 1 | x < (x0 + x1) / 2) {\n        case 0:\n          {\n            do {\n              parent = new Array(8), parent[i] = node, node = parent;\n            } while ((t *= 2, x1 = x0 + t, y1 = y0 + t, z1 = z0 + t, x > x1 || y > y1 || z > z1));\n\n            break;\n          }\n\n        case 1:\n          {\n            do {\n              parent = new Array(8), parent[i] = node, node = parent;\n            } while ((t *= 2, x0 = x1 - t, y1 = y0 + t, z1 = z0 + t, x0 > x || y > y1 || z > z1));\n\n            break;\n          }\n\n        case 2:\n          {\n            do {\n              parent = new Array(8), parent[i] = node, node = parent;\n            } while ((t *= 2, x1 = x0 + t, y0 = y1 - t, z1 = z0 + t, x > x1 || y0 > y || z > z1));\n\n            break;\n          }\n\n        case 3:\n          {\n            do {\n              parent = new Array(8), parent[i] = node, node = parent;\n            } while ((t *= 2, x0 = x1 - t, y0 = y1 - t, z1 = z0 + t, x0 > x || y0 > y || z > z1));\n\n            break;\n          }\n\n        case 4:\n          {\n            do {\n              parent = new Array(8), parent[i] = node, node = parent;\n            } while ((t *= 2, x1 = x0 + t, y1 = y0 + t, z0 = z1 - t, x > x1 || y > y1 || z0 > z));\n\n            break;\n          }\n\n        case 5:\n          {\n            do {\n              parent = new Array(8), parent[i] = node, node = parent;\n            } while ((t *= 2, x0 = x1 - t, y1 = y0 + t, z0 = z1 - t, x0 > x || y > y1 || z0 > z));\n\n            break;\n          }\n\n        case 6:\n          {\n            do {\n              parent = new Array(8), parent[i] = node, node = parent;\n            } while ((t *= 2, x1 = x0 + t, y0 = y1 - t, z0 = z1 - t, x > x1 || y0 > y || z0 > z));\n\n            break;\n          }\n\n        case 7:\n          {\n            do {\n              parent = new Array(8), parent[i] = node, node = parent;\n            } while ((t *= 2, x0 = x1 - t, y0 = y1 - t, z0 = z1 - t, x0 > x || y0 > y || z0 > z));\n\n            break;\n          }\n      }\n\n      if (this._root && this._root.length) this._root = node;\n    } // If the octree covers the point already, just return.\n    else return this;\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._z0 = z0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._z1 = z1;\n  return this;\n}","export default function (node, x0, y0, z0, x1, y1, z1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.z0 = z0;\n  this.x1 = x1;\n  this.y1 = y1;\n  this.z1 = z1;\n}","export function defaultX(d) {\n  return d[0];\n}\nexport default function (_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}","export function defaultY(d) {\n  return d[1];\n}\nexport default function (_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}","export function defaultZ(d) {\n  return d[2];\n}\nexport default function (_) {\n  return arguments.length ? (this._z = _, this) : this._z;\n}","import \"core-js/modules/es6.array.find\";\nimport tree_add, { addAll as tree_addAll } from \"./add\";\nimport tree_cover from \"./cover\";\nimport tree_data from \"./data\";\nimport tree_extent from \"./extent\";\nimport tree_find from \"./find\";\nimport tree_remove, { removeAll as tree_removeAll } from \"./remove\";\nimport tree_root from \"./root\";\nimport tree_size from \"./size\";\nimport tree_visit from \"./visit\";\nimport tree_visitAfter from \"./visitAfter\";\nimport tree_x, { defaultX } from \"./x\";\nimport tree_y, { defaultY } from \"./y\";\nimport tree_z, { defaultZ } from \"./z\";\nexport default function octree(nodes, x, y, z) {\n  var tree = new Octree(x == null ? defaultX : x, y == null ? defaultY : y, z == null ? defaultZ : z, NaN, NaN, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Octree(x, y, z, x0, y0, z0, x1, y1, z1) {\n  this._x = x;\n  this._y = y;\n  this._z = z;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._z0 = z0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._z1 = z1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {\n    data: leaf.data\n  },\n      next = copy;\n\n  while (leaf = leaf.next) {\n    next = next.next = {\n      data: leaf.data\n    };\n  }\n\n  return copy;\n}\n\nvar treeProto = octree.prototype = Octree.prototype;\n\ntreeProto.copy = function () {\n  var copy = new Octree(this._x, this._y, this._z, this._x0, this._y0, this._z0, this._x1, this._y1, this._z1),\n      node = this._root,\n      nodes,\n      child;\n  if (!node) return copy;\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n  nodes = [{\n    source: node,\n    target: copy._root = new Array(8)\n  }];\n\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 8; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({\n          source: child,\n          target: node.target[i] = new Array(8)\n        });else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\ntreeProto.z = tree_z;","export default function () {\n  var data = [];\n  this.visit(function (node) {\n    if (!node.length) do {\n      data.push(node.data);\n    } while (node = node.next);\n  });\n  return data;\n}","export default function (_) {\n  return arguments.length ? this.cover(+_[0][0], +_[0][1], +_[0][2]).cover(+_[1][0], +_[1][1], +_[1][2]) : isNaN(this._x0) ? undefined : [[this._x0, this._y0, this._z0], [this._x1, this._y1, this._z1]];\n}","import Octant from \"./octant\";\nexport default function (x, y, z, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      z0 = this._z0,\n      x1,\n      y1,\n      z1,\n      x2,\n      y2,\n      z2,\n      x3 = this._x1,\n      y3 = this._y1,\n      z3 = this._z1,\n      octs = [],\n      node = this._root,\n      q,\n      i;\n  if (node) octs.push(new Octant(node, x0, y0, z0, x3, y3, z3));\n  if (radius == null) radius = Infinity;else {\n    x0 = x - radius, y0 = y - radius, z0 = z - radius;\n    x3 = x + radius, y3 = y + radius, z3 = z + radius;\n    radius *= radius;\n  }\n\n  while (q = octs.pop()) {\n    // Stop searching if this octant cant contain a closer node.\n    if (!(node = q.node) || (x1 = q.x0) > x3 || (y1 = q.y0) > y3 || (z1 = q.z0) > z3 || (x2 = q.x1) < x0 || (y2 = q.y1) < y0 || (z2 = q.z1) < z0) continue; // Bisect the current octant.\n\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2,\n          zm = (z1 + z2) / 2;\n      octs.push(new Octant(node[7], xm, ym, zm, x2, y2, z2), new Octant(node[6], x1, ym, zm, xm, y2, z2), new Octant(node[5], xm, y1, zm, x2, ym, z2), new Octant(node[4], x1, y1, zm, xm, ym, z2), new Octant(node[3], xm, ym, z1, x2, y2, zm), new Octant(node[2], x1, ym, z1, xm, y2, zm), new Octant(node[1], xm, y1, z1, x2, ym, zm), new Octant(node[0], x1, y1, z1, xm, ym, zm)); // Visit the closest octant first.\n\n      if (i = (z >= zm) << 2 | (y >= ym) << 1 | x >= xm) {\n        q = octs[octs.length - 1];\n        octs[octs.length - 1] = octs[octs.length - 1 - i];\n        octs[octs.length - 1 - i] = q;\n      }\n    } // Visit this point. (Visiting coincident points isnt necessary!)\n    else {\n        var dx = x - +this._x.call(null, node.data),\n            dy = y - +this._y.call(null, node.data),\n            dz = z - +this._z.call(null, node.data),\n            d2 = dx * dx + dy * dy + dz * dz;\n\n        if (d2 < radius) {\n          var d = Math.sqrt(radius = d2);\n          x0 = x - d, y0 = y - d, z0 = z - d;\n          x3 = x + d, y3 = y + d, z3 = z + d;\n          data = node.data;\n        }\n      }\n  }\n\n  return data;\n}","export default function (d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d)) || isNaN(z = +this._z.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      z0 = this._z0,\n      x1 = this._x1,\n      y1 = this._y1,\n      z1 = this._z1,\n      x,\n      y,\n      z,\n      xm,\n      ym,\n      zm,\n      right,\n      bottom,\n      deep,\n      i,\n      j; // If the tree is empty, initialize the root as a leaf.\n\n  if (!node) return this; // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm;else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym;else y1 = ym;\n    if (deep = z >= (zm = (z0 + z1) / 2)) z0 = zm;else z1 = zm;\n    if (!(parent = node, node = node[i = deep << 2 | bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[i + 1 & 7] || parent[i + 2 & 7] || parent[i + 3 & 7] || parent[i + 4 & 7] || parent[i + 5 & 7] || parent[i + 6 & 7] || parent[i + 7 & 7]) retainer = parent, j = i;\n  } // Find the point to remove.\n\n  while (node.data !== d) {\n    if (!(previous = node, node = node.next)) return this;\n  }\n\n  if (next = node.next) delete node.next; // If there are multiple coincident points, remove just the point.\n\n  if (previous) return next ? previous.next = next : delete previous.next, this; // If this is the root point, remove it.\n\n  if (!parent) return this._root = next, this; // Remove this leaf.\n\n  next ? parent[i] = next : delete parent[i]; // If the parent now contains exactly one leaf, collapse superfluous parents.\n\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3] || parent[4] || parent[5] || parent[6] || parent[7]) && node === (parent[7] || parent[6] || parent[5] || parent[4] || parent[3] || parent[2] || parent[1] || parent[0]) && !node.length) {\n    if (retainer) retainer[j] = node;else this._root = node;\n  }\n\n  return this;\n}\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) {\n    this.remove(data[i]);\n  }\n\n  return this;\n}","export default function () {\n  return this._root;\n}","export default function () {\n  var size = 0;\n  this.visit(function (node) {\n    if (!node.length) do {\n      ++size;\n    } while (node = node.next);\n  });\n  return size;\n}","import Octant from \"./octant\";\nexport default function (callback) {\n  var octs = [],\n      q,\n      node = this._root,\n      child,\n      x0,\n      y0,\n      z0,\n      x1,\n      y1,\n      z1;\n  if (node) octs.push(new Octant(node, this._x0, this._y0, this._z0, this._x1, this._y1, this._z1));\n\n  while (q = octs.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, z0 = q.z0, x1 = q.x1, y1 = q.y1, z1 = q.z1) && node.length) {\n      var xm = (x0 + x1) / 2,\n          ym = (y0 + y1) / 2,\n          zm = (z0 + z1) / 2;\n      if (child = node[7]) octs.push(new Octant(child, xm, ym, zm, x1, y1, z1));\n      if (child = node[6]) octs.push(new Octant(child, x0, ym, zm, xm, y1, z1));\n      if (child = node[5]) octs.push(new Octant(child, xm, y0, zm, x1, ym, z1));\n      if (child = node[4]) octs.push(new Octant(child, x0, y0, zm, xm, ym, z1));\n      if (child = node[3]) octs.push(new Octant(child, xm, ym, z0, x1, y1, zm));\n      if (child = node[2]) octs.push(new Octant(child, x0, ym, z0, xm, y1, zm));\n      if (child = node[1]) octs.push(new Octant(child, xm, y0, z0, x1, ym, zm));\n      if (child = node[0]) octs.push(new Octant(child, x0, y0, z0, xm, ym, zm));\n    }\n  }\n\n  return this;\n}","import Octant from \"./octant\";\nexport default function (callback) {\n  var octs = [],\n      next = [],\n      q;\n  if (this._root) octs.push(new Octant(this._root, this._x0, this._y0, this._z0, this._x1, this._y1, this._z1));\n\n  while (q = octs.pop()) {\n    var node = q.node;\n\n    if (node.length) {\n      var child,\n          x0 = q.x0,\n          y0 = q.y0,\n          z0 = q.z0,\n          x1 = q.x1,\n          y1 = q.y1,\n          z1 = q.z1,\n          xm = (x0 + x1) / 2,\n          ym = (y0 + y1) / 2,\n          zm = (z0 + z1) / 2;\n      if (child = node[0]) octs.push(new Octant(child, x0, y0, z0, xm, ym, zm));\n      if (child = node[1]) octs.push(new Octant(child, xm, y0, z0, x1, ym, zm));\n      if (child = node[2]) octs.push(new Octant(child, x0, ym, z0, xm, y1, zm));\n      if (child = node[3]) octs.push(new Octant(child, xm, ym, z0, x1, y1, zm));\n      if (child = node[4]) octs.push(new Octant(child, x0, y0, zm, xm, ym, z1));\n      if (child = node[5]) octs.push(new Octant(child, xm, y0, zm, x1, ym, z1));\n      if (child = node[6]) octs.push(new Octant(child, x0, ym, zm, xm, y1, z1));\n      if (child = node[7]) octs.push(new Octant(child, xm, ym, zm, x1, y1, z1));\n    }\n\n    next.push(q);\n  }\n\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.z0, q.x1, q.y1, q.z1);\n  }\n\n  return this;\n}","export default function (x) {\n  return function () {\n    return x;\n  };\n}","export default function () {\n  return (Math.random() - 0.5) * 1e-6;\n}","import \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.map\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"node not found: \" + nodeId);\n  return node;\n}\n\nexport default function (links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      nDim,\n      count,\n      bias,\n      iterations = 1;\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x = 0, y = 0, z = 0, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle();\n\n        if (nDim > 1) {\n          y = target.y + target.vy - source.y - source.vy || jiggle();\n        }\n\n        if (nDim > 2) {\n          z = target.z + target.vz - source.z - source.vz || jiggle();\n        }\n\n        l = Math.sqrt(x * x + y * y + z * z);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l, z *= l;\n        target.vx -= x * (b = bias[i]);\n\n        if (nDim > 1) {\n          target.vy -= y * b;\n        }\n\n        if (nDim > 2) {\n          target.vz -= z * b;\n        }\n\n        source.vx += x * (b = 1 - b);\n\n        if (nDim > 1) {\n          source.vy += y * b;\n        }\n\n        if (nDim > 2) {\n          source.vz += z * b;\n        }\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = new Map(nodes.map(function (d, i) {\n      return [id(d, i, nodes), d];\n    })),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function (initNodes, numDimensions) {\n    nodes = initNodes;\n    nDim = numDimensions;\n    initialize();\n  };\n\n  force.links = function (_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function (_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function (_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function (_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function (_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n}","import \"core-js/modules/es6.math.cbrt\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.map\";\nimport { dispatch } from \"d3-dispatch\";\nimport { timer } from \"d3-timer\";\nvar MAX_DIMENSIONS = 3;\nexport function x(d) {\n  return d.x;\n}\nexport function y(d) {\n  return d.y;\n}\nexport function z(d) {\n  return d.z;\n}\nvar initialRadius = 10,\n    initialAngleRoll = Math.PI * (3 - Math.sqrt(5)),\n    // Golden ratio angle\ninitialAngleYaw = Math.PI * 20 / (9 + Math.sqrt(221)); // Markov irrational number\n\nexport default function (_nodes, numDimensions) {\n  numDimensions = numDimensions || 2;\n\n  var nDim = Math.min(MAX_DIMENSIONS, Math.max(1, Math.round(numDimensions))),\n      simulation,\n      _alpha = 1,\n      _alphaMin = 0.001,\n      _alphaDecay = 1 - Math.pow(_alphaMin, 1 / 300),\n      _alphaTarget = 0,\n      _velocityDecay = 0.6,\n      forces = new Map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\");\n\n  if (_nodes == null) _nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n\n    if (_alpha < _alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i,\n        n = _nodes.length,\n        node;\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      _alpha += (_alphaTarget - _alpha) * _alphaDecay;\n      forces.forEach(function (force) {\n        force(_alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = _nodes[i];\n        if (node.fx == null) node.x += node.vx *= _velocityDecay;else node.x = node.fx, node.vx = 0;\n\n        if (nDim > 1) {\n          if (node.fy == null) node.y += node.vy *= _velocityDecay;else node.y = node.fy, node.vy = 0;\n        }\n\n        if (nDim > 2) {\n          if (node.fz == null) node.z += node.vz *= _velocityDecay;else node.z = node.fz, node.vz = 0;\n        }\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = _nodes.length, node; i < n; ++i) {\n      node = _nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (node.fz != null) node.z = node.fz;\n\n      if (isNaN(node.x) || nDim > 1 && isNaN(node.y) || nDim > 2 && isNaN(node.z)) {\n        var radius = initialRadius * (nDim > 2 ? Math.cbrt(i) : nDim > 1 ? Math.sqrt(i) : i),\n            rollAngle = i * initialAngleRoll,\n            yawAngle = i * initialAngleYaw;\n\n        if (nDim === 1) {\n          node.x = radius;\n        } else if (nDim === 2) {\n          node.x = radius * Math.cos(rollAngle);\n          node.y = radius * Math.sin(rollAngle);\n        } else {\n          // 3 dimensions: use spherical distribution along 2 irrational number angles\n          node.x = radius * Math.sin(rollAngle) * Math.cos(yawAngle);\n          node.y = radius * Math.cos(rollAngle);\n          node.z = radius * Math.sin(rollAngle) * Math.sin(yawAngle);\n        }\n      }\n\n      if (isNaN(node.vx) || nDim > 1 && isNaN(node.vy) || nDim > 2 && isNaN(node.vz)) {\n        node.vx = 0;\n\n        if (nDim > 1) {\n          node.vy = 0;\n        }\n\n        if (nDim > 2) {\n          node.vz = 0;\n        }\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(_nodes, nDim);\n    return force;\n  }\n\n  initializeNodes();\n  return simulation = {\n    tick: tick,\n    restart: function restart() {\n      return stepper.restart(step), simulation;\n    },\n    stop: function stop() {\n      return stepper.stop(), simulation;\n    },\n    numDimensions: function numDimensions(_) {\n      return arguments.length ? (nDim = Math.min(MAX_DIMENSIONS, Math.max(1, Math.round(_))), forces.forEach(initializeForce), simulation) : nDim;\n    },\n    nodes: function nodes(_) {\n      return arguments.length ? (_nodes = _, initializeNodes(), forces.forEach(initializeForce), simulation) : _nodes;\n    },\n    alpha: function alpha(_) {\n      return arguments.length ? (_alpha = +_, simulation) : _alpha;\n    },\n    alphaMin: function alphaMin(_) {\n      return arguments.length ? (_alphaMin = +_, simulation) : _alphaMin;\n    },\n    alphaDecay: function alphaDecay(_) {\n      return arguments.length ? (_alphaDecay = +_, simulation) : +_alphaDecay;\n    },\n    alphaTarget: function alphaTarget(_) {\n      return arguments.length ? (_alphaTarget = +_, simulation) : _alphaTarget;\n    },\n    velocityDecay: function velocityDecay(_) {\n      return arguments.length ? (_velocityDecay = 1 - _, simulation) : 1 - _velocityDecay;\n    },\n    force: function force(name, _) {\n      return arguments.length > 1 ? (_ == null ? forces[\"delete\"](name) : forces.set(name, initializeForce(_)), simulation) : forces.get(name);\n    },\n    find: function find() {\n      var args = Array.prototype.slice.call(arguments);\n      var x = args.shift() || 0,\n          y = (nDim > 1 ? args.shift() : null) || 0,\n          z = (nDim > 2 ? args.shift() : null) || 0,\n          radius = args.shift() || Infinity;\n      var i = 0,\n          n = _nodes.length,\n          dx,\n          dy,\n          dz,\n          d2,\n          node,\n          closest;\n      radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = _nodes[i];\n        dx = x - node.x;\n        dy = y - (node.y || 0);\n        dz = z - (node.z || 0);\n        d2 = dx * dx + dy * dy + dz * dz;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n    on: function on(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}","import { binarytree } from \"d3-binarytree\";\nimport { quadtree } from \"d3-quadtree\";\nimport { octree } from \"d3-octree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\nimport { x, y, z } from \"./simulation.js\";\nexport default function () {\n  var nodes,\n      nDim,\n      node,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i,\n        n = nodes.length,\n        tree = (nDim === 1 ? binarytree(nodes, x) : nDim === 2 ? quadtree(nodes, x, y) : nDim === 3 ? octree(nodes, x, y, z) : null).visitAfter(accumulate);\n\n    for (alpha = _, i = 0; i < n; ++i) {\n      node = nodes[i], tree.visit(apply);\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i,\n        n = nodes.length,\n        node;\n    strengths = new Array(n);\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n    }\n  }\n\n  function accumulate(treeNode) {\n    var strength = 0,\n        q,\n        c,\n        weight = 0,\n        x,\n        y,\n        z,\n        i;\n    var numChildren = treeNode.length; // For internal nodes, accumulate forces from children.\n\n    if (numChildren) {\n      for (x = y = z = i = 0; i < numChildren; ++i) {\n        if ((q = treeNode[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * (q.x || 0), y += c * (q.y || 0), z += c * (q.z || 0);\n        }\n      }\n\n      strength *= Math.sqrt(4 / numChildren); // scale accumulated strength according to number of dimensions\n\n      treeNode.x = x / weight;\n\n      if (nDim > 1) {\n        treeNode.y = y / weight;\n      }\n\n      if (nDim > 2) {\n        treeNode.z = z / weight;\n      }\n    } // For leaf nodes, accumulate forces from coincident nodes.\n    else {\n        q = treeNode;\n        q.x = q.data.x;\n\n        if (nDim > 1) {\n          q.y = q.data.y;\n        }\n\n        if (nDim > 2) {\n          q.z = q.data.z;\n        }\n\n        do {\n          strength += strengths[q.data.index];\n        } while (q = q.next);\n      }\n\n    treeNode.value = strength;\n  }\n\n  function apply(treeNode, x1, arg1, arg2, arg3) {\n    if (!treeNode.value) return true;\n    var x2 = [arg1, arg2, arg3][nDim - 1];\n    var x = treeNode.x - node.x,\n        y = nDim > 1 ? treeNode.y - node.y : 0,\n        z = nDim > 2 ? treeNode.z - node.z : 0,\n        w = x2 - x1,\n        l = x * x + y * y + z * z; // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(), l += x * x;\n        if (nDim > 1 && y === 0) y = jiggle(), l += y * y;\n        if (nDim > 2 && z === 0) z = jiggle(), l += z * z;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * treeNode.value * alpha / l;\n\n        if (nDim > 1) {\n          node.vy += y * treeNode.value * alpha / l;\n        }\n\n        if (nDim > 2) {\n          node.vz += z * treeNode.value * alpha / l;\n        }\n      }\n\n      return true;\n    } // Otherwise, process points directly.\n    else if (treeNode.length || l >= distanceMax2) return; // Limit forces for very close nodes; randomize direction if coincident.\n\n\n    if (treeNode.data !== node || treeNode.next) {\n      if (x === 0) x = jiggle(), l += x * x;\n      if (nDim > 1 && y === 0) y = jiggle(), l += y * y;\n      if (nDim > 2 && z === 0) z = jiggle(), l += z * z;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do {\n      if (treeNode.data !== node) {\n        w = strengths[treeNode.data.index] * alpha / l;\n        node.vx += x * w;\n\n        if (nDim > 1) {\n          node.vy += y * w;\n        }\n\n        if (nDim > 2) {\n          node.vz += z * w;\n        }\n      }\n    } while (treeNode = treeNode.next);\n  }\n\n  force.initialize = function (initNodes, numDimensions) {\n    nodes = initNodes;\n    nDim = numDimensions;\n    initialize();\n  };\n\n  force.strength = function (_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function (_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function (_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function (_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}","import constant from \"./constant.js\";\nexport default function (radius, x, y, z) {\n  var nodes,\n      nDim,\n      strength = constant(0.1),\n      strengths,\n      radiuses;\n  if (typeof radius !== \"function\") radius = constant(+radius);\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n  if (z == null) z = 0;\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length; i < n; ++i) {\n      var node = nodes[i],\n          dx = node.x - x || 1e-6,\n          dy = (node.y || 0) - y || 1e-6,\n          dz = (node.z || 0) - z || 1e-6,\n          r = Math.sqrt(dx * dx + dy * dy + dz * dz),\n          k = (radiuses[i] - r) * strengths[i] * alpha / r;\n      node.vx += dx * k;\n\n      if (nDim > 1) {\n        node.vy += dy * k;\n      }\n\n      if (nDim > 2) {\n        node.vz += dz * k;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i,\n        n = nodes.length;\n    strengths = new Array(n);\n    radiuses = new Array(n);\n\n    for (i = 0; i < n; ++i) {\n      radiuses[i] = +radius(nodes[i], i, nodes);\n      strengths[i] = isNaN(radiuses[i]) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function (initNodes, numDimensions) {\n    nodes = initNodes;\n    nDim = numDimensions;\n    initialize();\n  };\n\n  force.strength = function (_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.radius = function (_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  force.x = function (_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function (_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  force.z = function (_) {\n    return arguments.length ? (z = +_, force) : z;\n  };\n\n  return force;\n}","require(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.array.reduce\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.array.sort\");\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.function.bind\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\n/**\n  A javascript Bezier curve library by Pomax.\n\n  Based on http://pomax.github.io/bezierinfo\n\n  This code is MIT licensed.\n**/\n(function () {\n  \"use strict\"; // math-inlining.\n\n  var abs = Math.abs,\n      min = Math.min,\n      max = Math.max,\n      cos = Math.cos,\n      sin = Math.sin,\n      acos = Math.acos,\n      sqrt = Math.sqrt,\n      pi = Math.PI,\n      // a zero coordinate, which is surprisingly useful\n  ZERO = {\n    x: 0,\n    y: 0,\n    z: 0\n  }; // quite needed\n\n  var utils = require(\"./utils.js\"); // only used for outlines atm.\n\n\n  var PolyBezier = require(\"./poly-bezier.js\");\n  /**\n   * Bezier curve constructor. The constructor argument can be one of three things:\n   *\n   * 1. array/4 of {x:..., y:..., z:...}, z optional\n   * 2. numerical array/8 ordered x1,y1,x2,y2,x3,y3,x4,y4\n   * 3. numerical array/12 ordered x1,y1,z1,x2,y2,z2,x3,y3,z3,x4,y4,z4\n   *\n   */\n\n\n  var Bezier = function Bezier(coords) {\n    var args = coords && coords.forEach ? coords : [].slice.call(arguments);\n    var coordlen = false;\n\n    if (typeof args[0] === \"object\") {\n      coordlen = args.length;\n      var newargs = [];\n      args.forEach(function (point) {\n        [\"x\", \"y\", \"z\"].forEach(function (d) {\n          if (typeof point[d] !== \"undefined\") {\n            newargs.push(point[d]);\n          }\n        });\n      });\n      args = newargs;\n    }\n\n    var higher = false;\n    var len = args.length;\n\n    if (coordlen) {\n      if (coordlen > 4) {\n        if (arguments.length !== 1) {\n          throw new Error(\"Only new Bezier(point[]) is accepted for 4th and higher order curves\");\n        }\n\n        higher = true;\n      }\n    } else {\n      if (len !== 6 && len !== 8 && len !== 9 && len !== 12) {\n        if (arguments.length !== 1) {\n          throw new Error(\"Only new Bezier(point[]) is accepted for 4th and higher order curves\");\n        }\n      }\n    }\n\n    var _3d = !higher && (len === 9 || len === 12) || coords && coords[0] && typeof coords[0].z !== \"undefined\";\n\n    this._3d = _3d;\n    var points = [];\n\n    for (var idx = 0, step = _3d ? 3 : 2; idx < len; idx += step) {\n      var point = {\n        x: args[idx],\n        y: args[idx + 1]\n      };\n\n      if (_3d) {\n        point.z = args[idx + 2];\n      }\n\n      points.push(point);\n    }\n\n    this.order = points.length - 1;\n    this.points = points;\n    var dims = [\"x\", \"y\"];\n    if (_3d) dims.push(\"z\");\n    this.dims = dims;\n    this.dimlen = dims.length;\n\n    (function (curve) {\n      var order = curve.order;\n      var points = curve.points;\n      var a = utils.align(points, {\n        p1: points[0],\n        p2: points[order]\n      });\n\n      for (var i = 0; i < a.length; i++) {\n        if (abs(a[i].y) > 0.0001) {\n          curve._linear = false;\n          return;\n        }\n      }\n\n      curve._linear = true;\n    })(this);\n\n    this._t1 = 0;\n    this._t2 = 1;\n    this.update();\n  };\n\n  var svgToBeziers = require(\"./svg-to-beziers\");\n  /**\n   * turn an svg <path> d attribute into a sequence of Bezier segments.\n   */\n\n\n  Bezier.SVGtoBeziers = function (d) {\n    return svgToBeziers(Bezier, d);\n  };\n\n  function getABC(n, S, B, E, t) {\n    if (typeof t === \"undefined\") {\n      t = 0.5;\n    }\n\n    var u = utils.projectionratio(t, n),\n        um = 1 - u,\n        C = {\n      x: u * S.x + um * E.x,\n      y: u * S.y + um * E.y\n    },\n        s = utils.abcratio(t, n),\n        A = {\n      x: B.x + (B.x - C.x) / s,\n      y: B.y + (B.y - C.y) / s\n    };\n    return {\n      A: A,\n      B: B,\n      C: C\n    };\n  }\n\n  Bezier.quadraticFromPoints = function (p1, p2, p3, t) {\n    if (typeof t === \"undefined\") {\n      t = 0.5;\n    } // shortcuts, although they're really dumb\n\n\n    if (t === 0) {\n      return new Bezier(p2, p2, p3);\n    }\n\n    if (t === 1) {\n      return new Bezier(p1, p2, p2);\n    } // real fitting.\n\n\n    var abc = getABC(2, p1, p2, p3, t);\n    return new Bezier(p1, abc.A, p3);\n  };\n\n  Bezier.cubicFromPoints = function (S, B, E, t, d1) {\n    if (typeof t === \"undefined\") {\n      t = 0.5;\n    }\n\n    var abc = getABC(3, S, B, E, t);\n\n    if (typeof d1 === \"undefined\") {\n      d1 = utils.dist(B, abc.C);\n    }\n\n    var d2 = d1 * (1 - t) / t;\n    var selen = utils.dist(S, E),\n        lx = (E.x - S.x) / selen,\n        ly = (E.y - S.y) / selen,\n        bx1 = d1 * lx,\n        by1 = d1 * ly,\n        bx2 = d2 * lx,\n        by2 = d2 * ly; // derivation of new hull coordinates\n\n    var e1 = {\n      x: B.x - bx1,\n      y: B.y - by1\n    },\n        e2 = {\n      x: B.x + bx2,\n      y: B.y + by2\n    },\n        A = abc.A,\n        v1 = {\n      x: A.x + (e1.x - A.x) / (1 - t),\n      y: A.y + (e1.y - A.y) / (1 - t)\n    },\n        v2 = {\n      x: A.x + (e2.x - A.x) / t,\n      y: A.y + (e2.y - A.y) / t\n    },\n        nc1 = {\n      x: S.x + (v1.x - S.x) / t,\n      y: S.y + (v1.y - S.y) / t\n    },\n        nc2 = {\n      x: E.x + (v2.x - E.x) / (1 - t),\n      y: E.y + (v2.y - E.y) / (1 - t)\n    }; // ...done\n\n    return new Bezier(S, nc1, nc2, E);\n  };\n\n  var getUtils = function getUtils() {\n    return utils;\n  };\n\n  Bezier.getUtils = getUtils;\n  Bezier.PolyBezier = PolyBezier;\n  Bezier.prototype = {\n    getUtils: getUtils,\n    valueOf: function valueOf() {\n      return this.toString();\n    },\n    toString: function toString() {\n      return utils.pointsToString(this.points);\n    },\n    toSVG: function toSVG(relative) {\n      if (this._3d) return false;\n      var p = this.points,\n          x = p[0].x,\n          y = p[0].y,\n          s = [\"M\", x, y, this.order === 2 ? \"Q\" : \"C\"];\n\n      for (var i = 1, last = p.length; i < last; i++) {\n        s.push(p[i].x);\n        s.push(p[i].y);\n      }\n\n      return s.join(\" \");\n    },\n    setRatios: function setRatios(ratios) {\n      if (ratios.length !== this.points.length) {\n        throw new Error(\"incorrect number of ratio values\");\n      }\n\n      this.ratios = ratios;\n      this._lut = []; //  invalidate any precomputed LUT\n    },\n    verify: function verify() {\n      var print = this.coordDigest();\n\n      if (print !== this._print) {\n        this._print = print;\n        this.update();\n      }\n    },\n    coordDigest: function coordDigest() {\n      return this.points.map(function (c, pos) {\n        return '' + pos + c.x + c.y + (c.z ? c.z : 0);\n      }).join('');\n    },\n    update: function update(newprint) {\n      // invalidate any precomputed LUT\n      this._lut = [];\n      this.dpoints = utils.derive(this.points, this._3d);\n      this.computedirection();\n    },\n    computedirection: function computedirection() {\n      var points = this.points;\n      var angle = utils.angle(points[0], points[this.order], points[1]);\n      this.clockwise = angle > 0;\n    },\n    length: function length() {\n      return utils.length(this.derivative.bind(this));\n    },\n    _lut: [],\n    getLUT: function getLUT(steps) {\n      this.verify();\n      steps = steps || 100;\n\n      if (this._lut.length === steps) {\n        return this._lut;\n      }\n\n      this._lut = []; // We want a range from 0 to 1 inclusive, so\n      // we decrement and then use <= rather than <:\n\n      steps--;\n\n      for (var t = 0; t <= steps; t++) {\n        this._lut.push(this.compute(t / steps));\n      }\n\n      return this._lut;\n    },\n    on: function on(point, error) {\n      error = error || 5;\n      var lut = this.getLUT(),\n          hits = [],\n          c,\n          t = 0;\n\n      for (var i = 0; i < lut.length; i++) {\n        c = lut[i];\n\n        if (utils.dist(c, point) < error) {\n          hits.push(c);\n          t += i / lut.length;\n        }\n      }\n\n      if (!hits.length) return false;\n      return t /= hits.length;\n    },\n    project: function project(point) {\n      // step 1: coarse check\n      var LUT = this.getLUT(),\n          l = LUT.length - 1,\n          closest = utils.closest(LUT, point),\n          mdist = closest.mdist,\n          mpos = closest.mpos; // step 2: fine check\n\n      var ft,\n          t,\n          p,\n          d,\n          t1 = (mpos - 1) / l,\n          t2 = (mpos + 1) / l,\n          step = 0.1 / l;\n      mdist += 1;\n\n      for (t = t1, ft = t; t < t2 + step; t += step) {\n        p = this.compute(t);\n        d = utils.dist(point, p);\n\n        if (d < mdist) {\n          mdist = d;\n          ft = t;\n        }\n      }\n\n      p = this.compute(ft);\n      p.t = ft;\n      p.d = mdist;\n      return p;\n    },\n    get: function get(t) {\n      return this.compute(t);\n    },\n    point: function point(idx) {\n      return this.points[idx];\n    },\n    compute: function compute(t) {\n      if (this.ratios) return utils.computeWithRatios(t, this.points, this.ratios, this._3d);\n      return utils.compute(t, this.points, this._3d, this.ratios);\n    },\n    raise: function raise() {\n      var p = this.points,\n          np = [p[0]],\n          i,\n          k = p.length,\n          pi,\n          pim;\n\n      for (var i = 1; i < k; i++) {\n        pi = p[i];\n        pim = p[i - 1];\n        np[i] = {\n          x: (k - i) / k * pi.x + i / k * pim.x,\n          y: (k - i) / k * pi.y + i / k * pim.y\n        };\n      }\n\n      np[k] = p[k - 1];\n      return new Bezier(np);\n    },\n    derivative: function derivative(t) {\n      var mt = 1 - t,\n          a,\n          b,\n          c = 0,\n          p = this.dpoints[0];\n\n      if (this.order === 2) {\n        p = [p[0], p[1], ZERO];\n        a = mt;\n        b = t;\n      }\n\n      if (this.order === 3) {\n        a = mt * mt;\n        b = mt * t * 2;\n        c = t * t;\n      }\n\n      var ret = {\n        x: a * p[0].x + b * p[1].x + c * p[2].x,\n        y: a * p[0].y + b * p[1].y + c * p[2].y\n      };\n\n      if (this._3d) {\n        ret.z = a * p[0].z + b * p[1].z + c * p[2].z;\n      }\n\n      return ret;\n    },\n    curvature: function curvature(t) {\n      return utils.curvature(t, this.points, this._3d);\n    },\n    inflections: function inflections() {\n      return utils.inflections(this.points);\n    },\n    normal: function normal(t) {\n      return this._3d ? this.__normal3(t) : this.__normal2(t);\n    },\n    __normal2: function __normal2(t) {\n      var d = this.derivative(t);\n      var q = sqrt(d.x * d.x + d.y * d.y);\n      return {\n        x: -d.y / q,\n        y: d.x / q\n      };\n    },\n    __normal3: function __normal3(t) {\n      // see http://stackoverflow.com/questions/25453159\n      var r1 = this.derivative(t),\n          r2 = this.derivative(t + 0.01),\n          q1 = sqrt(r1.x * r1.x + r1.y * r1.y + r1.z * r1.z),\n          q2 = sqrt(r2.x * r2.x + r2.y * r2.y + r2.z * r2.z);\n      r1.x /= q1;\n      r1.y /= q1;\n      r1.z /= q1;\n      r2.x /= q2;\n      r2.y /= q2;\n      r2.z /= q2; // cross product\n\n      var c = {\n        x: r2.y * r1.z - r2.z * r1.y,\n        y: r2.z * r1.x - r2.x * r1.z,\n        z: r2.x * r1.y - r2.y * r1.x\n      };\n      var m = sqrt(c.x * c.x + c.y * c.y + c.z * c.z);\n      c.x /= m;\n      c.y /= m;\n      c.z /= m; // rotation matrix\n\n      var R = [c.x * c.x, c.x * c.y - c.z, c.x * c.z + c.y, c.x * c.y + c.z, c.y * c.y, c.y * c.z - c.x, c.x * c.z - c.y, c.y * c.z + c.x, c.z * c.z]; // normal vector:\n\n      var n = {\n        x: R[0] * r1.x + R[1] * r1.y + R[2] * r1.z,\n        y: R[3] * r1.x + R[4] * r1.y + R[5] * r1.z,\n        z: R[6] * r1.x + R[7] * r1.y + R[8] * r1.z\n      };\n      return n;\n    },\n    hull: function hull(t) {\n      var p = this.points,\n          _p = [],\n          pt,\n          q = [],\n          idx = 0,\n          i = 0,\n          l = 0;\n      q[idx++] = p[0];\n      q[idx++] = p[1];\n      q[idx++] = p[2];\n\n      if (this.order === 3) {\n        q[idx++] = p[3];\n      } // we lerp between all points at each iteration, until we have 1 point left.\n\n\n      while (p.length > 1) {\n        _p = [];\n\n        for (i = 0, l = p.length - 1; i < l; i++) {\n          pt = utils.lerp(t, p[i], p[i + 1]);\n          q[idx++] = pt;\n\n          _p.push(pt);\n        }\n\n        p = _p;\n      }\n\n      return q;\n    },\n    split: function split(t1, t2) {\n      // shortcuts\n      if (t1 === 0 && !!t2) {\n        return this.split(t2).left;\n      }\n\n      if (t2 === 1) {\n        return this.split(t1).right;\n      } // no shortcut: use \"de Casteljau\" iteration.\n\n\n      var q = this.hull(t1);\n      var result = {\n        left: this.order === 2 ? new Bezier([q[0], q[3], q[5]]) : new Bezier([q[0], q[4], q[7], q[9]]),\n        right: this.order === 2 ? new Bezier([q[5], q[4], q[2]]) : new Bezier([q[9], q[8], q[6], q[3]]),\n        span: q\n      }; // make sure we bind _t1/_t2 information!\n\n      result.left._t1 = utils.map(0, 0, 1, this._t1, this._t2);\n      result.left._t2 = utils.map(t1, 0, 1, this._t1, this._t2);\n      result.right._t1 = utils.map(t1, 0, 1, this._t1, this._t2);\n      result.right._t2 = utils.map(1, 0, 1, this._t1, this._t2); // if we have no t2, we're done\n\n      if (!t2) {\n        return result;\n      } // if we have a t2, split again:\n\n\n      t2 = utils.map(t2, t1, 1, 0, 1);\n      var subsplit = result.right.split(t2);\n      return subsplit.left;\n    },\n    extrema: function extrema() {\n      var dims = this.dims,\n          result = {},\n          roots = [],\n          p,\n          mfn;\n      dims.forEach(function (dim) {\n        mfn = function mfn(v) {\n          return v[dim];\n        };\n\n        p = this.dpoints[0].map(mfn);\n        result[dim] = utils.droots(p);\n\n        if (this.order === 3) {\n          p = this.dpoints[1].map(mfn);\n          result[dim] = result[dim].concat(utils.droots(p));\n        }\n\n        result[dim] = result[dim].filter(function (t) {\n          return t >= 0 && t <= 1;\n        });\n        roots = roots.concat(result[dim].sort(utils.numberSort));\n      }.bind(this));\n      roots = roots.sort(utils.numberSort).filter(function (v, idx) {\n        return roots.indexOf(v) === idx;\n      });\n      result.values = roots;\n      return result;\n    },\n    bbox: function bbox() {\n      var extrema = this.extrema(),\n          result = {};\n      this.dims.forEach(function (d) {\n        result[d] = utils.getminmax(this, d, extrema[d]);\n      }.bind(this));\n      return result;\n    },\n    overlaps: function overlaps(curve) {\n      var lbbox = this.bbox(),\n          tbbox = curve.bbox();\n      return utils.bboxoverlap(lbbox, tbbox);\n    },\n    offset: function offset(t, d) {\n      if (typeof d !== \"undefined\") {\n        var c = this.get(t);\n        var n = this.normal(t);\n        var ret = {\n          c: c,\n          n: n,\n          x: c.x + n.x * d,\n          y: c.y + n.y * d\n        };\n\n        if (this._3d) {\n          ret.z = c.z + n.z * d;\n        }\n\n        return ret;\n      }\n\n      if (this._linear) {\n        var nv = this.normal(0);\n        var coords = this.points.map(function (p) {\n          var ret = {\n            x: p.x + t * nv.x,\n            y: p.y + t * nv.y\n          };\n\n          if (p.z && n.z) {\n            ret.z = p.z + t * nv.z;\n          }\n\n          return ret;\n        });\n        return [new Bezier(coords)];\n      }\n\n      var reduced = this.reduce();\n      return reduced.map(function (s) {\n        if (s._linear) {\n          return s.offset(t)[0];\n        }\n\n        return s.scale(t);\n      });\n    },\n    simple: function simple() {\n      if (this.order === 3) {\n        var a1 = utils.angle(this.points[0], this.points[3], this.points[1]);\n        var a2 = utils.angle(this.points[0], this.points[3], this.points[2]);\n        if (a1 > 0 && a2 < 0 || a1 < 0 && a2 > 0) return false;\n      }\n\n      var n1 = this.normal(0);\n      var n2 = this.normal(1);\n      var s = n1.x * n2.x + n1.y * n2.y;\n\n      if (this._3d) {\n        s += n1.z * n2.z;\n      }\n\n      var angle = abs(acos(s));\n      return angle < pi / 3;\n    },\n    reduce: function reduce() {\n      var i,\n          t1 = 0,\n          t2 = 0,\n          step = 0.01,\n          segment,\n          pass1 = [],\n          pass2 = []; // first pass: split on extrema\n\n      var extrema = this.extrema().values;\n\n      if (extrema.indexOf(0) === -1) {\n        extrema = [0].concat(extrema);\n      }\n\n      if (extrema.indexOf(1) === -1) {\n        extrema.push(1);\n      }\n\n      for (t1 = extrema[0], i = 1; i < extrema.length; i++) {\n        t2 = extrema[i];\n        segment = this.split(t1, t2);\n        segment._t1 = t1;\n        segment._t2 = t2;\n        pass1.push(segment);\n        t1 = t2;\n      } // second pass: further reduce these segments to simple segments\n\n\n      pass1.forEach(function (p1) {\n        t1 = 0;\n        t2 = 0;\n\n        while (t2 <= 1) {\n          for (t2 = t1 + step; t2 <= 1 + step; t2 += step) {\n            segment = p1.split(t1, t2);\n\n            if (!segment.simple()) {\n              t2 -= step;\n\n              if (abs(t1 - t2) < step) {\n                // we can never form a reduction\n                return [];\n              }\n\n              segment = p1.split(t1, t2);\n              segment._t1 = utils.map(t1, 0, 1, p1._t1, p1._t2);\n              segment._t2 = utils.map(t2, 0, 1, p1._t1, p1._t2);\n              pass2.push(segment);\n              t1 = t2;\n              break;\n            }\n          }\n        }\n\n        if (t1 < 1) {\n          segment = p1.split(t1, 1);\n          segment._t1 = utils.map(t1, 0, 1, p1._t1, p1._t2);\n          segment._t2 = p1._t2;\n          pass2.push(segment);\n        }\n      });\n      return pass2;\n    },\n    scale: function scale(d) {\n      var order = this.order;\n      var distanceFn = false;\n\n      if (typeof d === \"function\") {\n        distanceFn = d;\n      }\n\n      if (distanceFn && order === 2) {\n        return this.raise().scale(distanceFn);\n      } // TODO: add special handling for degenerate (=linear) curves.\n\n\n      var clockwise = this.clockwise;\n      var r1 = distanceFn ? distanceFn(0) : d;\n      var r2 = distanceFn ? distanceFn(1) : d;\n      var v = [this.offset(0, 10), this.offset(1, 10)];\n      var o = utils.lli4(v[0], v[0].c, v[1], v[1].c);\n\n      if (!o) {\n        throw new Error(\"cannot scale this curve. Try reducing it first.\");\n      } // move all points by distance 'd' wrt the origin 'o'\n\n\n      var points = this.points,\n          np = []; // move end points by fixed distance along normal.\n\n      [0, 1].forEach(function (t) {\n        var p = np[t * order] = utils.copy(points[t * order]);\n        p.x += (t ? r2 : r1) * v[t].n.x;\n        p.y += (t ? r2 : r1) * v[t].n.y;\n      }.bind(this));\n\n      if (!distanceFn) {\n        // move control points to lie on the intersection of the offset\n        // derivative vector, and the origin-through-control vector\n        [0, 1].forEach(function (t) {\n          if (this.order === 2 && !!t) return;\n          var p = np[t * order];\n          var d = this.derivative(t);\n          var p2 = {\n            x: p.x + d.x,\n            y: p.y + d.y\n          };\n          np[t + 1] = utils.lli4(p, p2, o, points[t + 1]);\n        }.bind(this));\n        return new Bezier(np);\n      } // move control points by \"however much necessary to\n      // ensure the correct tangent to endpoint\".\n\n\n      [0, 1].forEach(function (t) {\n        if (this.order === 2 && !!t) return;\n        var p = points[t + 1];\n        var ov = {\n          x: p.x - o.x,\n          y: p.y - o.y\n        };\n        var rc = distanceFn ? distanceFn((t + 1) / order) : d;\n        if (distanceFn && !clockwise) rc = -rc;\n        var m = sqrt(ov.x * ov.x + ov.y * ov.y);\n        ov.x /= m;\n        ov.y /= m;\n        np[t + 1] = {\n          x: p.x + rc * ov.x,\n          y: p.y + rc * ov.y\n        };\n      }.bind(this));\n      return new Bezier(np);\n    },\n    outline: function outline(d1, d2, d3, d4) {\n      d2 = typeof d2 === \"undefined\" ? d1 : d2;\n      var reduced = this.reduce(),\n          len = reduced.length,\n          fcurves = [],\n          bcurves = [],\n          p,\n          alen = 0,\n          tlen = this.length();\n      var graduated = typeof d3 !== \"undefined\" && typeof d4 !== \"undefined\";\n\n      function linearDistanceFunction(s, e, tlen, alen, slen) {\n        return function (v) {\n          var f1 = alen / tlen,\n              f2 = (alen + slen) / tlen,\n              d = e - s;\n          return utils.map(v, 0, 1, s + f1 * d, s + f2 * d);\n        };\n      } // form curve oulines\n\n\n      reduced.forEach(function (segment) {\n        slen = segment.length();\n\n        if (graduated) {\n          fcurves.push(segment.scale(linearDistanceFunction(d1, d3, tlen, alen, slen)));\n          bcurves.push(segment.scale(linearDistanceFunction(-d2, -d4, tlen, alen, slen)));\n        } else {\n          fcurves.push(segment.scale(d1));\n          bcurves.push(segment.scale(-d2));\n        }\n\n        alen += slen;\n      }); // reverse the \"return\" outline\n\n      bcurves = bcurves.map(function (s) {\n        p = s.points;\n\n        if (p[3]) {\n          s.points = [p[3], p[2], p[1], p[0]];\n        } else {\n          s.points = [p[2], p[1], p[0]];\n        }\n\n        return s;\n      }).reverse(); // form the endcaps as lines\n\n      var fs = fcurves[0].points[0],\n          fe = fcurves[len - 1].points[fcurves[len - 1].points.length - 1],\n          bs = bcurves[len - 1].points[bcurves[len - 1].points.length - 1],\n          be = bcurves[0].points[0],\n          ls = utils.makeline(bs, fs),\n          le = utils.makeline(fe, be),\n          segments = [ls].concat(fcurves).concat([le]).concat(bcurves),\n          slen = segments.length;\n      return new PolyBezier(segments);\n    },\n    outlineshapes: function outlineshapes(d1, d2, curveIntersectionThreshold) {\n      d2 = d2 || d1;\n      var outline = this.outline(d1, d2).curves;\n      var shapes = [];\n\n      for (var i = 1, len = outline.length; i < len / 2; i++) {\n        var shape = utils.makeshape(outline[i], outline[len - i], curveIntersectionThreshold);\n        shape.startcap.virtual = i > 1;\n        shape.endcap.virtual = i < len / 2 - 1;\n        shapes.push(shape);\n      }\n\n      return shapes;\n    },\n    intersects: function intersects(curve, curveIntersectionThreshold) {\n      if (!curve) return this.selfintersects(curveIntersectionThreshold);\n\n      if (curve.p1 && curve.p2) {\n        return this.lineIntersects(curve);\n      }\n\n      if (curve instanceof Bezier) {\n        curve = curve.reduce();\n      }\n\n      return this.curveintersects(this.reduce(), curve, curveIntersectionThreshold);\n    },\n    lineIntersects: function lineIntersects(line) {\n      var mx = min(line.p1.x, line.p2.x),\n          my = min(line.p1.y, line.p2.y),\n          MX = max(line.p1.x, line.p2.x),\n          MY = max(line.p1.y, line.p2.y),\n          self = this;\n      return utils.roots(this.points, line).filter(function (t) {\n        var p = self.get(t);\n        return utils.between(p.x, mx, MX) && utils.between(p.y, my, MY);\n      });\n    },\n    selfintersects: function selfintersects(curveIntersectionThreshold) {\n      var reduced = this.reduce(); // \"simple\" curves cannot intersect with their direct\n      // neighbour, so for each segment X we check whether\n      // it intersects [0:x-2][x+2:last].\n\n      var i,\n          len = reduced.length - 2,\n          results = [],\n          result,\n          left,\n          right;\n\n      for (i = 0; i < len; i++) {\n        left = reduced.slice(i, i + 1);\n        right = reduced.slice(i + 2);\n        result = this.curveintersects(left, right, curveIntersectionThreshold);\n        results = results.concat(result);\n      }\n\n      return results;\n    },\n    curveintersects: function curveintersects(c1, c2, curveIntersectionThreshold) {\n      var pairs = []; // step 1: pair off any overlapping segments\n\n      c1.forEach(function (l) {\n        c2.forEach(function (r) {\n          if (l.overlaps(r)) {\n            pairs.push({\n              left: l,\n              right: r\n            });\n          }\n        });\n      }); // step 2: for each pairing, run through the convergence algorithm.\n\n      var intersections = [];\n      pairs.forEach(function (pair) {\n        var result = utils.pairiteration(pair.left, pair.right, curveIntersectionThreshold);\n\n        if (result.length > 0) {\n          intersections = intersections.concat(result);\n        }\n      });\n      return intersections;\n    },\n    arcs: function arcs(errorThreshold) {\n      errorThreshold = errorThreshold || 0.5;\n      var circles = [];\n      return this._iterate(errorThreshold, circles);\n    },\n    _error: function _error(pc, np1, s, e) {\n      var q = (e - s) / 4,\n          c1 = this.get(s + q),\n          c2 = this.get(e - q),\n          ref = utils.dist(pc, np1),\n          d1 = utils.dist(pc, c1),\n          d2 = utils.dist(pc, c2);\n      return abs(d1 - ref) + abs(d2 - ref);\n    },\n    _iterate: function _iterate(errorThreshold, circles) {\n      var t_s = 0,\n          t_e = 1,\n          safety; // we do a binary search to find the \"good `t` closest to no-longer-good\"\n\n      do {\n        safety = 0; // step 1: start with the maximum possible arc\n\n        t_e = 1; // points:\n\n        var np1 = this.get(t_s),\n            np2,\n            np3,\n            arc,\n            prev_arc; // booleans:\n\n        var curr_good = false,\n            prev_good = false,\n            done; // numbers:\n\n        var t_m = t_e,\n            prev_e = 1,\n            step = 0; // step 2: find the best possible arc\n\n        do {\n          prev_good = curr_good;\n          prev_arc = arc;\n          t_m = (t_s + t_e) / 2;\n          step++;\n          np2 = this.get(t_m);\n          np3 = this.get(t_e);\n          arc = utils.getccenter(np1, np2, np3); //also save the t values\n\n          arc.interval = {\n            start: t_s,\n            end: t_e\n          };\n\n          var error = this._error(arc, np1, t_s, t_e);\n\n          curr_good = error <= errorThreshold;\n          done = prev_good && !curr_good;\n          if (!done) prev_e = t_e; // this arc is fine: we can move 'e' up to see if we can find a wider arc\n\n          if (curr_good) {\n            // if e is already at max, then we're done for this arc.\n            if (t_e >= 1) {\n              // make sure we cap at t=1\n              arc.interval.end = prev_e = 1;\n              prev_arc = arc; // if we capped the arc segment to t=1 we also need to make sure that\n              // the arc's end angle is correct with respect to the bezier end point.\n\n              if (t_e > 1) {\n                var d = {\n                  x: arc.x + arc.r * cos(arc.e),\n                  y: arc.y + arc.r * sin(arc.e)\n                };\n                arc.e += utils.angle({\n                  x: arc.x,\n                  y: arc.y\n                }, d, this.get(1));\n              }\n\n              break;\n            } // if not, move it up by half the iteration distance\n\n\n            t_e = t_e + (t_e - t_s) / 2;\n          } else {\n            // this is a bad arc: we need to move 'e' down to find a good arc\n            t_e = t_m;\n          }\n        } while (!done && safety++ < 100);\n\n        if (safety >= 100) {\n          break;\n        } // console.log(\"L835: [F] arc found\", t_s, prev_e, prev_arc.x, prev_arc.y, prev_arc.s, prev_arc.e);\n\n\n        prev_arc = prev_arc ? prev_arc : arc;\n        circles.push(prev_arc);\n        t_s = prev_e;\n      } while (t_e < 1);\n\n      return circles;\n    }\n  };\n  module.exports = Bezier;\n})();","// https://github.com/tc39/proposal-string-pad-start-end\nvar toLength = require('./_to-length');\nvar repeat = require('./_string-repeat');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, maxLength, fillString, left) {\n  var S = String(defined(that));\n  var stringLength = S.length;\n  var fillStr = fillString === undefined ? ' ' : String(fillString);\n  var intMaxLength = toLength(maxLength);\n  if (intMaxLength <= stringLength || fillStr == '') return S;\n  var fillLen = intMaxLength - stringLength;\n  var stringFiller = repeat.call(fillStr, Math.ceil(fillLen / fillStr.length));\n  if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);\n  return left ? stringFiller + S : S + stringFiller;\n};\n","// 20.1.2.1 Number.EPSILON\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { EPSILON: Math.pow(2, -52) });\n","var unitlessKeys = {\n  animationIterationCount: 1,\n  borderImageOutset: 1,\n  borderImageSlice: 1,\n  borderImageWidth: 1,\n  boxFlex: 1,\n  boxFlexGroup: 1,\n  boxOrdinalGroup: 1,\n  columnCount: 1,\n  columns: 1,\n  flex: 1,\n  flexGrow: 1,\n  flexPositive: 1,\n  flexShrink: 1,\n  flexNegative: 1,\n  flexOrder: 1,\n  gridRow: 1,\n  gridRowEnd: 1,\n  gridRowSpan: 1,\n  gridRowStart: 1,\n  gridColumn: 1,\n  gridColumnEnd: 1,\n  gridColumnSpan: 1,\n  gridColumnStart: 1,\n  msGridRow: 1,\n  msGridRowSpan: 1,\n  msGridColumn: 1,\n  msGridColumnSpan: 1,\n  fontWeight: 1,\n  lineHeight: 1,\n  opacity: 1,\n  order: 1,\n  orphans: 1,\n  tabSize: 1,\n  widows: 1,\n  zIndex: 1,\n  zoom: 1,\n  WebkitLineClamp: 1,\n  // SVG-related properties\n  fillOpacity: 1,\n  floodOpacity: 1,\n  stopOpacity: 1,\n  strokeDasharray: 1,\n  strokeDashoffset: 1,\n  strokeMiterlimit: 1,\n  strokeOpacity: 1,\n  strokeWidth: 1\n};\nexport default unitlessKeys;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nvar propTypes = {\n  /**\n   * Specify whether the feedback is for valid or invalid fields\n   *\n   * @type {('valid'|'invalid')}\n   */\n  type: PropTypes.string.isRequired,\n  as: PropTypes.elementType\n};\nvar defaultProps = {\n  type: 'valid'\n};\nvar Feedback = React.forwardRef( // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\nfunction (_ref, ref) {\n  var _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      className = _ref.className,\n      type = _ref.type,\n      props = _objectWithoutPropertiesLoose(_ref, [\"as\", \"className\", \"type\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n    ref: ref,\n    className: classNames(className, type && type + \"-feedback\")\n  }));\n});\nFeedback.displayName = 'Feedback';\nFeedback.propTypes = propTypes;\nFeedback.defaultProps = defaultProps;\nexport default Feedback;","require('./src/controls');\n\nrequire('./src/loaders');\n\nrequire('./src/misc');\n\nrequire('./src/pathfinding');\n\nrequire('./src/primitives');","import \"core-js/modules/es7.object.entries\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.is-array\";\nimport debounce from 'debounce';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nvar Prop = function Prop(name, _ref) {\n  var _ref$default = _ref[\"default\"],\n      defaultVal = _ref$default === void 0 ? null : _ref$default,\n      _ref$triggerUpdate = _ref.triggerUpdate,\n      triggerUpdate = _ref$triggerUpdate === void 0 ? true : _ref$triggerUpdate,\n      _ref$onChange = _ref.onChange,\n      onChange = _ref$onChange === void 0 ? function (newVal, state) {} : _ref$onChange;\n\n  _classCallCheck(this, Prop);\n\n  this.name = name;\n  this.defaultVal = defaultVal;\n  this.triggerUpdate = triggerUpdate;\n  this.onChange = onChange;\n};\n\nfunction index(_ref2) {\n  var _ref2$stateInit = _ref2.stateInit,\n      stateInit = _ref2$stateInit === void 0 ? function () {\n    return {};\n  } : _ref2$stateInit,\n      _ref2$props = _ref2.props,\n      rawProps = _ref2$props === void 0 ? {} : _ref2$props,\n      _ref2$methods = _ref2.methods,\n      methods = _ref2$methods === void 0 ? {} : _ref2$methods,\n      _ref2$aliases = _ref2.aliases,\n      aliases = _ref2$aliases === void 0 ? {} : _ref2$aliases,\n      _ref2$init = _ref2.init,\n      initFn = _ref2$init === void 0 ? function () {} : _ref2$init,\n      _ref2$update = _ref2.update,\n      updateFn = _ref2$update === void 0 ? function () {} : _ref2$update; // Parse props into Prop instances\n\n  var props = Object.keys(rawProps).map(function (propName) {\n    return new Prop(propName, rawProps[propName]);\n  });\n  return function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {}; // Holds component state\n\n    var state = Object.assign({}, stateInit instanceof Function ? stateInit(options) : stateInit, // Support plain objects for backwards compatibility\n    {\n      initialised: false\n    }); // keeps track of which props triggered an update\n\n    var changedProps = {}; // Component constructor\n\n    function comp(nodeElement) {\n      initStatic(nodeElement, options);\n      digest();\n      return comp;\n    }\n\n    var initStatic = function initStatic(nodeElement, options) {\n      initFn.call(comp, nodeElement, state, options);\n      state.initialised = true;\n    };\n\n    var digest = debounce(function () {\n      if (!state.initialised) {\n        return;\n      }\n\n      updateFn.call(comp, state, changedProps);\n      changedProps = {};\n    }, 1); // Getter/setter methods\n\n    props.forEach(function (prop) {\n      comp[prop.name] = getSetProp(prop);\n\n      function getSetProp(_ref3) {\n        var prop = _ref3.name,\n            _ref3$triggerUpdate = _ref3.triggerUpdate,\n            redigest = _ref3$triggerUpdate === void 0 ? false : _ref3$triggerUpdate,\n            _ref3$onChange = _ref3.onChange,\n            onChange = _ref3$onChange === void 0 ? function (newVal, state) {} : _ref3$onChange,\n            _ref3$defaultVal = _ref3.defaultVal,\n            defaultVal = _ref3$defaultVal === void 0 ? null : _ref3$defaultVal;\n        return function (_) {\n          var curVal = state[prop];\n\n          if (!arguments.length) {\n            return curVal;\n          } // Getter mode\n\n\n          var val = _ === undefined ? defaultVal : _; // pick default if value passed is undefined\n\n          state[prop] = val;\n          onChange.call(comp, val, state, curVal); // track changed props\n\n          !changedProps.hasOwnProperty(prop) && (changedProps[prop] = curVal);\n\n          if (redigest) {\n            digest();\n          }\n\n          return comp;\n        };\n      }\n    }); // Other methods\n\n    Object.keys(methods).forEach(function (methodName) {\n      comp[methodName] = function () {\n        var _methods$methodName;\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return (_methods$methodName = methods[methodName]).call.apply(_methods$methodName, [comp, state].concat(args));\n      };\n    }); // Link aliases\n\n    Object.entries(aliases).forEach(function (_ref4) {\n      var _ref5 = _slicedToArray(_ref4, 2),\n          alias = _ref5[0],\n          target = _ref5[1];\n\n      return comp[alias] = comp[target];\n    }); // Reset all component props to their default value\n\n    comp.resetProps = function () {\n      props.forEach(function (prop) {\n        comp[prop.name](prop.defaultVal);\n      });\n      return comp;\n    }; //\n\n\n    comp.resetProps(); // Apply all prop defaults\n\n    state._rerender = digest; // Expose digest method\n\n    return comp;\n  };\n}\n\nexport default index;","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function () {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function () {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function () {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function (name, value, priority) {\n  return arguments.length > 1 ? this.each((value == null ? styleRemove : typeof value === \"function\" ? styleFunction : styleConstant)(name, value, priority == null ? \"\" : priority)) : styleValue(this.node(), name);\n}\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name) || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}","var physics = require('ngraph.physics.primitives');\n\nmodule.exports = function (pos) {\n  return new physics.Body(pos);\n};","/**\n * Internal data structure to represent 3D QuadTree node\n */\nmodule.exports = function Node() {\n  // body stored inside this node. In quad tree only leaf nodes (by construction)\n  // contain boides:\n  this.body = null; // Child nodes are stored in quads. Each quad is presented by number:\n  // Behind Z median:\n  // 0 | 1\n  // -----\n  // 2 | 3\n  // In front of Z median:\n  // 4 | 5\n  // -----\n  // 6 | 7\n\n  this.quad0 = null;\n  this.quad1 = null;\n  this.quad2 = null;\n  this.quad3 = null;\n  this.quad4 = null;\n  this.quad5 = null;\n  this.quad6 = null;\n  this.quad7 = null; // Total mass of current node\n\n  this.mass = 0; // Center of mass coordinates\n\n  this.massX = 0;\n  this.massY = 0;\n  this.massZ = 0; // bounding box coordinates\n\n  this.left = 0;\n  this.top = 0;\n  this.bottom = 0;\n  this.right = 0;\n  this.front = 0;\n  this.back = 0;\n};","require(\"core-js/modules/es6.number.constructor\");\n\nmodule.exports = function (bodies, settings) {\n  var random = require('ngraph.random').random(42);\n\n  var boundingBox = {\n    x1: 0,\n    y1: 0,\n    z1: 0,\n    x2: 0,\n    y2: 0,\n    z2: 0\n  };\n  return {\n    box: boundingBox,\n    update: updateBoundingBox,\n    reset: function reset() {\n      boundingBox.x1 = boundingBox.y1 = 0;\n      boundingBox.x2 = boundingBox.y2 = 0;\n      boundingBox.z1 = boundingBox.z2 = 0;\n    },\n    getBestNewPosition: function getBestNewPosition(neighbors) {\n      var graphRect = boundingBox;\n      var baseX = 0,\n          baseY = 0,\n          baseZ = 0;\n\n      if (neighbors.length) {\n        for (var i = 0; i < neighbors.length; ++i) {\n          baseX += neighbors[i].pos.x;\n          baseY += neighbors[i].pos.y;\n          baseZ += neighbors[i].pos.z;\n        }\n\n        baseX /= neighbors.length;\n        baseY /= neighbors.length;\n        baseZ /= neighbors.length;\n      } else {\n        baseX = (graphRect.x1 + graphRect.x2) / 2;\n        baseY = (graphRect.y1 + graphRect.y2) / 2;\n        baseZ = (graphRect.z1 + graphRect.z2) / 2;\n      }\n\n      var springLength = settings.springLength;\n      return {\n        x: baseX + random.next(springLength) - springLength / 2,\n        y: baseY + random.next(springLength) - springLength / 2,\n        z: baseZ + random.next(springLength) - springLength / 2\n      };\n    }\n  };\n\n  function updateBoundingBox() {\n    var i = bodies.length;\n\n    if (i === 0) {\n      return;\n    } // don't have to wory here.\n\n\n    var x1 = Number.MAX_VALUE,\n        y1 = Number.MAX_VALUE,\n        z1 = Number.MAX_VALUE,\n        x2 = Number.MIN_VALUE,\n        y2 = Number.MIN_VALUE,\n        z2 = Number.MIN_VALUE;\n\n    while (i--) {\n      // this is O(n), could it be done faster with quadtree?\n      // how about pinned nodes?\n      var body = bodies[i];\n\n      if (body.isPinned) {\n        body.pos.x = body.prevPos.x;\n        body.pos.y = body.prevPos.y;\n        body.pos.z = body.prevPos.z;\n      } else {\n        body.prevPos.x = body.pos.x;\n        body.prevPos.y = body.pos.y;\n        body.prevPos.z = body.pos.z;\n      }\n\n      if (body.pos.x < x1) {\n        x1 = body.pos.x;\n      }\n\n      if (body.pos.x > x2) {\n        x2 = body.pos.x;\n      }\n\n      if (body.pos.y < y1) {\n        y1 = body.pos.y;\n      }\n\n      if (body.pos.y > y2) {\n        y2 = body.pos.y;\n      }\n\n      if (body.pos.z < z1) {\n        z1 = body.pos.z;\n      }\n\n      if (body.pos.z > z2) {\n        z2 = body.pos.z;\n      }\n    }\n\n    boundingBox.x1 = x1;\n    boundingBox.x2 = x2;\n    boundingBox.y1 = y1;\n    boundingBox.y2 = y2;\n    boundingBox.z1 = z1;\n    boundingBox.z2 = z2;\n  }\n};","require(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.regexp.constructor\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.regexp.match\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nvar LoopMode = {\n  once: THREE.LoopOnce,\n  repeat: THREE.LoopRepeat,\n  pingpong: THREE.LoopPingPong\n};\n/**\n * animation-mixer\n *\n * Player for animation clips. Intended to be compatible with any model format that supports\n * skeletal or morph animations through THREE.AnimationMixer.\n * See: https://threejs.org/docs/?q=animation#Reference/Animation/AnimationMixer\n */\n\nmodule.exports = AFRAME.registerComponent('animation-mixer', {\n  schema: {\n    clip: {\n      \"default\": '*'\n    },\n    duration: {\n      \"default\": 0\n    },\n    clampWhenFinished: {\n      \"default\": false,\n      type: 'boolean'\n    },\n    crossFadeDuration: {\n      \"default\": 0\n    },\n    loop: {\n      \"default\": 'repeat',\n      oneOf: Object.keys(LoopMode)\n    },\n    repetitions: {\n      \"default\": Infinity,\n      min: 0\n    },\n    timeScale: {\n      \"default\": 1\n    }\n  },\n  init: function init() {\n    var _this = this;\n\n    /** @type {THREE.Mesh} */\n    this.model = null;\n    /** @type {THREE.AnimationMixer} */\n\n    this.mixer = null;\n    /** @type {Array<THREE.AnimationAction>} */\n\n    this.activeActions = [];\n    var model = this.el.getObject3D('mesh');\n\n    if (model) {\n      this.load(model);\n    } else {\n      this.el.addEventListener('model-loaded', function (e) {\n        _this.load(e.detail.model);\n      });\n    }\n  },\n  load: function load(model) {\n    var el = this.el;\n    this.model = model;\n    this.mixer = new THREE.AnimationMixer(model);\n    this.mixer.addEventListener('loop', function (e) {\n      el.emit('animation-loop', {\n        action: e.action,\n        loopDelta: e.loopDelta\n      });\n    });\n    this.mixer.addEventListener('finished', function (e) {\n      el.emit('animation-finished', {\n        action: e.action,\n        direction: e.direction\n      });\n    });\n    if (this.data.clip) this.update({});\n  },\n  remove: function remove() {\n    if (this.mixer) this.mixer.stopAllAction();\n  },\n  update: function update(prevData) {\n    if (!prevData) return;\n    var data = this.data;\n    var changes = AFRAME.utils.diff(data, prevData); // If selected clips have changed, restart animation.\n\n    if ('clip' in changes) {\n      this.stopAction();\n      if (data.clip) this.playAction();\n      return;\n    } // Otherwise, modify running actions.\n\n\n    this.activeActions.forEach(function (action) {\n      if ('duration' in changes && data.duration) {\n        action.setDuration(data.duration);\n      }\n\n      if ('clampWhenFinished' in changes) {\n        action.clampWhenFinished = data.clampWhenFinished;\n      }\n\n      if ('loop' in changes || 'repetitions' in changes) {\n        action.setLoop(LoopMode[data.loop], data.repetitions);\n      }\n\n      if ('timeScale' in changes) {\n        action.setEffectiveTimeScale(data.timeScale);\n      }\n    });\n  },\n  stopAction: function stopAction() {\n    var data = this.data;\n\n    for (var i = 0; i < this.activeActions.length; i++) {\n      data.crossFadeDuration ? this.activeActions[i].fadeOut(data.crossFadeDuration) : this.activeActions[i].stop();\n    }\n\n    this.activeActions.length = 0;\n  },\n  playAction: function playAction() {\n    if (!this.mixer) return;\n    var model = this.model,\n        data = this.data,\n        clips = model.animations || (model.geometry || {}).animations || [];\n    if (!clips.length) return;\n    var re = wildcardToRegExp(data.clip);\n\n    for (var clip, i = 0; clip = clips[i]; i++) {\n      if (clip.name.match(re)) {\n        var action = this.mixer.clipAction(clip, model);\n        action.enabled = true;\n        action.clampWhenFinished = data.clampWhenFinished;\n        if (data.duration) action.setDuration(data.duration);\n        if (data.timeScale !== 1) action.setEffectiveTimeScale(data.timeScale);\n        action.setLoop(LoopMode[data.loop], data.repetitions).fadeIn(data.crossFadeDuration).play();\n        this.activeActions.push(action);\n      }\n    }\n  },\n  tick: function tick(t, dt) {\n    if (this.mixer && !isNaN(dt)) this.mixer.update(dt / 1000);\n  }\n});\n/**\n * Creates a RegExp from the given string, converting asterisks to .* expressions,\n * and escaping all other characters.\n */\n\nfunction wildcardToRegExp(s) {\n  return new RegExp('^' + s.split(/\\*+/).map(regExpEscape).join('.*') + '$');\n}\n/**\n * RegExp-escapes all characters in the given string.\n */\n\n\nfunction regExpEscape(s) {\n  return s.replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&');\n}","function empty() {\n  return [];\n}\n\nexport default function (selector) {\n  return selector == null ? empty : function () {\n    return this.querySelectorAll(selector);\n  };\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React, { useContext } from 'react';\nimport FormContext from './FormContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  type: 'checkbox'\n};\nvar FormCheckInput = React.forwardRef(function (_ref, ref) {\n  var id = _ref.id,\n      bsPrefix = _ref.bsPrefix,\n      bsCustomPrefix = _ref.bsCustomPrefix,\n      className = _ref.className,\n      isValid = _ref.isValid,\n      isInvalid = _ref.isInvalid,\n      isStatic = _ref.isStatic,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'input' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"id\", \"bsPrefix\", \"bsCustomPrefix\", \"className\", \"isValid\", \"isInvalid\", \"isStatic\", \"as\"]);\n\n  var _useContext = useContext(FormContext),\n      controlId = _useContext.controlId,\n      custom = _useContext.custom;\n\n  var _ref2 = custom ? [bsCustomPrefix, 'custom-control-input'] : [bsPrefix, 'form-check-input'],\n      prefix = _ref2[0],\n      defaultPrefix = _ref2[1];\n\n  bsPrefix = useBootstrapPrefix(prefix, defaultPrefix);\n  return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n    ref: ref,\n    id: id || controlId,\n    className: classNames(className, bsPrefix, isValid && 'is-valid', isInvalid && 'is-invalid', isStatic && 'position-static')\n  }));\n});\nFormCheckInput.displayName = 'FormCheckInput';\nFormCheckInput.defaultProps = defaultProps;\nexport default FormCheckInput;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React, { useContext } from 'react';\nimport FormContext from './FormContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar FormCheckLabel = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      bsCustomPrefix = _ref.bsCustomPrefix,\n      className = _ref.className,\n      htmlFor = _ref.htmlFor,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"bsCustomPrefix\", \"className\", \"htmlFor\"]);\n\n  var _useContext = useContext(FormContext),\n      controlId = _useContext.controlId,\n      custom = _useContext.custom;\n\n  var _ref2 = custom ? [bsCustomPrefix, 'custom-control-label'] : [bsPrefix, 'form-check-label'],\n      prefix = _ref2[0],\n      defaultPrefix = _ref2[1];\n\n  bsPrefix = useBootstrapPrefix(prefix, defaultPrefix);\n  return /*#__PURE__*/React.createElement(\"label\", _extends({}, props, {\n    ref: ref,\n    htmlFor: htmlFor || controlId,\n    className: classNames(className, bsPrefix)\n  }));\n});\nFormCheckLabel.displayName = 'FormCheckLabel';\nexport default FormCheckLabel;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport all from 'prop-types-extra/lib/all';\nimport React, { useContext, useMemo } from 'react';\nimport Feedback from './Feedback';\nimport FormCheckInput from './FormCheckInput';\nimport FormCheckLabel from './FormCheckLabel';\nimport FormContext from './FormContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  type: 'checkbox',\n  inline: false,\n  disabled: false,\n  isValid: false,\n  isInvalid: false,\n  title: ''\n};\nvar FormCheck = React.forwardRef(function (_ref, ref) {\n  var id = _ref.id,\n      bsPrefix = _ref.bsPrefix,\n      bsCustomPrefix = _ref.bsCustomPrefix,\n      inline = _ref.inline,\n      disabled = _ref.disabled,\n      isValid = _ref.isValid,\n      isInvalid = _ref.isInvalid,\n      feedback = _ref.feedback,\n      className = _ref.className,\n      style = _ref.style,\n      title = _ref.title,\n      type = _ref.type,\n      label = _ref.label,\n      children = _ref.children,\n      propCustom = _ref.custom,\n      _ref$as = _ref.as,\n      as = _ref$as === void 0 ? 'input' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"id\", \"bsPrefix\", \"bsCustomPrefix\", \"inline\", \"disabled\", \"isValid\", \"isInvalid\", \"feedback\", \"className\", \"style\", \"title\", \"type\", \"label\", \"children\", \"custom\", \"as\"]);\n\n  var custom = type === 'switch' ? true : propCustom;\n\n  var _ref2 = custom ? [bsCustomPrefix, 'custom-control'] : [bsPrefix, 'form-check'],\n      prefix = _ref2[0],\n      defaultPrefix = _ref2[1];\n\n  bsPrefix = useBootstrapPrefix(prefix, defaultPrefix);\n\n  var _useContext = useContext(FormContext),\n      controlId = _useContext.controlId;\n\n  var innerFormContext = useMemo(function () {\n    return {\n      controlId: id || controlId,\n      custom: custom\n    };\n  }, [controlId, custom, id]);\n  var hasLabel = label != null && label !== false && !children;\n  var input = /*#__PURE__*/React.createElement(FormCheckInput, _extends({}, props, {\n    type: type === 'switch' ? 'checkbox' : type,\n    ref: ref,\n    isValid: isValid,\n    isInvalid: isInvalid,\n    isStatic: !hasLabel,\n    disabled: disabled,\n    as: as\n  }));\n  return /*#__PURE__*/React.createElement(FormContext.Provider, {\n    value: innerFormContext\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: style,\n    className: classNames(className, bsPrefix, custom && \"custom-\" + type, inline && bsPrefix + \"-inline\")\n  }, children || /*#__PURE__*/React.createElement(React.Fragment, null, input, hasLabel && /*#__PURE__*/React.createElement(FormCheckLabel, {\n    title: title\n  }, label), (isValid || isInvalid) && /*#__PURE__*/React.createElement(Feedback, {\n    type: isValid ? 'valid' : 'invalid'\n  }, feedback))));\n});\nFormCheck.displayName = 'FormCheck';\nFormCheck.defaultProps = defaultProps;\nFormCheck.Input = FormCheckInput;\nFormCheck.Label = FormCheckLabel;\nexport default FormCheck;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React, { useContext } from 'react';\nimport FormContext from './FormContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar FormFileInput = React.forwardRef(function (_ref, ref) {\n  var id = _ref.id,\n      bsPrefix = _ref.bsPrefix,\n      bsCustomPrefix = _ref.bsCustomPrefix,\n      className = _ref.className,\n      isValid = _ref.isValid,\n      isInvalid = _ref.isInvalid,\n      lang = _ref.lang,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'input' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"id\", \"bsPrefix\", \"bsCustomPrefix\", \"className\", \"isValid\", \"isInvalid\", \"lang\", \"as\"]);\n\n  var _useContext = useContext(FormContext),\n      controlId = _useContext.controlId,\n      custom = _useContext.custom;\n\n  var type = 'file';\n\n  var _ref2 = custom ? [bsCustomPrefix, 'custom-file-input'] : [bsPrefix, 'form-control-file'],\n      prefix = _ref2[0],\n      defaultPrefix = _ref2[1];\n\n  bsPrefix = useBootstrapPrefix(prefix, defaultPrefix);\n  return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n    ref: ref,\n    id: id || controlId,\n    type: type,\n    lang: lang,\n    className: classNames(className, bsPrefix, isValid && 'is-valid', isInvalid && 'is-invalid')\n  }));\n});\nFormFileInput.displayName = 'FormFileInput';\nexport default FormFileInput;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React, { useContext } from 'react';\nimport FormContext from './FormContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar FormFileLabel = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      bsCustomPrefix = _ref.bsCustomPrefix,\n      className = _ref.className,\n      htmlFor = _ref.htmlFor,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"bsCustomPrefix\", \"className\", \"htmlFor\"]);\n\n  var _useContext = useContext(FormContext),\n      controlId = _useContext.controlId,\n      custom = _useContext.custom;\n\n  var _ref2 = custom ? [bsCustomPrefix, 'custom-file-label'] : [bsPrefix, 'form-file-label'],\n      prefix = _ref2[0],\n      defaultPrefix = _ref2[1];\n\n  bsPrefix = useBootstrapPrefix(prefix, defaultPrefix);\n  return /*#__PURE__*/React.createElement(\"label\", _extends({}, props, {\n    ref: ref,\n    htmlFor: htmlFor || controlId,\n    className: classNames(className, bsPrefix),\n    \"data-browse\": props['data-browse']\n  }));\n});\nFormFileLabel.displayName = 'FormFileLabel';\nexport default FormFileLabel;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React, { useContext, useMemo } from 'react';\nimport all from 'prop-types-extra/lib/all';\nimport Feedback from './Feedback';\nimport FormFileInput from './FormFileInput';\nimport FormFileLabel from './FormFileLabel';\nimport FormContext from './FormContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  disabled: false,\n  isValid: false,\n  isInvalid: false\n};\nvar FormFile = React.forwardRef(function (_ref, ref) {\n  var id = _ref.id,\n      bsPrefix = _ref.bsPrefix,\n      bsCustomPrefix = _ref.bsCustomPrefix,\n      disabled = _ref.disabled,\n      isValid = _ref.isValid,\n      isInvalid = _ref.isInvalid,\n      feedback = _ref.feedback,\n      className = _ref.className,\n      style = _ref.style,\n      label = _ref.label,\n      children = _ref.children,\n      custom = _ref.custom,\n      lang = _ref.lang,\n      dataBrowse = _ref['data-browse'],\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      _ref$inputAs = _ref.inputAs,\n      inputAs = _ref$inputAs === void 0 ? 'input' : _ref$inputAs,\n      props = _objectWithoutPropertiesLoose(_ref, [\"id\", \"bsPrefix\", \"bsCustomPrefix\", \"disabled\", \"isValid\", \"isInvalid\", \"feedback\", \"className\", \"style\", \"label\", \"children\", \"custom\", \"lang\", \"data-browse\", \"as\", \"inputAs\"]);\n\n  var _ref2 = custom ? [bsCustomPrefix, 'custom'] : [bsPrefix, 'form-file'],\n      prefix = _ref2[0],\n      defaultPrefix = _ref2[1];\n\n  bsPrefix = useBootstrapPrefix(prefix, defaultPrefix);\n  var type = 'file';\n\n  var _useContext = useContext(FormContext),\n      controlId = _useContext.controlId;\n\n  var innerFormContext = useMemo(function () {\n    return {\n      controlId: id || controlId,\n      custom: custom\n    };\n  }, [controlId, custom, id]);\n  var hasLabel = label != null && label !== false && !children;\n  var input = /*#__PURE__*/React.createElement(FormFileInput, _extends({}, props, {\n    ref: ref,\n    isValid: isValid,\n    isInvalid: isInvalid,\n    disabled: disabled,\n    as: inputAs,\n    lang: lang\n  }));\n  return /*#__PURE__*/React.createElement(FormContext.Provider, {\n    value: innerFormContext\n  }, /*#__PURE__*/React.createElement(Component, {\n    style: style,\n    className: classNames(className, bsPrefix, custom && \"custom-\" + type)\n  }, children || /*#__PURE__*/React.createElement(React.Fragment, null, custom ? /*#__PURE__*/React.createElement(React.Fragment, null, input, hasLabel && /*#__PURE__*/React.createElement(FormFileLabel, {\n    \"data-browse\": dataBrowse\n  }, label)) : /*#__PURE__*/React.createElement(React.Fragment, null, hasLabel && /*#__PURE__*/React.createElement(FormFileLabel, null, label), input), (isValid || isInvalid) && /*#__PURE__*/React.createElement(Feedback, {\n    type: isValid ? 'valid' : 'invalid'\n  }, feedback))));\n});\nFormFile.displayName = 'FormFile';\nFormFile.defaultProps = defaultProps;\nFormFile.Input = FormFileInput;\nFormFile.Label = FormFileLabel;\nexport default FormFile;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React, { useMemo } from 'react';\nimport FormContext from './FormContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar FormGroup = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      children = _ref.children,\n      controlId = _ref.controlId,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"children\", \"controlId\", \"as\"]);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'form-group');\n  var context = useMemo(function () {\n    return {\n      controlId: controlId\n    };\n  }, [controlId]);\n  return /*#__PURE__*/React.createElement(FormContext.Provider, {\n    value: context\n  }, /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n    ref: ref,\n    className: classNames(className, bsPrefix)\n  }), children));\n});\nFormGroup.displayName = 'FormGroup';\nexport default FormGroup;","import \"core-js/modules/es6.array.for-each\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar DEVICE_SIZES = ['xl', 'lg', 'md', 'sm', 'xs'];\nvar Col = React.forwardRef( // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\nfunction (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"as\"]);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'col');\n  var spans = [];\n  var classes = [];\n  DEVICE_SIZES.forEach(function (brkPoint) {\n    var propValue = props[brkPoint];\n    delete props[brkPoint];\n    var span, offset, order;\n\n    if (propValue != null && typeof propValue === 'object') {\n      var _propValue$span = propValue.span;\n      span = _propValue$span === void 0 ? true : _propValue$span;\n      offset = propValue.offset;\n      order = propValue.order;\n    } else {\n      span = propValue;\n    }\n\n    var infix = brkPoint !== 'xs' ? \"-\" + brkPoint : '';\n    if (span != null) spans.push(span === true ? \"\" + prefix + infix : \"\" + prefix + infix + \"-\" + span);\n    if (order != null) classes.push(\"order\" + infix + \"-\" + order);\n    if (offset != null) classes.push(\"offset\" + infix + \"-\" + offset);\n  });\n\n  if (!spans.length) {\n    spans.push(prefix); // plain 'col'\n  }\n\n  return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n    ref: ref,\n    className: classNames.apply(void 0, [className].concat(spans, classes))\n  }));\n});\nCol.displayName = 'Col';\nexport default Col;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React, { useContext } from 'react';\nimport warning from 'warning';\nimport Col from './Col';\nimport FormContext from './FormContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  column: false,\n  srOnly: false\n};\nvar FormLabel = React.forwardRef(function (_ref, ref) {\n  var _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'label' : _ref$as,\n      bsPrefix = _ref.bsPrefix,\n      column = _ref.column,\n      srOnly = _ref.srOnly,\n      className = _ref.className,\n      htmlFor = _ref.htmlFor,\n      props = _objectWithoutPropertiesLoose(_ref, [\"as\", \"bsPrefix\", \"column\", \"srOnly\", \"className\", \"htmlFor\"]);\n\n  var _useContext = useContext(FormContext),\n      controlId = _useContext.controlId;\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'form-label');\n  var columnClass = 'col-form-label';\n  if (typeof column === 'string') columnClass = columnClass + \"-\" + column;\n  var classes = classNames(className, bsPrefix, srOnly && 'sr-only', column && columnClass);\n  process.env.NODE_ENV !== \"production\" ? warning(controlId == null || !htmlFor, '`controlId` is ignored on `<FormLabel>` when `htmlFor` is specified.') : void 0;\n  htmlFor = htmlFor || controlId;\n  if (column) return /*#__PURE__*/React.createElement(Col, _extends({\n    as: \"label\",\n    className: classes,\n    htmlFor: htmlFor\n  }, props));\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line jsx-a11y/label-has-for, jsx-a11y/label-has-associated-control\n    React.createElement(Component, _extends({\n      ref: ref,\n      className: classes,\n      htmlFor: htmlFor\n    }, props))\n  );\n});\nFormLabel.displayName = 'FormLabel';\nFormLabel.defaultProps = defaultProps;\nexport default FormLabel;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar FormText = React.forwardRef( // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\nfunction (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'small' : _ref$as,\n      muted = _ref.muted,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"as\", \"muted\"]);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'form-text');\n  return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n    ref: ref,\n    className: classNames(className, bsPrefix, muted && 'text-muted')\n  }));\n});\nFormText.displayName = 'FormText';\nexport default FormText;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport FormCheck from './FormCheck';\nvar Switch = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(FormCheck, _extends({}, props, {\n    ref: ref,\n    type: \"switch\"\n  }));\n});\nSwitch.displayName = 'Switch';\nSwitch.Input = FormCheck.Input;\nSwitch.Label = FormCheck.Label;\nexport default Switch;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport FormCheck from './FormCheck';\nimport FormFile from './FormFile';\nimport FormControl from './FormControl';\nimport FormGroup from './FormGroup';\nimport FormLabel from './FormLabel';\nimport FormText from './FormText';\nimport Switch from './Switch';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport createWithBsPrefix from './createWithBsPrefix';\nvar defaultProps = {\n  inline: false\n};\nvar Form = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      inline = _ref.inline,\n      className = _ref.className,\n      validated = _ref.validated,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'form' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"inline\", \"className\", \"validated\", \"as\"]);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'form');\n  return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n    ref: ref,\n    className: classNames(className, validated && 'was-validated', inline && bsPrefix + \"-inline\")\n  }));\n});\nForm.displayName = 'Form';\nForm.defaultProps = defaultProps;\nForm.Row = createWithBsPrefix('form-row');\nForm.Group = FormGroup;\nForm.Control = FormControl;\nForm.Check = FormCheck;\nForm.File = FormFile;\nForm.Switch = Switch;\nForm.Label = FormLabel;\nForm.Text = FormText;\nexport default Form;","import { event } from \"./selection/on\";\nexport default function () {\n  var current = event,\n      source;\n\n  while (source = current.sourceEvent) {\n    current = source;\n  }\n\n  return current;\n}","require(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.regexp.constructor\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.function.bind\");\n\nvar normalise = require(\"./normalise-svg.js\");\n\nvar M = {\n  x: false,\n  y: false\n};\n\nfunction makeBezier(Bezier, term, values) {\n  if (term === 'Z') return;\n\n  if (term === 'M') {\n    M = {\n      x: values[0],\n      y: values[1]\n    };\n    return;\n  } // ES7: new Bezier(M.x, M.y, ...values)\n\n\n  var cvalues = [false, M.x, M.y].concat(values);\n  var PreboundConstructor = Bezier.bind.apply(Bezier, cvalues);\n  var curve = new PreboundConstructor();\n  var last = values.slice(-2);\n  M = {\n    x: last[0],\n    y: last[1]\n  };\n  return curve;\n}\n\nfunction convertPath(Bezier, d) {\n  var terms = normalise(d).split(\" \"),\n      term,\n      matcher = new RegExp(\"[MLCQZ]\", \"\"),\n      segment,\n      values,\n      segments = [],\n      ARGS = {\n    \"C\": 6,\n    \"Q\": 4,\n    \"L\": 2,\n    \"M\": 2\n  };\n\n  while (terms.length) {\n    term = terms.splice(0, 1)[0];\n\n    if (matcher.test(term)) {\n      values = terms.splice(0, ARGS[term]).map(parseFloat);\n      segment = makeBezier(Bezier, term, values);\n      if (segment) segments.push(segment);\n    }\n  }\n\n  return new Bezier.PolyBezier(segments);\n}\n\nmodule.exports = convertPath;","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}","require(\"core-js/modules/es6.number.constructor\");\n\n/**\n * This is Barnes Hut simulation algorithm for 2d case. Implementation\n * is highly optimized (avoids recusion and gc pressure)\n *\n * http://www.cs.princeton.edu/courses/archive/fall03/cs126/assignments/barnes-hut.html\n */\nmodule.exports = function (options) {\n  options = options || {};\n  options.gravity = typeof options.gravity === 'number' ? options.gravity : -1;\n  options.theta = typeof options.theta === 'number' ? options.theta : 0.8; // we require deterministic randomness here\n\n  var random = require('ngraph.random').random(1984),\n      Node = require('./node'),\n      InsertStack = require('./insertStack'),\n      isSamePosition = require('./isSamePosition');\n\n  var gravity = options.gravity,\n      updateQueue = [],\n      insertStack = new InsertStack(),\n      theta = options.theta,\n      nodesCache = [],\n      currentInCache = 0,\n      root = newNode();\n  return {\n    insertBodies: insertBodies,\n\n    /**\n     * Gets root node if its present\n     */\n    getRoot: function getRoot() {\n      return root;\n    },\n    updateBodyForce: update,\n    options: function options(newOptions) {\n      if (newOptions) {\n        if (typeof newOptions.gravity === 'number') {\n          gravity = newOptions.gravity;\n        }\n\n        if (typeof newOptions.theta === 'number') {\n          theta = newOptions.theta;\n        }\n\n        return this;\n      }\n\n      return {\n        gravity: gravity,\n        theta: theta\n      };\n    }\n  };\n\n  function newNode() {\n    // To avoid pressure on GC we reuse nodes.\n    var node = nodesCache[currentInCache];\n\n    if (node) {\n      node.quad0 = null;\n      node.quad1 = null;\n      node.quad2 = null;\n      node.quad3 = null;\n      node.body = null;\n      node.mass = node.massX = node.massY = 0;\n      node.left = node.right = node.top = node.bottom = 0;\n    } else {\n      node = new Node();\n      nodesCache[currentInCache] = node;\n    }\n\n    ++currentInCache;\n    return node;\n  }\n\n  function update(sourceBody) {\n    var queue = updateQueue,\n        v,\n        dx,\n        dy,\n        r,\n        fx = 0,\n        fy = 0,\n        queueLength = 1,\n        shiftIdx = 0,\n        pushIdx = 1;\n    queue[0] = root;\n\n    while (queueLength) {\n      var node = queue[shiftIdx],\n          body = node.body;\n      queueLength -= 1;\n      shiftIdx += 1;\n      var differentBody = body !== sourceBody;\n\n      if (body && differentBody) {\n        // If the current node is a leaf node (and it is not source body),\n        // calculate the force exerted by the current node on body, and add this\n        // amount to body's net force.\n        dx = body.pos.x - sourceBody.pos.x;\n        dy = body.pos.y - sourceBody.pos.y;\n        r = Math.sqrt(dx * dx + dy * dy);\n\n        if (r === 0) {\n          // Poor man's protection against zero distance.\n          dx = (random.nextDouble() - 0.5) / 50;\n          dy = (random.nextDouble() - 0.5) / 50;\n          r = Math.sqrt(dx * dx + dy * dy);\n        } // This is standard gravition force calculation but we divide\n        // by r^3 to save two operations when normalizing force vector.\n\n\n        v = gravity * body.mass * sourceBody.mass / (r * r * r);\n        fx += v * dx;\n        fy += v * dy;\n      } else if (differentBody) {\n        // Otherwise, calculate the ratio s / r,  where s is the width of the region\n        // represented by the internal node, and r is the distance between the body\n        // and the node's center-of-mass\n        dx = node.massX / node.mass - sourceBody.pos.x;\n        dy = node.massY / node.mass - sourceBody.pos.y;\n        r = Math.sqrt(dx * dx + dy * dy);\n\n        if (r === 0) {\n          // Sorry about code duplucation. I don't want to create many functions\n          // right away. Just want to see performance first.\n          dx = (random.nextDouble() - 0.5) / 50;\n          dy = (random.nextDouble() - 0.5) / 50;\n          r = Math.sqrt(dx * dx + dy * dy);\n        } // If s / r < , treat this internal node as a single body, and calculate the\n        // force it exerts on sourceBody, and add this amount to sourceBody's net force.\n\n\n        if ((node.right - node.left) / r < theta) {\n          // in the if statement above we consider node's width only\n          // because the region was squarified during tree creation.\n          // Thus there is no difference between using width or height.\n          v = gravity * node.mass * sourceBody.mass / (r * r * r);\n          fx += v * dx;\n          fy += v * dy;\n        } else {\n          // Otherwise, run the procedure recursively on each of the current node's children.\n          // I intentionally unfolded this loop, to save several CPU cycles.\n          if (node.quad0) {\n            queue[pushIdx] = node.quad0;\n            queueLength += 1;\n            pushIdx += 1;\n          }\n\n          if (node.quad1) {\n            queue[pushIdx] = node.quad1;\n            queueLength += 1;\n            pushIdx += 1;\n          }\n\n          if (node.quad2) {\n            queue[pushIdx] = node.quad2;\n            queueLength += 1;\n            pushIdx += 1;\n          }\n\n          if (node.quad3) {\n            queue[pushIdx] = node.quad3;\n            queueLength += 1;\n            pushIdx += 1;\n          }\n        }\n      }\n    }\n\n    sourceBody.force.x += fx;\n    sourceBody.force.y += fy;\n  }\n\n  function insertBodies(bodies) {\n    var x1 = Number.MAX_VALUE,\n        y1 = Number.MAX_VALUE,\n        x2 = Number.MIN_VALUE,\n        y2 = Number.MIN_VALUE,\n        i,\n        max = bodies.length; // To reduce quad tree depth we are looking for exact bounding box of all particles.\n\n    i = max;\n\n    while (i--) {\n      var x = bodies[i].pos.x;\n      var y = bodies[i].pos.y;\n\n      if (x < x1) {\n        x1 = x;\n      }\n\n      if (x > x2) {\n        x2 = x;\n      }\n\n      if (y < y1) {\n        y1 = y;\n      }\n\n      if (y > y2) {\n        y2 = y;\n      }\n    } // Squarify the bounds.\n\n\n    var dx = x2 - x1,\n        dy = y2 - y1;\n\n    if (dx > dy) {\n      y2 = y1 + dx;\n    } else {\n      x2 = x1 + dy;\n    }\n\n    currentInCache = 0;\n    root = newNode();\n    root.left = x1;\n    root.right = x2;\n    root.top = y1;\n    root.bottom = y2;\n    i = max - 1;\n\n    if (i >= 0) {\n      root.body = bodies[i];\n    }\n\n    while (i--) {\n      insert(bodies[i], root);\n    }\n  }\n\n  function insert(newBody) {\n    insertStack.reset();\n    insertStack.push(root, newBody);\n\n    while (!insertStack.isEmpty()) {\n      var stackItem = insertStack.pop(),\n          node = stackItem.node,\n          body = stackItem.body;\n\n      if (!node.body) {\n        // This is internal node. Update the total mass of the node and center-of-mass.\n        var x = body.pos.x;\n        var y = body.pos.y;\n        node.mass = node.mass + body.mass;\n        node.massX = node.massX + body.mass * x;\n        node.massY = node.massY + body.mass * y; // Recursively insert the body in the appropriate quadrant.\n        // But first find the appropriate quadrant.\n\n        var quadIdx = 0,\n            // Assume we are in the 0's quad.\n        left = node.left,\n            right = (node.right + left) / 2,\n            top = node.top,\n            bottom = (node.bottom + top) / 2;\n\n        if (x > right) {\n          // somewhere in the eastern part.\n          quadIdx = quadIdx + 1;\n          left = right;\n          right = node.right;\n        }\n\n        if (y > bottom) {\n          // and in south.\n          quadIdx = quadIdx + 2;\n          top = bottom;\n          bottom = node.bottom;\n        }\n\n        var child = getChild(node, quadIdx);\n\n        if (!child) {\n          // The node is internal but this quadrant is not taken. Add\n          // subnode to it.\n          child = newNode();\n          child.left = left;\n          child.top = top;\n          child.right = right;\n          child.bottom = bottom;\n          child.body = body;\n          setChild(node, quadIdx, child);\n        } else {\n          // continue searching in this quadrant.\n          insertStack.push(child, body);\n        }\n      } else {\n        // We are trying to add to the leaf node.\n        // We have to convert current leaf into internal node\n        // and continue adding two nodes.\n        var oldBody = node.body;\n        node.body = null; // internal nodes do not cary bodies\n\n        if (isSamePosition(oldBody.pos, body.pos)) {\n          // Prevent infinite subdivision by bumping one node\n          // anywhere in this quadrant\n          var retriesCount = 3;\n\n          do {\n            var offset = random.nextDouble();\n            var dx = (node.right - node.left) * offset;\n            var dy = (node.bottom - node.top) * offset;\n            oldBody.pos.x = node.left + dx;\n            oldBody.pos.y = node.top + dy;\n            retriesCount -= 1; // Make sure we don't bump it out of the box. If we do, next iteration should fix it\n          } while (retriesCount > 0 && isSamePosition(oldBody.pos, body.pos));\n\n          if (retriesCount === 0 && isSamePosition(oldBody.pos, body.pos)) {\n            // This is very bad, we ran out of precision.\n            // if we do not return from the method we'll get into\n            // infinite loop here. So we sacrifice correctness of layout, and keep the app running\n            // Next layout iteration should get larger bounding box in the first step and fix this\n            return;\n          }\n        } // Next iteration should subdivide node further.\n\n\n        insertStack.push(node, oldBody);\n        insertStack.push(node, body);\n      }\n    }\n  }\n};\n\nfunction getChild(node, idx) {\n  if (idx === 0) return node.quad0;\n  if (idx === 1) return node.quad1;\n  if (idx === 2) return node.quad2;\n  if (idx === 3) return node.quad3;\n  return null;\n}\n\nfunction setChild(node, idx, child) {\n  if (idx === 0) node.quad0 = child;else if (idx === 1) node.quad1 = child;else if (idx === 2) node.quad2 = child;else if (idx === 3) node.quad3 = child;\n}","export var name = \"d3\";\nexport var version = \"5.16.0\";\nexport var description = \"Data-Driven Documents\";\nexport var keywords = [\"dom\", \"visualization\", \"svg\", \"animation\", \"canvas\"];\nexport var homepage = \"https://d3js.org\";\nexport var license = \"BSD-3-Clause\";\nexport var author = {\n  \"name\": \"Mike Bostock\",\n  \"url\": \"https://bost.ocks.org/mike\"\n};\nexport var main = \"dist/d3.node.js\";\nexport var unpkg = \"dist/d3.min.js\";\nexport var jsdelivr = \"dist/d3.min.js\";\nexport var module = \"index.js\";\nexport var repository = {\n  \"type\": \"git\",\n  \"url\": \"https://github.com/d3/d3.git\"\n};\nexport var files = [\"dist/**/*.js\", \"index.js\"];\nexport var scripts = {\n  \"pretest\": \"rimraf dist && mkdir dist && json2module package.json > dist/package.js && rollup -c\",\n  \"test\": \"tape 'test/**/*-test.js'\",\n  \"prepublishOnly\": \"yarn test\",\n  \"postpublish\": \"git push && git push --tags && cd ../d3.github.com && git pull && cp ../d3/dist/d3.js d3.v5.js && cp ../d3/dist/d3.min.js d3.v5.min.js && git add d3.v5.js d3.v5.min.js && git commit -m \\\"d3 ${npm_package_version}\\\" && git push && cd - && cd ../d3-bower && git pull && cp ../d3/LICENSE ../d3/README.md ../d3/dist/d3.js ../d3/dist/d3.min.js . && git add -- LICENSE README.md d3.js d3.min.js && git commit -m \\\"${npm_package_version}\\\" && git tag -am \\\"${npm_package_version}\\\" v${npm_package_version} && git push && git push --tags && cd - && zip -j dist/d3.zip -- LICENSE README.md API.md CHANGES.md dist/d3.js dist/d3.min.js\"\n};\nexport var devDependencies = {\n  \"json2module\": \"0.0\",\n  \"rimraf\": \"2\",\n  \"rollup\": \"1\",\n  \"rollup-plugin-ascii\": \"0.0\",\n  \"rollup-plugin-node-resolve\": \"3\",\n  \"rollup-plugin-terser\": \"5\",\n  \"tape\": \"4\"\n};\nexport var dependencies = {\n  \"d3-array\": \"1\",\n  \"d3-axis\": \"1\",\n  \"d3-brush\": \"1\",\n  \"d3-chord\": \"1\",\n  \"d3-collection\": \"1\",\n  \"d3-color\": \"1\",\n  \"d3-contour\": \"1\",\n  \"d3-dispatch\": \"1\",\n  \"d3-drag\": \"1\",\n  \"d3-dsv\": \"1\",\n  \"d3-ease\": \"1\",\n  \"d3-fetch\": \"1\",\n  \"d3-force\": \"1\",\n  \"d3-format\": \"1\",\n  \"d3-geo\": \"1\",\n  \"d3-hierarchy\": \"1\",\n  \"d3-interpolate\": \"1\",\n  \"d3-path\": \"1\",\n  \"d3-polygon\": \"1\",\n  \"d3-quadtree\": \"1\",\n  \"d3-random\": \"1\",\n  \"d3-scale\": \"2\",\n  \"d3-scale-chromatic\": \"1\",\n  \"d3-selection\": \"1\",\n  \"d3-shape\": \"1\",\n  \"d3-time\": \"1\",\n  \"d3-time-format\": \"2\",\n  \"d3-timer\": \"1\",\n  \"d3-transition\": \"1\",\n  \"d3-voronoi\": \"1\",\n  \"d3-zoom\": \"1\"\n};","export var slice = Array.prototype.slice;","import \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.array.map\";\nimport { dispatch } from \"d3-dispatch\";\nimport { dragDisable, dragEnable } from \"d3-drag\";\nimport { interpolate } from \"d3-interpolate\";\nimport { customEvent, event, touch, mouse, select } from \"d3-selection\";\nimport { interrupt } from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, { nopropagation } from \"./noevent.js\";\nvar MODE_DRAG = {\n  name: \"drag\"\n},\n    MODE_SPACE = {\n  name: \"space\"\n},\n    MODE_HANDLE = {\n  name: \"handle\"\n},\n    MODE_CENTER = {\n  name: \"center\"\n};\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nfunction toucher(identifier) {\n  return function (target) {\n    return touch(target, event.touches, identifier);\n  };\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function input(x, e) {\n    return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]];\n  },\n  output: function output(xy) {\n    return xy && [xy[0][0], xy[1][0]];\n  }\n};\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function input(y, e) {\n    return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]];\n  },\n  output: function output(xy) {\n    return xy && [xy[0][1], xy[1][1]];\n  }\n};\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function input(xy) {\n    return xy == null ? null : number2(xy);\n  },\n  output: function output(xy) {\n    return xy;\n  }\n};\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {\n    type: t\n  };\n} // Ignore right-click, since that should open the context menu.\n\n\nfunction defaultFilter() {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || \"ontouchstart\" in this;\n} // Like d3.local, but with the name __brush rather than auto-generated.\n\n\nfunction local(node) {\n  while (!node.__brush) {\n    if (!(node = node.parentNode)) return;\n  }\n\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0] || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\nexport function brushX() {\n  return brush(X);\n}\nexport function brushY() {\n  return brush(Y);\n}\nexport default function () {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group.property(\"__brush\", initialize).selectAll(\".overlay\").data([type(\"overlay\")]);\n    overlay.enter().append(\"rect\").attr(\"class\", \"overlay\").attr(\"pointer-events\", \"all\").attr(\"cursor\", cursors.overlay).merge(overlay).each(function () {\n      var extent = local(this).extent;\n      select(this).attr(\"x\", extent[0][0]).attr(\"y\", extent[0][1]).attr(\"width\", extent[1][0] - extent[0][0]).attr(\"height\", extent[1][1] - extent[0][1]);\n    });\n    group.selectAll(\".selection\").data([type(\"selection\")]).enter().append(\"rect\").attr(\"class\", \"selection\").attr(\"cursor\", cursors.selection).attr(\"fill\", \"#777\").attr(\"fill-opacity\", 0.3).attr(\"stroke\", \"#fff\").attr(\"shape-rendering\", \"crispEdges\");\n    var handle = group.selectAll(\".handle\").data(dim.handles, function (d) {\n      return d.type;\n    });\n    handle.exit().remove();\n    handle.enter().append(\"rect\").attr(\"class\", function (d) {\n      return \"handle handle--\" + d.type;\n    }).attr(\"cursor\", function (d) {\n      return cursors[d.type];\n    });\n    group.each(redraw).attr(\"fill\", \"none\").attr(\"pointer-events\", \"all\").on(\"mousedown.brush\", started).filter(touchable).on(\"touchstart.brush\", started).on(\"touchmove.brush\", touchmoved).on(\"touchend.brush touchcancel.brush\", touchended).style(\"touch-action\", \"none\").style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function (group, selection) {\n    if (group.selection) {\n      group.on(\"start.brush\", function () {\n        emitter(this, arguments).beforestart().start();\n      }).on(\"interrupt.brush end.brush\", function () {\n        emitter(this, arguments).end();\n      }).tween(\"brush\", function () {\n        var that = this,\n            state = that.__brush,\n            emit = emitter(that, arguments),\n            selection0 = state.selection,\n            selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n            i = interpolate(selection0, selection1);\n\n        function tween(t) {\n          state.selection = t === 1 && selection1 === null ? null : i(t);\n          redraw.call(that);\n          emit.brush();\n        }\n\n        return selection0 !== null && selection1 !== null ? tween : tween(1);\n      });\n    } else {\n      group.each(function () {\n        var that = this,\n            args = arguments,\n            state = that.__brush,\n            selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n            emit = emitter(that, args).beforestart();\n        interrupt(that);\n        state.selection = selection1 === null ? null : selection1;\n        redraw.call(that);\n        emit.start().brush().end();\n      });\n    }\n  };\n\n  brush.clear = function (group) {\n    brush.move(group, null);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\").style(\"display\", null).attr(\"x\", selection[0][0]).attr(\"y\", selection[0][1]).attr(\"width\", selection[1][0] - selection[0][0]).attr(\"height\", selection[1][1] - selection[0][1]);\n      group.selectAll(\".handle\").style(\"display\", null).attr(\"x\", function (d) {\n        return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2;\n      }).attr(\"y\", function (d) {\n        return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2;\n      }).attr(\"width\", function (d) {\n        return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize;\n      }).attr(\"height\", function (d) {\n        return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize;\n      });\n    } else {\n      group.selectAll(\".selection,.handle\").style(\"display\", \"none\").attr(\"x\", null).attr(\"y\", null).attr(\"width\", null).attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    return !clean && that.__brush.emitter || new Emitter(that, args);\n  }\n\n  function Emitter(that, args) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n  }\n\n  Emitter.prototype = {\n    beforestart: function beforestart() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function start() {\n      if (this.starting) this.starting = false, this.emit(\"start\");else this.emit(\"brush\");\n      return this;\n    },\n    brush: function brush() {\n      this.emit(\"brush\");\n      return this;\n    },\n    end: function end() {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\");\n      return this;\n    },\n    emit: function emit(type) {\n      customEvent(new BrushEvent(brush, type, dim.output(this.state.selection)), listeners.apply, listeners, [type, this.that, this.args]);\n    }\n  };\n\n  function started() {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : keys && event.altKey ? MODE_CENTER : MODE_HANDLE,\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0],\n        w0,\n        w1,\n        N = extent[0][1],\n        n0,\n        n1,\n        E = extent[1][0],\n        e0,\n        e1,\n        S = extent[1][1],\n        s0,\n        s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        pointer = event.touches ? toucher(event.changedTouches[0].identifier) : mouse,\n        point0 = pointer(that),\n        point = point0,\n        emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      state.selection = selection = [[w0 = dim === Y ? W : point0[0], n0 = dim === X ? N : point0[1]], [e0 = dim === Y ? E : w0, s0 = dim === X ? S : n0]];\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n    var group = select(that).attr(\"pointer-events\", \"none\");\n    var overlay = group.selectAll(\".overlay\").attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view).on(\"mousemove.brush\", moved, true).on(\"mouseup.brush\", ended, true);\n      if (keys) view.on(\"keydown.brush\", keydowned, true).on(\"keyup.brush\", keyupped, true);\n      dragDisable(event.view);\n    }\n\n    nopropagation();\n    interrupt(that);\n    redraw.call(that);\n    emit.start();\n\n    function moved() {\n      var point1 = pointer(that);\n\n      if (shifting && !lockX && !lockY) {\n        if (Math.abs(point1[0] - point[0]) > Math.abs(point1[1] - point[1])) lockY = true;else lockX = true;\n      }\n\n      point = point1;\n      moving = true;\n      noevent();\n      move();\n    }\n\n    function move() {\n      var t;\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG:\n          {\n            if (signX) dx = Math.max(W - w0, Math.min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n            if (signY) dy = Math.max(N - n0, Math.min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n            break;\n          }\n\n        case MODE_HANDLE:\n          {\n            if (signX < 0) dx = Math.max(W - w0, Math.min(E - w0, dx)), w1 = w0 + dx, e1 = e0;else if (signX > 0) dx = Math.max(W - e0, Math.min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = Math.max(N - n0, Math.min(S - n0, dy)), n1 = n0 + dy, s1 = s0;else if (signY > 0) dy = Math.max(N - s0, Math.min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n            break;\n          }\n\n        case MODE_CENTER:\n          {\n            if (signX) w1 = Math.max(W, Math.min(E, w0 - dx * signX)), e1 = Math.max(W, Math.min(E, e0 + dx * signX));\n            if (signY) n1 = Math.max(N, Math.min(S, n0 - dy * signY)), s1 = Math.max(N, Math.min(S, s0 + dy * signY));\n            break;\n          }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1 || selection[0][1] !== n1 || selection[1][0] !== e1 || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush();\n      }\n    }\n\n    function ended() {\n      nopropagation();\n\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function () {\n          touchending = null;\n        }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end();\n    }\n\n    function keydowned() {\n      switch (event.keyCode) {\n        case 16:\n          {\n            // SHIFT\n            shifting = signX && signY;\n            break;\n          }\n\n        case 18:\n          {\n            // ALT\n            if (mode === MODE_HANDLE) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n              move();\n            }\n\n            break;\n          }\n\n        case 32:\n          {\n            // SPACE; takes priority over ALT\n            if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n              if (signX < 0) e0 = e1 - dx;else if (signX > 0) w0 = w1 - dx;\n              if (signY < 0) s0 = s1 - dy;else if (signY > 0) n0 = n1 - dy;\n              mode = MODE_SPACE;\n              overlay.attr(\"cursor\", cursors.selection);\n              move();\n            }\n\n            break;\n          }\n\n        default:\n          return;\n      }\n\n      noevent();\n    }\n\n    function keyupped() {\n      switch (event.keyCode) {\n        case 16:\n          {\n            // SHIFT\n            if (shifting) {\n              lockX = lockY = shifting = false;\n              move();\n            }\n\n            break;\n          }\n\n        case 18:\n          {\n            // ALT\n            if (mode === MODE_CENTER) {\n              if (signX < 0) e0 = e1;else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1;else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n              move();\n            }\n\n            break;\n          }\n\n        case 32:\n          {\n            // SPACE\n            if (mode === MODE_SPACE) {\n              if (event.altKey) {\n                if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n                if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n                mode = MODE_CENTER;\n              } else {\n                if (signX < 0) e0 = e1;else if (signX > 0) w0 = w1;\n                if (signY < 0) s0 = s1;else if (signY > 0) n0 = n1;\n                mode = MODE_HANDLE;\n              }\n\n              overlay.attr(\"cursor\", cursors[type]);\n              move();\n            }\n\n            break;\n          }\n\n        default:\n          return;\n      }\n\n      noevent();\n    }\n  }\n\n  function touchmoved() {\n    emitter(this, arguments).moved();\n  }\n\n  function touchended() {\n    emitter(this, arguments).ended();\n  }\n\n  function initialize() {\n    var state = this.__brush || {\n      selection: null\n    };\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function (_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function (_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function (_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function (_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function (_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function () {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}","export var cos = Math.cos;\nexport var sin = Math.sin;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = pi * 2;\nexport var max = Math.max;","export var slice = Array.prototype.slice;","import \"core-js/modules/es6.array.is-array\";\nexport var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function has(key) {\n    return prefix + key in this;\n  },\n  get: function get(key) {\n    return this[prefix + key];\n  },\n  set: function set(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function remove(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function clear() {\n    for (var property in this) {\n      if (property[0] === prefix) delete this[property];\n    }\n  },\n  keys: function keys() {\n    var keys = [];\n\n    for (var property in this) {\n      if (property[0] === prefix) keys.push(property.slice(1));\n    }\n\n    return keys;\n  },\n  values: function values() {\n    var values = [];\n\n    for (var property in this) {\n      if (property[0] === prefix) values.push(this[property]);\n    }\n\n    return values;\n  },\n  entries: function entries() {\n    var entries = [];\n\n    for (var property in this) {\n      if (property[0] === prefix) entries.push({\n        key: property.slice(1),\n        value: this[property]\n      });\n    }\n\n    return entries;\n  },\n  size: function size() {\n    var size = 0;\n\n    for (var property in this) {\n      if (property[0] === prefix) ++size;\n    }\n\n    return size;\n  },\n  empty: function empty() {\n    for (var property in this) {\n      if (property[0] === prefix) return false;\n    }\n\n    return true;\n  },\n  each: function each(f) {\n    for (var property in this) {\n      if (property[0] === prefix) f(this[property], property.slice(1), this);\n    }\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map(); // Copy constructor.\n\n  if (object instanceof Map) object.each(function (value, key) {\n    map.set(key, value);\n  }); // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n      var i = -1,\n          n = object.length,\n          o;\n      if (f == null) while (++i < n) {\n        map.set(i, object[i]);\n      } else while (++i < n) {\n        map.set(f(o = object[i], i, object), o);\n      }\n    } // Convert object to map.\n    else if (object) for (var key in object) {\n        map.set(key, object[key]);\n      }\n  return map;\n}\n\nexport default map;","import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport { default as map, prefix } from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function add(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set(); // Copy constructor.\n\n  if (object instanceof Set) object.each(function (value) {\n    set.add(value);\n  }); // Otherwise, assume its an array.\n  else if (object) {\n      var i = -1,\n          n = object.length;\n      if (f == null) while (++i < n) {\n        set.add(object[i]);\n      } else while (++i < n) {\n        set.add(f(object[i], i, object));\n      }\n    }\n  return set;\n}\n\nexport default set;","var array = Array.prototype;\nexport var slice = array.slice;","function responseArrayBuffer(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.arrayBuffer();\n}\n\nexport default function (input, init) {\n  return fetch(input, init).then(responseArrayBuffer);\n}","import dsv from \"./dsv.js\";\nvar csv = dsv(\",\");\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatBody = csv.formatBody;\nexport var csvFormatRows = csv.formatRows;\nexport var csvFormatRow = csv.formatRow;\nexport var csvFormatValue = csv.formatValue;","import dsv from \"./dsv.js\";\nvar tsv = dsv(\"\\t\");\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatBody = tsv.formatBody;\nexport var tsvFormatRows = tsv.formatRows;\nexport var tsvFormatRow = tsv.formatRow;\nexport var tsvFormatValue = tsv.formatValue;","function responseText(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.text();\n}\n\nexport default function (input, init) {\n  return fetch(input, init).then(responseText);\n}","import { csvParse, dsvFormat, tsvParse } from \"d3-dsv\";\nimport text from \"./text\";\n\nfunction dsvParse(parse) {\n  return function (input, init, row) {\n    if (arguments.length === 2 && typeof init === \"function\") row = init, init = undefined;\n    return text(input, init).then(function (response) {\n      return parse(response, row);\n    });\n  };\n}\n\nexport default function dsv(delimiter, input, init, row) {\n  if (arguments.length === 3 && typeof init === \"function\") row = init, init = undefined;\n  var format = dsvFormat(delimiter);\n  return text(input, init).then(function (response) {\n    return format.parse(response, row);\n  });\n}\nexport var csv = dsvParse(csvParse);\nexport var tsv = dsvParse(tsvParse);","import text from \"./text\";\n\nfunction parser(type) {\n  return function (input, init) {\n    return text(input, init).then(function (text) {\n      return new DOMParser().parseFromString(text, type);\n    });\n  };\n}\n\nexport default parser(\"application/xml\");\nexport var html = parser(\"text/html\");\nexport var svg = parser(\"image/svg+xml\");","export default function (x) {\n  return function () {\n    return x;\n  };\n}","export default function () {\n  return (Math.random() - 0.5) * 1e-6;\n}","import constant from \"./constant\";\nimport jiggle from \"./jiggle\";\nimport { quadtree } from \"d3-quadtree\";\n\nfunction x(d) {\n  return d.x + d.vx;\n}\n\nfunction y(d) {\n  return d.y + d.vy;\n}\n\nexport default function (radius) {\n  var nodes,\n      radii,\n      strength = 1,\n      iterations = 1;\n  if (typeof radius !== \"function\") radius = constant(radius == null ? 1 : +radius);\n\n  function force() {\n    var i,\n        n = nodes.length,\n        tree,\n        node,\n        xi,\n        yi,\n        ri,\n        ri2;\n\n    for (var k = 0; k < iterations; ++k) {\n      tree = quadtree(nodes, x, y).visitAfter(prepare);\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        ri = radii[node.index], ri2 = ri * ri;\n        xi = node.x + node.vx;\n        yi = node.y + node.vy;\n        tree.visit(apply);\n      }\n    }\n\n    function apply(quad, x0, y0, x1, y1) {\n      var data = quad.data,\n          rj = quad.r,\n          r = ri + rj;\n\n      if (data) {\n        if (data.index > node.index) {\n          var x = xi - data.x - data.vx,\n              y = yi - data.y - data.vy,\n              l = x * x + y * y;\n\n          if (l < r * r) {\n            if (x === 0) x = jiggle(), l += x * x;\n            if (y === 0) y = jiggle(), l += y * y;\n            l = (r - (l = Math.sqrt(l))) / l * strength;\n            node.vx += (x *= l) * (r = (rj *= rj) / (ri2 + rj));\n            node.vy += (y *= l) * r;\n            data.vx -= x * (r = 1 - r);\n            data.vy -= y * r;\n          }\n        }\n\n        return;\n      }\n\n      return x0 > xi + r || x1 < xi - r || y0 > yi + r || y1 < yi - r;\n    }\n  }\n\n  function prepare(quad) {\n    if (quad.data) return quad.r = radii[quad.data.index];\n\n    for (var i = quad.r = 0; i < 4; ++i) {\n      if (quad[i] && quad[i].r > quad.r) {\n        quad.r = quad[i].r;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i,\n        n = nodes.length,\n        node;\n    radii = new Array(n);\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], radii[node.index] = +radius(node, i, nodes);\n    }\n  }\n\n  force.initialize = function (_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.iterations = function (_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function (_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  force.radius = function (_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  return force;\n}","import { dispatch } from \"d3-dispatch\";\nimport { map } from \"d3-collection\";\nimport { timer } from \"d3-timer\";\nexport function x(d) {\n  return d.x;\n}\nexport function y(d) {\n  return d.y;\n}\nvar initialRadius = 10,\n    initialAngle = Math.PI * (3 - Math.sqrt(5));\nexport default function (_nodes) {\n  var simulation,\n      _alpha = 1,\n      _alphaMin = 0.001,\n      _alphaDecay = 1 - Math.pow(_alphaMin, 1 / 300),\n      _alphaTarget = 0,\n      _velocityDecay = 0.6,\n      forces = map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\");\n\n  if (_nodes == null) _nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n\n    if (_alpha < _alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i,\n        n = _nodes.length,\n        node;\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      _alpha += (_alphaTarget - _alpha) * _alphaDecay;\n      forces.each(function (force) {\n        force(_alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = _nodes[i];\n        if (node.fx == null) node.x += node.vx *= _velocityDecay;else node.x = node.fx, node.vx = 0;\n        if (node.fy == null) node.y += node.vy *= _velocityDecay;else node.y = node.fy, node.vy = 0;\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = _nodes.length, node; i < n; ++i) {\n      node = _nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n\n      if (isNaN(node.x) || isNaN(node.y)) {\n        var radius = initialRadius * Math.sqrt(i),\n            angle = i * initialAngle;\n        node.x = radius * Math.cos(angle);\n        node.y = radius * Math.sin(angle);\n      }\n\n      if (isNaN(node.vx) || isNaN(node.vy)) {\n        node.vx = node.vy = 0;\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(_nodes);\n    return force;\n  }\n\n  initializeNodes();\n  return simulation = {\n    tick: tick,\n    restart: function restart() {\n      return stepper.restart(step), simulation;\n    },\n    stop: function stop() {\n      return stepper.stop(), simulation;\n    },\n    nodes: function nodes(_) {\n      return arguments.length ? (_nodes = _, initializeNodes(), forces.each(initializeForce), simulation) : _nodes;\n    },\n    alpha: function alpha(_) {\n      return arguments.length ? (_alpha = +_, simulation) : _alpha;\n    },\n    alphaMin: function alphaMin(_) {\n      return arguments.length ? (_alphaMin = +_, simulation) : _alphaMin;\n    },\n    alphaDecay: function alphaDecay(_) {\n      return arguments.length ? (_alphaDecay = +_, simulation) : +_alphaDecay;\n    },\n    alphaTarget: function alphaTarget(_) {\n      return arguments.length ? (_alphaTarget = +_, simulation) : _alphaTarget;\n    },\n    velocityDecay: function velocityDecay(_) {\n      return arguments.length ? (_velocityDecay = 1 - _, simulation) : 1 - _velocityDecay;\n    },\n    force: function force(name, _) {\n      return arguments.length > 1 ? (_ == null ? forces.remove(name) : forces.set(name, initializeForce(_)), simulation) : forces.get(name);\n    },\n    find: function find(x, y, radius) {\n      var i = 0,\n          n = _nodes.length,\n          dx,\n          dy,\n          d2,\n          node,\n          closest;\n      if (radius == null) radius = Infinity;else radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = _nodes[i];\n        dx = x - node.x;\n        dy = y - node.y;\n        d2 = dx * dx + dy * dy;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n    on: function on(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}","export default function () {\n  return Math.random();\n}","import defaultSource from \"./defaultSource\";\nexport default (function sourceRandomNormal(source) {\n  function randomNormal(mu, sigma) {\n    var x, r;\n    mu = mu == null ? 0 : +mu;\n    sigma = sigma == null ? 1 : +sigma;\n    return function () {\n      var y; // If available, use the second previously-generated uniform random.\n\n      if (x != null) y = x, x = null; // Otherwise, generate a new x and y.\n      else do {\n          x = source() * 2 - 1;\n          y = source() * 2 - 1;\n          r = x * x + y * y;\n        } while (!r || r > 1);\n      return mu + sigma * y * Math.sqrt(-2 * Math.log(r) / r);\n    };\n  }\n\n  randomNormal.source = sourceRandomNormal;\n  return randomNormal;\n})(defaultSource);","import defaultSource from \"./defaultSource\";\nexport default (function sourceRandomUniform(source) {\n  function randomUniform(min, max) {\n    min = min == null ? 0 : +min;\n    max = max == null ? 1 : +max;\n    if (arguments.length === 1) max = min, min = 0;else max -= min;\n    return function () {\n      return source() * max + min;\n    };\n  }\n\n  randomUniform.source = sourceRandomUniform;\n  return randomUniform;\n})(defaultSource);","import defaultSource from \"./defaultSource\";\nexport default (function sourceRandomIrwinHall(source) {\n  function randomIrwinHall(n) {\n    return function () {\n      for (var sum = 0, i = 0; i < n; ++i) {\n        sum += source();\n      }\n\n      return sum;\n    };\n  }\n\n  randomIrwinHall.source = sourceRandomIrwinHall;\n  return randomIrwinHall;\n})(defaultSource);","import defaultSource from \"./defaultSource\";\nimport normal from \"./normal\";\nexport default (function sourceRandomLogNormal(source) {\n  function randomLogNormal() {\n    var randomNormal = normal.source(source).apply(this, arguments);\n    return function () {\n      return Math.exp(randomNormal());\n    };\n  }\n\n  randomLogNormal.source = sourceRandomLogNormal;\n  return randomLogNormal;\n})(defaultSource);","import defaultSource from \"./defaultSource\";\nimport irwinHall from \"./irwinHall\";\nexport default (function sourceRandomBates(source) {\n  function randomBates(n) {\n    var randomIrwinHall = irwinHall.source(source)(n);\n    return function () {\n      return randomIrwinHall() / n;\n    };\n  }\n\n  randomBates.source = sourceRandomBates;\n  return randomBates;\n})(defaultSource);","import defaultSource from \"./defaultSource\";\nexport default (function sourceRandomExponential(source) {\n  function randomExponential(lambda) {\n    return function () {\n      return -Math.log(1 - source()) / lambda;\n    };\n  }\n\n  randomExponential.source = sourceRandomExponential;\n  return randomExponential;\n})(defaultSource);","import \"core-js/modules/es6.array.map\";\nvar array = Array.prototype;\nexport var map = array.map;\nexport var slice = array.slice;","function RedBlackTree() {\n  this._ = null; // root node\n}\n\nexport function RedBlackNode(node) {\n  node.U = // parent node\n  node.C = // color - true for red, false for black\n  node.L = // left node\n  node.R = // right node\n  node.P = // previous node\n  node.N = null; // next node\n}\nRedBlackTree.prototype = {\n  constructor: RedBlackTree,\n  insert: function insert(after, node) {\n    var parent, grandpa, uncle;\n\n    if (after) {\n      node.P = after;\n      node.N = after.N;\n      if (after.N) after.N.P = node;\n      after.N = node;\n\n      if (after.R) {\n        after = after.R;\n\n        while (after.L) {\n          after = after.L;\n        }\n\n        after.L = node;\n      } else {\n        after.R = node;\n      }\n\n      parent = after;\n    } else if (this._) {\n      after = RedBlackFirst(this._);\n      node.P = null;\n      node.N = after;\n      after.P = after.L = node;\n      parent = after;\n    } else {\n      node.P = node.N = null;\n      this._ = node;\n      parent = null;\n    }\n\n    node.L = node.R = null;\n    node.U = parent;\n    node.C = true;\n    after = node;\n\n    while (parent && parent.C) {\n      grandpa = parent.U;\n\n      if (parent === grandpa.L) {\n        uncle = grandpa.R;\n\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.R) {\n            RedBlackRotateLeft(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateRight(this, grandpa);\n        }\n      } else {\n        uncle = grandpa.L;\n\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.L) {\n            RedBlackRotateRight(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateLeft(this, grandpa);\n        }\n      }\n\n      parent = after.U;\n    }\n\n    this._.C = false;\n  },\n  remove: function remove(node) {\n    if (node.N) node.N.P = node.P;\n    if (node.P) node.P.N = node.N;\n    node.N = node.P = null;\n    var parent = node.U,\n        sibling,\n        left = node.L,\n        right = node.R,\n        next,\n        red;\n    if (!left) next = right;else if (!right) next = left;else next = RedBlackFirst(right);\n\n    if (parent) {\n      if (parent.L === node) parent.L = next;else parent.R = next;\n    } else {\n      this._ = next;\n    }\n\n    if (left && right) {\n      red = next.C;\n      next.C = node.C;\n      next.L = left;\n      left.U = next;\n\n      if (next !== right) {\n        parent = next.U;\n        next.U = node.U;\n        node = next.R;\n        parent.L = node;\n        next.R = right;\n        right.U = next;\n      } else {\n        next.U = parent;\n        parent = next;\n        node = next.R;\n      }\n    } else {\n      red = node.C;\n      node = next;\n    }\n\n    if (node) node.U = parent;\n    if (red) return;\n\n    if (node && node.C) {\n      node.C = false;\n      return;\n    }\n\n    do {\n      if (node === this._) break;\n\n      if (node === parent.L) {\n        sibling = parent.R;\n\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateLeft(this, parent);\n          sibling = parent.R;\n        }\n\n        if (sibling.L && sibling.L.C || sibling.R && sibling.R.C) {\n          if (!sibling.R || !sibling.R.C) {\n            sibling.L.C = false;\n            sibling.C = true;\n            RedBlackRotateRight(this, sibling);\n            sibling = parent.R;\n          }\n\n          sibling.C = parent.C;\n          parent.C = sibling.R.C = false;\n          RedBlackRotateLeft(this, parent);\n          node = this._;\n          break;\n        }\n      } else {\n        sibling = parent.L;\n\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateRight(this, parent);\n          sibling = parent.L;\n        }\n\n        if (sibling.L && sibling.L.C || sibling.R && sibling.R.C) {\n          if (!sibling.L || !sibling.L.C) {\n            sibling.R.C = false;\n            sibling.C = true;\n            RedBlackRotateLeft(this, sibling);\n            sibling = parent.L;\n          }\n\n          sibling.C = parent.C;\n          parent.C = sibling.L.C = false;\n          RedBlackRotateRight(this, parent);\n          node = this._;\n          break;\n        }\n      }\n\n      sibling.C = true;\n      node = parent;\n      parent = parent.U;\n    } while (!node.C);\n\n    if (node) node.C = false;\n  }\n};\n\nfunction RedBlackRotateLeft(tree, node) {\n  var p = node,\n      q = node.R,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.R = q.L;\n  if (p.R) p.R.U = p;\n  q.L = p;\n}\n\nfunction RedBlackRotateRight(tree, node) {\n  var p = node,\n      q = node.L,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.L = q.R;\n  if (p.L) p.L.U = p;\n  q.R = p;\n}\n\nfunction RedBlackFirst(node) {\n  while (node.L) {\n    node = node.L;\n  }\n\n  return node;\n}\n\nexport default RedBlackTree;","import { cells, edges, epsilon } from \"./Diagram\";\nexport function createEdge(left, right, v0, v1) {\n  var edge = [null, null],\n      index = edges.push(edge) - 1;\n  edge.left = left;\n  edge.right = right;\n  if (v0) setEdgeEnd(edge, left, right, v0);\n  if (v1) setEdgeEnd(edge, right, left, v1);\n  cells[left.index].halfedges.push(index);\n  cells[right.index].halfedges.push(index);\n  return edge;\n}\nexport function createBorderEdge(left, v0, v1) {\n  var edge = [v0, v1];\n  edge.left = left;\n  return edge;\n}\nexport function setEdgeEnd(edge, left, right, vertex) {\n  if (!edge[0] && !edge[1]) {\n    edge[0] = vertex;\n    edge.left = left;\n    edge.right = right;\n  } else if (edge.left === right) {\n    edge[1] = vertex;\n  } else {\n    edge[0] = vertex;\n  }\n} // LiangBarsky line clipping.\n\nfunction clipEdge(edge, x0, y0, x1, y1) {\n  var a = edge[0],\n      b = edge[1],\n      ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (!(t0 > 0) && !(t1 < 1)) return true; // TODO Better check?\n\n  if (t0 > 0) edge[0] = [ax + t0 * dx, ay + t0 * dy];\n  if (t1 < 1) edge[1] = [ax + t1 * dx, ay + t1 * dy];\n  return true;\n}\n\nfunction connectEdge(edge, x0, y0, x1, y1) {\n  var v1 = edge[1];\n  if (v1) return true;\n  var v0 = edge[0],\n      left = edge.left,\n      right = edge.right,\n      lx = left[0],\n      ly = left[1],\n      rx = right[0],\n      ry = right[1],\n      fx = (lx + rx) / 2,\n      fy = (ly + ry) / 2,\n      fm,\n      fb;\n\n  if (ry === ly) {\n    if (fx < x0 || fx >= x1) return;\n\n    if (lx > rx) {\n      if (!v0) v0 = [fx, y0];else if (v0[1] >= y1) return;\n      v1 = [fx, y1];\n    } else {\n      if (!v0) v0 = [fx, y1];else if (v0[1] < y0) return;\n      v1 = [fx, y0];\n    }\n  } else {\n    fm = (lx - rx) / (ry - ly);\n    fb = fy - fm * fx;\n\n    if (fm < -1 || fm > 1) {\n      if (lx > rx) {\n        if (!v0) v0 = [(y0 - fb) / fm, y0];else if (v0[1] >= y1) return;\n        v1 = [(y1 - fb) / fm, y1];\n      } else {\n        if (!v0) v0 = [(y1 - fb) / fm, y1];else if (v0[1] < y0) return;\n        v1 = [(y0 - fb) / fm, y0];\n      }\n    } else {\n      if (ly < ry) {\n        if (!v0) v0 = [x0, fm * x0 + fb];else if (v0[0] >= x1) return;\n        v1 = [x1, fm * x1 + fb];\n      } else {\n        if (!v0) v0 = [x1, fm * x1 + fb];else if (v0[0] < x0) return;\n        v1 = [x0, fm * x0 + fb];\n      }\n    }\n  }\n\n  edge[0] = v0;\n  edge[1] = v1;\n  return true;\n}\n\nexport function clipEdges(x0, y0, x1, y1) {\n  var i = edges.length,\n      edge;\n\n  while (i--) {\n    if (!connectEdge(edge = edges[i], x0, y0, x1, y1) || !clipEdge(edge, x0, y0, x1, y1) || !(Math.abs(edge[0][0] - edge[1][0]) > epsilon || Math.abs(edge[0][1] - edge[1][1]) > epsilon)) {\n      delete edges[i];\n    }\n  }\n}","import \"core-js/modules/es6.array.sort\";\nimport { createBorderEdge } from \"./Edge\";\nimport { cells, edges, epsilon } from \"./Diagram\";\nexport function createCell(site) {\n  return cells[site.index] = {\n    site: site,\n    halfedges: []\n  };\n}\n\nfunction cellHalfedgeAngle(cell, edge) {\n  var site = cell.site,\n      va = edge.left,\n      vb = edge.right;\n  if (site === vb) vb = va, va = site;\n  if (vb) return Math.atan2(vb[1] - va[1], vb[0] - va[0]);\n  if (site === va) va = edge[1], vb = edge[0];else va = edge[0], vb = edge[1];\n  return Math.atan2(va[0] - vb[0], vb[1] - va[1]);\n}\n\nexport function cellHalfedgeStart(cell, edge) {\n  return edge[+(edge.left !== cell.site)];\n}\nexport function cellHalfedgeEnd(cell, edge) {\n  return edge[+(edge.left === cell.site)];\n}\nexport function sortCellHalfedges() {\n  for (var i = 0, n = cells.length, cell, halfedges, j, m; i < n; ++i) {\n    if ((cell = cells[i]) && (m = (halfedges = cell.halfedges).length)) {\n      var index = new Array(m),\n          array = new Array(m);\n\n      for (j = 0; j < m; ++j) {\n        index[j] = j, array[j] = cellHalfedgeAngle(cell, edges[halfedges[j]]);\n      }\n\n      index.sort(function (i, j) {\n        return array[j] - array[i];\n      });\n\n      for (j = 0; j < m; ++j) {\n        array[j] = halfedges[index[j]];\n      }\n\n      for (j = 0; j < m; ++j) {\n        halfedges[j] = array[j];\n      }\n    }\n  }\n}\nexport function clipCells(x0, y0, x1, y1) {\n  var nCells = cells.length,\n      iCell,\n      cell,\n      site,\n      iHalfedge,\n      halfedges,\n      nHalfedges,\n      start,\n      startX,\n      startY,\n      end,\n      endX,\n      endY,\n      cover = true;\n\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      site = cell.site;\n      halfedges = cell.halfedges;\n      iHalfedge = halfedges.length; // Remove any dangling clipped edges.\n\n      while (iHalfedge--) {\n        if (!edges[halfedges[iHalfedge]]) {\n          halfedges.splice(iHalfedge, 1);\n        }\n      } // Insert any border edges as necessary.\n\n\n      iHalfedge = 0, nHalfedges = halfedges.length;\n\n      while (iHalfedge < nHalfedges) {\n        end = cellHalfedgeEnd(cell, edges[halfedges[iHalfedge]]), endX = end[0], endY = end[1];\n        start = cellHalfedgeStart(cell, edges[halfedges[++iHalfedge % nHalfedges]]), startX = start[0], startY = start[1];\n\n        if (Math.abs(endX - startX) > epsilon || Math.abs(endY - startY) > epsilon) {\n          halfedges.splice(iHalfedge, 0, edges.push(createBorderEdge(site, end, Math.abs(endX - x0) < epsilon && y1 - endY > epsilon ? [x0, Math.abs(startX - x0) < epsilon ? startY : y1] : Math.abs(endY - y1) < epsilon && x1 - endX > epsilon ? [Math.abs(startY - y1) < epsilon ? startX : x1, y1] : Math.abs(endX - x1) < epsilon && endY - y0 > epsilon ? [x1, Math.abs(startX - x1) < epsilon ? startY : y0] : Math.abs(endY - y0) < epsilon && endX - x0 > epsilon ? [Math.abs(startY - y0) < epsilon ? startX : x0, y0] : null)) - 1);\n          ++nHalfedges;\n        }\n      }\n\n      if (nHalfedges) cover = false;\n    }\n  } // If there werent any edges, have the closest site cover the extent.\n  // It doesnt matter which corner of the extent we measure!\n\n\n  if (cover) {\n    var dx,\n        dy,\n        d2,\n        dc = Infinity;\n\n    for (iCell = 0, cover = null; iCell < nCells; ++iCell) {\n      if (cell = cells[iCell]) {\n        site = cell.site;\n        dx = site[0] - x0;\n        dy = site[1] - y0;\n        d2 = dx * dx + dy * dy;\n        if (d2 < dc) dc = d2, cover = cell;\n      }\n    }\n\n    if (cover) {\n      var v00 = [x0, y0],\n          v01 = [x0, y1],\n          v11 = [x1, y1],\n          v10 = [x1, y0];\n      cover.halfedges.push(edges.push(createBorderEdge(site = cover.site, v00, v01)) - 1, edges.push(createBorderEdge(site, v01, v11)) - 1, edges.push(createBorderEdge(site, v11, v10)) - 1, edges.push(createBorderEdge(site, v10, v00)) - 1);\n    }\n  } // Lastly delete any cells with no edges; these were entirely clipped.\n\n\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      if (!cell.halfedges.length) {\n        delete cells[iCell];\n      }\n    }\n  }\n}","import { RedBlackNode } from \"./RedBlackTree\";\nimport { circles, epsilon2 } from \"./Diagram\";\nvar circlePool = [];\nexport var firstCircle;\n\nfunction Circle() {\n  RedBlackNode(this);\n  this.x = this.y = this.arc = this.site = this.cy = null;\n}\n\nexport function attachCircle(arc) {\n  var lArc = arc.P,\n      rArc = arc.N;\n  if (!lArc || !rArc) return;\n  var lSite = lArc.site,\n      cSite = arc.site,\n      rSite = rArc.site;\n  if (lSite === rSite) return;\n  var bx = cSite[0],\n      by = cSite[1],\n      ax = lSite[0] - bx,\n      ay = lSite[1] - by,\n      cx = rSite[0] - bx,\n      cy = rSite[1] - by;\n  var d = 2 * (ax * cy - ay * cx);\n  if (d >= -epsilon2) return;\n  var ha = ax * ax + ay * ay,\n      hc = cx * cx + cy * cy,\n      x = (cy * ha - ay * hc) / d,\n      y = (ax * hc - cx * ha) / d;\n  var circle = circlePool.pop() || new Circle();\n  circle.arc = arc;\n  circle.site = cSite;\n  circle.x = x + bx;\n  circle.y = (circle.cy = y + by) + Math.sqrt(x * x + y * y); // y bottom\n\n  arc.circle = circle;\n  var before = null,\n      node = circles._;\n\n  while (node) {\n    if (circle.y < node.y || circle.y === node.y && circle.x <= node.x) {\n      if (node.L) node = node.L;else {\n        before = node.P;\n        break;\n      }\n    } else {\n      if (node.R) node = node.R;else {\n        before = node;\n        break;\n      }\n    }\n  }\n\n  circles.insert(before, circle);\n  if (!before) firstCircle = circle;\n}\nexport function detachCircle(arc) {\n  var circle = arc.circle;\n\n  if (circle) {\n    if (!circle.P) firstCircle = circle.N;\n    circles.remove(circle);\n    circlePool.push(circle);\n    RedBlackNode(circle);\n    arc.circle = null;\n  }\n}","import { RedBlackNode } from \"./RedBlackTree\";\nimport { createCell } from \"./Cell\";\nimport { attachCircle, detachCircle } from \"./Circle\";\nimport { createEdge, setEdgeEnd } from \"./Edge\";\nimport { beaches, epsilon } from \"./Diagram\";\nvar beachPool = [];\n\nfunction Beach() {\n  RedBlackNode(this);\n  this.edge = this.site = this.circle = null;\n}\n\nfunction createBeach(site) {\n  var beach = beachPool.pop() || new Beach();\n  beach.site = site;\n  return beach;\n}\n\nfunction detachBeach(beach) {\n  detachCircle(beach);\n  beaches.remove(beach);\n  beachPool.push(beach);\n  RedBlackNode(beach);\n}\n\nexport function removeBeach(beach) {\n  var circle = beach.circle,\n      x = circle.x,\n      y = circle.cy,\n      vertex = [x, y],\n      previous = beach.P,\n      next = beach.N,\n      disappearing = [beach];\n  detachBeach(beach);\n  var lArc = previous;\n\n  while (lArc.circle && Math.abs(x - lArc.circle.x) < epsilon && Math.abs(y - lArc.circle.cy) < epsilon) {\n    previous = lArc.P;\n    disappearing.unshift(lArc);\n    detachBeach(lArc);\n    lArc = previous;\n  }\n\n  disappearing.unshift(lArc);\n  detachCircle(lArc);\n  var rArc = next;\n\n  while (rArc.circle && Math.abs(x - rArc.circle.x) < epsilon && Math.abs(y - rArc.circle.cy) < epsilon) {\n    next = rArc.N;\n    disappearing.push(rArc);\n    detachBeach(rArc);\n    rArc = next;\n  }\n\n  disappearing.push(rArc);\n  detachCircle(rArc);\n  var nArcs = disappearing.length,\n      iArc;\n\n  for (iArc = 1; iArc < nArcs; ++iArc) {\n    rArc = disappearing[iArc];\n    lArc = disappearing[iArc - 1];\n    setEdgeEnd(rArc.edge, lArc.site, rArc.site, vertex);\n  }\n\n  lArc = disappearing[0];\n  rArc = disappearing[nArcs - 1];\n  rArc.edge = createEdge(lArc.site, rArc.site, null, vertex);\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\nexport function addBeach(site) {\n  var x = site[0],\n      directrix = site[1],\n      lArc,\n      rArc,\n      dxl,\n      dxr,\n      node = beaches._;\n\n  while (node) {\n    dxl = leftBreakPoint(node, directrix) - x;\n    if (dxl > epsilon) node = node.L;else {\n      dxr = x - rightBreakPoint(node, directrix);\n\n      if (dxr > epsilon) {\n        if (!node.R) {\n          lArc = node;\n          break;\n        }\n\n        node = node.R;\n      } else {\n        if (dxl > -epsilon) {\n          lArc = node.P;\n          rArc = node;\n        } else if (dxr > -epsilon) {\n          lArc = node;\n          rArc = node.N;\n        } else {\n          lArc = rArc = node;\n        }\n\n        break;\n      }\n    }\n  }\n\n  createCell(site);\n  var newArc = createBeach(site);\n  beaches.insert(lArc, newArc);\n  if (!lArc && !rArc) return;\n\n  if (lArc === rArc) {\n    detachCircle(lArc);\n    rArc = createBeach(lArc.site);\n    beaches.insert(newArc, rArc);\n    newArc.edge = rArc.edge = createEdge(lArc.site, newArc.site);\n    attachCircle(lArc);\n    attachCircle(rArc);\n    return;\n  }\n\n  if (!rArc) {\n    // && lArc\n    newArc.edge = createEdge(lArc.site, newArc.site);\n    return;\n  } // else lArc !== rArc\n\n\n  detachCircle(lArc);\n  detachCircle(rArc);\n  var lSite = lArc.site,\n      ax = lSite[0],\n      ay = lSite[1],\n      bx = site[0] - ax,\n      by = site[1] - ay,\n      rSite = rArc.site,\n      cx = rSite[0] - ax,\n      cy = rSite[1] - ay,\n      d = 2 * (bx * cy - by * cx),\n      hb = bx * bx + by * by,\n      hc = cx * cx + cy * cy,\n      vertex = [(cy * hb - by * hc) / d + ax, (bx * hc - cx * hb) / d + ay];\n  setEdgeEnd(rArc.edge, lSite, rSite, vertex);\n  newArc.edge = createEdge(lSite, site, null, vertex);\n  rArc.edge = createEdge(site, rSite, null, vertex);\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nfunction leftBreakPoint(arc, directrix) {\n  var site = arc.site,\n      rfocx = site[0],\n      rfocy = site[1],\n      pby2 = rfocy - directrix;\n  if (!pby2) return rfocx;\n  var lArc = arc.P;\n  if (!lArc) return -Infinity;\n  site = lArc.site;\n  var lfocx = site[0],\n      lfocy = site[1],\n      plby2 = lfocy - directrix;\n  if (!plby2) return lfocx;\n  var hl = lfocx - rfocx,\n      aby2 = 1 / pby2 - 1 / plby2,\n      b = hl / plby2;\n  if (aby2) return (-b + Math.sqrt(b * b - 2 * aby2 * (hl * hl / (-2 * plby2) - lfocy + plby2 / 2 + rfocy - pby2 / 2))) / aby2 + rfocx;\n  return (rfocx + lfocx) / 2;\n}\n\nfunction rightBreakPoint(arc, directrix) {\n  var rArc = arc.N;\n  if (rArc) return leftBreakPoint(rArc, directrix);\n  var site = arc.site;\n  return site[1] === directrix ? site[0] : Infinity;\n}","import \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.array.sort\";\nimport { addBeach, removeBeach } from \"./Beach\";\nimport { sortCellHalfedges, cellHalfedgeStart, clipCells } from \"./Cell\";\nimport { firstCircle } from \"./Circle\";\nimport { clipEdges } from \"./Edge\";\nimport RedBlackTree from \"./RedBlackTree\";\nexport var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var beaches;\nexport var cells;\nexport var circles;\nexport var edges;\n\nfunction triangleArea(a, b, c) {\n  return (a[0] - c[0]) * (b[1] - a[1]) - (a[0] - b[0]) * (c[1] - a[1]);\n}\n\nfunction lexicographic(a, b) {\n  return b[1] - a[1] || b[0] - a[0];\n}\n\nexport default function Diagram(sites, extent) {\n  var site = sites.sort(lexicographic).pop(),\n      x,\n      y,\n      circle;\n  edges = [];\n  cells = new Array(sites.length);\n  beaches = new RedBlackTree();\n  circles = new RedBlackTree();\n\n  while (true) {\n    circle = firstCircle;\n\n    if (site && (!circle || site[1] < circle.y || site[1] === circle.y && site[0] < circle.x)) {\n      if (site[0] !== x || site[1] !== y) {\n        addBeach(site);\n        x = site[0], y = site[1];\n      }\n\n      site = sites.pop();\n    } else if (circle) {\n      removeBeach(circle.arc);\n    } else {\n      break;\n    }\n  }\n\n  sortCellHalfedges();\n\n  if (extent) {\n    var x0 = +extent[0][0],\n        y0 = +extent[0][1],\n        x1 = +extent[1][0],\n        y1 = +extent[1][1];\n    clipEdges(x0, y0, x1, y1);\n    clipCells(x0, y0, x1, y1);\n  }\n\n  this.edges = edges;\n  this.cells = cells;\n  beaches = circles = edges = cells = null;\n}\nDiagram.prototype = {\n  constructor: Diagram,\n  polygons: function polygons() {\n    var edges = this.edges;\n    return this.cells.map(function (cell) {\n      var polygon = cell.halfedges.map(function (i) {\n        return cellHalfedgeStart(cell, edges[i]);\n      });\n      polygon.data = cell.site.data;\n      return polygon;\n    });\n  },\n  triangles: function triangles() {\n    var triangles = [],\n        edges = this.edges;\n    this.cells.forEach(function (cell, i) {\n      if (!(m = (halfedges = cell.halfedges).length)) return;\n      var site = cell.site,\n          halfedges,\n          j = -1,\n          m,\n          s0,\n          e1 = edges[halfedges[m - 1]],\n          s1 = e1.left === site ? e1.right : e1.left;\n\n      while (++j < m) {\n        s0 = s1;\n        e1 = edges[halfedges[j]];\n        s1 = e1.left === site ? e1.right : e1.left;\n\n        if (s0 && s1 && i < s0.index && i < s1.index && triangleArea(site, s0, s1) < 0) {\n          triangles.push([site.data, s0.data, s1.data]);\n        }\n      }\n    });\n    return triangles;\n  },\n  links: function links() {\n    return this.edges.filter(function (edge) {\n      return edge.right;\n    }).map(function (edge) {\n      return {\n        source: edge.left.data,\n        target: edge.right.data\n      };\n    });\n  },\n  find: function find(x, y, radius) {\n    var that = this,\n        i0,\n        i1 = that._found || 0,\n        n = that.cells.length,\n        cell; // Use the previously-found cell, or start with an arbitrary one.\n\n    while (!(cell = that.cells[i1])) {\n      if (++i1 >= n) return null;\n    }\n\n    var dx = x - cell.site[0],\n        dy = y - cell.site[1],\n        d2 = dx * dx + dy * dy; // Traverse the half-edges to find a closer cell, if any.\n\n    do {\n      cell = that.cells[i0 = i1], i1 = null;\n      cell.halfedges.forEach(function (e) {\n        var edge = that.edges[e],\n            v = edge.left;\n        if ((v === cell.site || !v) && !(v = edge.right)) return;\n        var vx = x - v[0],\n            vy = y - v[1],\n            v2 = vx * vx + vy * vy;\n        if (v2 < d2) d2 = v2, i1 = v.index;\n      });\n    } while (i1 !== null);\n\n    that._found = i0;\n    return radius == null || d2 <= radius * radius ? cell.site : null;\n  }\n};","require(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.string.trim\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\n/**\n * Normalise an SVG path to absolute coordinates\n * and full commands, rather than relative coordinates\n * and/or shortcut commands.\n */\nfunction normalizePath(d) {\n  // preprocess \"d\" so that we have spaces between values\n  d = d.replace(/,/g, \" \") // replace commas with spaces\n  .replace(/-/g, \" - \") // add spacing around minus signs\n  .replace(/-\\s+/g, \"-\") // remove spacing to the right of minus signs.\n  .replace(/([a-zA-Z])/g, \" $1 \"); // set up the variables used in this function\n\n  var instructions = d.replace(/([a-zA-Z])\\s?/g, \"|$1\").split(\"|\"),\n      instructionLength = instructions.length,\n      i,\n      instruction,\n      op,\n      lop,\n      args = [],\n      alen,\n      a,\n      sx = 0,\n      sy = 0,\n      x = 0,\n      y = 0,\n      cx = 0,\n      cy = 0,\n      cx2 = 0,\n      cy2 = 0,\n      normalized = \"\"; // we run through the instruction list starting at 1, not 0,\n  // because we split up \"|M x y ....\" so the first element will\n  // always be an empty string. By design.\n\n  for (i = 1; i < instructionLength; i++) {\n    // which instruction is this?\n    instruction = instructions[i];\n    op = instruction.substring(0, 1);\n    lop = op.toLowerCase(); // what are the arguments? note that we need to convert\n    // all strings into numbers, or + will do silly things.\n\n    args = instruction.replace(op, \"\").trim().split(\" \");\n    args = args.filter(function (v) {\n      return v !== \"\";\n    }).map(parseFloat);\n    alen = args.length; // we could use a switch, but elaborate code in a \"case\" with\n    // fallthrough is just horrid to read. So let's use ifthen\n    // statements instead.\n    // moveto command (plus possible lineto)\n\n    if (lop === \"m\") {\n      normalized += \"M \";\n\n      if (op === \"m\") {\n        x += args[0];\n        y += args[1];\n      } else {\n        x = args[0];\n        y = args[1];\n      } // records start position, for dealing\n      // with the shape close operator ('Z')\n\n\n      sx = x;\n      sy = y;\n      normalized += x + \" \" + y + \" \";\n\n      if (alen > 2) {\n        for (a = 0; a < alen; a += 2) {\n          if (op === \"m\") {\n            x += args[a];\n            y += args[a + 1];\n          } else {\n            x = args[a];\n            y = args[a + 1];\n          }\n\n          normalized += [\"L\", x, y, ''].join(\" \");\n        }\n      }\n    } else if (lop === \"l\") {\n      // lineto commands\n      for (a = 0; a < alen; a += 2) {\n        if (op === \"l\") {\n          x += args[a];\n          y += args[a + 1];\n        } else {\n          x = args[a];\n          y = args[a + 1];\n        }\n\n        normalized += [\"L\", x, y, ''].join(\" \");\n      }\n    } else if (lop === \"h\") {\n      for (a = 0; a < alen; a++) {\n        if (op === \"h\") {\n          x += args[a];\n        } else {\n          x = args[a];\n        }\n\n        normalized += [\"L\", x, y, ''].join(\" \");\n      }\n    } else if (lop === \"v\") {\n      for (a = 0; a < alen; a++) {\n        if (op === \"v\") {\n          y += args[a];\n        } else {\n          y = args[a];\n        }\n\n        normalized += [\"L\", x, y, ''].join(\" \");\n      }\n    } else if (lop === \"q\") {\n      // quadratic curveto commands\n      for (a = 0; a < alen; a += 4) {\n        if (op === \"q\") {\n          cx = x + args[a];\n          cy = y + args[a + 1];\n          x += args[a + 2];\n          y += args[a + 3];\n        } else {\n          cx = args[a];\n          cy = args[a + 1];\n          x = args[a + 2];\n          y = args[a + 3];\n        }\n\n        normalized += [\"Q\", cx, cy, x, y, ''].join(\" \");\n      }\n    } else if (lop === \"t\") {\n      for (a = 0; a < alen; a += 2) {\n        // reflect previous cx/cy over x/y\n        cx = x + (x - cx);\n        cy = y + (y - cy); // then get real end point\n\n        if (op === \"t\") {\n          x += args[a];\n          y += args[a + 1];\n        } else {\n          x = args[a];\n          y = args[a + 1];\n        }\n\n        normalized += [\"Q\", cx, cy, x, y, ''].join(\" \");\n      }\n    } else if (lop === \"c\") {\n      // cubic curveto commands\n      for (a = 0; a < alen; a += 6) {\n        if (op === \"c\") {\n          cx = x + args[a];\n          cy = y + args[a + 1];\n          cx2 = x + args[a + 2];\n          cy2 = y + args[a + 3];\n          x += args[a + 4];\n          y += args[a + 5];\n        } else {\n          cx = args[a];\n          cy = args[a + 1];\n          cx2 = args[a + 2];\n          cy2 = args[a + 3];\n          x = args[a + 4];\n          y = args[a + 5];\n        }\n\n        normalized += [\"C\", cx, cy, cx2, cy2, x, y, ''].join(\" \");\n      }\n    } else if (lop === \"s\") {\n      for (a = 0; a < alen; a += 4) {\n        // reflect previous cx2/cy2 over x/y\n        cx = x + (x - cx2);\n        cy = y + (y - cy2); // then get real control and end point\n\n        if (op === \"s\") {\n          cx2 = x + args[a];\n          cy2 = y + args[a + 1];\n          x += args[a + 2];\n          y += args[a + 3];\n        } else {\n          cx2 = args[a];\n          cy2 = args[a + 1];\n          x = args[a + 2];\n          y = args[a + 3];\n        }\n\n        normalized += [\"C\", cx, cy, cx2, cy2, x, y, ''].join(\" \");\n      }\n    } else if (lop === \"z\") {\n      normalized += \"Z \"; // not unimportant: path closing changes the current x/y coordinate\n\n      x = sx;\n      y = sy;\n    }\n  }\n\n  return normalized.trim();\n}\n\nmodule.exports = normalizePath;","require(\"core-js/modules/es7.array.includes\");\n\nrequire(\"core-js/modules/es6.string.includes\");\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.array.is-array\");\n\n/**\n * @param  {Array<THREE.Material>|THREE.Material} material\n * @return {Array<THREE.Material>}\n */\nfunction ensureMaterialArray(material) {\n  if (!material) {\n    return [];\n  } else if (Array.isArray(material)) {\n    return material;\n  } else if (material.materials) {\n    return material.materials;\n  } else {\n    return [material];\n  }\n}\n/**\n * @param  {THREE.Object3D} mesh\n * @param  {Array<string>} materialNames\n * @param  {THREE.Texture} envMap\n * @param  {number} reflectivity  [description]\n */\n\n\nfunction applyEnvMap(mesh, materialNames, envMap, reflectivity) {\n  if (!mesh) return;\n  materialNames = materialNames || [];\n  mesh.traverse(function (node) {\n    if (!node.isMesh) return;\n    var meshMaterials = ensureMaterialArray(node.material);\n    meshMaterials.forEach(function (material) {\n      if (material && !('envMap' in material)) return;\n      if (materialNames.length && materialNames.indexOf(material.name) === -1) return;\n      material.envMap = envMap;\n      material.reflectivity = reflectivity;\n      material.needsUpdate = true;\n    });\n  });\n}\n/**\n * Specifies an envMap on an entity, without replacing any existing material\n * properties.\n */\n\n\nmodule.exports = AFRAME.registerComponent('cube-env-map', {\n  multiple: true,\n  schema: {\n    path: {\n      \"default\": ''\n    },\n    extension: {\n      \"default\": 'jpg',\n      oneOf: ['jpg', 'png']\n    },\n    format: {\n      \"default\": 'RGBFormat',\n      oneOf: ['RGBFormat', 'RGBAFormat']\n    },\n    enableBackground: {\n      \"default\": false\n    },\n    reflectivity: {\n      \"default\": 1,\n      min: 0,\n      max: 1\n    },\n    materials: {\n      \"default\": []\n    }\n  },\n  init: function init() {\n    var _this = this;\n\n    var data = this.data;\n    this.texture = new THREE.CubeTextureLoader().load([data.path + 'posx.' + data.extension, data.path + 'negx.' + data.extension, data.path + 'posy.' + data.extension, data.path + 'negy.' + data.extension, data.path + 'posz.' + data.extension, data.path + 'negz.' + data.extension]);\n    this.texture.format = THREE[data.format];\n\n    this.object3dsetHandler = function () {\n      var mesh = _this.el.getObject3D('mesh');\n\n      var data = _this.data;\n      applyEnvMap(mesh, data.materials, _this.texture, data.reflectivity);\n    };\n\n    this.el.addEventListener('object3dset', this.object3dsetHandler);\n  },\n  update: function update(oldData) {\n    var data = this.data;\n    var mesh = this.el.getObject3D('mesh');\n    var addedMaterialNames = [];\n    var removedMaterialNames = [];\n\n    if (data.materials.length) {\n      if (oldData.materials) {\n        addedMaterialNames = data.materials.filter(function (name) {\n          return !oldData.materials.includes(name);\n        });\n        removedMaterialNames = oldData.materials.filter(function (name) {\n          return !data.materials.includes(name);\n        });\n      } else {\n        addedMaterialNames = data.materials;\n      }\n    }\n\n    if (addedMaterialNames.length) {\n      applyEnvMap(mesh, addedMaterialNames, this.texture, data.reflectivity);\n    }\n\n    if (removedMaterialNames.length) {\n      applyEnvMap(mesh, removedMaterialNames, null, 1);\n    }\n\n    if (oldData.materials && data.reflectivity !== oldData.reflectivity) {\n      var maintainedMaterialNames = data.materials.filter(function (name) {\n        return oldData.materials.includes(name);\n      });\n\n      if (maintainedMaterialNames.length) {\n        applyEnvMap(mesh, maintainedMaterialNames, this.texture, data.reflectivity);\n      }\n    }\n\n    if (this.data.enableBackground && !oldData.enableBackground) {\n      this.setBackground(this.texture);\n    } else if (!this.data.enableBackground && oldData.enableBackground) {\n      this.setBackground(null);\n    }\n  },\n  remove: function remove() {\n    this.el.removeEventListener('object3dset', this.object3dsetHandler);\n    var mesh = this.el.getObject3D('mesh');\n    var data = this.data;\n    applyEnvMap(mesh, data.materials, null, 1);\n    if (data.enableBackground) this.setBackground(null);\n  },\n  setBackground: function setBackground(texture) {\n    this.el.sceneEl.object3D.background = texture;\n  }\n});","module.exports = merge;\n/**\n * Augments `target` with properties in `options`. Does not override\n * target's properties if they are defined and matches expected type in \n * options\n *\n * @returns {Object} merged object\n */\n\nfunction merge(target, options) {\n  var key;\n\n  if (!target) {\n    target = {};\n  }\n\n  if (options) {\n    for (key in options) {\n      if (options.hasOwnProperty(key)) {\n        var targetHasIt = target.hasOwnProperty(key),\n            optionsValueType = typeof options[key],\n            shouldReplace = !targetHasIt || typeof target[key] !== optionsValueType;\n\n        if (shouldReplace) {\n          target[key] = options[key];\n        } else if (optionsValueType === 'object') {\n          // go deep, don't care about loops here, we are simple API!:\n          target[key] = merge(target[key], options[key]);\n        }\n      }\n    }\n  }\n\n  return target;\n}","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\nexport default function (node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n}","require('./checkpoint');\n\nrequire('./cube-env-map');\n\nrequire('./grab');\n\nrequire('./jump-ability');\n\nrequire('./kinematic-body');\n\nrequire('./mesh-smooth');\n\nrequire('./normal-material');\n\nrequire('./sphere-collider');","require(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.regexp.constructor\");\n\nrequire(\"core-js/modules/es6.array.sort\");\n\nrequire(\"core-js/modules/es6.regexp.search\");\n\nrequire(\"core-js/modules/es6.function.bind\");\n\nrequire(\"core-js/modules/es6.date.to-json\");\n\nrequire(\"core-js/modules/es6.string.trim\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.array.is-array\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\n/**\n * elasticlunr - http://weixsong.github.io\n * Lightweight full-text search engine in Javascript for browser search and offline search. - 0.9.5\n *\n * Copyright (C) 2016 Oliver Nightingale\n * Copyright (C) 2016 Wei Song\n * MIT Licensed\n * @license\n */\n(function () {\n  /*!\n   * elasticlunr.js\n   * Copyright (C) 2016 Oliver Nightingale\n   * Copyright (C) 2016 Wei Song\n   */\n\n  /**\n   * Convenience function for instantiating a new elasticlunr index and configuring it\n   * with the default pipeline functions and the passed config function.\n   *\n   * When using this convenience function a new index will be created with the\n   * following functions already in the pipeline:\n   * \n   * 1. elasticlunr.trimmer - trim non-word character\n   * 2. elasticlunr.StopWordFilter - filters out any stop words before they enter the\n   * index\n   * 3. elasticlunr.stemmer - stems the tokens before entering the index.\n   *\n   *\n   * Example:\n   *\n   *     var idx = elasticlunr(function () {\n   *       this.addField('id');\n   *       this.addField('title');\n   *       this.addField('body');\n   *       \n   *       //this.setRef('id'); // default ref is 'id'\n   *\n   *       this.pipeline.add(function () {\n   *         // some custom pipeline function\n   *       });\n   *     });\n   * \n   *    idx.addDoc({\n   *      id: 1, \n   *      title: 'Oracle released database 12g',\n   *      body: 'Yestaday, Oracle has released their latest database, named 12g, more robust. this product will increase Oracle profit.'\n   *    });\n   * \n   *    idx.addDoc({\n   *      id: 2, \n   *      title: 'Oracle released annual profit report',\n   *      body: 'Yestaday, Oracle has released their annual profit report of 2015, total profit is 12.5 Billion.'\n   *    });\n   * \n   *    # simple search\n   *    idx.search('oracle database');\n   * \n   *    # search with query-time boosting\n   *    idx.search('oracle database', {fields: {title: {boost: 2}, body: {boost: 1}}});\n   *\n   * @param {Function} config A function that will be called with the new instance\n   * of the elasticlunr.Index as both its context and first parameter. It can be used to\n   * customize the instance of new elasticlunr.Index.\n   * @namespace\n   * @module\n   * @return {elasticlunr.Index}\n   *\n   */\n  var elasticlunr = function elasticlunr(config) {\n    var idx = new elasticlunr.Index();\n    idx.pipeline.add(elasticlunr.trimmer, elasticlunr.stopWordFilter, elasticlunr.stemmer);\n    if (config) config.call(idx, idx);\n    return idx;\n  };\n\n  elasticlunr.version = \"0.9.5\"; // only used this to make elasticlunr.js compatible with lunr-languages\n  // this is a trick to define a global alias of elasticlunr\n\n  lunr = elasticlunr;\n  /*!\n   * elasticlunr.utils\n   * Copyright (C) 2016 Oliver Nightingale\n   * Copyright (C) 2016 Wei Song\n   */\n\n  /**\n   * A namespace containing utils for the rest of the elasticlunr library\n   */\n\n  elasticlunr.utils = {};\n  /**\n   * Print a warning message to the console.\n   *\n   * @param {String} message The message to be printed.\n   * @memberOf Utils\n   */\n\n  elasticlunr.utils.warn = function (global) {\n    return function (message) {\n      if (global.console && console.warn) {\n        console.warn(message);\n      }\n    };\n  }(this);\n  /**\n   * Convert an object to string.\n   *\n   * In the case of `null` and `undefined` the function returns\n   * an empty string, in all other cases the result of calling\n   * `toString` on the passed object is returned.\n   *\n   * @param {object} obj The object to convert to a string.\n   * @return {String} string representation of the passed object.\n   * @memberOf Utils\n   */\n\n\n  elasticlunr.utils.toString = function (obj) {\n    if (obj === void 0 || obj === null) {\n      return \"\";\n    }\n\n    return obj.toString();\n  };\n  /*!\n   * elasticlunr.EventEmitter\n   * Copyright (C) 2016 Oliver Nightingale\n   * Copyright (C) 2016 Wei Song\n   */\n\n  /**\n   * elasticlunr.EventEmitter is an event emitter for elasticlunr.\n   * It manages adding and removing event handlers and triggering events and their handlers.\n   *\n   * Each event could has multiple corresponding functions,\n   * these functions will be called as the sequence that they are added into the event.\n   * \n   * @constructor\n   */\n\n\n  elasticlunr.EventEmitter = function () {\n    this.events = {};\n  };\n  /**\n   * Binds a handler function to a specific event(s).\n   *\n   * Can bind a single function to many different events in one call.\n   *\n   * @param {String} [eventName] The name(s) of events to bind this function to.\n   * @param {Function} fn The function to call when an event is fired.\n   * @memberOf EventEmitter\n   */\n\n\n  elasticlunr.EventEmitter.prototype.addListener = function () {\n    var args = Array.prototype.slice.call(arguments),\n        fn = args.pop(),\n        names = args;\n    if (typeof fn !== \"function\") throw new TypeError(\"last argument must be a function\");\n    names.forEach(function (name) {\n      if (!this.hasHandler(name)) this.events[name] = [];\n      this.events[name].push(fn);\n    }, this);\n  };\n  /**\n   * Removes a handler function from a specific event.\n   *\n   * @param {String} eventName The name of the event to remove this function from.\n   * @param {Function} fn The function to remove from an event.\n   * @memberOf EventEmitter\n   */\n\n\n  elasticlunr.EventEmitter.prototype.removeListener = function (name, fn) {\n    if (!this.hasHandler(name)) return;\n    var fnIndex = this.events[name].indexOf(fn);\n    if (fnIndex === -1) return;\n    this.events[name].splice(fnIndex, 1);\n    if (this.events[name].length == 0) delete this.events[name];\n  };\n  /**\n   * Call all functions that bounded to the given event.\n   *\n   * Additional data can be passed to the event handler as arguments to `emit`\n   * after the event name.\n   *\n   * @param {String} eventName The name of the event to emit.\n   * @memberOf EventEmitter\n   */\n\n\n  elasticlunr.EventEmitter.prototype.emit = function (name) {\n    if (!this.hasHandler(name)) return;\n    var args = Array.prototype.slice.call(arguments, 1);\n    this.events[name].forEach(function (fn) {\n      fn.apply(undefined, args);\n    }, this);\n  };\n  /**\n   * Checks whether a handler has ever been stored against an event.\n   *\n   * @param {String} eventName The name of the event to check.\n   * @private\n   * @memberOf EventEmitter\n   */\n\n\n  elasticlunr.EventEmitter.prototype.hasHandler = function (name) {\n    return name in this.events;\n  };\n  /*!\n   * elasticlunr.tokenizer\n   * Copyright (C) 2016 Oliver Nightingale\n   * Copyright (C) 2016 Wei Song\n   */\n\n  /**\n   * A function for splitting a string into tokens.\n   * Currently English is supported as default.\n   * Uses `elasticlunr.tokenizer.seperator` to split strings, you could change\n   * the value of this property to set how you want strings are split into tokens.\n   * IMPORTANT: use elasticlunr.tokenizer.seperator carefully, if you are not familiar with\n   * text process, then you'd better not change it.\n   *\n   * @module\n   * @param {String} str The string that you want to tokenize.\n   * @see elasticlunr.tokenizer.seperator\n   * @return {Array}\n   */\n\n\n  elasticlunr.tokenizer = function (str) {\n    if (!arguments.length || str === null || str === undefined) return [];\n\n    if (Array.isArray(str)) {\n      var arr = str.filter(function (token) {\n        if (token === null || token === undefined) {\n          return false;\n        }\n\n        return true;\n      });\n      arr = arr.map(function (t) {\n        return elasticlunr.utils.toString(t).toLowerCase();\n      });\n      var out = [];\n      arr.forEach(function (item) {\n        var tokens = item.split(elasticlunr.tokenizer.seperator);\n        out = out.concat(tokens);\n      }, this);\n      return out;\n    }\n\n    return str.toString().trim().toLowerCase().split(elasticlunr.tokenizer.seperator);\n  };\n  /**\n   * Default string seperator.\n   */\n\n\n  elasticlunr.tokenizer.defaultSeperator = /[\\s\\-]+/;\n  /**\n   * The sperator used to split a string into tokens. Override this property to change the behaviour of\n   * `elasticlunr.tokenizer` behaviour when tokenizing strings. By default this splits on whitespace and hyphens.\n   *\n   * @static\n   * @see elasticlunr.tokenizer\n   */\n\n  elasticlunr.tokenizer.seperator = elasticlunr.tokenizer.defaultSeperator;\n  /**\n   * Set up customized string seperator\n   *\n   * @param {Object} sep The customized seperator that you want to use to tokenize a string.\n   */\n\n  elasticlunr.tokenizer.setSeperator = function (sep) {\n    if (sep !== null && sep !== undefined && typeof sep === 'object') {\n      elasticlunr.tokenizer.seperator = sep;\n    }\n  };\n  /**\n   * Reset string seperator\n   *\n   */\n\n\n  elasticlunr.tokenizer.resetSeperator = function () {\n    elasticlunr.tokenizer.seperator = elasticlunr.tokenizer.defaultSeperator;\n  };\n  /**\n   * Get string seperator\n   *\n   */\n\n\n  elasticlunr.tokenizer.getSeperator = function () {\n    return elasticlunr.tokenizer.seperator;\n  };\n  /*!\n   * elasticlunr.Pipeline\n   * Copyright (C) 2016 Oliver Nightingale\n   * Copyright (C) 2016 Wei Song\n   */\n\n  /**\n   * elasticlunr.Pipelines maintain an ordered list of functions to be applied to \n   * both documents tokens and query tokens.\n   *\n   * An instance of elasticlunr.Index will contain a pipeline\n   * with a trimmer, a stop word filter, an English stemmer. Extra\n   * functions can be added before or after either of these functions or these\n   * default functions can be removed.\n   *\n   * When run the pipeline, it will call each function in turn.\n   *\n   * The output of the functions in the pipeline will be passed to the next function\n   * in the pipeline. To exclude a token from entering the index the function\n   * should return undefined, the rest of the pipeline will not be called with\n   * this token.\n   *\n   * For serialisation of pipelines to work, all functions used in an instance of\n   * a pipeline should be registered with elasticlunr.Pipeline. Registered functions can\n   * then be loaded. If trying to load a serialised pipeline that uses functions\n   * that are not registered an error will be thrown.\n   *\n   * If not planning on serialising the pipeline then registering pipeline functions\n   * is not necessary.\n   *\n   * @constructor\n   */\n\n\n  elasticlunr.Pipeline = function () {\n    this._queue = [];\n  };\n\n  elasticlunr.Pipeline.registeredFunctions = {};\n  /**\n   * Register a function in the pipeline.\n   *\n   * Functions that are used in the pipeline should be registered if the pipeline\n   * needs to be serialised, or a serialised pipeline needs to be loaded.\n   *\n   * Registering a function does not add it to a pipeline, functions must still be\n   * added to instances of the pipeline for them to be used when running a pipeline.\n   *\n   * @param {Function} fn The function to register.\n   * @param {String} label The label to register this function with\n   * @memberOf Pipeline\n   */\n\n  elasticlunr.Pipeline.registerFunction = function (fn, label) {\n    if (label in elasticlunr.Pipeline.registeredFunctions) {\n      elasticlunr.utils.warn('Overwriting existing registered function: ' + label);\n    }\n\n    fn.label = label;\n    elasticlunr.Pipeline.registeredFunctions[label] = fn;\n  };\n  /**\n   * Get a registered function in the pipeline.\n   *\n   * @param {String} label The label of registered function.\n   * @return {Function}\n   * @memberOf Pipeline\n   */\n\n\n  elasticlunr.Pipeline.getRegisteredFunction = function (label) {\n    if (label in elasticlunr.Pipeline.registeredFunctions !== true) {\n      return null;\n    }\n\n    return elasticlunr.Pipeline.registeredFunctions[label];\n  };\n  /**\n   * Warns if the function is not registered as a Pipeline function.\n   *\n   * @param {Function} fn The function to check for.\n   * @private\n   * @memberOf Pipeline\n   */\n\n\n  elasticlunr.Pipeline.warnIfFunctionNotRegistered = function (fn) {\n    var isRegistered = fn.label && fn.label in this.registeredFunctions;\n\n    if (!isRegistered) {\n      elasticlunr.utils.warn('Function is not registered with pipeline. This may cause problems when serialising the index.\\n', fn);\n    }\n  };\n  /**\n   * Loads a previously serialised pipeline.\n   *\n   * All functions to be loaded must already be registered with elasticlunr.Pipeline.\n   * If any function from the serialised data has not been registered then an\n   * error will be thrown.\n   *\n   * @param {Object} serialised The serialised pipeline to load.\n   * @return {elasticlunr.Pipeline}\n   * @memberOf Pipeline\n   */\n\n\n  elasticlunr.Pipeline.load = function (serialised) {\n    var pipeline = new elasticlunr.Pipeline();\n    serialised.forEach(function (fnName) {\n      var fn = elasticlunr.Pipeline.getRegisteredFunction(fnName);\n\n      if (fn) {\n        pipeline.add(fn);\n      } else {\n        throw new Error('Cannot load un-registered function: ' + fnName);\n      }\n    });\n    return pipeline;\n  };\n  /**\n   * Adds new functions to the end of the pipeline.\n   *\n   * Logs a warning if the function has not been registered.\n   *\n   * @param {Function} functions Any number of functions to add to the pipeline.\n   * @memberOf Pipeline\n   */\n\n\n  elasticlunr.Pipeline.prototype.add = function () {\n    var fns = Array.prototype.slice.call(arguments);\n    fns.forEach(function (fn) {\n      elasticlunr.Pipeline.warnIfFunctionNotRegistered(fn);\n\n      this._queue.push(fn);\n    }, this);\n  };\n  /**\n   * Adds a single function after a function that already exists in the\n   * pipeline.\n   *\n   * Logs a warning if the function has not been registered.\n   * If existingFn is not found, throw an Exception.\n   *\n   * @param {Function} existingFn A function that already exists in the pipeline.\n   * @param {Function} newFn The new function to add to the pipeline.\n   * @memberOf Pipeline\n   */\n\n\n  elasticlunr.Pipeline.prototype.after = function (existingFn, newFn) {\n    elasticlunr.Pipeline.warnIfFunctionNotRegistered(newFn);\n\n    var pos = this._queue.indexOf(existingFn);\n\n    if (pos === -1) {\n      throw new Error('Cannot find existingFn');\n    }\n\n    this._queue.splice(pos + 1, 0, newFn);\n  };\n  /**\n   * Adds a single function before a function that already exists in the\n   * pipeline.\n   *\n   * Logs a warning if the function has not been registered.\n   * If existingFn is not found, throw an Exception.\n   *\n   * @param {Function} existingFn A function that already exists in the pipeline.\n   * @param {Function} newFn The new function to add to the pipeline.\n   * @memberOf Pipeline\n   */\n\n\n  elasticlunr.Pipeline.prototype.before = function (existingFn, newFn) {\n    elasticlunr.Pipeline.warnIfFunctionNotRegistered(newFn);\n\n    var pos = this._queue.indexOf(existingFn);\n\n    if (pos === -1) {\n      throw new Error('Cannot find existingFn');\n    }\n\n    this._queue.splice(pos, 0, newFn);\n  };\n  /**\n   * Removes a function from the pipeline.\n   *\n   * @param {Function} fn The function to remove from the pipeline.\n   * @memberOf Pipeline\n   */\n\n\n  elasticlunr.Pipeline.prototype.remove = function (fn) {\n    var pos = this._queue.indexOf(fn);\n\n    if (pos === -1) {\n      return;\n    }\n\n    this._queue.splice(pos, 1);\n  };\n  /**\n   * Runs the current list of functions that registered in the pipeline against the\n   * input tokens.\n   *\n   * @param {Array} tokens The tokens to run through the pipeline.\n   * @return {Array}\n   * @memberOf Pipeline\n   */\n\n\n  elasticlunr.Pipeline.prototype.run = function (tokens) {\n    var out = [],\n        tokenLength = tokens.length,\n        pipelineLength = this._queue.length;\n\n    for (var i = 0; i < tokenLength; i++) {\n      var token = tokens[i];\n\n      for (var j = 0; j < pipelineLength; j++) {\n        token = this._queue[j](token, i, tokens);\n        if (token === void 0 || token === null) break;\n      }\n\n      ;\n      if (token !== void 0 && token !== null) out.push(token);\n    }\n\n    ;\n    return out;\n  };\n  /**\n   * Resets the pipeline by removing any existing processors.\n   *\n   * @memberOf Pipeline\n   */\n\n\n  elasticlunr.Pipeline.prototype.reset = function () {\n    this._queue = [];\n  };\n  /**\n   * Get the pipeline if user want to check the pipeline.\n   *\n   * @memberOf Pipeline\n   */\n\n\n  elasticlunr.Pipeline.prototype.get = function () {\n    return this._queue;\n  };\n  /**\n   * Returns a representation of the pipeline ready for serialisation.\n   * Only serialize pipeline function's name. Not storing function, so when\n   * loading the archived JSON index file, corresponding pipeline function is \n   * added by registered function of elasticlunr.Pipeline.registeredFunctions\n   *\n   * Logs a warning if the function has not been registered.\n   *\n   * @return {Array}\n   * @memberOf Pipeline\n   */\n\n\n  elasticlunr.Pipeline.prototype.toJSON = function () {\n    return this._queue.map(function (fn) {\n      elasticlunr.Pipeline.warnIfFunctionNotRegistered(fn);\n      return fn.label;\n    });\n  };\n  /*!\n   * elasticlunr.Index\n   * Copyright (C) 2016 Oliver Nightingale\n   * Copyright (C) 2016 Wei Song\n   */\n\n  /**\n   * elasticlunr.Index is object that manages a search index.  It contains the indexes\n   * and stores all the tokens and document lookups.  It also provides the main\n   * user facing API for the library.\n   *\n   * @constructor\n   */\n\n\n  elasticlunr.Index = function () {\n    this._fields = [];\n    this._ref = 'id';\n    this.pipeline = new elasticlunr.Pipeline();\n    this.documentStore = new elasticlunr.DocumentStore();\n    this.index = {};\n    this.eventEmitter = new elasticlunr.EventEmitter();\n    this._idfCache = {};\n    this.on('add', 'remove', 'update', function () {\n      this._idfCache = {};\n    }.bind(this));\n  };\n  /**\n   * Bind a handler to events being emitted by the index.\n   *\n   * The handler can be bound to many events at the same time.\n   *\n   * @param {String} [eventName] The name(s) of events to bind the function to.\n   * @param {Function} fn The serialised set to load.\n   * @memberOf Index\n   */\n\n\n  elasticlunr.Index.prototype.on = function () {\n    var args = Array.prototype.slice.call(arguments);\n    return this.eventEmitter.addListener.apply(this.eventEmitter, args);\n  };\n  /**\n   * Removes a handler from an event being emitted by the index.\n   *\n   * @param {String} eventName The name of events to remove the function from.\n   * @param {Function} fn The serialised set to load.\n   * @memberOf Index\n   */\n\n\n  elasticlunr.Index.prototype.off = function (name, fn) {\n    return this.eventEmitter.removeListener(name, fn);\n  };\n  /**\n   * Loads a previously serialised index.\n   *\n   * Issues a warning if the index being imported was serialised\n   * by a different version of elasticlunr.\n   *\n   * @param {Object} serialisedData The serialised set to load.\n   * @return {elasticlunr.Index}\n   * @memberOf Index\n   */\n\n\n  elasticlunr.Index.load = function (serialisedData) {\n    if (serialisedData.version !== elasticlunr.version) {\n      elasticlunr.utils.warn('version mismatch: current ' + elasticlunr.version + ' importing ' + serialisedData.version);\n    }\n\n    var idx = new this();\n    idx._fields = serialisedData.fields;\n    idx._ref = serialisedData.ref;\n    idx.documentStore = elasticlunr.DocumentStore.load(serialisedData.documentStore);\n    idx.pipeline = elasticlunr.Pipeline.load(serialisedData.pipeline);\n    idx.index = {};\n\n    for (var field in serialisedData.index) {\n      idx.index[field] = elasticlunr.InvertedIndex.load(serialisedData.index[field]);\n    }\n\n    return idx;\n  };\n  /**\n   * Adds a field to the list of fields that will be searchable within documents in the index.\n   *\n   * Remember that inner index is build based on field, which means each field has one inverted index.\n   *\n   * Fields should be added before any documents are added to the index, fields\n   * that are added after documents are added to the index will only apply to new\n   * documents added to the index.\n   *\n   * @param {String} fieldName The name of the field within the document that should be indexed\n   * @return {elasticlunr.Index}\n   * @memberOf Index\n   */\n\n\n  elasticlunr.Index.prototype.addField = function (fieldName) {\n    this._fields.push(fieldName);\n\n    this.index[fieldName] = new elasticlunr.InvertedIndex();\n    return this;\n  };\n  /**\n   * Sets the property used to uniquely identify documents added to the index,\n   * by default this property is 'id'.\n   *\n   * This should only be changed before adding documents to the index, changing\n   * the ref property without resetting the index can lead to unexpected results.\n   *\n   * @param {String} refName The property to use to uniquely identify the\n   * documents in the index.\n   * @param {Boolean} emitEvent Whether to emit add events, defaults to true\n   * @return {elasticlunr.Index}\n   * @memberOf Index\n   */\n\n\n  elasticlunr.Index.prototype.setRef = function (refName) {\n    this._ref = refName;\n    return this;\n  };\n  /**\n   *\n   * Set if the JSON format original documents are save into elasticlunr.DocumentStore\n   *\n   * Defaultly save all the original JSON documents.\n   *\n   * @param {Boolean} save Whether to save the original JSON documents.\n   * @return {elasticlunr.Index}\n   * @memberOf Index\n   */\n\n\n  elasticlunr.Index.prototype.saveDocument = function (save) {\n    this.documentStore = new elasticlunr.DocumentStore(save);\n    return this;\n  };\n  /**\n   * Add a JSON format document to the index.\n   *\n   * This is the way new documents enter the index, this function will run the\n   * fields from the document through the index's pipeline and then add it to\n   * the index, it will then show up in search results.\n   *\n   * An 'add' event is emitted with the document that has been added and the index\n   * the document has been added to. This event can be silenced by passing false\n   * as the second argument to add.\n   *\n   * @param {Object} doc The JSON format document to add to the index.\n   * @param {Boolean} emitEvent Whether or not to emit events, default true.\n   * @memberOf Index\n   */\n\n\n  elasticlunr.Index.prototype.addDoc = function (doc, emitEvent) {\n    if (!doc) return;\n    var emitEvent = emitEvent === undefined ? true : emitEvent;\n    var docRef = doc[this._ref];\n    this.documentStore.addDoc(docRef, doc);\n\n    this._fields.forEach(function (field) {\n      var fieldTokens = this.pipeline.run(elasticlunr.tokenizer(doc[field]));\n      this.documentStore.addFieldLength(docRef, field, fieldTokens.length);\n      var tokenCount = {};\n      fieldTokens.forEach(function (token) {\n        if (token in tokenCount) tokenCount[token] += 1;else tokenCount[token] = 1;\n      }, this);\n\n      for (var token in tokenCount) {\n        var termFrequency = tokenCount[token];\n        termFrequency = Math.sqrt(termFrequency);\n        this.index[field].addToken(token, {\n          ref: docRef,\n          tf: termFrequency\n        });\n      }\n    }, this);\n\n    if (emitEvent) this.eventEmitter.emit('add', doc, this);\n  };\n  /**\n   * Removes a document from the index by doc ref.\n   *\n   * To make sure documents no longer show up in search results they can be\n   * removed from the index using this method.\n   *\n   * A 'remove' event is emitted with the document that has been removed and the index\n   * the document has been removed from. This event can be silenced by passing false\n   * as the second argument to remove.\n   *\n   * If user setting DocumentStore not storing the documents, then remove doc by docRef is not allowed.\n   *\n   * @param {String|Integer} docRef The document ref to remove from the index.\n   * @param {Boolean} emitEvent Whether to emit remove events, defaults to true\n   * @memberOf Index\n   */\n\n\n  elasticlunr.Index.prototype.removeDocByRef = function (docRef, emitEvent) {\n    if (!docRef) return;\n\n    if (this.documentStore.isDocStored() === false) {\n      return;\n    }\n\n    if (!this.documentStore.hasDoc(docRef)) return;\n    var doc = this.documentStore.getDoc(docRef);\n    this.removeDoc(doc, false);\n  };\n  /**\n   * Removes a document from the index.\n   * This remove operation could work even the original doc is not store in the DocumentStore.\n   *\n   * To make sure documents no longer show up in search results they can be\n   * removed from the index using this method.\n   *\n   * A 'remove' event is emitted with the document that has been removed and the index\n   * the document has been removed from. This event can be silenced by passing false\n   * as the second argument to remove.\n   *\n   *\n   * @param {Object} doc The document ref to remove from the index.\n   * @param {Boolean} emitEvent Whether to emit remove events, defaults to true\n   * @memberOf Index\n   */\n\n\n  elasticlunr.Index.prototype.removeDoc = function (doc, emitEvent) {\n    if (!doc) return;\n    var emitEvent = emitEvent === undefined ? true : emitEvent;\n    var docRef = doc[this._ref];\n    if (!this.documentStore.hasDoc(docRef)) return;\n    this.documentStore.removeDoc(docRef);\n\n    this._fields.forEach(function (field) {\n      var fieldTokens = this.pipeline.run(elasticlunr.tokenizer(doc[field]));\n      fieldTokens.forEach(function (token) {\n        this.index[field].removeToken(token, docRef);\n      }, this);\n    }, this);\n\n    if (emitEvent) this.eventEmitter.emit('remove', doc, this);\n  };\n  /**\n   * Updates a document in the index.\n   *\n   * When a document contained within the index gets updated, fields changed,\n   * added or removed, to make sure it correctly matched against search queries,\n   * it should be updated in the index.\n   *\n   * This method is just a wrapper around `remove` and `add`\n   *\n   * An 'update' event is emitted with the document that has been updated and the index.\n   * This event can be silenced by passing false as the second argument to update. Only\n   * an update event will be fired, the 'add' and 'remove' events of the underlying calls\n   * are silenced.\n   *\n   * @param {Object} doc The document to update in the index.\n   * @param {Boolean} emitEvent Whether to emit update events, defaults to true\n   * @see Index.prototype.remove\n   * @see Index.prototype.add\n   * @memberOf Index\n   */\n\n\n  elasticlunr.Index.prototype.updateDoc = function (doc, emitEvent) {\n    var emitEvent = emitEvent === undefined ? true : emitEvent;\n    this.removeDocByRef(doc[this._ref], false);\n    this.addDoc(doc, false);\n    if (emitEvent) this.eventEmitter.emit('update', doc, this);\n  };\n  /**\n   * Calculates the inverse document frequency for a token within the index of a field.\n   *\n   * @param {String} token The token to calculate the idf of.\n   * @param {String} field The field to compute idf.\n   * @see Index.prototype.idf\n   * @private\n   * @memberOf Index\n   */\n\n\n  elasticlunr.Index.prototype.idf = function (term, field) {\n    var cacheKey = \"@\" + field + '/' + term;\n    if (Object.prototype.hasOwnProperty.call(this._idfCache, cacheKey)) return this._idfCache[cacheKey];\n    var df = this.index[field].getDocFreq(term);\n    var idf = 1 + Math.log(this.documentStore.length / (df + 1));\n    this._idfCache[cacheKey] = idf;\n    return idf;\n  };\n  /**\n   * get fields of current index instance\n   *\n   * @return {Array}\n   */\n\n\n  elasticlunr.Index.prototype.getFields = function () {\n    return this._fields.slice();\n  };\n  /**\n   * Searches the index using the passed query.\n   * Queries should be a string, multiple words are allowed.\n   *\n   * If config is null, will search all fields defaultly, and lead to OR based query.\n   * If config is specified, will search specified with query time boosting.\n   *\n   * All query tokens are passed through the same pipeline that document tokens\n   * are passed through, so any language processing involved will be run on every\n   * query term.\n   *\n   * Each query term is expanded, so that the term 'he' might be expanded to\n   * 'hello' and 'help' if those terms were already included in the index.\n   *\n   * Matching documents are returned as an array of objects, each object contains\n   * the matching document ref, as set for this index, and the similarity score\n   * for this document against the query.\n   *\n   * @param {String} query The query to search the index with.\n   * @param {JSON} userConfig The user query config, JSON format.\n   * @return {Object}\n   * @see Index.prototype.idf\n   * @see Index.prototype.documentVector\n   * @memberOf Index\n   */\n\n\n  elasticlunr.Index.prototype.search = function (query, userConfig) {\n    if (!query) return [];\n    var configStr = null;\n\n    if (userConfig != null) {\n      configStr = JSON.stringify(userConfig);\n    }\n\n    var config = new elasticlunr.Configuration(configStr, this.getFields()).get();\n    var queryTokens = this.pipeline.run(elasticlunr.tokenizer(query));\n    var queryResults = {};\n\n    for (var field in config) {\n      var fieldSearchResults = this.fieldSearch(queryTokens, field, config);\n      var fieldBoost = config[field].boost;\n\n      for (var docRef in fieldSearchResults) {\n        fieldSearchResults[docRef] = fieldSearchResults[docRef] * fieldBoost;\n      }\n\n      for (var docRef in fieldSearchResults) {\n        if (docRef in queryResults) {\n          queryResults[docRef] += fieldSearchResults[docRef];\n        } else {\n          queryResults[docRef] = fieldSearchResults[docRef];\n        }\n      }\n    }\n\n    var results = [];\n\n    for (var docRef in queryResults) {\n      results.push({\n        ref: docRef,\n        score: queryResults[docRef]\n      });\n    }\n\n    results.sort(function (a, b) {\n      return b.score - a.score;\n    });\n    return results;\n  };\n  /**\n   * search queryTokens in specified field.\n   *\n   * @param {Array} queryTokens The query tokens to query in this field.\n   * @param {String} field Field to query in.\n   * @param {elasticlunr.Configuration} config The user query config, JSON format.\n   * @return {Object}\n   */\n\n\n  elasticlunr.Index.prototype.fieldSearch = function (queryTokens, fieldName, config) {\n    var booleanType = config[fieldName].bool;\n    var expand = config[fieldName].expand;\n    var boost = config[fieldName].boost;\n    var scores = null;\n    var docTokens = {}; // Do nothing if the boost is 0\n\n    if (boost === 0) {\n      return;\n    }\n\n    queryTokens.forEach(function (token) {\n      var tokens = [token];\n\n      if (expand == true) {\n        tokens = this.index[fieldName].expandToken(token);\n      } // Consider every query token in turn. If expanded, each query token\n      // corresponds to a set of tokens, which is all tokens in the \n      // index matching the pattern queryToken* .\n      // For the set of tokens corresponding to a query token, find and score\n      // all matching documents. Store those scores in queryTokenScores, \n      // keyed by docRef.\n      // Then, depending on the value of booleanType, combine the scores\n      // for this query token with previous scores.  If booleanType is OR,\n      // then merge the scores by summing into the accumulated total, adding\n      // new document scores are required (effectively a union operator). \n      // If booleanType is AND, accumulate scores only if the document \n      // has previously been scored by another query token (an intersection\n      // operation0. \n      // Furthermore, since when booleanType is AND, additional \n      // query tokens can't add new documents to the result set, use the\n      // current document set to limit the processing of each new query \n      // token for efficiency (i.e., incremental intersection).\n\n\n      var queryTokenScores = {};\n      tokens.forEach(function (key) {\n        var docs = this.index[fieldName].getDocs(key);\n        var idf = this.idf(key, fieldName);\n\n        if (scores && booleanType == 'AND') {\n          // special case, we can rule out documents that have been\n          // already been filtered out because they weren't scored\n          // by previous query token passes.\n          var filteredDocs = {};\n\n          for (var docRef in scores) {\n            if (docRef in docs) {\n              filteredDocs[docRef] = docs[docRef];\n            }\n          }\n\n          docs = filteredDocs;\n        } // only record appeared token for retrieved documents for the\n        // original token, not for expaned token.\n        // beause for doing coordNorm for a retrieved document, coordNorm only care how many\n        // query token appear in that document.\n        // so expanded token should not be added into docTokens, if added, this will pollute the\n        // coordNorm\n\n\n        if (key == token) {\n          this.fieldSearchStats(docTokens, key, docs);\n        }\n\n        for (var docRef in docs) {\n          var tf = this.index[fieldName].getTermFrequency(key, docRef);\n          var fieldLength = this.documentStore.getFieldLength(docRef, fieldName);\n          var fieldLengthNorm = 1;\n\n          if (fieldLength != 0) {\n            fieldLengthNorm = 1 / Math.sqrt(fieldLength);\n          }\n\n          var penality = 1;\n\n          if (key != token) {\n            // currently I'm not sure if this penality is enough,\n            // need to do verification\n            penality = (1 - (key.length - token.length) / key.length) * 0.15;\n          }\n\n          var score = tf * idf * fieldLengthNorm * penality;\n\n          if (docRef in queryTokenScores) {\n            queryTokenScores[docRef] += score;\n          } else {\n            queryTokenScores[docRef] = score;\n          }\n        }\n      }, this);\n      scores = this.mergeScores(scores, queryTokenScores, booleanType);\n    }, this);\n    scores = this.coordNorm(scores, docTokens, queryTokens.length);\n    return scores;\n  };\n  /**\n   * Merge the scores from one set of tokens into an accumulated score table.\n   * Exact operation depends on the op parameter. If op is 'AND', then only the\n   * intersection of the two score lists is retained. Otherwise, the union of\n   * the two score lists is returned. For internal use only.\n   *\n   * @param {Object} bool accumulated scores. Should be null on first call.\n   * @param {String} scores new scores to merge into accumScores.\n   * @param {Object} op merge operation (should be 'AND' or 'OR').\n   *\n   */\n\n\n  elasticlunr.Index.prototype.mergeScores = function (accumScores, scores, op) {\n    if (!accumScores) {\n      return scores;\n    }\n\n    if (op == 'AND') {\n      var intersection = {};\n\n      for (var docRef in scores) {\n        if (docRef in accumScores) {\n          intersection[docRef] = accumScores[docRef] + scores[docRef];\n        }\n      }\n\n      return intersection;\n    } else {\n      for (var docRef in scores) {\n        if (docRef in accumScores) {\n          accumScores[docRef] += scores[docRef];\n        } else {\n          accumScores[docRef] = scores[docRef];\n        }\n      }\n\n      return accumScores;\n    }\n  };\n  /**\n   * Record the occuring query token of retrieved doc specified by doc field.\n   * Only for inner user.\n   *\n   * @param {Object} docTokens a data structure stores which token appears in the retrieved doc.\n   * @param {String} token query token\n   * @param {Object} docs the retrieved documents of the query token\n   *\n   */\n\n\n  elasticlunr.Index.prototype.fieldSearchStats = function (docTokens, token, docs) {\n    for (var doc in docs) {\n      if (doc in docTokens) {\n        docTokens[doc].push(token);\n      } else {\n        docTokens[doc] = [token];\n      }\n    }\n  };\n  /**\n   * coord norm the score of a doc.\n   * if a doc contain more query tokens, then the score will larger than the doc\n   * contains less query tokens.\n   *\n   * only for inner use.\n   *\n   * @param {Object} results first results\n   * @param {Object} docs field search results of a token\n   * @param {Integer} n query token number\n   * @return {Object}\n   */\n\n\n  elasticlunr.Index.prototype.coordNorm = function (scores, docTokens, n) {\n    for (var doc in scores) {\n      if (!(doc in docTokens)) continue;\n      var tokens = docTokens[doc].length;\n      scores[doc] = scores[doc] * tokens / n;\n    }\n\n    return scores;\n  };\n  /**\n   * Returns a representation of the index ready for serialisation.\n   *\n   * @return {Object}\n   * @memberOf Index\n   */\n\n\n  elasticlunr.Index.prototype.toJSON = function () {\n    var indexJson = {};\n\n    this._fields.forEach(function (field) {\n      indexJson[field] = this.index[field].toJSON();\n    }, this);\n\n    return {\n      version: elasticlunr.version,\n      fields: this._fields,\n      ref: this._ref,\n      documentStore: this.documentStore.toJSON(),\n      index: indexJson,\n      pipeline: this.pipeline.toJSON()\n    };\n  };\n  /**\n   * Applies a plugin to the current index.\n   *\n   * A plugin is a function that is called with the index as its context.\n   * Plugins can be used to customise or extend the behaviour the index\n   * in some way. A plugin is just a function, that encapsulated the custom\n   * behaviour that should be applied to the index.\n   *\n   * The plugin function will be called with the index as its argument, additional\n   * arguments can also be passed when calling use. The function will be called\n   * with the index as its context.\n   *\n   * Example:\n   *\n   *     var myPlugin = function (idx, arg1, arg2) {\n   *       // `this` is the index to be extended\n   *       // apply any extensions etc here.\n   *     }\n   *\n   *     var idx = elasticlunr(function () {\n   *       this.use(myPlugin, 'arg1', 'arg2')\n   *     })\n   *\n   * @param {Function} plugin The plugin to apply.\n   * @memberOf Index\n   */\n\n\n  elasticlunr.Index.prototype.use = function (plugin) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    args.unshift(this);\n    plugin.apply(this, args);\n  };\n  /*!\n   * elasticlunr.DocumentStore\n   * Copyright (C) 2016 Wei Song\n   */\n\n  /**\n   * elasticlunr.DocumentStore is a simple key-value document store used for storing sets of tokens for\n   * documents stored in index.\n   *\n   * elasticlunr.DocumentStore store original JSON format documents that you could build search snippet by this original JSON document.\n   *\n   * user could choose whether original JSON format document should be store, if no configuration then document will be stored defaultly.\n   * If user care more about the index size, user could select not store JSON documents, then this will has some defects, such as user\n   * could not use JSON document to generate snippets of search results.\n   *\n   * @param {Boolean} save If the original JSON document should be stored.\n   * @constructor\n   * @module\n   */\n\n\n  elasticlunr.DocumentStore = function (save) {\n    if (save === null || save === undefined) {\n      this._save = true;\n    } else {\n      this._save = save;\n    }\n\n    this.docs = {};\n    this.docInfo = {};\n    this.length = 0;\n  };\n  /**\n   * Loads a previously serialised document store\n   *\n   * @param {Object} serialisedData The serialised document store to load.\n   * @return {elasticlunr.DocumentStore}\n   */\n\n\n  elasticlunr.DocumentStore.load = function (serialisedData) {\n    var store = new this();\n    store.length = serialisedData.length;\n    store.docs = serialisedData.docs;\n    store.docInfo = serialisedData.docInfo;\n    store._save = serialisedData.save;\n    return store;\n  };\n  /**\n   * check if current instance store the original doc\n   *\n   * @return {Boolean}\n   */\n\n\n  elasticlunr.DocumentStore.prototype.isDocStored = function () {\n    return this._save;\n  };\n  /**\n   * Stores the given doc in the document store against the given id.\n   * If docRef already exist, then update doc.\n   *\n   * Document is store by original JSON format, then you could use original document to generate search snippets.\n   *\n   * @param {Integer|String} docRef The key used to store the JSON format doc.\n   * @param {Object} doc The JSON format doc.\n   */\n\n\n  elasticlunr.DocumentStore.prototype.addDoc = function (docRef, doc) {\n    if (!this.hasDoc(docRef)) this.length++;\n\n    if (this._save === true) {\n      this.docs[docRef] = clone(doc);\n    } else {\n      this.docs[docRef] = null;\n    }\n  };\n  /**\n   * Retrieves the JSON doc from the document store for a given key.\n   *\n   * If docRef not found, return null.\n   * If user set not storing the documents, return null.\n   *\n   * @param {Integer|String} docRef The key to lookup and retrieve from the document store.\n   * @return {Object}\n   * @memberOf DocumentStore\n   */\n\n\n  elasticlunr.DocumentStore.prototype.getDoc = function (docRef) {\n    if (this.hasDoc(docRef) === false) return null;\n    return this.docs[docRef];\n  };\n  /**\n   * Checks whether the document store contains a key (docRef).\n   *\n   * @param {Integer|String} docRef The id to look up in the document store.\n   * @return {Boolean}\n   * @memberOf DocumentStore\n   */\n\n\n  elasticlunr.DocumentStore.prototype.hasDoc = function (docRef) {\n    return docRef in this.docs;\n  };\n  /**\n   * Removes the value for a key in the document store.\n   *\n   * @param {Integer|String} docRef The id to remove from the document store.\n   * @memberOf DocumentStore\n   */\n\n\n  elasticlunr.DocumentStore.prototype.removeDoc = function (docRef) {\n    if (!this.hasDoc(docRef)) return;\n    delete this.docs[docRef];\n    delete this.docInfo[docRef];\n    this.length--;\n  };\n  /**\n   * Add field length of a document's field tokens from pipeline results.\n   * The field length of a document is used to do field length normalization even without the original JSON document stored.\n   *\n   * @param {Integer|String} docRef document's id or reference\n   * @param {String} fieldName field name\n   * @param {Integer} length field length\n   */\n\n\n  elasticlunr.DocumentStore.prototype.addFieldLength = function (docRef, fieldName, length) {\n    if (docRef === null || docRef === undefined) return;\n    if (this.hasDoc(docRef) == false) return;\n    if (!this.docInfo[docRef]) this.docInfo[docRef] = {};\n    this.docInfo[docRef][fieldName] = length;\n  };\n  /**\n   * Update field length of a document's field tokens from pipeline results.\n   * The field length of a document is used to do field length normalization even without the original JSON document stored.\n   *\n   * @param {Integer|String} docRef document's id or reference\n   * @param {String} fieldName field name\n   * @param {Integer} length field length\n   */\n\n\n  elasticlunr.DocumentStore.prototype.updateFieldLength = function (docRef, fieldName, length) {\n    if (docRef === null || docRef === undefined) return;\n    if (this.hasDoc(docRef) == false) return;\n    this.addFieldLength(docRef, fieldName, length);\n  };\n  /**\n   * get field length of a document by docRef\n   *\n   * @param {Integer|String} docRef document id or reference\n   * @param {String} fieldName field name\n   * @return {Integer} field length\n   */\n\n\n  elasticlunr.DocumentStore.prototype.getFieldLength = function (docRef, fieldName) {\n    if (docRef === null || docRef === undefined) return 0;\n    if (!(docRef in this.docs)) return 0;\n    if (!(fieldName in this.docInfo[docRef])) return 0;\n    return this.docInfo[docRef][fieldName];\n  };\n  /**\n   * Returns a JSON representation of the document store used for serialisation.\n   *\n   * @return {Object} JSON format\n   * @memberOf DocumentStore\n   */\n\n\n  elasticlunr.DocumentStore.prototype.toJSON = function () {\n    return {\n      docs: this.docs,\n      docInfo: this.docInfo,\n      length: this.length,\n      save: this._save\n    };\n  };\n  /**\n   * Cloning object\n   *\n   * @param {Object} object in JSON format\n   * @return {Object} copied object\n   */\n\n\n  function clone(obj) {\n    if (null === obj || \"object\" !== typeof obj) return obj;\n    var copy = obj.constructor();\n\n    for (var attr in obj) {\n      if (obj.hasOwnProperty(attr)) copy[attr] = obj[attr];\n    }\n\n    return copy;\n  }\n  /*!\n   * elasticlunr.stemmer\n   * Copyright (C) 2016 Oliver Nightingale\n   * Copyright (C) 2016 Wei Song\n   * Includes code from - http://tartarus.org/~martin/PorterStemmer/js.txt\n   */\n\n  /**\n   * elasticlunr.stemmer is an english language stemmer, this is a JavaScript\n   * implementation of the PorterStemmer taken from http://tartarus.org/~martin\n   *\n   * @module\n   * @param {String} str The string to stem\n   * @return {String}\n   * @see elasticlunr.Pipeline\n   */\n\n\n  elasticlunr.stemmer = function () {\n    var step2list = {\n      \"ational\": \"ate\",\n      \"tional\": \"tion\",\n      \"enci\": \"ence\",\n      \"anci\": \"ance\",\n      \"izer\": \"ize\",\n      \"bli\": \"ble\",\n      \"alli\": \"al\",\n      \"entli\": \"ent\",\n      \"eli\": \"e\",\n      \"ousli\": \"ous\",\n      \"ization\": \"ize\",\n      \"ation\": \"ate\",\n      \"ator\": \"ate\",\n      \"alism\": \"al\",\n      \"iveness\": \"ive\",\n      \"fulness\": \"ful\",\n      \"ousness\": \"ous\",\n      \"aliti\": \"al\",\n      \"iviti\": \"ive\",\n      \"biliti\": \"ble\",\n      \"logi\": \"log\"\n    },\n        step3list = {\n      \"icate\": \"ic\",\n      \"ative\": \"\",\n      \"alize\": \"al\",\n      \"iciti\": \"ic\",\n      \"ical\": \"ic\",\n      \"ful\": \"\",\n      \"ness\": \"\"\n    },\n        c = \"[^aeiou]\",\n        // consonant\n    v = \"[aeiouy]\",\n        // vowel\n    C = c + \"[^aeiouy]*\",\n        // consonant sequence\n    V = v + \"[aeiou]*\",\n        // vowel sequence\n    mgr0 = \"^(\" + C + \")?\" + V + C,\n        // [C]VC... is m>0\n    meq1 = \"^(\" + C + \")?\" + V + C + \"(\" + V + \")?$\",\n        // [C]VC[V] is m=1\n    mgr1 = \"^(\" + C + \")?\" + V + C + V + C,\n        // [C]VCVC... is m>1\n    s_v = \"^(\" + C + \")?\" + v; // vowel in stem\n\n    var re_mgr0 = new RegExp(mgr0);\n    var re_mgr1 = new RegExp(mgr1);\n    var re_meq1 = new RegExp(meq1);\n    var re_s_v = new RegExp(s_v);\n    var re_1a = /^(.+?)(ss|i)es$/;\n    var re2_1a = /^(.+?)([^s])s$/;\n    var re_1b = /^(.+?)eed$/;\n    var re2_1b = /^(.+?)(ed|ing)$/;\n    var re_1b_2 = /.$/;\n    var re2_1b_2 = /(at|bl|iz)$/;\n    var re3_1b_2 = new RegExp(\"([^aeiouylsz])\\\\1$\");\n    var re4_1b_2 = new RegExp(\"^\" + C + v + \"[^aeiouwxy]$\");\n    var re_1c = /^(.+?[^aeiou])y$/;\n    var re_2 = /^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/;\n    var re_3 = /^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/;\n    var re_4 = /^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/;\n    var re2_4 = /^(.+?)(s|t)(ion)$/;\n    var re_5 = /^(.+?)e$/;\n    var re_5_1 = /ll$/;\n    var re3_5 = new RegExp(\"^\" + C + v + \"[^aeiouwxy]$\");\n\n    var porterStemmer = function porterStemmer(w) {\n      var stem, suffix, firstch, re, re2, re3, re4;\n\n      if (w.length < 3) {\n        return w;\n      }\n\n      firstch = w.substr(0, 1);\n\n      if (firstch == \"y\") {\n        w = firstch.toUpperCase() + w.substr(1);\n      } // Step 1a\n\n\n      re = re_1a;\n      re2 = re2_1a;\n\n      if (re.test(w)) {\n        w = w.replace(re, \"$1$2\");\n      } else if (re2.test(w)) {\n        w = w.replace(re2, \"$1$2\");\n      } // Step 1b\n\n\n      re = re_1b;\n      re2 = re2_1b;\n\n      if (re.test(w)) {\n        var fp = re.exec(w);\n        re = re_mgr0;\n\n        if (re.test(fp[1])) {\n          re = re_1b_2;\n          w = w.replace(re, \"\");\n        }\n      } else if (re2.test(w)) {\n        var fp = re2.exec(w);\n        stem = fp[1];\n        re2 = re_s_v;\n\n        if (re2.test(stem)) {\n          w = stem;\n          re2 = re2_1b_2;\n          re3 = re3_1b_2;\n          re4 = re4_1b_2;\n\n          if (re2.test(w)) {\n            w = w + \"e\";\n          } else if (re3.test(w)) {\n            re = re_1b_2;\n            w = w.replace(re, \"\");\n          } else if (re4.test(w)) {\n            w = w + \"e\";\n          }\n        }\n      } // Step 1c - replace suffix y or Y by i if preceded by a non-vowel which is not the first letter of the word (so cry -> cri, by -> by, say -> say)\n\n\n      re = re_1c;\n\n      if (re.test(w)) {\n        var fp = re.exec(w);\n        stem = fp[1];\n        w = stem + \"i\";\n      } // Step 2\n\n\n      re = re_2;\n\n      if (re.test(w)) {\n        var fp = re.exec(w);\n        stem = fp[1];\n        suffix = fp[2];\n        re = re_mgr0;\n\n        if (re.test(stem)) {\n          w = stem + step2list[suffix];\n        }\n      } // Step 3\n\n\n      re = re_3;\n\n      if (re.test(w)) {\n        var fp = re.exec(w);\n        stem = fp[1];\n        suffix = fp[2];\n        re = re_mgr0;\n\n        if (re.test(stem)) {\n          w = stem + step3list[suffix];\n        }\n      } // Step 4\n\n\n      re = re_4;\n      re2 = re2_4;\n\n      if (re.test(w)) {\n        var fp = re.exec(w);\n        stem = fp[1];\n        re = re_mgr1;\n\n        if (re.test(stem)) {\n          w = stem;\n        }\n      } else if (re2.test(w)) {\n        var fp = re2.exec(w);\n        stem = fp[1] + fp[2];\n        re2 = re_mgr1;\n\n        if (re2.test(stem)) {\n          w = stem;\n        }\n      } // Step 5\n\n\n      re = re_5;\n\n      if (re.test(w)) {\n        var fp = re.exec(w);\n        stem = fp[1];\n        re = re_mgr1;\n        re2 = re_meq1;\n        re3 = re3_5;\n\n        if (re.test(stem) || re2.test(stem) && !re3.test(stem)) {\n          w = stem;\n        }\n      }\n\n      re = re_5_1;\n      re2 = re_mgr1;\n\n      if (re.test(w) && re2.test(w)) {\n        re = re_1b_2;\n        w = w.replace(re, \"\");\n      } // and turn initial Y back to y\n\n\n      if (firstch == \"y\") {\n        w = firstch.toLowerCase() + w.substr(1);\n      }\n\n      return w;\n    };\n\n    return porterStemmer;\n  }();\n\n  elasticlunr.Pipeline.registerFunction(elasticlunr.stemmer, 'stemmer');\n  /*!\n   * elasticlunr.stopWordFilter\n   * Copyright (C) 2016 Oliver Nightingale\n   * Copyright (C) 2016 Wei Song\n   */\n\n  /**\n   * elasticlunr.stopWordFilter is an English language stop words filter, any words\n   * contained in the stop word list will not be passed through the filter.\n   *\n   * This is intended to be used in the Pipeline. If the token does not pass the\n   * filter then undefined will be returned.\n   * Currently this StopwordFilter using dictionary to do O(1) time complexity stop word filtering.\n   *\n   * @module\n   * @param {String} token The token to pass through the filter\n   * @return {String}\n   * @see elasticlunr.Pipeline\n   */\n\n  elasticlunr.stopWordFilter = function (token) {\n    if (token && elasticlunr.stopWordFilter.stopWords[token] !== true) {\n      return token;\n    }\n  };\n  /**\n   * Remove predefined stop words\n   * if user want to use customized stop words, user could use this function to delete\n   * all predefined stopwords.\n   *\n   * @return {null}\n   */\n\n\n  elasticlunr.clearStopWords = function () {\n    elasticlunr.stopWordFilter.stopWords = {};\n  };\n  /**\n   * Add customized stop words\n   * user could use this function to add customized stop words\n   * \n   * @params {Array} words customized stop words\n   * @return {null}\n   */\n\n\n  elasticlunr.addStopWords = function (words) {\n    if (words == null || Array.isArray(words) === false) return;\n    words.forEach(function (word) {\n      elasticlunr.stopWordFilter.stopWords[word] = true;\n    }, this);\n  };\n  /**\n   * Reset to default stop words\n   * user could use this function to restore default stop words\n   *\n   * @return {null}\n   */\n\n\n  elasticlunr.resetStopWords = function () {\n    elasticlunr.stopWordFilter.stopWords = elasticlunr.defaultStopWords;\n  };\n\n  elasticlunr.defaultStopWords = {\n    \"\": true,\n    \"a\": true,\n    \"able\": true,\n    \"about\": true,\n    \"across\": true,\n    \"after\": true,\n    \"all\": true,\n    \"almost\": true,\n    \"also\": true,\n    \"am\": true,\n    \"among\": true,\n    \"an\": true,\n    \"and\": true,\n    \"any\": true,\n    \"are\": true,\n    \"as\": true,\n    \"at\": true,\n    \"be\": true,\n    \"because\": true,\n    \"been\": true,\n    \"but\": true,\n    \"by\": true,\n    \"can\": true,\n    \"cannot\": true,\n    \"could\": true,\n    \"dear\": true,\n    \"did\": true,\n    \"do\": true,\n    \"does\": true,\n    \"either\": true,\n    \"else\": true,\n    \"ever\": true,\n    \"every\": true,\n    \"for\": true,\n    \"from\": true,\n    \"get\": true,\n    \"got\": true,\n    \"had\": true,\n    \"has\": true,\n    \"have\": true,\n    \"he\": true,\n    \"her\": true,\n    \"hers\": true,\n    \"him\": true,\n    \"his\": true,\n    \"how\": true,\n    \"however\": true,\n    \"i\": true,\n    \"if\": true,\n    \"in\": true,\n    \"into\": true,\n    \"is\": true,\n    \"it\": true,\n    \"its\": true,\n    \"just\": true,\n    \"least\": true,\n    \"let\": true,\n    \"like\": true,\n    \"likely\": true,\n    \"may\": true,\n    \"me\": true,\n    \"might\": true,\n    \"most\": true,\n    \"must\": true,\n    \"my\": true,\n    \"neither\": true,\n    \"no\": true,\n    \"nor\": true,\n    \"not\": true,\n    \"of\": true,\n    \"off\": true,\n    \"often\": true,\n    \"on\": true,\n    \"only\": true,\n    \"or\": true,\n    \"other\": true,\n    \"our\": true,\n    \"own\": true,\n    \"rather\": true,\n    \"said\": true,\n    \"say\": true,\n    \"says\": true,\n    \"she\": true,\n    \"should\": true,\n    \"since\": true,\n    \"so\": true,\n    \"some\": true,\n    \"than\": true,\n    \"that\": true,\n    \"the\": true,\n    \"their\": true,\n    \"them\": true,\n    \"then\": true,\n    \"there\": true,\n    \"these\": true,\n    \"they\": true,\n    \"this\": true,\n    \"tis\": true,\n    \"to\": true,\n    \"too\": true,\n    \"twas\": true,\n    \"us\": true,\n    \"wants\": true,\n    \"was\": true,\n    \"we\": true,\n    \"were\": true,\n    \"what\": true,\n    \"when\": true,\n    \"where\": true,\n    \"which\": true,\n    \"while\": true,\n    \"who\": true,\n    \"whom\": true,\n    \"why\": true,\n    \"will\": true,\n    \"with\": true,\n    \"would\": true,\n    \"yet\": true,\n    \"you\": true,\n    \"your\": true\n  };\n  elasticlunr.stopWordFilter.stopWords = elasticlunr.defaultStopWords;\n  elasticlunr.Pipeline.registerFunction(elasticlunr.stopWordFilter, 'stopWordFilter');\n  /*!\n   * elasticlunr.trimmer\n   * Copyright (C) 2016 Oliver Nightingale\n   * Copyright (C) 2016 Wei Song\n   */\n\n  /**\n   * elasticlunr.trimmer is a pipeline function for trimming non word\n   * characters from the begining and end of tokens before they\n   * enter the index.\n   *\n   * This implementation may not work correctly for non latin\n   * characters and should either be removed or adapted for use\n   * with languages with non-latin characters.\n   *\n   * @module\n   * @param {String} token The token to pass through the filter\n   * @return {String}\n   * @see elasticlunr.Pipeline\n   */\n\n  elasticlunr.trimmer = function (token) {\n    if (token === null || token === undefined) {\n      throw new Error('token should not be undefined');\n    }\n\n    return token.replace(/^\\W+/, '').replace(/\\W+$/, '');\n  };\n\n  elasticlunr.Pipeline.registerFunction(elasticlunr.trimmer, 'trimmer');\n  /*!\n   * elasticlunr.InvertedIndex\n   * Copyright (C) 2016 Wei Song\n   * Includes code from - http://tartarus.org/~martin/PorterStemmer/js.txt\n   */\n\n  /**\n   * elasticlunr.InvertedIndex is used for efficiently storing and\n   * lookup of documents that contain a given token.\n   *\n   * @constructor\n   */\n\n  elasticlunr.InvertedIndex = function () {\n    this.root = {\n      docs: {},\n      df: 0\n    };\n  };\n  /**\n   * Loads a previously serialised inverted index.\n   *\n   * @param {Object} serialisedData The serialised inverted index to load.\n   * @return {elasticlunr.InvertedIndex}\n   */\n\n\n  elasticlunr.InvertedIndex.load = function (serialisedData) {\n    var idx = new this();\n    idx.root = serialisedData.root;\n    return idx;\n  };\n  /**\n   * Adds a {token: tokenInfo} pair to the inverted index.\n   * If the token already exist, then update the tokenInfo.\n   *\n   * tokenInfo format: { ref: 1, tf: 2}\n   * tokenInfor should contains the document's ref and the tf(token frequency) of that token in\n   * the document.\n   *\n   * By default this function starts at the root of the current inverted index, however\n   * it can start at any node of the inverted index if required.\n   *\n   * @param {String} token \n   * @param {Object} tokenInfo format: { ref: 1, tf: 2}\n   * @param {Object} root An optional node at which to start looking for the\n   * correct place to enter the doc, by default the root of this elasticlunr.InvertedIndex\n   * is used.\n   * @memberOf InvertedIndex\n   */\n\n\n  elasticlunr.InvertedIndex.prototype.addToken = function (token, tokenInfo, root) {\n    var root = root || this.root,\n        idx = 0;\n\n    while (idx <= token.length - 1) {\n      var key = token[idx];\n      if (!(key in root)) root[key] = {\n        docs: {},\n        df: 0\n      };\n      idx += 1;\n      root = root[key];\n    }\n\n    var docRef = tokenInfo.ref;\n\n    if (!root.docs[docRef]) {\n      // if this doc not exist, then add this doc\n      root.docs[docRef] = {\n        tf: tokenInfo.tf\n      };\n      root.df += 1;\n    } else {\n      // if this doc already exist, then update tokenInfo\n      root.docs[docRef] = {\n        tf: tokenInfo.tf\n      };\n    }\n  };\n  /**\n   * Checks whether a token is in this elasticlunr.InvertedIndex.\n   * \n   *\n   * @param {String} token The token to be checked\n   * @return {Boolean}\n   * @memberOf InvertedIndex\n   */\n\n\n  elasticlunr.InvertedIndex.prototype.hasToken = function (token) {\n    if (!token) return false;\n    var node = this.root;\n\n    for (var i = 0; i < token.length; i++) {\n      if (!node[token[i]]) return false;\n      node = node[token[i]];\n    }\n\n    return true;\n  };\n  /**\n   * Retrieve a node from the inverted index for a given token.\n   * If token not found in this InvertedIndex, return null.\n   * \n   *\n   * @param {String} token The token to get the node for.\n   * @return {Object}\n   * @see InvertedIndex.prototype.get\n   * @memberOf InvertedIndex\n   */\n\n\n  elasticlunr.InvertedIndex.prototype.getNode = function (token) {\n    if (!token) return null;\n    var node = this.root;\n\n    for (var i = 0; i < token.length; i++) {\n      if (!node[token[i]]) return null;\n      node = node[token[i]];\n    }\n\n    return node;\n  };\n  /**\n   * Retrieve the documents of a given token.\n   * If token not found, return {}.\n   *\n   *\n   * @param {String} token The token to get the documents for.\n   * @return {Object}\n   * @memberOf InvertedIndex\n   */\n\n\n  elasticlunr.InvertedIndex.prototype.getDocs = function (token) {\n    var node = this.getNode(token);\n\n    if (node == null) {\n      return {};\n    }\n\n    return node.docs;\n  };\n  /**\n   * Retrieve term frequency of given token in given docRef.\n   * If token or docRef not found, return 0.\n   *\n   *\n   * @param {String} token The token to get the documents for.\n   * @param {String|Integer} docRef\n   * @return {Integer}\n   * @memberOf InvertedIndex\n   */\n\n\n  elasticlunr.InvertedIndex.prototype.getTermFrequency = function (token, docRef) {\n    var node = this.getNode(token);\n\n    if (node == null) {\n      return 0;\n    }\n\n    if (!(docRef in node.docs)) {\n      return 0;\n    }\n\n    return node.docs[docRef].tf;\n  };\n  /**\n   * Retrieve the document frequency of given token.\n   * If token not found, return 0.\n   *\n   *\n   * @param {String} token The token to get the documents for.\n   * @return {Object}\n   * @memberOf InvertedIndex\n   */\n\n\n  elasticlunr.InvertedIndex.prototype.getDocFreq = function (token) {\n    var node = this.getNode(token);\n\n    if (node == null) {\n      return 0;\n    }\n\n    return node.df;\n  };\n  /**\n   * Remove the document identified by document's ref from the token in the inverted index.\n   *\n   *\n   * @param {String} token Remove the document from which token.\n   * @param {String} ref The ref of the document to remove from given token.\n   * @memberOf InvertedIndex\n   */\n\n\n  elasticlunr.InvertedIndex.prototype.removeToken = function (token, ref) {\n    if (!token) return;\n    var node = this.getNode(token);\n    if (node == null) return;\n\n    if (ref in node.docs) {\n      delete node.docs[ref];\n      node.df -= 1;\n    }\n  };\n  /**\n   * Find all the possible suffixes of given token using tokens currently in the inverted index.\n   * If token not found, return empty Array.\n   *\n   * @param {String} token The token to expand.\n   * @return {Array}\n   * @memberOf InvertedIndex\n   */\n\n\n  elasticlunr.InvertedIndex.prototype.expandToken = function (token, memo, root) {\n    if (token == null || token == '') return [];\n    var memo = memo || [];\n\n    if (root == void 0) {\n      root = this.getNode(token);\n      if (root == null) return memo;\n    }\n\n    if (root.df > 0) memo.push(token);\n\n    for (var key in root) {\n      if (key === 'docs') continue;\n      if (key === 'df') continue;\n      this.expandToken(token + key, memo, root[key]);\n    }\n\n    return memo;\n  };\n  /**\n   * Returns a representation of the inverted index ready for serialisation.\n   *\n   * @return {Object}\n   * @memberOf InvertedIndex\n   */\n\n\n  elasticlunr.InvertedIndex.prototype.toJSON = function () {\n    return {\n      root: this.root\n    };\n  };\n  /*!\n   * elasticlunr.Configuration\n   * Copyright (C) 2016 Wei Song\n   */\n\n  /** \n   * elasticlunr.Configuration is used to analyze the user search configuration.\n   * \n   * By elasticlunr.Configuration user could set query-time boosting, boolean model in each field.\n   * \n   * Currently configuration supports:\n   * 1. query-time boosting, user could set how to boost each field.\n   * 2. boolean model chosing, user could choose which boolean model to use for each field.\n   * 3. token expandation, user could set token expand to True to improve Recall. Default is False.\n   * \n   * Query time boosting must be configured by field category, \"boolean\" model could be configured \n   * by both field category or globally as the following example. Field configuration for \"boolean\"\n   * will overwrite global configuration.\n   * Token expand could be configured both by field category or golbally. Local field configuration will\n   * overwrite global configuration.\n   * \n   * configuration example:\n   * {\n   *   fields:{ \n   *     title: {boost: 2},\n   *     body: {boost: 1}\n   *   },\n   *   bool: \"OR\"\n   * }\n   * \n   * \"bool\" field configuation overwrite global configuation example:\n   * {\n   *   fields:{ \n   *     title: {boost: 2, bool: \"AND\"},\n   *     body: {boost: 1}\n   *   },\n   *   bool: \"OR\"\n   * }\n   * \n   * \"expand\" example:\n   * {\n   *   fields:{ \n   *     title: {boost: 2, bool: \"AND\"},\n   *     body: {boost: 1}\n   *   },\n   *   bool: \"OR\",\n   *   expand: true\n   * }\n   * \n   * \"expand\" example for field category:\n   * {\n   *   fields:{ \n   *     title: {boost: 2, bool: \"AND\", expand: true},\n   *     body: {boost: 1}\n   *   },\n   *   bool: \"OR\"\n   * }\n   * \n   * setting the boost to 0 ignores the field (this will only search the title):\n   * {\n   *   fields:{\n   *     title: {boost: 1},\n   *     body: {boost: 0}\n   *   }\n   * }\n   *\n   * then, user could search with configuration to do query-time boosting.\n   * idx.search('oracle database', {fields: {title: {boost: 2}, body: {boost: 1}}});\n   * \n   * \n   * @constructor\n   * \n   * @param {String} config user configuration\n   * @param {Array} fields fields of index instance\n   * @module\n   */\n\n\n  elasticlunr.Configuration = function (config, fields) {\n    var config = config || '';\n\n    if (fields == undefined || fields == null) {\n      throw new Error('fields should not be null');\n    }\n\n    this.config = {};\n    var userConfig;\n\n    try {\n      userConfig = JSON.parse(config);\n      this.buildUserConfig(userConfig, fields);\n    } catch (error) {\n      elasticlunr.utils.warn('user configuration parse failed, will use default configuration');\n      this.buildDefaultConfig(fields);\n    }\n  };\n  /**\n   * Build default search configuration.\n   * \n   * @param {Array} fields fields of index instance\n   */\n\n\n  elasticlunr.Configuration.prototype.buildDefaultConfig = function (fields) {\n    this.reset();\n    fields.forEach(function (field) {\n      this.config[field] = {\n        boost: 1,\n        bool: \"OR\",\n        expand: false\n      };\n    }, this);\n  };\n  /**\n   * Build user configuration.\n   * \n   * @param {JSON} config User JSON configuratoin\n   * @param {Array} fields fields of index instance\n   */\n\n\n  elasticlunr.Configuration.prototype.buildUserConfig = function (config, fields) {\n    var global_bool = \"OR\";\n    var global_expand = false;\n    this.reset();\n\n    if ('bool' in config) {\n      global_bool = config['bool'] || global_bool;\n    }\n\n    if ('expand' in config) {\n      global_expand = config['expand'] || global_expand;\n    }\n\n    if ('fields' in config) {\n      for (var field in config['fields']) {\n        if (fields.indexOf(field) > -1) {\n          var field_config = config['fields'][field];\n          var field_expand = global_expand;\n\n          if (field_config.expand != undefined) {\n            field_expand = field_config.expand;\n          }\n\n          this.config[field] = {\n            boost: field_config.boost || field_config.boost === 0 ? field_config.boost : 1,\n            bool: field_config.bool || global_bool,\n            expand: field_expand\n          };\n        } else {\n          elasticlunr.utils.warn('field name in user configuration not found in index instance fields');\n        }\n      }\n    } else {\n      this.addAllFields2UserConfig(global_bool, global_expand, fields);\n    }\n  };\n  /**\n   * Add all fields to user search configuration.\n   * \n   * @param {String} bool Boolean model\n   * @param {String} expand Expand model\n   * @param {Array} fields fields of index instance\n   */\n\n\n  elasticlunr.Configuration.prototype.addAllFields2UserConfig = function (bool, expand, fields) {\n    fields.forEach(function (field) {\n      this.config[field] = {\n        boost: 1,\n        bool: bool,\n        expand: expand\n      };\n    }, this);\n  };\n  /**\n   * get current user configuration\n   */\n\n\n  elasticlunr.Configuration.prototype.get = function () {\n    return this.config;\n  };\n  /**\n   * reset user search configuration.\n   */\n\n\n  elasticlunr.Configuration.prototype.reset = function () {\n    this.config = {};\n  };\n  /**\n   * sorted_set.js is added only to make elasticlunr.js compatible with lunr-languages.\n   * if elasticlunr.js support different languages by default, this will make elasticlunr.js\n   * much bigger that not good for browser usage.\n   *\n   */\n\n  /*!\n   * lunr.SortedSet\n   * Copyright (C) 2016 Oliver Nightingale\n   */\n\n  /**\n   * lunr.SortedSets are used to maintain an array of uniq values in a sorted\n   * order.\n   *\n   * @constructor\n   */\n\n\n  lunr.SortedSet = function () {\n    this.length = 0;\n    this.elements = [];\n  };\n  /**\n   * Loads a previously serialised sorted set.\n   *\n   * @param {Array} serialisedData The serialised set to load.\n   * @returns {lunr.SortedSet}\n   * @memberOf SortedSet\n   */\n\n\n  lunr.SortedSet.load = function (serialisedData) {\n    var set = new this();\n    set.elements = serialisedData;\n    set.length = serialisedData.length;\n    return set;\n  };\n  /**\n   * Inserts new items into the set in the correct position to maintain the\n   * order.\n   *\n   * @param {Object} The objects to add to this set.\n   * @memberOf SortedSet\n   */\n\n\n  lunr.SortedSet.prototype.add = function () {\n    var i, element;\n\n    for (i = 0; i < arguments.length; i++) {\n      element = arguments[i];\n      if (~this.indexOf(element)) continue;\n      this.elements.splice(this.locationFor(element), 0, element);\n    }\n\n    this.length = this.elements.length;\n  };\n  /**\n   * Converts this sorted set into an array.\n   *\n   * @returns {Array}\n   * @memberOf SortedSet\n   */\n\n\n  lunr.SortedSet.prototype.toArray = function () {\n    return this.elements.slice();\n  };\n  /**\n   * Creates a new array with the results of calling a provided function on every\n   * element in this sorted set.\n   *\n   * Delegates to Array.prototype.map and has the same signature.\n   *\n   * @param {Function} fn The function that is called on each element of the\n   * set.\n   * @param {Object} ctx An optional object that can be used as the context\n   * for the function fn.\n   * @returns {Array}\n   * @memberOf SortedSet\n   */\n\n\n  lunr.SortedSet.prototype.map = function (fn, ctx) {\n    return this.elements.map(fn, ctx);\n  };\n  /**\n   * Executes a provided function once per sorted set element.\n   *\n   * Delegates to Array.prototype.forEach and has the same signature.\n   *\n   * @param {Function} fn The function that is called on each element of the\n   * set.\n   * @param {Object} ctx An optional object that can be used as the context\n   * @memberOf SortedSet\n   * for the function fn.\n   */\n\n\n  lunr.SortedSet.prototype.forEach = function (fn, ctx) {\n    return this.elements.forEach(fn, ctx);\n  };\n  /**\n   * Returns the index at which a given element can be found in the\n   * sorted set, or -1 if it is not present.\n   *\n   * @param {Object} elem The object to locate in the sorted set.\n   * @returns {Number}\n   * @memberOf SortedSet\n   */\n\n\n  lunr.SortedSet.prototype.indexOf = function (elem) {\n    var start = 0,\n        end = this.elements.length,\n        sectionLength = end - start,\n        pivot = start + Math.floor(sectionLength / 2),\n        pivotElem = this.elements[pivot];\n\n    while (sectionLength > 1) {\n      if (pivotElem === elem) return pivot;\n      if (pivotElem < elem) start = pivot;\n      if (pivotElem > elem) end = pivot;\n      sectionLength = end - start;\n      pivot = start + Math.floor(sectionLength / 2);\n      pivotElem = this.elements[pivot];\n    }\n\n    if (pivotElem === elem) return pivot;\n    return -1;\n  };\n  /**\n   * Returns the position within the sorted set that an element should be\n   * inserted at to maintain the current order of the set.\n   *\n   * This function assumes that the element to search for does not already exist\n   * in the sorted set.\n   *\n   * @param {Object} elem The elem to find the position for in the set\n   * @returns {Number}\n   * @memberOf SortedSet\n   */\n\n\n  lunr.SortedSet.prototype.locationFor = function (elem) {\n    var start = 0,\n        end = this.elements.length,\n        sectionLength = end - start,\n        pivot = start + Math.floor(sectionLength / 2),\n        pivotElem = this.elements[pivot];\n\n    while (sectionLength > 1) {\n      if (pivotElem < elem) start = pivot;\n      if (pivotElem > elem) end = pivot;\n      sectionLength = end - start;\n      pivot = start + Math.floor(sectionLength / 2);\n      pivotElem = this.elements[pivot];\n    }\n\n    if (pivotElem > elem) return pivot;\n    if (pivotElem < elem) return pivot + 1;\n  };\n  /**\n   * Creates a new lunr.SortedSet that contains the elements in the intersection\n   * of this set and the passed set.\n   *\n   * @param {lunr.SortedSet} otherSet The set to intersect with this set.\n   * @returns {lunr.SortedSet}\n   * @memberOf SortedSet\n   */\n\n\n  lunr.SortedSet.prototype.intersect = function (otherSet) {\n    var intersectSet = new lunr.SortedSet(),\n        i = 0,\n        j = 0,\n        a_len = this.length,\n        b_len = otherSet.length,\n        a = this.elements,\n        b = otherSet.elements;\n\n    while (true) {\n      if (i > a_len - 1 || j > b_len - 1) break;\n\n      if (a[i] === b[j]) {\n        intersectSet.add(a[i]);\n        i++, j++;\n        continue;\n      }\n\n      if (a[i] < b[j]) {\n        i++;\n        continue;\n      }\n\n      if (a[i] > b[j]) {\n        j++;\n        continue;\n      }\n    }\n\n    ;\n    return intersectSet;\n  };\n  /**\n   * Makes a copy of this set\n   *\n   * @returns {lunr.SortedSet}\n   * @memberOf SortedSet\n   */\n\n\n  lunr.SortedSet.prototype.clone = function () {\n    var clone = new lunr.SortedSet();\n    clone.elements = this.toArray();\n    clone.length = clone.elements.length;\n    return clone;\n  };\n  /**\n   * Creates a new lunr.SortedSet that contains the elements in the union\n   * of this set and the passed set.\n   *\n   * @param {lunr.SortedSet} otherSet The set to union with this set.\n   * @returns {lunr.SortedSet}\n   * @memberOf SortedSet\n   */\n\n\n  lunr.SortedSet.prototype.union = function (otherSet) {\n    var longSet, shortSet, unionSet;\n\n    if (this.length >= otherSet.length) {\n      longSet = this, shortSet = otherSet;\n    } else {\n      longSet = otherSet, shortSet = this;\n    }\n\n    unionSet = longSet.clone();\n\n    for (var i = 0, shortSetElements = shortSet.toArray(); i < shortSetElements.length; i++) {\n      unionSet.add(shortSetElements[i]);\n    }\n\n    return unionSet;\n  };\n  /**\n   * Returns a representation of the sorted set ready for serialisation.\n   *\n   * @returns {Array}\n   * @memberOf SortedSet\n   */\n\n\n  lunr.SortedSet.prototype.toJSON = function () {\n    return this.toArray();\n  }\n  /**\n   * export the module via AMD, CommonJS or as a browser global\n   * Export code from https://github.com/umdjs/umd/blob/master/returnExports.js\n   */\n  ;\n\n  (function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n      // AMD. Register as an anonymous module.\n      define(factory);\n    } else if (typeof exports === 'object') {\n      /**\n       * Node. Does not work with strict CommonJS, but\n       * only CommonJS-like enviroments that support module.exports,\n       * like Node.\n       */\n      module.exports = factory();\n    } else {\n      // Browser globals (root is window)\n      root.elasticlunr = factory();\n    }\n  })(this, function () {\n    /**\n     * Just return a value to define the module export.\n     * This example returns an object, but the module\n     * can return a function as the exported value.\n     */\n    return elasticlunr;\n  });\n})();","require(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.regexp.constructor\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\n// TinyColor v1.4.1\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n(function (Math) {\n  var trimLeft = /^\\s+/,\n      trimRight = /\\s+$/,\n      tinyCounter = 0,\n      mathRound = Math.round,\n      mathMin = Math.min,\n      mathMax = Math.max,\n      mathRandom = Math.random;\n\n  function tinycolor(color, opts) {\n    color = color ? color : '';\n    opts = opts || {}; // If input is already a tinycolor, return itself\n\n    if (color instanceof tinycolor) {\n      return color;\n    } // If we are called as a function, call using new instead\n\n\n    if (!(this instanceof tinycolor)) {\n      return new tinycolor(color, opts);\n    }\n\n    var rgb = inputToRGB(color);\n    this._originalInput = color, this._r = rgb.r, this._g = rgb.g, this._b = rgb.b, this._a = rgb.a, this._roundA = mathRound(100 * this._a) / 100, this._format = opts.format || rgb.format;\n    this._gradientType = opts.gradientType; // Don't let the range of [0,255] come back in [0,1].\n    // Potentially lose a little bit of precision here, but will fix issues where\n    // .5 gets interpreted as half of the total, instead of half of 1\n    // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n\n    if (this._r < 1) {\n      this._r = mathRound(this._r);\n    }\n\n    if (this._g < 1) {\n      this._g = mathRound(this._g);\n    }\n\n    if (this._b < 1) {\n      this._b = mathRound(this._b);\n    }\n\n    this._ok = rgb.ok;\n    this._tc_id = tinyCounter++;\n  }\n\n  tinycolor.prototype = {\n    isDark: function isDark() {\n      return this.getBrightness() < 128;\n    },\n    isLight: function isLight() {\n      return !this.isDark();\n    },\n    isValid: function isValid() {\n      return this._ok;\n    },\n    getOriginalInput: function getOriginalInput() {\n      return this._originalInput;\n    },\n    getFormat: function getFormat() {\n      return this._format;\n    },\n    getAlpha: function getAlpha() {\n      return this._a;\n    },\n    getBrightness: function getBrightness() {\n      //http://www.w3.org/TR/AERT#color-contrast\n      var rgb = this.toRgb();\n      return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    },\n    getLuminance: function getLuminance() {\n      //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n      var rgb = this.toRgb();\n      var RsRGB, GsRGB, BsRGB, R, G, B;\n      RsRGB = rgb.r / 255;\n      GsRGB = rgb.g / 255;\n      BsRGB = rgb.b / 255;\n\n      if (RsRGB <= 0.03928) {\n        R = RsRGB / 12.92;\n      } else {\n        R = Math.pow((RsRGB + 0.055) / 1.055, 2.4);\n      }\n\n      if (GsRGB <= 0.03928) {\n        G = GsRGB / 12.92;\n      } else {\n        G = Math.pow((GsRGB + 0.055) / 1.055, 2.4);\n      }\n\n      if (BsRGB <= 0.03928) {\n        B = BsRGB / 12.92;\n      } else {\n        B = Math.pow((BsRGB + 0.055) / 1.055, 2.4);\n      }\n\n      return 0.2126 * R + 0.7152 * G + 0.0722 * B;\n    },\n    setAlpha: function setAlpha(value) {\n      this._a = boundAlpha(value);\n      this._roundA = mathRound(100 * this._a) / 100;\n      return this;\n    },\n    toHsv: function toHsv() {\n      var hsv = rgbToHsv(this._r, this._g, this._b);\n      return {\n        h: hsv.h * 360,\n        s: hsv.s,\n        v: hsv.v,\n        a: this._a\n      };\n    },\n    toHsvString: function toHsvString() {\n      var hsv = rgbToHsv(this._r, this._g, this._b);\n      var h = mathRound(hsv.h * 360),\n          s = mathRound(hsv.s * 100),\n          v = mathRound(hsv.v * 100);\n      return this._a == 1 ? \"hsv(\" + h + \", \" + s + \"%, \" + v + \"%)\" : \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \" + this._roundA + \")\";\n    },\n    toHsl: function toHsl() {\n      var hsl = rgbToHsl(this._r, this._g, this._b);\n      return {\n        h: hsl.h * 360,\n        s: hsl.s,\n        l: hsl.l,\n        a: this._a\n      };\n    },\n    toHslString: function toHslString() {\n      var hsl = rgbToHsl(this._r, this._g, this._b);\n      var h = mathRound(hsl.h * 360),\n          s = mathRound(hsl.s * 100),\n          l = mathRound(hsl.l * 100);\n      return this._a == 1 ? \"hsl(\" + h + \", \" + s + \"%, \" + l + \"%)\" : \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \" + this._roundA + \")\";\n    },\n    toHex: function toHex(allow3Char) {\n      return rgbToHex(this._r, this._g, this._b, allow3Char);\n    },\n    toHexString: function toHexString(allow3Char) {\n      return '#' + this.toHex(allow3Char);\n    },\n    toHex8: function toHex8(allow4Char) {\n      return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n    },\n    toHex8String: function toHex8String(allow4Char) {\n      return '#' + this.toHex8(allow4Char);\n    },\n    toRgb: function toRgb() {\n      return {\n        r: mathRound(this._r),\n        g: mathRound(this._g),\n        b: mathRound(this._b),\n        a: this._a\n      };\n    },\n    toRgbString: function toRgbString() {\n      return this._a == 1 ? \"rgb(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" : \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\n    },\n    toPercentageRgb: function toPercentageRgb() {\n      return {\n        r: mathRound(bound01(this._r, 255) * 100) + \"%\",\n        g: mathRound(bound01(this._g, 255) * 100) + \"%\",\n        b: mathRound(bound01(this._b, 255) * 100) + \"%\",\n        a: this._a\n      };\n    },\n    toPercentageRgbString: function toPercentageRgbString() {\n      return this._a == 1 ? \"rgb(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" : \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n    },\n    toName: function toName() {\n      if (this._a === 0) {\n        return \"transparent\";\n      }\n\n      if (this._a < 1) {\n        return false;\n      }\n\n      return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n    },\n    toFilter: function toFilter(secondColor) {\n      var hex8String = '#' + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n      var secondHex8String = hex8String;\n      var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n      if (secondColor) {\n        var s = tinycolor(secondColor);\n        secondHex8String = '#' + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n      }\n\n      return \"progid:DXImageTransform.Microsoft.gradient(\" + gradientType + \"startColorstr=\" + hex8String + \",endColorstr=\" + secondHex8String + \")\";\n    },\n    toString: function toString(format) {\n      var formatSet = !!format;\n      format = format || this._format;\n      var formattedString = false;\n      var hasAlpha = this._a < 1 && this._a >= 0;\n      var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"hex4\" || format === \"hex8\" || format === \"name\");\n\n      if (needsAlphaFormat) {\n        // Special case for \"transparent\", all other non-alpha formats\n        // will return rgba when there is transparency.\n        if (format === \"name\" && this._a === 0) {\n          return this.toName();\n        }\n\n        return this.toRgbString();\n      }\n\n      if (format === \"rgb\") {\n        formattedString = this.toRgbString();\n      }\n\n      if (format === \"prgb\") {\n        formattedString = this.toPercentageRgbString();\n      }\n\n      if (format === \"hex\" || format === \"hex6\") {\n        formattedString = this.toHexString();\n      }\n\n      if (format === \"hex3\") {\n        formattedString = this.toHexString(true);\n      }\n\n      if (format === \"hex4\") {\n        formattedString = this.toHex8String(true);\n      }\n\n      if (format === \"hex8\") {\n        formattedString = this.toHex8String();\n      }\n\n      if (format === \"name\") {\n        formattedString = this.toName();\n      }\n\n      if (format === \"hsl\") {\n        formattedString = this.toHslString();\n      }\n\n      if (format === \"hsv\") {\n        formattedString = this.toHsvString();\n      }\n\n      return formattedString || this.toHexString();\n    },\n    clone: function clone() {\n      return tinycolor(this.toString());\n    },\n    _applyModification: function _applyModification(fn, args) {\n      var color = fn.apply(null, [this].concat([].slice.call(args)));\n      this._r = color._r;\n      this._g = color._g;\n      this._b = color._b;\n      this.setAlpha(color._a);\n      return this;\n    },\n    lighten: function lighten() {\n      return this._applyModification(_lighten, arguments);\n    },\n    brighten: function brighten() {\n      return this._applyModification(_brighten, arguments);\n    },\n    darken: function darken() {\n      return this._applyModification(_darken, arguments);\n    },\n    desaturate: function desaturate() {\n      return this._applyModification(_desaturate, arguments);\n    },\n    saturate: function saturate() {\n      return this._applyModification(_saturate, arguments);\n    },\n    greyscale: function greyscale() {\n      return this._applyModification(_greyscale, arguments);\n    },\n    spin: function spin() {\n      return this._applyModification(_spin, arguments);\n    },\n    _applyCombination: function _applyCombination(fn, args) {\n      return fn.apply(null, [this].concat([].slice.call(args)));\n    },\n    analogous: function analogous() {\n      return this._applyCombination(_analogous, arguments);\n    },\n    complement: function complement() {\n      return this._applyCombination(_complement, arguments);\n    },\n    monochromatic: function monochromatic() {\n      return this._applyCombination(_monochromatic, arguments);\n    },\n    splitcomplement: function splitcomplement() {\n      return this._applyCombination(_splitcomplement, arguments);\n    },\n    triad: function triad() {\n      return this._applyCombination(_triad, arguments);\n    },\n    tetrad: function tetrad() {\n      return this._applyCombination(_tetrad, arguments);\n    }\n  }; // If input is an object, force 1 into \"1.0\" to handle ratios properly\n  // String input requires \"1.0\" as input, so 1 will be treated as 1\n\n  tinycolor.fromRatio = function (color, opts) {\n    if (typeof color == \"object\") {\n      var newColor = {};\n\n      for (var i in color) {\n        if (color.hasOwnProperty(i)) {\n          if (i === \"a\") {\n            newColor[i] = color[i];\n          } else {\n            newColor[i] = convertToPercentage(color[i]);\n          }\n        }\n      }\n\n      color = newColor;\n    }\n\n    return tinycolor(color, opts);\n  }; // Given a string or object, convert that input to RGB\n  // Possible string inputs:\n  //\n  //     \"red\"\n  //     \"#f00\" or \"f00\"\n  //     \"#ff0000\" or \"ff0000\"\n  //     \"#ff000000\" or \"ff000000\"\n  //     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n  //     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n  //     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n  //     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n  //     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n  //     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n  //     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n  //\n\n\n  function inputToRGB(color) {\n    var rgb = {\n      r: 0,\n      g: 0,\n      b: 0\n    };\n    var a = 1;\n    var s = null;\n    var v = null;\n    var l = null;\n    var ok = false;\n    var format = false;\n\n    if (typeof color == \"string\") {\n      color = stringInputToObject(color);\n    }\n\n    if (typeof color == \"object\") {\n      if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n        rgb = rgbToRgb(color.r, color.g, color.b);\n        ok = true;\n        format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n      } else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n        s = convertToPercentage(color.s);\n        v = convertToPercentage(color.v);\n        rgb = hsvToRgb(color.h, s, v);\n        ok = true;\n        format = \"hsv\";\n      } else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n        s = convertToPercentage(color.s);\n        l = convertToPercentage(color.l);\n        rgb = hslToRgb(color.h, s, l);\n        ok = true;\n        format = \"hsl\";\n      }\n\n      if (color.hasOwnProperty(\"a\")) {\n        a = color.a;\n      }\n    }\n\n    a = boundAlpha(a);\n    return {\n      ok: ok,\n      format: color.format || format,\n      r: mathMin(255, mathMax(rgb.r, 0)),\n      g: mathMin(255, mathMax(rgb.g, 0)),\n      b: mathMin(255, mathMax(rgb.b, 0)),\n      a: a\n    };\n  } // Conversion Functions\n  // --------------------\n  // `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n  // <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n  // `rgbToRgb`\n  // Handle bounds / percentage checking to conform to CSS color spec\n  // <http://www.w3.org/TR/css3-color/>\n  // *Assumes:* r, g, b in [0, 255] or [0, 1]\n  // *Returns:* { r, g, b } in [0, 255]\n\n\n  function rgbToRgb(r, g, b) {\n    return {\n      r: bound01(r, 255) * 255,\n      g: bound01(g, 255) * 255,\n      b: bound01(b, 255) * 255\n    };\n  } // `rgbToHsl`\n  // Converts an RGB color value to HSL.\n  // *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n  // *Returns:* { h, s, l } in [0,1]\n\n\n  function rgbToHsl(r, g, b) {\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n    var max = mathMax(r, g, b),\n        min = mathMin(r, g, b);\n    var h,\n        s,\n        l = (max + min) / 2;\n\n    if (max == min) {\n      h = s = 0; // achromatic\n    } else {\n      var d = max - min;\n      s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\n      switch (max) {\n        case r:\n          h = (g - b) / d + (g < b ? 6 : 0);\n          break;\n\n        case g:\n          h = (b - r) / d + 2;\n          break;\n\n        case b:\n          h = (r - g) / d + 4;\n          break;\n      }\n\n      h /= 6;\n    }\n\n    return {\n      h: h,\n      s: s,\n      l: l\n    };\n  } // `hslToRgb`\n  // Converts an HSL color value to RGB.\n  // *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n  // *Returns:* { r, g, b } in the set [0, 255]\n\n\n  function hslToRgb(h, s, l) {\n    var r, g, b;\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n\n    function hue2rgb(p, q, t) {\n      if (t < 0) t += 1;\n      if (t > 1) t -= 1;\n      if (t < 1 / 6) return p + (q - p) * 6 * t;\n      if (t < 1 / 2) return q;\n      if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n      return p;\n    }\n\n    if (s === 0) {\n      r = g = b = l; // achromatic\n    } else {\n      var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n      var p = 2 * l - q;\n      r = hue2rgb(p, q, h + 1 / 3);\n      g = hue2rgb(p, q, h);\n      b = hue2rgb(p, q, h - 1 / 3);\n    }\n\n    return {\n      r: r * 255,\n      g: g * 255,\n      b: b * 255\n    };\n  } // `rgbToHsv`\n  // Converts an RGB color value to HSV\n  // *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n  // *Returns:* { h, s, v } in [0,1]\n\n\n  function rgbToHsv(r, g, b) {\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n    var max = mathMax(r, g, b),\n        min = mathMin(r, g, b);\n    var h,\n        s,\n        v = max;\n    var d = max - min;\n    s = max === 0 ? 0 : d / max;\n\n    if (max == min) {\n      h = 0; // achromatic\n    } else {\n      switch (max) {\n        case r:\n          h = (g - b) / d + (g < b ? 6 : 0);\n          break;\n\n        case g:\n          h = (b - r) / d + 2;\n          break;\n\n        case b:\n          h = (r - g) / d + 4;\n          break;\n      }\n\n      h /= 6;\n    }\n\n    return {\n      h: h,\n      s: s,\n      v: v\n    };\n  } // `hsvToRgb`\n  // Converts an HSV color value to RGB.\n  // *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n  // *Returns:* { r, g, b } in the set [0, 255]\n\n\n  function hsvToRgb(h, s, v) {\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n    var i = Math.floor(h),\n        f = h - i,\n        p = v * (1 - s),\n        q = v * (1 - f * s),\n        t = v * (1 - (1 - f) * s),\n        mod = i % 6,\n        r = [v, q, p, p, t, v][mod],\n        g = [t, v, v, q, p, p][mod],\n        b = [p, p, t, v, v, q][mod];\n    return {\n      r: r * 255,\n      g: g * 255,\n      b: b * 255\n    };\n  } // `rgbToHex`\n  // Converts an RGB color to hex\n  // Assumes r, g, and b are contained in the set [0, 255]\n  // Returns a 3 or 6 character hex\n\n\n  function rgbToHex(r, g, b, allow3Char) {\n    var hex = [pad2(mathRound(r).toString(16)), pad2(mathRound(g).toString(16)), pad2(mathRound(b).toString(16))]; // Return a 3 character hex if possible\n\n    if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n      return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n\n    return hex.join(\"\");\n  } // `rgbaToHex`\n  // Converts an RGBA color plus alpha transparency to hex\n  // Assumes r, g, b are contained in the set [0, 255] and\n  // a in [0, 1]. Returns a 4 or 8 character rgba hex\n\n\n  function rgbaToHex(r, g, b, a, allow4Char) {\n    var hex = [pad2(mathRound(r).toString(16)), pad2(mathRound(g).toString(16)), pad2(mathRound(b).toString(16)), pad2(convertDecimalToHex(a))]; // Return a 4 character hex if possible\n\n    if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {\n      return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n    }\n\n    return hex.join(\"\");\n  } // `rgbaToArgbHex`\n  // Converts an RGBA color to an ARGB Hex8 string\n  // Rarely used, but required for \"toFilter()\"\n\n\n  function rgbaToArgbHex(r, g, b, a) {\n    var hex = [pad2(convertDecimalToHex(a)), pad2(mathRound(r).toString(16)), pad2(mathRound(g).toString(16)), pad2(mathRound(b).toString(16))];\n    return hex.join(\"\");\n  } // `equals`\n  // Can be called with any tinycolor input\n\n\n  tinycolor.equals = function (color1, color2) {\n    if (!color1 || !color2) {\n      return false;\n    }\n\n    return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n  };\n\n  tinycolor.random = function () {\n    return tinycolor.fromRatio({\n      r: mathRandom(),\n      g: mathRandom(),\n      b: mathRandom()\n    });\n  }; // Modification Functions\n  // ----------------------\n  // Thanks to less.js for some of the basics here\n  // <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\n\n  function _desaturate(color, amount) {\n    amount = amount === 0 ? 0 : amount || 10;\n    var hsl = tinycolor(color).toHsl();\n    hsl.s -= amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n  }\n\n  function _saturate(color, amount) {\n    amount = amount === 0 ? 0 : amount || 10;\n    var hsl = tinycolor(color).toHsl();\n    hsl.s += amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n  }\n\n  function _greyscale(color) {\n    return tinycolor(color).desaturate(100);\n  }\n\n  function _lighten(color, amount) {\n    amount = amount === 0 ? 0 : amount || 10;\n    var hsl = tinycolor(color).toHsl();\n    hsl.l += amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n  }\n\n  function _brighten(color, amount) {\n    amount = amount === 0 ? 0 : amount || 10;\n    var rgb = tinycolor(color).toRgb();\n    rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * -(amount / 100))));\n    rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * -(amount / 100))));\n    rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * -(amount / 100))));\n    return tinycolor(rgb);\n  }\n\n  function _darken(color, amount) {\n    amount = amount === 0 ? 0 : amount || 10;\n    var hsl = tinycolor(color).toHsl();\n    hsl.l -= amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n  } // Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n  // Values outside of this range will be wrapped into this range.\n\n\n  function _spin(color, amount) {\n    var hsl = tinycolor(color).toHsl();\n    var hue = (hsl.h + amount) % 360;\n    hsl.h = hue < 0 ? 360 + hue : hue;\n    return tinycolor(hsl);\n  } // Combination Functions\n  // ---------------------\n  // Thanks to jQuery xColor for some of the ideas behind these\n  // <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\n\n  function _complement(color) {\n    var hsl = tinycolor(color).toHsl();\n    hsl.h = (hsl.h + 180) % 360;\n    return tinycolor(hsl);\n  }\n\n  function _triad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [tinycolor(color), tinycolor({\n      h: (h + 120) % 360,\n      s: hsl.s,\n      l: hsl.l\n    }), tinycolor({\n      h: (h + 240) % 360,\n      s: hsl.s,\n      l: hsl.l\n    })];\n  }\n\n  function _tetrad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [tinycolor(color), tinycolor({\n      h: (h + 90) % 360,\n      s: hsl.s,\n      l: hsl.l\n    }), tinycolor({\n      h: (h + 180) % 360,\n      s: hsl.s,\n      l: hsl.l\n    }), tinycolor({\n      h: (h + 270) % 360,\n      s: hsl.s,\n      l: hsl.l\n    })];\n  }\n\n  function _splitcomplement(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [tinycolor(color), tinycolor({\n      h: (h + 72) % 360,\n      s: hsl.s,\n      l: hsl.l\n    }), tinycolor({\n      h: (h + 216) % 360,\n      s: hsl.s,\n      l: hsl.l\n    })];\n  }\n\n  function _analogous(color, results, slices) {\n    results = results || 6;\n    slices = slices || 30;\n    var hsl = tinycolor(color).toHsl();\n    var part = 360 / slices;\n    var ret = [tinycolor(color)];\n\n    for (hsl.h = (hsl.h - (part * results >> 1) + 720) % 360; --results;) {\n      hsl.h = (hsl.h + part) % 360;\n      ret.push(tinycolor(hsl));\n    }\n\n    return ret;\n  }\n\n  function _monochromatic(color, results) {\n    results = results || 6;\n    var hsv = tinycolor(color).toHsv();\n    var h = hsv.h,\n        s = hsv.s,\n        v = hsv.v;\n    var ret = [];\n    var modification = 1 / results;\n\n    while (results--) {\n      ret.push(tinycolor({\n        h: h,\n        s: s,\n        v: v\n      }));\n      v = (v + modification) % 1;\n    }\n\n    return ret;\n  } // Utility Functions\n  // ---------------------\n\n\n  tinycolor.mix = function (color1, color2, amount) {\n    amount = amount === 0 ? 0 : amount || 50;\n    var rgb1 = tinycolor(color1).toRgb();\n    var rgb2 = tinycolor(color2).toRgb();\n    var p = amount / 100;\n    var rgba = {\n      r: (rgb2.r - rgb1.r) * p + rgb1.r,\n      g: (rgb2.g - rgb1.g) * p + rgb1.g,\n      b: (rgb2.b - rgb1.b) * p + rgb1.b,\n      a: (rgb2.a - rgb1.a) * p + rgb1.a\n    };\n    return tinycolor(rgba);\n  }; // Readability Functions\n  // ---------------------\n  // <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n  // `contrast`\n  // Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\n\n\n  tinycolor.readability = function (color1, color2) {\n    var c1 = tinycolor(color1);\n    var c2 = tinycolor(color2);\n    return (Math.max(c1.getLuminance(), c2.getLuminance()) + 0.05) / (Math.min(c1.getLuminance(), c2.getLuminance()) + 0.05);\n  }; // `isReadable`\n  // Ensure that foreground and background color combinations meet WCAG2 guidelines.\n  // The third argument is an optional Object.\n  //      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n  //      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n  // If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n  // *Example*\n  //    tinycolor.isReadable(\"#000\", \"#111\") => false\n  //    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\n\n\n  tinycolor.isReadable = function (color1, color2, wcag2) {\n    var readability = tinycolor.readability(color1, color2);\n    var wcag2Parms, out;\n    out = false;\n    wcag2Parms = validateWCAG2Parms(wcag2);\n\n    switch (wcag2Parms.level + wcag2Parms.size) {\n      case \"AAsmall\":\n      case \"AAAlarge\":\n        out = readability >= 4.5;\n        break;\n\n      case \"AAlarge\":\n        out = readability >= 3;\n        break;\n\n      case \"AAAsmall\":\n        out = readability >= 7;\n        break;\n    }\n\n    return out;\n  }; // `mostReadable`\n  // Given a base color and a list of possible foreground or background\n  // colors for that base, returns the most readable color.\n  // Optionally returns Black or White if the most readable color is unreadable.\n  // *Example*\n  //    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n  //    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n  //    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n  //    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\n\n\n  tinycolor.mostReadable = function (baseColor, colorList, args) {\n    var bestColor = null;\n    var bestScore = 0;\n    var readability;\n    var includeFallbackColors, level, size;\n    args = args || {};\n    includeFallbackColors = args.includeFallbackColors;\n    level = args.level;\n    size = args.size;\n\n    for (var i = 0; i < colorList.length; i++) {\n      readability = tinycolor.readability(baseColor, colorList[i]);\n\n      if (readability > bestScore) {\n        bestScore = readability;\n        bestColor = tinycolor(colorList[i]);\n      }\n    }\n\n    if (tinycolor.isReadable(baseColor, bestColor, {\n      \"level\": level,\n      \"size\": size\n    }) || !includeFallbackColors) {\n      return bestColor;\n    } else {\n      args.includeFallbackColors = false;\n      return tinycolor.mostReadable(baseColor, [\"#fff\", \"#000\"], args);\n    }\n  }; // Big List of Colors\n  // ------------------\n  // <http://www.w3.org/TR/css3-color/#svg-color>\n\n\n  var names = tinycolor.names = {\n    aliceblue: \"f0f8ff\",\n    antiquewhite: \"faebd7\",\n    aqua: \"0ff\",\n    aquamarine: \"7fffd4\",\n    azure: \"f0ffff\",\n    beige: \"f5f5dc\",\n    bisque: \"ffe4c4\",\n    black: \"000\",\n    blanchedalmond: \"ffebcd\",\n    blue: \"00f\",\n    blueviolet: \"8a2be2\",\n    brown: \"a52a2a\",\n    burlywood: \"deb887\",\n    burntsienna: \"ea7e5d\",\n    cadetblue: \"5f9ea0\",\n    chartreuse: \"7fff00\",\n    chocolate: \"d2691e\",\n    coral: \"ff7f50\",\n    cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\",\n    crimson: \"dc143c\",\n    cyan: \"0ff\",\n    darkblue: \"00008b\",\n    darkcyan: \"008b8b\",\n    darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\",\n    darkgreen: \"006400\",\n    darkgrey: \"a9a9a9\",\n    darkkhaki: \"bdb76b\",\n    darkmagenta: \"8b008b\",\n    darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\",\n    darkorchid: \"9932cc\",\n    darkred: \"8b0000\",\n    darksalmon: \"e9967a\",\n    darkseagreen: \"8fbc8f\",\n    darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\",\n    darkslategrey: \"2f4f4f\",\n    darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\",\n    deeppink: \"ff1493\",\n    deepskyblue: \"00bfff\",\n    dimgray: \"696969\",\n    dimgrey: \"696969\",\n    dodgerblue: \"1e90ff\",\n    firebrick: \"b22222\",\n    floralwhite: \"fffaf0\",\n    forestgreen: \"228b22\",\n    fuchsia: \"f0f\",\n    gainsboro: \"dcdcdc\",\n    ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\",\n    goldenrod: \"daa520\",\n    gray: \"808080\",\n    green: \"008000\",\n    greenyellow: \"adff2f\",\n    grey: \"808080\",\n    honeydew: \"f0fff0\",\n    hotpink: \"ff69b4\",\n    indianred: \"cd5c5c\",\n    indigo: \"4b0082\",\n    ivory: \"fffff0\",\n    khaki: \"f0e68c\",\n    lavender: \"e6e6fa\",\n    lavenderblush: \"fff0f5\",\n    lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\",\n    lightblue: \"add8e6\",\n    lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\",\n    lightgoldenrodyellow: \"fafad2\",\n    lightgray: \"d3d3d3\",\n    lightgreen: \"90ee90\",\n    lightgrey: \"d3d3d3\",\n    lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\",\n    lightseagreen: \"20b2aa\",\n    lightskyblue: \"87cefa\",\n    lightslategray: \"789\",\n    lightslategrey: \"789\",\n    lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\",\n    lime: \"0f0\",\n    limegreen: \"32cd32\",\n    linen: \"faf0e6\",\n    magenta: \"f0f\",\n    maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\",\n    mediumblue: \"0000cd\",\n    mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370db\",\n    mediumseagreen: \"3cb371\",\n    mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\",\n    mediumturquoise: \"48d1cc\",\n    mediumvioletred: \"c71585\",\n    midnightblue: \"191970\",\n    mintcream: \"f5fffa\",\n    mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\",\n    navajowhite: \"ffdead\",\n    navy: \"000080\",\n    oldlace: \"fdf5e6\",\n    olive: \"808000\",\n    olivedrab: \"6b8e23\",\n    orange: \"ffa500\",\n    orangered: \"ff4500\",\n    orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\",\n    palegreen: \"98fb98\",\n    paleturquoise: \"afeeee\",\n    palevioletred: \"db7093\",\n    papayawhip: \"ffefd5\",\n    peachpuff: \"ffdab9\",\n    peru: \"cd853f\",\n    pink: \"ffc0cb\",\n    plum: \"dda0dd\",\n    powderblue: \"b0e0e6\",\n    purple: \"800080\",\n    rebeccapurple: \"663399\",\n    red: \"f00\",\n    rosybrown: \"bc8f8f\",\n    royalblue: \"4169e1\",\n    saddlebrown: \"8b4513\",\n    salmon: \"fa8072\",\n    sandybrown: \"f4a460\",\n    seagreen: \"2e8b57\",\n    seashell: \"fff5ee\",\n    sienna: \"a0522d\",\n    silver: \"c0c0c0\",\n    skyblue: \"87ceeb\",\n    slateblue: \"6a5acd\",\n    slategray: \"708090\",\n    slategrey: \"708090\",\n    snow: \"fffafa\",\n    springgreen: \"00ff7f\",\n    steelblue: \"4682b4\",\n    tan: \"d2b48c\",\n    teal: \"008080\",\n    thistle: \"d8bfd8\",\n    tomato: \"ff6347\",\n    turquoise: \"40e0d0\",\n    violet: \"ee82ee\",\n    wheat: \"f5deb3\",\n    white: \"fff\",\n    whitesmoke: \"f5f5f5\",\n    yellow: \"ff0\",\n    yellowgreen: \"9acd32\"\n  }; // Make it easy to access colors via `hexNames[hex]`\n\n  var hexNames = tinycolor.hexNames = flip(names); // Utilities\n  // ---------\n  // `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\n\n  function flip(o) {\n    var flipped = {};\n\n    for (var i in o) {\n      if (o.hasOwnProperty(i)) {\n        flipped[o[i]] = i;\n      }\n    }\n\n    return flipped;\n  } // Return a valid alpha value [0,1] with all invalid values being set to 1\n\n\n  function boundAlpha(a) {\n    a = parseFloat(a);\n\n    if (isNaN(a) || a < 0 || a > 1) {\n      a = 1;\n    }\n\n    return a;\n  } // Take input from [0, n] and return it as [0, 1]\n\n\n  function bound01(n, max) {\n    if (isOnePointZero(n)) {\n      n = \"100%\";\n    }\n\n    var processPercent = isPercentage(n);\n    n = mathMin(max, mathMax(0, parseFloat(n))); // Automatically convert percentage into number\n\n    if (processPercent) {\n      n = parseInt(n * max, 10) / 100;\n    } // Handle floating point rounding errors\n\n\n    if (Math.abs(n - max) < 0.000001) {\n      return 1;\n    } // Convert into [0, 1] range if it isn't already\n\n\n    return n % max / parseFloat(max);\n  } // Force a number between 0 and 1\n\n\n  function clamp01(val) {\n    return mathMin(1, mathMax(0, val));\n  } // Parse a base-16 hex value into a base-10 integer\n\n\n  function parseIntFromHex(val) {\n    return parseInt(val, 16);\n  } // Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n  // <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\n\n\n  function isOnePointZero(n) {\n    return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\n  } // Check to see if string passed in is a percentage\n\n\n  function isPercentage(n) {\n    return typeof n === \"string\" && n.indexOf('%') != -1;\n  } // Force a hex value to have 2 characters\n\n\n  function pad2(c) {\n    return c.length == 1 ? '0' + c : '' + c;\n  } // Replace a decimal with it's percentage value\n\n\n  function convertToPercentage(n) {\n    if (n <= 1) {\n      n = n * 100 + \"%\";\n    }\n\n    return n;\n  } // Converts a decimal to a hex value\n\n\n  function convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n  } // Converts a hex value to a decimal\n\n\n  function convertHexToDecimal(h) {\n    return parseIntFromHex(h) / 255;\n  }\n\n  var matchers = function () {\n    // <http://www.w3.org/TR/css3-values/#integers>\n    var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\"; // <http://www.w3.org/TR/css3-values/#number-value>\n\n    var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\"; // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n\n    var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\"; // Actual matching.\n    // Parentheses and commas are optional, but not required.\n    // Whitespace can take the place of commas or opening paren\n\n    var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n    var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n    return {\n      CSS_UNIT: new RegExp(CSS_UNIT),\n      rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n      rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n      hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n      hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n      hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n      hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n      hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n      hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n      hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n      hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n    };\n  }(); // `isValidCSSUnit`\n  // Take in a single string / number and check to see if it looks like a CSS unit\n  // (see `matchers` above for definition).\n\n\n  function isValidCSSUnit(color) {\n    return !!matchers.CSS_UNIT.exec(color);\n  } // `stringInputToObject`\n  // Permissive string parsing.  Take in a number of formats, and output an object\n  // based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\n\n\n  function stringInputToObject(color) {\n    color = color.replace(trimLeft, '').replace(trimRight, '').toLowerCase();\n    var named = false;\n\n    if (names[color]) {\n      color = names[color];\n      named = true;\n    } else if (color == 'transparent') {\n      return {\n        r: 0,\n        g: 0,\n        b: 0,\n        a: 0,\n        format: \"name\"\n      };\n    } // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n\n\n    var match;\n\n    if (match = matchers.rgb.exec(color)) {\n      return {\n        r: match[1],\n        g: match[2],\n        b: match[3]\n      };\n    }\n\n    if (match = matchers.rgba.exec(color)) {\n      return {\n        r: match[1],\n        g: match[2],\n        b: match[3],\n        a: match[4]\n      };\n    }\n\n    if (match = matchers.hsl.exec(color)) {\n      return {\n        h: match[1],\n        s: match[2],\n        l: match[3]\n      };\n    }\n\n    if (match = matchers.hsla.exec(color)) {\n      return {\n        h: match[1],\n        s: match[2],\n        l: match[3],\n        a: match[4]\n      };\n    }\n\n    if (match = matchers.hsv.exec(color)) {\n      return {\n        h: match[1],\n        s: match[2],\n        v: match[3]\n      };\n    }\n\n    if (match = matchers.hsva.exec(color)) {\n      return {\n        h: match[1],\n        s: match[2],\n        v: match[3],\n        a: match[4]\n      };\n    }\n\n    if (match = matchers.hex8.exec(color)) {\n      return {\n        r: parseIntFromHex(match[1]),\n        g: parseIntFromHex(match[2]),\n        b: parseIntFromHex(match[3]),\n        a: convertHexToDecimal(match[4]),\n        format: named ? \"name\" : \"hex8\"\n      };\n    }\n\n    if (match = matchers.hex6.exec(color)) {\n      return {\n        r: parseIntFromHex(match[1]),\n        g: parseIntFromHex(match[2]),\n        b: parseIntFromHex(match[3]),\n        format: named ? \"name\" : \"hex\"\n      };\n    }\n\n    if (match = matchers.hex4.exec(color)) {\n      return {\n        r: parseIntFromHex(match[1] + '' + match[1]),\n        g: parseIntFromHex(match[2] + '' + match[2]),\n        b: parseIntFromHex(match[3] + '' + match[3]),\n        a: convertHexToDecimal(match[4] + '' + match[4]),\n        format: named ? \"name\" : \"hex8\"\n      };\n    }\n\n    if (match = matchers.hex3.exec(color)) {\n      return {\n        r: parseIntFromHex(match[1] + '' + match[1]),\n        g: parseIntFromHex(match[2] + '' + match[2]),\n        b: parseIntFromHex(match[3] + '' + match[3]),\n        format: named ? \"name\" : \"hex\"\n      };\n    }\n\n    return false;\n  }\n\n  function validateWCAG2Parms(parms) {\n    // return valid WCAG2 parms for isReadable.\n    // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n    var level, size;\n    parms = parms || {\n      \"level\": \"AA\",\n      \"size\": \"small\"\n    };\n    level = (parms.level || \"AA\").toUpperCase();\n    size = (parms.size || \"small\").toLowerCase();\n\n    if (level !== \"AA\" && level !== \"AAA\") {\n      level = \"AA\";\n    }\n\n    if (size !== \"small\" && size !== \"large\") {\n      size = \"small\";\n    }\n\n    return {\n      \"level\": level,\n      \"size\": size\n    };\n  } // Node: Export function\n\n\n  if (typeof module !== \"undefined\" && module.exports) {\n    module.exports = tinycolor;\n  } // AMD/requirejs: Define the module\n  else if (typeof define === 'function' && define.amd) {\n      define(function () {\n        return tinycolor;\n      });\n    } // Browser: Expose to window\n    else {\n        window.tinycolor = tinycolor;\n      }\n})(Math);","'use strict';\n// B.2.3.13 String.prototype.sub()\nrequire('./_string-html')('sub', function (createHTML) {\n  return function sub() {\n    return createHTML(this, 'sub', '', '');\n  };\n});\n","require('./_typed-array')('Uint8', 1, function (init) {\n  return function Uint8ClampedArray(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n}, true);\n","function none() {}\n\nexport default function (selector) {\n  return selector == null ? none : function () {\n    return this.querySelector(selector);\n  };\n}","import \"core-js/modules/es6.array.index-of\";\nimport namespaces from \"./namespaces\";\nexport default function (name) {\n  var prefix = name += \"\",\n      i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {\n    space: namespaces[prefix],\n    local: name\n  } : name;\n}","require('./a-grid');\n\nrequire('./a-hexgrid');\n\nrequire('./a-ocean');\n\nrequire('./a-tube');","/**\n * Represents 3d spring force, which updates forces acting on two bodies, conntected\n * by a spring.\n *\n * @param {Object} options for the spring force\n * @param {Number=} options.springCoeff spring force coefficient.\n * @param {Number=} options.springLength desired length of a spring at rest.\n */\nmodule.exports = function (options) {\n  var merge = require('ngraph.merge');\n\n  var random = require('ngraph.random').random(42);\n\n  var expose = require('ngraph.expose');\n\n  options = merge(options, {\n    springCoeff: 0.0002,\n    springLength: 80\n  });\n  var api = {\n    /**\n     * Upsates forces acting on a spring\n     */\n    update: function update(spring) {\n      var body1 = spring.from,\n          body2 = spring.to,\n          length = spring.length < 0 ? options.springLength : spring.length,\n          dx = body2.pos.x - body1.pos.x,\n          dy = body2.pos.y - body1.pos.y,\n          dz = body2.pos.z - body1.pos.z,\n          r = Math.sqrt(dx * dx + dy * dy + dz * dz);\n\n      if (r === 0) {\n        dx = (random.nextDouble() - 0.5) / 50;\n        dy = (random.nextDouble() - 0.5) / 50;\n        dz = (random.nextDouble() - 0.5) / 50;\n        r = Math.sqrt(dx * dx + dy * dy + dz * dz);\n      }\n\n      var d = r - length;\n      var coeff = (!spring.coeff || spring.coeff < 0 ? options.springCoeff : spring.coeff) * d / r * spring.weight;\n      body1.force.x += coeff * dx;\n      body1.force.y += coeff * dy;\n      body1.force.z += coeff * dz;\n      body2.force.x -= coeff * dx;\n      body2.force.y -= coeff * dy;\n      body2.force.z -= coeff * dz;\n    }\n  };\n  expose(options, api, ['springCoeff', 'springLength']);\n  return api;\n};","require(\"core-js/modules/es6.function.bind\");\n\nmodule.exports = AFRAME.registerComponent('checkpoint', {\n  schema: {\n    offset: {\n      \"default\": {\n        x: 0,\n        y: 0,\n        z: 0\n      },\n      type: 'vec3'\n    }\n  },\n  init: function init() {\n    this.active = false;\n    this.targetEl = null;\n    this.fire = this.fire.bind(this);\n    this.offset = new THREE.Vector3();\n  },\n  update: function update() {\n    this.offset.copy(this.data.offset);\n  },\n  play: function play() {\n    this.el.addEventListener('click', this.fire);\n  },\n  pause: function pause() {\n    this.el.removeEventListener('click', this.fire);\n  },\n  remove: function remove() {\n    this.pause();\n  },\n  fire: function fire() {\n    var targetEl = this.el.sceneEl.querySelector('[checkpoint-controls]');\n\n    if (!targetEl) {\n      throw new Error('No `checkpoint-controls` component found.');\n    }\n\n    targetEl.components['checkpoint-controls'].setCheckpoint(this.el);\n  },\n  getOffset: function getOffset() {\n    return this.offset.copy(this.data.offset);\n  }\n});","require(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.array.sort\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.array.filter\");\n\n/* global AFRAME */\nif (typeof AFRAME === 'undefined') {\n  throw new Error('Component attempted to register before AFRAME was available.');\n}\n\nvar accessorFn = require('accessor-fn');\n\nif (accessorFn.hasOwnProperty('default')) {\n  // unwrap default export\n  accessorFn = accessorFn[\"default\"];\n}\n\nvar ThreeForceGraph = require('three-forcegraph');\n\nif (ThreeForceGraph.hasOwnProperty('default')) {\n  // unwrap default export\n  ThreeForceGraph = ThreeForceGraph[\"default\"];\n}\n\nvar parseJson = function parseJson(prop) {\n  return typeof prop === 'string' ? JSON.parse(prop) : prop; // already parsed\n};\n\nvar parseFn = function parseFn(prop) {\n  if (typeof prop === 'function') return prop; // already a function\n\n  var geval = eval; // Avoid using eval directly https://github.com/rollup/rollup/wiki/Troubleshooting#avoiding-eval\n\n  try {\n    var evalled = geval('(' + prop + ')');\n    return evalled;\n  } catch (e) {} // Can't eval, not a function\n\n\n  return null;\n};\n\nvar parseAccessor = function parseAccessor(prop) {\n  if (!isNaN(parseFloat(prop))) {\n    return parseFloat(prop);\n  } // parse numbers\n\n\n  if (parseFn(prop)) {\n    return parseFn(prop);\n  } // parse functions\n\n\n  return prop; // strings\n};\n/**\n * 3D Force-Directed Graph component for A-Frame.\n */\n\n\nAFRAME.registerComponent('forcegraph', {\n  schema: {\n    jsonUrl: {\n      type: 'string',\n      \"default\": ''\n    },\n    nodes: {\n      parse: parseJson,\n      \"default\": []\n    },\n    links: {\n      parse: parseJson,\n      \"default\": []\n    },\n    numDimensions: {\n      type: 'number',\n      \"default\": 3\n    },\n    dagMode: {\n      type: 'string',\n      \"default\": ''\n    },\n    dagLevelDistance: {\n      type: 'number',\n      \"default\": 0\n    },\n    nodeRelSize: {\n      type: 'number',\n      \"default\": 4\n    },\n    // volume per val unit\n    nodeId: {\n      type: 'string',\n      \"default\": 'id'\n    },\n    nodeLabel: {\n      parse: parseAccessor,\n      \"default\": 'name'\n    },\n    nodeDesc: {\n      parse: parseAccessor,\n      \"default\": 'desc'\n    },\n    nodeVal: {\n      parse: parseAccessor,\n      \"default\": 'val'\n    },\n    nodeResolution: {\n      type: 'number',\n      \"default\": 8\n    },\n    // how many slice segments in the sphere's circumference\n    nodeVisibility: {\n      parse: parseAccessor,\n      \"default\": true\n    },\n    nodeColor: {\n      parse: parseAccessor,\n      \"default\": 'color'\n    },\n    nodeAutoColorBy: {\n      parse: parseAccessor,\n      \"default\": ''\n    },\n    // color nodes with the same field equally\n    nodeOpacity: {\n      type: 'number',\n      \"default\": 0.75\n    },\n    nodeThreeObject: {\n      parse: parseAccessor,\n      \"default\": null\n    },\n    nodeThreeObjectExtend: {\n      parse: parseAccessor,\n      \"default\": false\n    },\n    linkSource: {\n      type: 'string',\n      \"default\": 'source'\n    },\n    linkTarget: {\n      type: 'string',\n      \"default\": 'target'\n    },\n    linkLabel: {\n      parse: parseAccessor,\n      \"default\": 'name'\n    },\n    linkDesc: {\n      parse: parseAccessor,\n      \"default\": 'desc'\n    },\n    linkHoverPrecision: {\n      type: 'number',\n      \"default\": 2\n    },\n    linkVisibility: {\n      parse: parseAccessor,\n      \"default\": true\n    },\n    linkColor: {\n      parse: parseAccessor,\n      \"default\": 'color'\n    },\n    linkAutoColorBy: {\n      parse: parseAccessor,\n      \"default\": ''\n    },\n    // color links with the same field equally\n    linkOpacity: {\n      type: 'number',\n      \"default\": 0.2\n    },\n    linkWidth: {\n      parse: parseAccessor,\n      \"default\": 0\n    },\n    linkResolution: {\n      type: 'number',\n      \"default\": 6\n    },\n    // how many radial segments in each line cylinder's geometry\n    linkCurvature: {\n      parse: parseAccessor,\n      \"default\": 0\n    },\n    linkCurveRotation: {\n      parse: parseAccessor,\n      \"default\": 0\n    },\n    linkMaterial: {\n      parse: parseAccessor,\n      \"default\": null\n    },\n    linkThreeObject: {\n      parse: parseAccessor,\n      \"default\": null\n    },\n    linkThreeObjectExtend: {\n      parse: parseAccessor,\n      \"default\": false\n    },\n    linkPositionUpdate: {\n      parse: parseFn,\n      \"default\": null\n    },\n    linkDirectionalArrowLength: {\n      parse: parseAccessor,\n      \"default\": 0\n    },\n    linkDirectionalArrowColor: {\n      parse: parseAccessor,\n      \"default\": null\n    },\n    linkDirectionalArrowRelPos: {\n      parse: parseAccessor,\n      \"default\": 0.5\n    },\n    // value between 0<>1 indicating the relative pos along the (exposed) line\n    linkDirectionalArrowResolution: {\n      type: 'number',\n      \"default\": 8\n    },\n    // how many slice segments in the arrow's conic circumference\n    linkDirectionalParticles: {\n      parse: parseAccessor,\n      \"default\": 0\n    },\n    // animate photons travelling in the link direction\n    linkDirectionalParticleSpeed: {\n      parse: parseAccessor,\n      \"default\": 0.01\n    },\n    // in link length ratio per frame\n    linkDirectionalParticleWidth: {\n      parse: parseAccessor,\n      \"default\": 0.5\n    },\n    linkDirectionalParticleColor: {\n      parse: parseAccessor,\n      \"default\": null\n    },\n    linkDirectionalParticleResolution: {\n      type: 'number',\n      \"default\": 4\n    },\n    // how many slice segments in the particle sphere's circumference\n    onNodeCenterHover: {\n      parse: parseFn,\n      \"default\": function _default() {}\n    },\n    onLinkCenterHover: {\n      parse: parseFn,\n      \"default\": function _default() {}\n    },\n    forceEngine: {\n      type: 'string',\n      \"default\": 'd3'\n    },\n    // 'd3' or 'ngraph'\n    d3AlphaMin: {\n      type: 'number',\n      \"default\": 0\n    },\n    d3AlphaDecay: {\n      type: 'number',\n      \"default\": 0.0228\n    },\n    d3VelocityDecay: {\n      type: 'number',\n      \"default\": 0.4\n    },\n    warmupTicks: {\n      type: 'int',\n      \"default\": 0\n    },\n    // how many times to tick the force engine at init before starting to render\n    cooldownTicks: {\n      type: 'int',\n      \"default\": 1e18\n    },\n    // Simulate infinity (int parser doesn't accept Infinity object)\n    cooldownTime: {\n      type: 'int',\n      \"default\": 15000\n    },\n    // ms\n    onEngineTick: {\n      parse: parseFn,\n      \"default\": function _default() {}\n    },\n    onEngineStop: {\n      parse: parseFn,\n      \"default\": function _default() {}\n    }\n  },\n  // Bind component methods\n  emitParticle: function emitParticle() {\n    if (!this.forceGraph) {\n      // Got here before component init -> initialize forceGraph\n      this.forceGraph = new ThreeForceGraph();\n    }\n\n    var forceGraph = this.forceGraph;\n    var returnVal = forceGraph.emitParticle.apply(forceGraph, arguments);\n    return returnVal === forceGraph ? this // return self, not the inner forcegraph component\n    : returnVal;\n  },\n  d3Force: function d3Force() {\n    if (!this.forceGraph) {\n      // Got here before component init -> initialize forceGraph\n      this.forceGraph = new ThreeForceGraph();\n    }\n\n    var forceGraph = this.forceGraph;\n    var returnVal = forceGraph.d3Force.apply(forceGraph, arguments);\n    return returnVal === forceGraph ? this // return self, not the inner forcegraph component\n    : returnVal;\n  },\n  d3ReheatSimulation: function d3ReheatSimulation() {\n    this.forceGraph && this.forceGraph.d3ReheatSimulation();\n    return this;\n  },\n  refresh: function refresh() {\n    this.forceGraph && this.forceGraph.refresh();\n    return this;\n  },\n  init: function init() {\n    var state = this.state = {}; // Internal state\n    // Add info msg\n\n    state.infoEl = document.createElement('a-text');\n    state.infoEl.setAttribute('position', '0 -0.1 -1'); // Canvas center\n\n    state.infoEl.setAttribute('width', 1);\n    state.infoEl.setAttribute('align', 'center');\n    state.infoEl.setAttribute('color', 'lavender'); // Setup tooltip\n\n    state.tooltipEl = document.createElement('a-text');\n    state.tooltipEl.setAttribute('position', '0 -0.5 -1'); // Aligned to canvas bottom\n\n    state.tooltipEl.setAttribute('width', 2);\n    state.tooltipEl.setAttribute('align', 'center');\n    state.tooltipEl.setAttribute('color', 'lavender');\n    state.tooltipEl.setAttribute('value', ''); // Setup sub-tooltip\n\n    state.subTooltipEl = document.createElement('a-text');\n    state.subTooltipEl.setAttribute('position', '0 -0.6 -1'); // Aligned to canvas bottom\n\n    state.subTooltipEl.setAttribute('width', 1.5);\n    state.subTooltipEl.setAttribute('align', 'center');\n    state.subTooltipEl.setAttribute('color', 'lavender');\n    state.subTooltipEl.setAttribute('value', ''); // Get camera dom element and attach fixed view elements to camera\n\n    var cameraEl = document.querySelector('a-entity[camera], a-camera');\n    cameraEl.appendChild(state.infoEl);\n    cameraEl.appendChild(state.tooltipEl);\n    cameraEl.appendChild(state.subTooltipEl); // Keep reference to Three camera object\n\n    state.cameraObj = cameraEl.object3D.children.filter(function (child) {\n      return child.type === 'PerspectiveCamera';\n    })[0]; // On camera switch\n\n    this.el.sceneEl.addEventListener('camera-set-active', function (evt) {\n      // Switch camera reference\n      state.cameraObj = evt.detail.cameraEl.components.camera.camera;\n    }); // setup FG object\n\n    if (!this.forceGraph) this.forceGraph = new ThreeForceGraph(); // initialize forceGraph if it doesn't exist yet\n\n    this.el.object3D.add(this.forceGraph);\n    this.forceGraph.onLoading(function () {\n      state.infoEl.setAttribute('value', 'Loading...'); // Add loading msg\n    }).onFinishLoading(function () {\n      state.infoEl.setAttribute('value', '');\n    });\n  },\n  remove: function remove() {\n    // Clean-up elems\n    this.state.infoEl.remove();\n    this.state.tooltipEl.remove();\n    this.state.subTooltipEl.remove();\n  },\n  update: function update(oldData) {\n    var comp = this;\n    var elData = this.data;\n    var diff = AFRAME.utils.diff(elData, oldData);\n    var fgProps = ['jsonUrl', 'numDimensions', 'dagMode', 'dagLevelDistance', 'nodeRelSize', 'nodeId', 'nodeVal', 'nodeResolution', 'nodeVisibility', 'nodeColor', 'nodeAutoColorBy', 'nodeOpacity', 'nodeThreeObject', 'nodeThreeObjectExtend', 'linkSource', 'linkTarget', 'linkVisibility', 'linkColor', 'linkAutoColorBy', 'linkOpacity', 'linkWidth', 'linkResolution', 'linkCurvature', 'linkCurveRotation', 'linkMaterial', 'linkThreeObject', 'linkThreeObjectExtend', 'linkPositionUpdate', 'linkDirectionalArrowLength', 'linkDirectionalArrowColor', 'linkDirectionalArrowRelPos', 'linkDirectionalArrowResolution', 'linkDirectionalParticles', 'linkDirectionalParticleSpeed', 'linkDirectionalParticleWidth', 'linkDirectionalParticleColor', 'linkDirectionalParticleResolution', 'forceEngine', 'd3AlphaMin', 'd3AphaDecay', 'd3VelocityDecay', 'warmupTicks', 'cooldownTicks', 'cooldownTime', 'onEngineTick', 'onEngineStop'];\n    fgProps.filter(function (p) {\n      return p in diff;\n    }).forEach(function (p) {\n      comp.forceGraph[p](elData[p] !== '' ? elData[p] : null);\n    }); // Convert blank values into nulls\n\n    if ('nodes' in diff || 'links' in diff) {\n      comp.forceGraph.graphData({\n        nodes: elData.nodes,\n        links: elData.links\n      });\n    }\n  },\n  tick: function tick(t, td) {\n    // Update tooltip\n    var centerRaycaster = new THREE.Raycaster();\n    centerRaycaster.linePrecision = this.data.linkHoverPrecision;\n    centerRaycaster.setFromCamera(new THREE.Vector2(0, 0), // Canvas center\n    this.state.cameraObj);\n    var intersects = centerRaycaster.intersectObjects(this.forceGraph.children).filter(function (o) {\n      // Check only node/link objects\n      return ['node', 'link'].indexOf(o.object.__graphObjType) !== -1;\n    }).sort(function (a, b) {\n      // Prioritize nodes over links\n      return isNode(b) - isNode(a);\n\n      function isNode(o) {\n        return o.object.__graphObjType === 'node';\n      }\n    });\n    var topObject = intersects.length ? intersects[0].object : null;\n\n    if (topObject !== this.state.hoverObj) {\n      var prevObjType = this.state.hoverObj ? this.state.hoverObj.__graphObjType : null;\n      var prevObjData = this.state.hoverObj ? this.state.hoverObj.__data : null;\n      var objType = topObject ? topObject.__graphObjType : null;\n      var objData = topObject ? topObject.__data : null;\n\n      if (prevObjType && prevObjType !== objType) {\n        // Hover out\n        this.data['on' + (prevObjType === 'node' ? 'Node' : 'Link') + 'CenterHover'](null, prevObjData);\n      }\n\n      if (objType) {\n        // Hover in\n        this.data['on' + (objType === 'node' ? 'Node' : 'Link') + 'CenterHover'](objData, prevObjType === objType ? prevObjData : null);\n      }\n\n      this.state.hoverObj = topObject;\n      this.state.tooltipEl.setAttribute('value', topObject ? accessorFn(this.data[topObject.__graphObjType + 'Label'])(topObject.__data) || '' : '');\n      this.state.subTooltipEl.setAttribute('value', topObject ? accessorFn(this.data[topObject.__graphObjType + 'Desc'])(topObject.__data) || '' : '');\n    } // Run force-graph ticker\n\n\n    this.forceGraph.tickFrame();\n  }\n});","import { event } from \"d3-selection\";\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\nexport default function () {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","require(\"core-js/modules/es6.number.constructor\");\n\nmodule.exports = function (bodies, settings) {\n  var random = require('ngraph.random').random(42);\n\n  var boundingBox = {\n    x1: 0,\n    y1: 0,\n    x2: 0,\n    y2: 0\n  };\n  return {\n    box: boundingBox,\n    update: updateBoundingBox,\n    reset: function reset() {\n      boundingBox.x1 = boundingBox.y1 = 0;\n      boundingBox.x2 = boundingBox.y2 = 0;\n    },\n    getBestNewPosition: function getBestNewPosition(neighbors) {\n      var graphRect = boundingBox;\n      var baseX = 0,\n          baseY = 0;\n\n      if (neighbors.length) {\n        for (var i = 0; i < neighbors.length; ++i) {\n          baseX += neighbors[i].pos.x;\n          baseY += neighbors[i].pos.y;\n        }\n\n        baseX /= neighbors.length;\n        baseY /= neighbors.length;\n      } else {\n        baseX = (graphRect.x1 + graphRect.x2) / 2;\n        baseY = (graphRect.y1 + graphRect.y2) / 2;\n      }\n\n      var springLength = settings.springLength;\n      return {\n        x: baseX + random.next(springLength) - springLength / 2,\n        y: baseY + random.next(springLength) - springLength / 2\n      };\n    }\n  };\n\n  function updateBoundingBox() {\n    var i = bodies.length;\n\n    if (i === 0) {\n      return;\n    } // don't have to wory here.\n\n\n    var x1 = Number.MAX_VALUE,\n        y1 = Number.MAX_VALUE,\n        x2 = Number.MIN_VALUE,\n        y2 = Number.MIN_VALUE;\n\n    while (i--) {\n      // this is O(n), could it be done faster with quadtree?\n      // how about pinned nodes?\n      var body = bodies[i];\n\n      if (body.isPinned) {\n        body.pos.x = body.prevPos.x;\n        body.pos.y = body.prevPos.y;\n      } else {\n        body.prevPos.x = body.pos.x;\n        body.prevPos.y = body.pos.y;\n      }\n\n      if (body.pos.x < x1) {\n        x1 = body.pos.x;\n      }\n\n      if (body.pos.x > x2) {\n        x2 = body.pos.x;\n      }\n\n      if (body.pos.y < y1) {\n        y1 = body.pos.y;\n      }\n\n      if (body.pos.y > y2) {\n        y2 = body.pos.y;\n      }\n    }\n\n    boundingBox.x1 = x1;\n    boundingBox.x2 = x2;\n    boundingBox.y1 = y1;\n    boundingBox.y2 = y2;\n  }\n};","/**\n * Represents 3d drag force, which reduces force value on each step by given\n * coefficient.\n *\n * @param {Object} options for the drag force\n * @param {Number=} options.dragCoeff drag force coefficient. 0.1 by default\n */\nmodule.exports = function (options) {\n  var merge = require('ngraph.merge'),\n      expose = require('ngraph.expose');\n\n  options = merge(options, {\n    dragCoeff: 0.02\n  });\n  var api = {\n    update: function update(body) {\n      body.force.x -= options.dragCoeff * body.velocity.x;\n      body.force.y -= options.dragCoeff * body.velocity.y;\n      body.force.z -= options.dragCoeff * body.velocity.z;\n    }\n  }; // let easy access to dragCoeff:\n\n  expose(options, api, ['dragCoeff']);\n  return api;\n};","require(\"core-js/modules/es6.function.bind\");\n\n/* global CANNON */\n\n/**\n * Based on aframe/examples/showcase/tracked-controls.\n *\n * Handles events coming from the hand-controls.\n * Determines if the entity is grabbed or released.\n * Updates its position to move along the controller.\n */\nmodule.exports = AFRAME.registerComponent('grab', {\n  init: function init() {\n    this.system = this.el.sceneEl.systems.physics;\n    this.GRABBED_STATE = 'grabbed';\n    this.grabbing = false;\n    this.hitEl =\n    /** @type {AFRAME.Element}    */\n    null;\n    this.physics =\n    /** @type {AFRAME.System}     */\n    this.el.sceneEl.systems.physics;\n    this.constraint =\n    /** @type {CANNON.Constraint} */\n    null; // Bind event handlers\n\n    this.onHit = this.onHit.bind(this);\n    this.onGripOpen = this.onGripOpen.bind(this);\n    this.onGripClose = this.onGripClose.bind(this);\n  },\n  play: function play() {\n    var el = this.el;\n    el.addEventListener('hit', this.onHit);\n    el.addEventListener('gripdown', this.onGripClose);\n    el.addEventListener('gripup', this.onGripOpen);\n    el.addEventListener('trackpaddown', this.onGripClose);\n    el.addEventListener('trackpadup', this.onGripOpen);\n    el.addEventListener('triggerdown', this.onGripClose);\n    el.addEventListener('triggerup', this.onGripOpen);\n  },\n  pause: function pause() {\n    var el = this.el;\n    el.removeEventListener('hit', this.onHit);\n    el.removeEventListener('gripdown', this.onGripClose);\n    el.removeEventListener('gripup', this.onGripOpen);\n    el.removeEventListener('trackpaddown', this.onGripClose);\n    el.removeEventListener('trackpadup', this.onGripOpen);\n    el.removeEventListener('triggerdown', this.onGripClose);\n    el.removeEventListener('triggerup', this.onGripOpen);\n  },\n  onGripClose: function onGripClose() {\n    this.grabbing = true;\n  },\n  onGripOpen: function onGripOpen() {\n    var hitEl = this.hitEl;\n    this.grabbing = false;\n\n    if (!hitEl) {\n      return;\n    }\n\n    hitEl.removeState(this.GRABBED_STATE);\n    this.hitEl = undefined;\n    this.system.removeConstraint(this.constraint);\n    this.constraint = null;\n  },\n  onHit: function onHit(evt) {\n    var hitEl = evt.detail.el; // If the element is already grabbed (it could be grabbed by another controller).\n    // If the hand is not grabbing the element does not stick.\n    // If we're already grabbing something you can't grab again.\n\n    if (!hitEl || hitEl.is(this.GRABBED_STATE) || !this.grabbing || this.hitEl) {\n      return;\n    }\n\n    hitEl.addState(this.GRABBED_STATE);\n    this.hitEl = hitEl;\n    this.constraint = new CANNON.LockConstraint(this.el.body, hitEl.body);\n    this.system.addConstraint(this.constraint);\n  }\n});","require(\"core-js/modules/es6.function.bind\");\n\n/**\n * Movement Controls\n *\n * @author Don McCurdy <dm@donmccurdy.com>\n */\nvar COMPONENT_SUFFIX = '-controls',\n    MAX_DELTA = 0.2,\n    // ms\nEPS = 10e-6;\nmodule.exports = AFRAME.registerComponent('movement-controls', {\n  /*******************************************************************\n   * Schema\n   */\n  dependencies: ['rotation'],\n  schema: {\n    enabled: {\n      \"default\": true\n    },\n    controls: {\n      \"default\": ['gamepad', 'trackpad', 'keyboard', 'touch']\n    },\n    speed: {\n      \"default\": 0.3,\n      min: 0\n    },\n    fly: {\n      \"default\": false\n    },\n    constrainToNavMesh: {\n      \"default\": false\n    },\n    camera: {\n      \"default\": '[movement-controls] [camera]',\n      type: 'selector'\n    }\n  },\n\n  /*******************************************************************\n   * Lifecycle\n   */\n  init: function init() {\n    var el = this.el;\n    this.velocityCtrl = null;\n    this.velocity = new THREE.Vector3();\n    this.heading = new THREE.Quaternion(); // Navigation\n\n    this.navGroup = null;\n    this.navNode = null;\n\n    if (el.sceneEl.hasLoaded) {\n      this.injectControls();\n    } else {\n      el.sceneEl.addEventListener('loaded', this.injectControls.bind(this));\n    }\n  },\n  update: function update(prevData) {\n    var el = this.el;\n    var data = this.data;\n    var nav = el.sceneEl.systems.nav;\n\n    if (el.sceneEl.hasLoaded) {\n      this.injectControls();\n    }\n\n    if (nav && data.constrainToNavMesh !== prevData.constrainToNavMesh) {\n      data.constrainToNavMesh ? nav.addAgent(this) : nav.removeAgent(this);\n    }\n  },\n  injectControls: function injectControls() {\n    var data = this.data;\n    var name;\n\n    for (var i = 0; i < data.controls.length; i++) {\n      name = data.controls[i] + COMPONENT_SUFFIX;\n\n      if (!this.el.components[name]) {\n        this.el.setAttribute(name, '');\n      }\n    }\n  },\n  updateNavLocation: function updateNavLocation() {\n    this.navGroup = null;\n    this.navNode = null;\n  },\n\n  /*******************************************************************\n   * Tick\n   */\n  tick: function () {\n    var start = new THREE.Vector3();\n    var end = new THREE.Vector3();\n    var clampedEnd = new THREE.Vector3();\n    return function (t, dt) {\n      if (!dt) return;\n      var el = this.el;\n      var data = this.data;\n      if (!data.enabled) return;\n      this.updateVelocityCtrl();\n      var velocityCtrl = this.velocityCtrl;\n      var velocity = this.velocity;\n      if (!velocityCtrl) return; // Update velocity. If FPS is too low, reset.\n\n      if (dt / 1000 > MAX_DELTA) {\n        velocity.set(0, 0, 0);\n      } else {\n        this.updateVelocity(dt);\n      }\n\n      if (data.constrainToNavMesh && velocityCtrl.isNavMeshConstrained !== false) {\n        if (velocity.lengthSq() < EPS) return;\n        start.copy(el.object3D.position);\n        end.copy(velocity).multiplyScalar(dt / 1000).add(start);\n        var nav = el.sceneEl.systems.nav;\n        this.navGroup = this.navGroup === null ? nav.getGroup(start) : this.navGroup;\n        this.navNode = this.navNode || nav.getNode(start, this.navGroup);\n        this.navNode = nav.clampStep(start, end, this.navGroup, this.navNode, clampedEnd);\n        el.object3D.position.copy(clampedEnd);\n      } else if (el.hasAttribute('velocity')) {\n        el.setAttribute('velocity', velocity);\n      } else {\n        el.object3D.position.x += velocity.x * dt / 1000;\n        el.object3D.position.y += velocity.y * dt / 1000;\n        el.object3D.position.z += velocity.z * dt / 1000;\n      }\n    };\n  }(),\n\n  /*******************************************************************\n   * Movement\n   */\n  updateVelocityCtrl: function updateVelocityCtrl() {\n    var data = this.data;\n\n    if (data.enabled) {\n      for (var i = 0, l = data.controls.length; i < l; i++) {\n        var control = this.el.components[data.controls[i] + COMPONENT_SUFFIX];\n\n        if (control && control.isVelocityActive()) {\n          this.velocityCtrl = control;\n          return;\n        }\n      }\n\n      this.velocityCtrl = null;\n    }\n  },\n  updateVelocity: function () {\n    var vector2 = new THREE.Vector2();\n    var quaternion = new THREE.Quaternion();\n    return function (dt) {\n      var dVelocity;\n      var el = this.el;\n      var control = this.velocityCtrl;\n      var velocity = this.velocity;\n      var data = this.data;\n\n      if (control) {\n        if (control.getVelocityDelta) {\n          dVelocity = control.getVelocityDelta(dt);\n        } else if (control.getVelocity) {\n          velocity.copy(control.getVelocity());\n          return;\n        } else if (control.getPositionDelta) {\n          velocity.copy(control.getPositionDelta(dt).multiplyScalar(1000 / dt));\n          return;\n        } else {\n          throw new Error('Incompatible movement controls: ', control);\n        }\n      }\n\n      if (el.hasAttribute('velocity') && !data.constrainToNavMesh) {\n        velocity.copy(this.el.getAttribute('velocity'));\n      }\n\n      if (dVelocity && data.enabled) {\n        var cameraEl = data.camera; // Rotate to heading\n\n        quaternion.copy(cameraEl.object3D.quaternion);\n        quaternion.premultiply(el.object3D.quaternion);\n        dVelocity.applyQuaternion(quaternion);\n        var factor = dVelocity.length();\n\n        if (data.fly) {\n          velocity.copy(dVelocity);\n          velocity.multiplyScalar(this.data.speed * 16.66667);\n        } else {\n          vector2.set(dVelocity.x, dVelocity.z);\n          vector2.setLength(factor * this.data.speed * 16.66667);\n          velocity.x = vector2.x;\n          velocity.z = vector2.y;\n        }\n      }\n    };\n  }()\n});","require(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\n/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n/** Used as references for various `Number` constants. */\n\nvar NAN = 0 / 0;\n/** `Object#toString` result references. */\n\nvar symbolTag = '[object Symbol]';\n/** Used to match leading and trailing whitespace. */\n\nvar reTrim = /^\\s+|\\s+$/g;\n/** Used to detect bad signed hexadecimal string values. */\n\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n/** Used to detect binary string values. */\n\nvar reIsBinary = /^0b[01]+$/i;\n/** Used to detect octal string values. */\n\nvar reIsOctal = /^0o[0-7]+$/i;\n/** Built-in method references without a dependency on `root`. */\n\nvar freeParseInt = parseInt;\n/** Detect free variable `global` from Node.js. */\n\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n/** Detect free variable `self`. */\n\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n/** Used as a reference to the global object. */\n\nvar root = freeGlobal || freeSelf || Function('return this')();\n/** Used for built-in method references. */\n\nvar objectProto = Object.prototype;\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\n\nvar objectToString = objectProto.toString;\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\n\nvar now = function now() {\n  return root.Date.now();\n};\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\n\n\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n\n  wait = toNumber(wait) || 0;\n\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time; // Start the timer for the trailing edge.\n\n    timerId = setTimeout(timerExpired, wait); // Invoke the leading edge.\n\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime; // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n\n    return lastCallTime === undefined || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n\n  function timerExpired() {\n    var time = now();\n\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    } // Restart the timer.\n\n\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined; // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n\n    return result;\n  }\n\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\n\n\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\n\n\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\n\n\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\n\n\nfunction isSymbol(value) {\n  return typeof value == 'symbol' || isObjectLike(value) && objectToString.call(value) == symbolTag;\n}\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\n\n\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n\n  if (isSymbol(value)) {\n    return NAN;\n  }\n\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? other + '' : other;\n  }\n\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n}\n\nmodule.exports = throttle;","require(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.function.bind\");\n\nrequire('../../lib/keyboard.polyfill');\n\nvar MAX_DELTA = 0.2,\n    PROXY_FLAG = '__keyboard-controls-proxy';\nvar KeyboardEvent = window.KeyboardEvent;\n/**\n * Keyboard Controls component.\n *\n * Stripped-down version of: https://github.com/donmccurdy/aframe-keyboard-controls\n *\n * Bind keyboard events to components, or control your entities with the WASD keys.\n *\n * Why use KeyboardEvent.code? \"This is set to a string representing the key that was pressed to\n * generate the KeyboardEvent, without taking the current keyboard layout (e.g., QWERTY vs.\n * Dvorak), locale (e.g., English vs. French), or any modifier keys into account. This is useful\n * when you care about which physical key was pressed, rather thanwhich character it corresponds\n * to. For example, if youre a writing a game, you might want a certain set of keys to move the\n * player in different directions, and that mapping should ideally be independent of keyboard\n * layout. See: https://developers.google.com/web/updates/2016/04/keyboardevent-keys-codes\n *\n * @namespace wasd-controls\n * keys the entity moves and if you release it will stop. Easing simulates friction.\n * to the entity when pressing the keys.\n * @param {bool} [enabled=true] - To completely enable or disable the controls\n */\n\nmodule.exports = AFRAME.registerComponent('keyboard-controls', {\n  schema: {\n    enabled: {\n      \"default\": true\n    },\n    debug: {\n      \"default\": false\n    }\n  },\n  init: function init() {\n    this.dVelocity = new THREE.Vector3();\n    this.localKeys = {};\n    this.listeners = {\n      keydown: this.onKeyDown.bind(this),\n      keyup: this.onKeyUp.bind(this),\n      blur: this.onBlur.bind(this)\n    };\n    this.attachEventListeners();\n  },\n\n  /*******************************************************************\n  * Movement\n  */\n  isVelocityActive: function isVelocityActive() {\n    return this.data.enabled && !!Object.keys(this.getKeys()).length;\n  },\n  getVelocityDelta: function getVelocityDelta() {\n    var data = this.data,\n        keys = this.getKeys();\n    this.dVelocity.set(0, 0, 0);\n\n    if (data.enabled) {\n      if (keys.KeyW || keys.ArrowUp) {\n        this.dVelocity.z -= 1;\n      }\n\n      if (keys.KeyA || keys.ArrowLeft) {\n        this.dVelocity.x -= 1;\n      }\n\n      if (keys.KeyS || keys.ArrowDown) {\n        this.dVelocity.z += 1;\n      }\n\n      if (keys.KeyD || keys.ArrowRight) {\n        this.dVelocity.x += 1;\n      }\n    }\n\n    return this.dVelocity.clone();\n  },\n\n  /*******************************************************************\n  * Events\n  */\n  play: function play() {\n    this.attachEventListeners();\n  },\n  pause: function pause() {\n    this.removeEventListeners();\n  },\n  remove: function remove() {\n    this.pause();\n  },\n  attachEventListeners: function attachEventListeners() {\n    window.addEventListener('keydown', this.listeners.keydown, false);\n    window.addEventListener('keyup', this.listeners.keyup, false);\n    window.addEventListener('blur', this.listeners.blur, false);\n  },\n  removeEventListeners: function removeEventListeners() {\n    window.removeEventListener('keydown', this.listeners.keydown);\n    window.removeEventListener('keyup', this.listeners.keyup);\n    window.removeEventListener('blur', this.listeners.blur);\n  },\n  onKeyDown: function onKeyDown(event) {\n    if (AFRAME.utils.shouldCaptureKeyEvent(event)) {\n      this.localKeys[event.code] = true;\n      this.emit(event);\n    }\n  },\n  onKeyUp: function onKeyUp(event) {\n    if (AFRAME.utils.shouldCaptureKeyEvent(event)) {\n      delete this.localKeys[event.code];\n      this.emit(event);\n    }\n  },\n  onBlur: function onBlur() {\n    for (var code in this.localKeys) {\n      if (this.localKeys.hasOwnProperty(code)) {\n        delete this.localKeys[code];\n      }\n    }\n  },\n  emit: function emit(event) {\n    // TODO - keydown only initially?\n    // TODO - where the f is the spacebar\n    // Emit original event.\n    if (PROXY_FLAG in event) {\n      // TODO - Method never triggered.\n      this.el.emit(event.type, event);\n    } // Emit convenience event, identifying key.\n\n\n    this.el.emit(event.type + ':' + event.code, new KeyboardEvent(event.type, event));\n    if (this.data.debug) console.log(event.type + ':' + event.code);\n  },\n\n  /*******************************************************************\n  * Accessors\n  */\n  isPressed: function isPressed(code) {\n    return code in this.getKeys();\n  },\n  getKeys: function getKeys() {\n    if (this.isProxied()) {\n      return this.el.sceneEl.components['proxy-controls'].getKeyboard();\n    }\n\n    return this.localKeys;\n  },\n  isProxied: function isProxied() {\n    var proxyControls = this.el.sceneEl.components['proxy-controls'];\n    return proxyControls && proxyControls.isConnected();\n  }\n});","import \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es7.object.entries\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.set\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.object.define-property\";\nimport indexBy from 'index-array-by';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction diffArrays(prev, next, idAccessor) {\n  var result = {\n    enter: [],\n    update: [],\n    exit: []\n  };\n\n  if (!idAccessor) {\n    // use object references for comparison\n    var prevSet = new Set(prev);\n    var nextSet = new Set(next);\n    new Set([].concat(_toConsumableArray(prevSet), _toConsumableArray(nextSet))).forEach(function (item) {\n      var type = !prevSet.has(item) ? 'enter' : !nextSet.has(item) ? 'exit' : 'update';\n      result[type].push(type === 'update' ? [item, item] : item);\n    });\n  } else {\n    // compare by id (duplicate keys are ignored)\n    var prevById = indexBy(prev, idAccessor, false);\n    var nextById = indexBy(next, idAccessor, false);\n    var byId = Object.assign({}, prevById, nextById);\n    Object.entries(byId).forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          id = _ref2[0],\n          item = _ref2[1];\n\n      var type = !prevById.hasOwnProperty(id) ? 'enter' : !nextById.hasOwnProperty(id) ? 'exit' : 'update';\n      result[type].push(type === 'update' ? [prevById[id], nextById[id]] : item);\n    });\n  }\n\n  return result;\n}\n\nfunction dataBindDiff(data, existingObjs, _ref3) {\n  var _ref3$objBindAttr = _ref3.objBindAttr,\n      objBindAttr = _ref3$objBindAttr === void 0 ? '__obj' : _ref3$objBindAttr,\n      _ref3$dataBindAttr = _ref3.dataBindAttr,\n      dataBindAttr = _ref3$dataBindAttr === void 0 ? '__data' : _ref3$dataBindAttr,\n      idAccessor = _ref3.idAccessor,\n      _ref3$purge = _ref3.purge,\n      purge = _ref3$purge === void 0 ? false : _ref3$purge;\n\n  var isObjValid = function isObjValid(obj) {\n    return obj.hasOwnProperty(dataBindAttr);\n  };\n\n  var removeObjs = existingObjs.filter(function (obj) {\n    return !isObjValid(obj);\n  });\n  var prevD = existingObjs.filter(isObjValid).map(function (obj) {\n    return obj[dataBindAttr];\n  });\n  var nextD = data;\n  var diff = purge ? {\n    enter: nextD,\n    exit: prevD,\n    update: []\n  } // don't diff data in purge mode\n  : diffArrays(prevD, nextD, idAccessor);\n  diff.update = diff.update.map(function (_ref4) {\n    var _ref5 = _slicedToArray(_ref4, 2),\n        prevD = _ref5[0],\n        nextD = _ref5[1];\n\n    if (prevD !== nextD) {\n      // transfer obj to new data point (if different)\n      nextD[objBindAttr] = prevD[objBindAttr];\n      nextD[objBindAttr][dataBindAttr] = nextD;\n    }\n\n    return nextD;\n  });\n  diff.exit = diff.exit.concat(removeObjs.map(function (obj) {\n    return _defineProperty({}, objBindAttr, obj);\n  }));\n  return diff;\n}\n\nfunction viewDigest(data, existingObjs, // list\nappendObj, // item => {...} function\nremoveObj, // item => {...} function\n_ref7) {\n  var _ref7$createObj = _ref7.createObj,\n      createObj = _ref7$createObj === void 0 ? function (d) {\n    return {};\n  } : _ref7$createObj,\n      _ref7$updateObj = _ref7.updateObj,\n      updateObj = _ref7$updateObj === void 0 ? function (obj, d) {} : _ref7$updateObj,\n      _ref7$exitObj = _ref7.exitObj,\n      exitObj = _ref7$exitObj === void 0 ? function (obj) {} : _ref7$exitObj,\n      _ref7$objBindAttr = _ref7.objBindAttr,\n      objBindAttr = _ref7$objBindAttr === void 0 ? '__obj' : _ref7$objBindAttr,\n      _ref7$dataBindAttr = _ref7.dataBindAttr,\n      dataBindAttr = _ref7$dataBindAttr === void 0 ? '__data' : _ref7$dataBindAttr,\n      dataDiffOptions = _objectWithoutProperties(_ref7, [\"createObj\", \"updateObj\", \"exitObj\", \"objBindAttr\", \"dataBindAttr\"]);\n\n  var _dataBindDiff = dataBindDiff(data, existingObjs, _objectSpread2({\n    objBindAttr: objBindAttr,\n    dataBindAttr: dataBindAttr\n  }, dataDiffOptions)),\n      enter = _dataBindDiff.enter,\n      update = _dataBindDiff.update,\n      exit = _dataBindDiff.exit; // Remove exiting points\n\n\n  exit.forEach(function (d) {\n    var obj = d[objBindAttr];\n    delete d[objBindAttr]; // unbind obj\n\n    exitObj(obj);\n    removeObj(obj);\n  });\n  var newObjs = createObjs(enter);\n  var pointsData = [].concat(_toConsumableArray(enter), _toConsumableArray(update));\n  updateObjs(pointsData); // Add new points\n\n  newObjs.forEach(appendObj); //\n\n  function createObjs(data) {\n    var newObjs = [];\n    data.forEach(function (d) {\n      var obj = createObj(d);\n\n      if (obj) {\n        obj[dataBindAttr] = d;\n        d[objBindAttr] = obj;\n        newObjs.push(obj);\n      }\n    });\n    return newObjs;\n  }\n\n  function updateObjs(data) {\n    data.forEach(function (d) {\n      var obj = d[objBindAttr];\n\n      if (obj) {\n        obj[dataBindAttr] = d;\n        updateObj(obj, d);\n      }\n    });\n  }\n}\n\nexport default viewDigest;","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0:\n      break;\n\n    case 1:\n      this.range(domain);\n      break;\n\n    default:\n      this.range(range).domain(domain);\n      break;\n  }\n\n  return this;\n}\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0:\n      break;\n\n    case 1:\n      {\n        if (typeof domain === \"function\") this.interpolator(domain);else this.range(domain);\n        break;\n      }\n\n    default:\n      {\n        this.domain(domain);\n        if (typeof interpolator === \"function\") this.interpolator(interpolator);else this.range(interpolator);\n        break;\n      }\n  }\n\n  return this;\n}","import \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.map\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\n\nfunction _createForOfIteratorHelper(o) { if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) { var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var it, normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(n); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { initRange } from \"./init.js\";\nexport var implicit = Symbol(\"implicit\");\nexport default function ordinal() {\n  var index = new Map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\",\n        i = index.get(key);\n\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function (_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new Map();\n\n    var _iterator = _createForOfIteratorHelper(_),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var value = _step.value;\n        var key = value + \"\";\n        if (index.has(key)) continue;\n        index.set(key, domain.push(value));\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    return scale;\n  };\n\n  scale.range = function (_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function (_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function () {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n  return scale;\n}","import \"core-js/modules/es6.math.cbrt\";\nimport \"core-js/modules/es6.array.some\";\nimport \"core-js/modules/es6.array.reduce\";\nimport \"core-js/modules/es6.typed.float32-array\";\nimport \"core-js/modules/es7.object.values\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.function.bind\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport \"core-js/modules/es6.object.set-prototype-of\";\nimport \"core-js/modules/es6.object.create\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport { Group, Mesh, MeshLambertMaterial, Color, BufferGeometry, BufferAttribute, Matrix4, Vector3, SphereBufferGeometry, CylinderBufferGeometry, TubeBufferGeometry, ConeBufferGeometry, Line, LineBasicMaterial, QuadraticBezierCurve3, CubicBezierCurve3 } from 'three';\nimport { forceSimulation, forceLink, forceManyBody, forceCenter, forceRadial } from 'd3-force-3d';\nimport graph from 'ngraph.graph';\nimport forcelayout from 'ngraph.forcelayout';\nimport forcelayout3d from 'ngraph.forcelayout3d';\nimport Kapsule from 'kapsule';\nimport accessorFn from 'accessor-fn';\nimport dataJoint from 'data-joint';\nimport { scaleOrdinal } from 'd3-scale';\nimport { schemePaired } from 'd3-scale-chromatic';\nimport tinyColor from 'tinycolor2';\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar materialDispose = function materialDispose(material) {\n  if (material instanceof Array) {\n    material.forEach(materialDispose);\n  } else {\n    if (material.map) {\n      material.map.dispose();\n    }\n\n    material.dispose();\n  }\n};\n\nvar deallocate = function deallocate(obj) {\n  if (obj.geometry) {\n    obj.geometry.dispose();\n  }\n\n  if (obj.material) {\n    materialDispose(obj.material);\n  }\n\n  if (obj.texture) {\n    obj.texture.dispose();\n  }\n\n  if (obj.children) {\n    obj.children.forEach(deallocate);\n  }\n};\n\nvar emptyObject = function emptyObject(obj) {\n  while (obj.children.length) {\n    var childObj = obj.children[0];\n    obj.remove(childObj);\n    deallocate(childObj);\n  }\n};\n\nfunction threeDigest(data, scene) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  var _ref$objFilter = _ref.objFilter,\n      objFilter = _ref$objFilter === void 0 ? function () {\n    return true;\n  } : _ref$objFilter,\n      options = _objectWithoutProperties(_ref, [\"objFilter\"]);\n\n  return dataJoint(data, scene.children.filter(objFilter), function (obj) {\n    return scene.add(obj);\n  }, function (obj) {\n    scene.remove(obj);\n    emptyObject(obj);\n  }, _objectSpread2({\n    objBindAttr: '__threeObj'\n  }, options));\n}\n\nvar colorStr2Hex = function colorStr2Hex(str) {\n  return isNaN(str) ? parseInt(tinyColor(str).toHex(), 16) : str;\n};\n\nvar colorAlpha = function colorAlpha(str) {\n  return isNaN(str) ? tinyColor(str).getAlpha() : 1;\n};\n\nvar autoColorScale = scaleOrdinal(schemePaired); // Autoset attribute colorField by colorByAccessor property\n// If an object has already a color, don't set it\n// Objects can be nodes or links\n\nfunction autoColorObjects(objects, colorByAccessor, colorField) {\n  if (!colorByAccessor || typeof colorField !== 'string') return;\n  objects.filter(function (obj) {\n    return !obj[colorField];\n  }).forEach(function (obj) {\n    obj[colorField] = autoColorScale(colorByAccessor(obj));\n  });\n}\n\nfunction getDagDepths(_ref, idAccessor) {\n  var nodes = _ref.nodes,\n      links = _ref.links; // linked graph\n\n  var graph = {};\n  nodes.forEach(function (node) {\n    return graph[idAccessor(node)] = {\n      data: node,\n      out: [],\n      depth: -1\n    };\n  });\n  links.forEach(function (_ref2) {\n    var source = _ref2.source,\n        target = _ref2.target;\n    var sourceId = getNodeId(source);\n    var targetId = getNodeId(target);\n    if (!graph.hasOwnProperty(sourceId)) throw \"Missing source node with id: \".concat(sourceId);\n    if (!graph.hasOwnProperty(targetId)) throw \"Missing target node with id: \".concat(targetId);\n    var sourceNode = graph[sourceId];\n    var targetNode = graph[targetId];\n    sourceNode.out.push(targetNode);\n\n    function getNodeId(node) {\n      return _typeof(node) === 'object' ? idAccessor(node) : node;\n    }\n  });\n  traverse(Object.values(graph)); // cleanup\n\n  Object.keys(graph).forEach(function (id) {\n    return graph[id] = graph[id].depth;\n  });\n  return graph;\n\n  function traverse(nodes) {\n    var nodeStack = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    var currentDepth = nodeStack.length;\n\n    for (var i = 0, l = nodes.length; i < l; i++) {\n      var node = nodes[i];\n\n      if (nodeStack.indexOf(node) !== -1) {\n        var loop = [].concat(_toConsumableArray(nodeStack.slice(nodeStack.indexOf(node))), [node]).map(function (d) {\n          return idAccessor(d.data);\n        });\n        throw \"Invalid DAG structure! Found cycle in node path: \".concat(loop.join(' -> '), \".\");\n      }\n\n      if (currentDepth > node.depth) {\n        // Don't unnecessarily revisit chunks of the graph\n        node.depth = currentDepth;\n        traverse(node.out, [].concat(_toConsumableArray(nodeStack), [node]));\n      }\n    }\n  }\n}\n\nvar three = window.THREE ? window.THREE // Prefer consumption from global THREE, if exists\n: {\n  Group: Group,\n  Mesh: Mesh,\n  MeshLambertMaterial: MeshLambertMaterial,\n  Color: Color,\n  BufferGeometry: BufferGeometry,\n  BufferAttribute: BufferAttribute,\n  Matrix4: Matrix4,\n  Vector3: Vector3,\n  SphereBufferGeometry: SphereBufferGeometry,\n  CylinderBufferGeometry: CylinderBufferGeometry,\n  TubeBufferGeometry: TubeBufferGeometry,\n  ConeBufferGeometry: ConeBufferGeometry,\n  Line: Line,\n  LineBasicMaterial: LineBasicMaterial,\n  QuadraticBezierCurve3: QuadraticBezierCurve3,\n  CubicBezierCurve3: CubicBezierCurve3\n};\nvar ngraph = {\n  graph: graph,\n  forcelayout: forcelayout,\n  forcelayout3d: forcelayout3d\n};\nvar DAG_LEVEL_NODE_RATIO = 2; // support multiple method names for backwards threejs compatibility\n\nvar setAttributeFn = new three.BufferGeometry().setAttribute ? 'setAttribute' : 'addAttribute';\nvar applyMatrix4Fn = new three.BufferGeometry().applyMatrix4 ? 'applyMatrix4' : 'applyMatrix';\nvar ForceGraph = Kapsule({\n  props: {\n    jsonUrl: {\n      onChange: function onChange(jsonUrl, state) {\n        var _this = this;\n\n        if (jsonUrl && !state.fetchingJson) {\n          // Load data asynchronously\n          state.fetchingJson = true;\n          state.onLoading();\n          fetch(jsonUrl).then(function (r) {\n            return r.json();\n          }).then(function (json) {\n            state.fetchingJson = false;\n            state.onFinishLoading(json);\n\n            _this.graphData(json);\n          });\n        }\n      },\n      triggerUpdate: false\n    },\n    graphData: {\n      \"default\": {\n        nodes: [],\n        links: []\n      },\n      onChange: function onChange(graphData, state) {\n        if (graphData.nodes.length || graphData.links.length) {\n          console.info('force-graph loading', graphData.nodes.length + ' nodes', graphData.links.length + ' links');\n        }\n\n        state.engineRunning = false; // Pause simulation immediately\n      }\n    },\n    numDimensions: {\n      \"default\": 3,\n      onChange: function onChange(numDim, state) {\n        var chargeForce = state.d3ForceLayout.force('charge'); // Increase repulsion on 3D mode for improved spatial separation\n\n        if (chargeForce) {\n          chargeForce.strength(numDim > 2 ? -60 : -30);\n        }\n\n        if (numDim < 3) {\n          eraseDimension(state.graphData.nodes, 'z');\n        }\n\n        if (numDim < 2) {\n          eraseDimension(state.graphData.nodes, 'y');\n        }\n\n        function eraseDimension(nodes, dim) {\n          nodes.forEach(function (d) {\n            delete d[dim]; // position\n\n            delete d[\"v\".concat(dim)]; // velocity\n          });\n        }\n      }\n    },\n    dagMode: {\n      onChange: function onChange(dagMode, state) {\n        // td, bu, lr, rl, zin, zout, radialin, radialout\n        !dagMode && state.forceEngine === 'd3' && (state.graphData.nodes || []).forEach(function (n) {\n          return n.fx = n.fy = n.fz = undefined;\n        }); // unfix nodes when disabling dag mode\n      }\n    },\n    dagLevelDistance: {},\n    nodeRelSize: {\n      \"default\": 4\n    },\n    // volume per val unit\n    nodeId: {\n      \"default\": 'id'\n    },\n    nodeVal: {\n      \"default\": 'val'\n    },\n    nodeResolution: {\n      \"default\": 8\n    },\n    // how many slice segments in the sphere's circumference\n    nodeColor: {\n      \"default\": 'color'\n    },\n    nodeAutoColorBy: {},\n    nodeOpacity: {\n      \"default\": 0.75\n    },\n    nodeVisibility: {\n      \"default\": true\n    },\n    nodeThreeObject: {},\n    nodeThreeObjectExtend: {\n      \"default\": false\n    },\n    linkSource: {\n      \"default\": 'source'\n    },\n    linkTarget: {\n      \"default\": 'target'\n    },\n    linkVisibility: {\n      \"default\": true\n    },\n    linkColor: {\n      \"default\": 'color'\n    },\n    linkAutoColorBy: {},\n    linkOpacity: {\n      \"default\": 0.2\n    },\n    linkWidth: {},\n    // Rounded to nearest decimal. For falsy values use dimensionless line with 1px regardless of distance.\n    linkResolution: {\n      \"default\": 6\n    },\n    // how many radial segments in each line tube's geometry\n    linkCurvature: {\n      \"default\": 0,\n      triggerUpdate: false\n    },\n    // line curvature radius (0: straight, 1: semi-circle)\n    linkCurveRotation: {\n      \"default\": 0,\n      triggerUpdate: false\n    },\n    // line curve rotation along the line axis (0: interection with XY plane, PI: upside down)\n    linkMaterial: {},\n    linkThreeObject: {},\n    linkThreeObjectExtend: {\n      \"default\": false\n    },\n    linkPositionUpdate: {\n      triggerUpdate: false\n    },\n    // custom function to call for updating the link's position. Signature: (threeObj, { start: { x, y, z},  end: { x, y, z }}, link). If the function returns a truthy value, the regular link position update will not run.\n    linkDirectionalArrowLength: {\n      \"default\": 0\n    },\n    linkDirectionalArrowColor: {},\n    linkDirectionalArrowRelPos: {\n      \"default\": 0.5,\n      triggerUpdate: false\n    },\n    // value between 0<>1 indicating the relative pos along the (exposed) line\n    linkDirectionalArrowResolution: {\n      \"default\": 8\n    },\n    // how many slice segments in the arrow's conic circumference\n    linkDirectionalParticles: {\n      \"default\": 0\n    },\n    // animate photons travelling in the link direction\n    linkDirectionalParticleSpeed: {\n      \"default\": 0.01,\n      triggerUpdate: false\n    },\n    // in link length ratio per frame\n    linkDirectionalParticleWidth: {\n      \"default\": 0.5\n    },\n    linkDirectionalParticleColor: {},\n    linkDirectionalParticleResolution: {\n      \"default\": 4\n    },\n    // how many slice segments in the particle sphere's circumference\n    forceEngine: {\n      \"default\": 'd3'\n    },\n    // d3 or ngraph\n    d3AlphaMin: {\n      \"default\": 0,\n      triggerUpdate: false\n    },\n    d3AlphaDecay: {\n      \"default\": 0.0228,\n      triggerUpdate: false,\n      onChange: function onChange(alphaDecay, state) {\n        state.d3ForceLayout.alphaDecay(alphaDecay);\n      }\n    },\n    d3AlphaTarget: {\n      \"default\": 0,\n      triggerUpdate: false,\n      onChange: function onChange(alphaTarget, state) {\n        state.d3ForceLayout.alphaTarget(alphaTarget);\n      }\n    },\n    d3VelocityDecay: {\n      \"default\": 0.4,\n      triggerUpdate: false,\n      onChange: function onChange(velocityDecay, state) {\n        state.d3ForceLayout.velocityDecay(velocityDecay);\n      }\n    },\n    warmupTicks: {\n      \"default\": 0,\n      triggerUpdate: false\n    },\n    // how many times to tick the force engine at init before starting to render\n    cooldownTicks: {\n      \"default\": Infinity,\n      triggerUpdate: false\n    },\n    cooldownTime: {\n      \"default\": 15000,\n      triggerUpdate: false\n    },\n    // ms\n    onLoading: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onFinishLoading: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onUpdate: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onFinishUpdate: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onEngineTick: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    },\n    onEngineStop: {\n      \"default\": function _default() {},\n      triggerUpdate: false\n    }\n  },\n  methods: {\n    refresh: function refresh(state) {\n      state._flushObjects = true;\n\n      state._rerender();\n\n      return this;\n    },\n    // Expose d3 forces for external manipulation\n    d3Force: function d3Force(state, forceName, forceFn) {\n      if (forceFn === undefined) {\n        return state.d3ForceLayout.force(forceName); // Force getter\n      }\n\n      state.d3ForceLayout.force(forceName, forceFn); // Force setter\n\n      return this;\n    },\n    d3ReheatSimulation: function d3ReheatSimulation(state) {\n      state.d3ForceLayout.alpha(1);\n      this.resetCountdown();\n      return this;\n    },\n    // reset cooldown state\n    resetCountdown: function resetCountdown(state) {\n      state.cntTicks = 0;\n      state.startTickTime = new Date();\n      state.engineRunning = true;\n      return this;\n    },\n    tickFrame: function tickFrame(state) {\n      var isD3Sim = state.forceEngine !== 'ngraph';\n\n      if (state.engineRunning) {\n        layoutTick();\n      }\n\n      updateArrows();\n      updatePhotons();\n      return this; //\n\n      function layoutTick() {\n        if (++state.cntTicks > state.cooldownTicks || new Date() - state.startTickTime > state.cooldownTime || isD3Sim && state.d3AlphaMin > 0 && state.d3ForceLayout.alpha() < state.d3AlphaMin) {\n          state.engineRunning = false; // Stop ticking graph\n\n          state.onEngineStop();\n        } else {\n          state.layout[isD3Sim ? 'tick' : 'step'](); // Tick it\n\n          state.onEngineTick();\n        } // Update nodes position\n\n\n        state.graphData.nodes.forEach(function (node) {\n          var obj = node.__threeObj;\n          if (!obj) return;\n          var pos = isD3Sim ? node : state.layout.getNodePosition(node[state.nodeId]);\n          obj.position.x = pos.x;\n          obj.position.y = pos.y || 0;\n          obj.position.z = pos.z || 0;\n        }); // Update links position\n\n        var linkWidthAccessor = accessorFn(state.linkWidth);\n        var linkCurvatureAccessor = accessorFn(state.linkCurvature);\n        var linkCurveRotationAccessor = accessorFn(state.linkCurveRotation);\n        var linkThreeObjectExtendAccessor = accessorFn(state.linkThreeObjectExtend);\n        state.graphData.links.forEach(function (link) {\n          var lineObj = link.__lineObj;\n          if (!lineObj) return;\n          var pos = isD3Sim ? link : state.layout.getLinkPosition(state.layout.graph.getLink(link.source, link.target).id);\n          var start = pos[isD3Sim ? 'source' : 'from'];\n          var end = pos[isD3Sim ? 'target' : 'to'];\n          if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n          calcLinkCurve(link); // calculate link curve for all links, including custom replaced, so it can be used in directional functionality\n\n          var extendedObj = linkThreeObjectExtendAccessor(link);\n\n          if (state.linkPositionUpdate && state.linkPositionUpdate(extendedObj ? lineObj.children[1] : lineObj, // pass child custom object if extending the default\n          {\n            start: {\n              x: start.x,\n              y: start.y,\n              z: start.z\n            },\n            end: {\n              x: end.x,\n              y: end.y,\n              z: end.z\n            }\n          }, link) && !extendedObj) {\n            // exit if successfully custom updated position of non-extended obj\n            return;\n          }\n\n          var curveResolution = 30; // # line segments\n\n          var curve = link.__curve; // select default line obj if it's an extended group\n\n          var line = lineObj.children.length ? lineObj.children[0] : lineObj;\n\n          if (line.type === 'Line') {\n            // Update line geometry\n            if (!curve) {\n              // straight line\n              var linePos = line.geometry.getAttribute('position');\n\n              if (!linePos || !linePos.array || linePos.array.length !== 6) {\n                line.geometry[setAttributeFn]('position', linePos = new three.BufferAttribute(new Float32Array(2 * 3), 3));\n              }\n\n              linePos.array[0] = start.x;\n              linePos.array[1] = start.y || 0;\n              linePos.array[2] = start.z || 0;\n              linePos.array[3] = end.x;\n              linePos.array[4] = end.y || 0;\n              linePos.array[5] = end.z || 0;\n              linePos.needsUpdate = true;\n            } else {\n              // bezier curve line\n              line.geometry.setFromPoints(curve.getPoints(curveResolution));\n            }\n\n            line.geometry.computeBoundingSphere();\n          } else if (line.type === 'Mesh') {\n            // Update cylinder geometry\n            if (!curve) {\n              // straight tube\n              if (line.geometry.type !== 'CylinderBufferGeometry') {\n                var linkWidth = Math.ceil(linkWidthAccessor(link) * 10) / 10;\n                var r = linkWidth / 2;\n                var geometry = new three.CylinderBufferGeometry(r, r, 1, state.linkResolution, 1, false);\n                geometry[applyMatrix4Fn](new three.Matrix4().makeTranslation(0, 1 / 2, 0));\n                geometry[applyMatrix4Fn](new three.Matrix4().makeRotationX(Math.PI / 2));\n                line.geometry.dispose();\n                line.geometry = geometry;\n              }\n\n              var vStart = new three.Vector3(start.x, start.y || 0, start.z || 0);\n              var vEnd = new three.Vector3(end.x, end.y || 0, end.z || 0);\n              var distance = vStart.distanceTo(vEnd);\n              line.position.x = vStart.x;\n              line.position.y = vStart.y;\n              line.position.z = vStart.z;\n              line.scale.z = distance;\n              line.parent.localToWorld(vEnd); // lookAt requires world coords\n\n              line.lookAt(vEnd);\n            } else {\n              // curved tube\n              if (line.geometry.type !== 'TubeBufferGeometry') {\n                // reset object positioning\n                line.position.set(0, 0, 0);\n                line.rotation.set(0, 0, 0);\n                line.scale.set(1, 1, 1);\n              }\n\n              var _linkWidth = Math.ceil(linkWidthAccessor(link) * 10) / 10;\n\n              var _r = _linkWidth / 2;\n\n              var _geometry = new three.TubeBufferGeometry(curve, curveResolution, _r, state.linkResolution, false);\n\n              line.geometry.dispose();\n              line.geometry = _geometry;\n            }\n          }\n        }); //\n\n        function calcLinkCurve(link) {\n          var pos = isD3Sim ? link : state.layout.getLinkPosition(state.layout.graph.getLink(link.source, link.target).id);\n          var start = pos[isD3Sim ? 'source' : 'from'];\n          var end = pos[isD3Sim ? 'target' : 'to'];\n          if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n          var curvature = linkCurvatureAccessor(link);\n\n          if (!curvature) {\n            link.__curve = null; // Straight line\n          } else {\n            // bezier curve line (only for line types)\n            var vStart = new three.Vector3(start.x, start.y || 0, start.z || 0);\n            var vEnd = new three.Vector3(end.x, end.y || 0, end.z || 0);\n            var l = vStart.distanceTo(vEnd); // line length\n\n            var curve;\n            var curveRotation = linkCurveRotationAccessor(link);\n\n            if (l > 0) {\n              var dx = end.x - start.x;\n              var dy = end.y - start.y || 0;\n              var vLine = new three.Vector3().subVectors(vEnd, vStart);\n              var cp = vLine.clone().multiplyScalar(curvature).cross(dx !== 0 || dy !== 0 ? new three.Vector3(0, 0, 1) : new three.Vector3(0, 1, 0)) // avoid cross-product of parallel vectors (prefer Z, fallback to Y)\n              .applyAxisAngle(vLine.normalize(), curveRotation) // rotate along line axis according to linkCurveRotation\n              .add(new three.Vector3().addVectors(vStart, vEnd).divideScalar(2));\n              curve = new three.QuadraticBezierCurve3(vStart, cp, vEnd);\n            } else {\n              // Same point, draw a loop\n              var d = curvature * 70;\n              var endAngle = -curveRotation; // Rotate clockwise (from Z angle perspective)\n\n              var startAngle = endAngle + Math.PI / 2;\n              curve = new three.CubicBezierCurve3(vStart, new three.Vector3(d * Math.cos(startAngle), d * Math.sin(startAngle), 0).add(vStart), new three.Vector3(d * Math.cos(endAngle), d * Math.sin(endAngle), 0).add(vStart), vEnd);\n            }\n\n            link.__curve = curve;\n          }\n        }\n      }\n\n      function updateArrows() {\n        // update link arrow position\n        var arrowRelPosAccessor = accessorFn(state.linkDirectionalArrowRelPos);\n        var arrowLengthAccessor = accessorFn(state.linkDirectionalArrowLength);\n        var nodeValAccessor = accessorFn(state.nodeVal);\n        state.graphData.links.forEach(function (link) {\n          var arrowObj = link.__arrowObj;\n          if (!arrowObj) return;\n          var pos = isD3Sim ? link : state.layout.getLinkPosition(state.layout.graph.getLink(link.source, link.target).id);\n          var start = pos[isD3Sim ? 'source' : 'from'];\n          var end = pos[isD3Sim ? 'target' : 'to'];\n          if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n          var startR = Math.sqrt(Math.max(0, nodeValAccessor(start) || 1)) * state.nodeRelSize;\n          var endR = Math.sqrt(Math.max(0, nodeValAccessor(end) || 1)) * state.nodeRelSize;\n          var arrowLength = arrowLengthAccessor(link);\n          var arrowRelPos = arrowRelPosAccessor(link);\n          var getPosAlongLine = link.__curve ? function (t) {\n            return link.__curve.getPoint(t);\n          } // interpolate along bezier curve\n          : function (t) {\n            // straight line: interpolate linearly\n            var iplt = function iplt(dim, start, end, t) {\n              return start[dim] + (end[dim] - start[dim]) * t || 0;\n            };\n\n            return {\n              x: iplt('x', start, end, t),\n              y: iplt('y', start, end, t),\n              z: iplt('z', start, end, t)\n            };\n          };\n          var lineLen = link.__curve ? link.__curve.getLength() : Math.sqrt(['x', 'y', 'z'].map(function (dim) {\n            return Math.pow((end[dim] || 0) - (start[dim] || 0), 2);\n          }).reduce(function (acc, v) {\n            return acc + v;\n          }, 0));\n          var posAlongLine = startR + arrowLength + (lineLen - startR - endR - arrowLength) * arrowRelPos;\n          var arrowHead = getPosAlongLine(posAlongLine / lineLen);\n          var arrowTail = getPosAlongLine((posAlongLine - arrowLength) / lineLen);\n          ['x', 'y', 'z'].forEach(function (dim) {\n            return arrowObj.position[dim] = arrowTail[dim];\n          });\n\n          var headVec = _construct(three.Vector3, _toConsumableArray(['x', 'y', 'z'].map(function (c) {\n            return arrowHead[c];\n          })));\n\n          arrowObj.parent.localToWorld(headVec); // lookAt requires world coords\n\n          arrowObj.lookAt(headVec);\n        });\n      }\n\n      function updatePhotons() {\n        // update link particle positions\n        var particleSpeedAccessor = accessorFn(state.linkDirectionalParticleSpeed);\n        state.graphData.links.forEach(function (link) {\n          var cyclePhotons = link.__photonsObj && link.__photonsObj.children;\n          var singleHopPhotons = link.__singleHopPhotonsObj && link.__singleHopPhotonsObj.children;\n          if ((!singleHopPhotons || !singleHopPhotons.length) && (!cyclePhotons || !cyclePhotons.length)) return;\n          var pos = isD3Sim ? link : state.layout.getLinkPosition(state.layout.graph.getLink(link.source, link.target).id);\n          var start = pos[isD3Sim ? 'source' : 'from'];\n          var end = pos[isD3Sim ? 'target' : 'to'];\n          if (!start || !end || !start.hasOwnProperty('x') || !end.hasOwnProperty('x')) return; // skip invalid link\n\n          var particleSpeed = particleSpeedAccessor(link);\n          var getPhotonPos = link.__curve ? function (t) {\n            return link.__curve.getPoint(t);\n          } // interpolate along bezier curve\n          : function (t) {\n            // straight line: interpolate linearly\n            var iplt = function iplt(dim, start, end, t) {\n              return start[dim] + (end[dim] - start[dim]) * t || 0;\n            };\n\n            return {\n              x: iplt('x', start, end, t),\n              y: iplt('y', start, end, t),\n              z: iplt('z', start, end, t)\n            };\n          };\n          var photons = [].concat(_toConsumableArray(cyclePhotons || []), _toConsumableArray(singleHopPhotons || []));\n          photons.forEach(function (photon, idx) {\n            var singleHop = photon.parent.__linkThreeObjType === 'singleHopPhotons';\n\n            if (!photon.hasOwnProperty('__progressRatio')) {\n              photon.__progressRatio = singleHop ? 0 : idx / cyclePhotons.length;\n            }\n\n            photon.__progressRatio += particleSpeed;\n\n            if (photon.__progressRatio >= 1) {\n              if (!singleHop) {\n                photon.__progressRatio = photon.__progressRatio % 1;\n              } else {\n                // remove particle\n                photon.parent.remove(photon);\n                emptyObject(photon);\n                return;\n              }\n            }\n\n            var photonPosRatio = photon.__progressRatio;\n            var pos = getPhotonPos(photonPosRatio);\n            ['x', 'y', 'z'].forEach(function (dim) {\n              return photon.position[dim] = pos[dim];\n            });\n          });\n        });\n      }\n    },\n    emitParticle: function emitParticle(state, link) {\n      if (link) {\n        if (!link.__singleHopPhotonsObj) {\n          var obj = new three.Group();\n          obj.__linkThreeObjType = 'singleHopPhotons';\n          link.__singleHopPhotonsObj = obj;\n          state.graphScene.add(obj);\n        }\n\n        var particleWidthAccessor = accessorFn(state.linkDirectionalParticleWidth);\n        var photonR = Math.ceil(particleWidthAccessor(link) * 10) / 10 / 2;\n        var numSegments = state.linkDirectionalParticleResolution;\n        var particleGeometry = new three.SphereBufferGeometry(photonR, numSegments, numSegments);\n        var linkColorAccessor = accessorFn(state.linkColor);\n        var particleColorAccessor = accessorFn(state.linkDirectionalParticleColor);\n        var photonColor = particleColorAccessor(link) || linkColorAccessor(link) || '#f0f0f0';\n        var materialColor = new three.Color(colorStr2Hex(photonColor));\n        var opacity = state.linkOpacity * 3;\n        var particleMaterial = new three.MeshLambertMaterial({\n          color: materialColor,\n          transparent: true,\n          opacity: opacity\n        }); // add a single hop particle\n\n        link.__singleHopPhotonsObj.add(new three.Mesh(particleGeometry, particleMaterial));\n      }\n\n      return this;\n    }\n  },\n  stateInit: function stateInit() {\n    return {\n      d3ForceLayout: forceSimulation().force('link', forceLink()).force('charge', forceManyBody()).force('center', forceCenter()).force('dagRadial', null).stop(),\n      engineRunning: false\n    };\n  },\n  init: function init(threeObj, state) {\n    // Main three object to manipulate\n    state.graphScene = threeObj;\n  },\n  update: function update(state, changedProps) {\n    var hasAnyPropChanged = function hasAnyPropChanged(propList) {\n      return propList.some(function (p) {\n        return changedProps.hasOwnProperty(p);\n      });\n    };\n\n    state.engineRunning = false; // pause simulation\n\n    state.onUpdate();\n\n    if (state.nodeAutoColorBy !== null && hasAnyPropChanged(['nodeAutoColorBy', 'graphData', 'nodeColor'])) {\n      // Auto add color to uncolored nodes\n      autoColorObjects(state.graphData.nodes, accessorFn(state.nodeAutoColorBy), state.nodeColor);\n    }\n\n    if (state.linkAutoColorBy !== null && hasAnyPropChanged(['linkAutoColorBy', 'graphData', 'linkColor'])) {\n      // Auto add color to uncolored links\n      autoColorObjects(state.graphData.links, accessorFn(state.linkAutoColorBy), state.linkColor);\n    } // Digest nodes WebGL objects\n\n\n    if (state._flushObjects || hasAnyPropChanged(['graphData', 'nodeThreeObject', 'nodeThreeObjectExtend', 'nodeVal', 'nodeColor', 'nodeVisibility', 'nodeRelSize', 'nodeResolution', 'nodeOpacity'])) {\n      var customObjectAccessor = accessorFn(state.nodeThreeObject);\n      var customObjectExtendAccessor = accessorFn(state.nodeThreeObjectExtend);\n      var valAccessor = accessorFn(state.nodeVal);\n      var colorAccessor = accessorFn(state.nodeColor);\n      var visibilityAccessor = accessorFn(state.nodeVisibility);\n      var sphereGeometries = {}; // indexed by node value\n\n      var sphereMaterials = {}; // indexed by color\n\n      threeDigest(state.graphData.nodes.filter(visibilityAccessor), state.graphScene, {\n        purge: state._flushObjects || hasAnyPropChanged([// recreate objects if any of these props have changed\n        'nodeThreeObject', 'nodeThreeObjectExtend']),\n        objFilter: function objFilter(obj) {\n          return obj.__graphObjType === 'node';\n        },\n        createObj: function createObj(node) {\n          var customObj = customObjectAccessor(node);\n          var extendObj = customObjectExtendAccessor(node);\n\n          if (customObj && state.nodeThreeObject === customObj) {\n            // clone object if it's a shared object among all nodes\n            customObj = customObj.clone();\n          }\n\n          var obj;\n\n          if (customObj && !extendObj) {\n            obj = customObj;\n          } else {\n            // Add default object (sphere mesh)\n            obj = new three.Mesh();\n            obj.__graphDefaultObj = true;\n\n            if (customObj && extendObj) {\n              obj.add(customObj); // extend default with custom\n            }\n          }\n\n          obj.__graphObjType = 'node'; // Add object type\n\n          return obj;\n        },\n        updateObj: function updateObj(obj, node) {\n          if (obj.__graphDefaultObj) {\n            // bypass internal updates for custom node objects\n            var val = valAccessor(node) || 1;\n            var radius = Math.cbrt(val) * state.nodeRelSize;\n            var numSegments = state.nodeResolution;\n\n            if (obj.geometry.type !== 'SphereBufferGeometry' || obj.geometry.parameters.radius !== radius || obj.geometry.parameters.widthSegments !== numSegments) {\n              if (!sphereGeometries.hasOwnProperty(val)) {\n                sphereGeometries[val] = new three.SphereBufferGeometry(radius, numSegments, numSegments);\n              }\n\n              obj.geometry.dispose();\n              obj.geometry = sphereGeometries[val];\n            }\n\n            var color = colorAccessor(node);\n            var materialColor = new three.Color(colorStr2Hex(color || '#ffffaa'));\n            var opacity = state.nodeOpacity * colorAlpha(color);\n\n            if (obj.material.type !== 'MeshLambertMaterial' || !obj.material.color.equals(materialColor) || obj.material.opacity !== opacity) {\n              if (!sphereMaterials.hasOwnProperty(color)) {\n                sphereMaterials[color] = new three.MeshLambertMaterial({\n                  color: materialColor,\n                  transparent: true,\n                  opacity: opacity\n                });\n              }\n\n              obj.material.dispose();\n              obj.material = sphereMaterials[color];\n            }\n          }\n        }\n      });\n    } // Digest links WebGL objects\n\n\n    if (state._flushObjects || hasAnyPropChanged(['graphData', 'linkThreeObject', 'linkThreeObjectExtend', 'linkMaterial', 'linkColor', 'linkWidth', 'linkVisibility', 'linkResolution', 'linkOpacity', 'linkDirectionalArrowLength', 'linkDirectionalArrowColor', 'linkDirectionalArrowResolution', 'linkDirectionalParticles', 'linkDirectionalParticleWidth', 'linkDirectionalParticleColor', 'linkDirectionalParticleResolution'])) {\n      var _customObjectAccessor = accessorFn(state.linkThreeObject);\n\n      var _customObjectExtendAccessor = accessorFn(state.linkThreeObjectExtend);\n\n      var customMaterialAccessor = accessorFn(state.linkMaterial);\n\n      var _visibilityAccessor = accessorFn(state.linkVisibility);\n\n      var _colorAccessor = accessorFn(state.linkColor);\n\n      var widthAccessor = accessorFn(state.linkWidth);\n      var lineMaterials = {}; // indexed by link color\n\n      var cylinderGeometries = {}; // indexed by link width\n\n      var visibleLinks = state.graphData.links.filter(_visibilityAccessor); // lines digest cycle\n\n      threeDigest(visibleLinks, state.graphScene, {\n        objBindAttr: '__lineObj',\n        purge: state._flushObjects || hasAnyPropChanged([// recreate objects if any of these props have changed\n        'linkThreeObject', 'linkThreeObjectExtend', 'linkWidth']),\n        objFilter: function objFilter(obj) {\n          return obj.__graphObjType === 'link';\n        },\n        createObj: function createObj(link) {\n          var customObj = _customObjectAccessor(link);\n\n          var extendObj = _customObjectExtendAccessor(link);\n\n          if (customObj && state.linkThreeObject === customObj) {\n            // clone object if it's a shared object among all links\n            customObj = customObj.clone();\n          }\n\n          var defaultObj;\n\n          if (!customObj || extendObj) {\n            // construct default line obj\n            var useCylinder = !!widthAccessor(link);\n\n            if (useCylinder) {\n              defaultObj = new three.Mesh();\n            } else {\n              // Use plain line (constant width)\n              var lineGeometry = new three.BufferGeometry();\n              lineGeometry[setAttributeFn]('position', new three.BufferAttribute(new Float32Array(2 * 3), 3));\n              defaultObj = new three.Line(lineGeometry);\n            }\n          }\n\n          var obj;\n\n          if (!customObj) {\n            obj = defaultObj;\n            obj.__graphDefaultObj = true;\n          } else {\n            if (!extendObj) {\n              // use custom object\n              obj = customObj;\n            } else {\n              // extend default with custom in a group\n              obj = new three.Group();\n              obj.__graphDefaultObj = true;\n              obj.add(defaultObj);\n              obj.add(customObj);\n            }\n          }\n\n          obj.renderOrder = 10; // Prevent visual glitches of dark lines on top of nodes by rendering them last\n\n          obj.__graphObjType = 'link'; // Add object type\n\n          return obj;\n        },\n        updateObj: function updateObj(updObj, link) {\n          if (updObj.__graphDefaultObj) {\n            // bypass internal updates for custom link objects\n            // select default object if it's an extended group\n            var obj = updObj.children.length ? updObj.children[0] : updObj;\n            var linkWidth = Math.ceil(widthAccessor(link) * 10) / 10;\n            var useCylinder = !!linkWidth;\n\n            if (useCylinder) {\n              var r = linkWidth / 2;\n              var numSegments = state.linkResolution;\n\n              if (obj.geometry.type !== 'CylinderBufferGeometry' || obj.geometry.parameters.radiusTop !== r || obj.geometry.parameters.radialSegments !== numSegments) {\n                if (!cylinderGeometries.hasOwnProperty(linkWidth)) {\n                  var geometry = new three.CylinderBufferGeometry(r, r, 1, numSegments, 1, false);\n                  geometry[applyMatrix4Fn](new three.Matrix4().makeTranslation(0, 1 / 2, 0));\n                  geometry[applyMatrix4Fn](new three.Matrix4().makeRotationX(Math.PI / 2));\n                  cylinderGeometries[linkWidth] = geometry;\n                }\n\n                obj.geometry.dispose();\n                obj.geometry = cylinderGeometries[linkWidth];\n              }\n            }\n\n            var customMaterial = customMaterialAccessor(link);\n\n            if (customMaterial) {\n              obj.material = customMaterial;\n            } else {\n              var color = _colorAccessor(link);\n\n              var materialColor = new three.Color(colorStr2Hex(color || '#f0f0f0'));\n              var opacity = state.linkOpacity * colorAlpha(color);\n\n              if (obj.material.type !== 'MeshLambertMaterial' || !obj.material.color.equals(materialColor) || obj.material.opacity !== opacity) {\n                if (!lineMaterials.hasOwnProperty(color)) {\n                  lineMaterials[color] = new three.MeshLambertMaterial({\n                    color: materialColor,\n                    transparent: opacity < 1,\n                    opacity: opacity,\n                    depthWrite: opacity >= 1 // Prevent transparency issues\n\n                  });\n                }\n\n                obj.material.dispose();\n                obj.material = lineMaterials[color];\n              }\n            }\n          }\n        }\n      }); // Arrows digest cycle\n\n      if (state.linkDirectionalArrowLength || changedProps.hasOwnProperty('linkDirectionalArrowLength')) {\n        var arrowLengthAccessor = accessorFn(state.linkDirectionalArrowLength);\n        var arrowColorAccessor = accessorFn(state.linkDirectionalArrowColor);\n        threeDigest(visibleLinks.filter(arrowLengthAccessor), state.graphScene, {\n          objBindAttr: '__arrowObj',\n          objFilter: function objFilter(obj) {\n            return obj.__linkThreeObjType === 'arrow';\n          },\n          createObj: function createObj() {\n            var obj = new three.Mesh(undefined, new three.MeshLambertMaterial({\n              transparent: true\n            }));\n            obj.__linkThreeObjType = 'arrow'; // Add object type\n\n            return obj;\n          },\n          updateObj: function updateObj(obj, link) {\n            var arrowLength = arrowLengthAccessor(link);\n            var numSegments = state.linkDirectionalArrowResolution;\n\n            if (obj.geometry.type !== 'ConeBufferGeometry' || obj.geometry.parameters.height !== arrowLength || obj.geometry.parameters.radialSegments !== numSegments) {\n              var coneGeometry = new three.ConeBufferGeometry(arrowLength * 0.25, arrowLength, numSegments); // Correct orientation\n\n              coneGeometry.translate(0, arrowLength / 2, 0);\n              coneGeometry.rotateX(Math.PI / 2);\n              obj.geometry.dispose();\n              obj.geometry = coneGeometry;\n            }\n\n            obj.material.color = new three.Color(arrowColorAccessor(link) || _colorAccessor(link) || '#f0f0f0');\n            obj.material.opacity = state.linkOpacity * 3;\n          }\n        });\n      } // Photon particles digest cycle\n\n\n      if (state.linkDirectionalParticles || changedProps.hasOwnProperty('linkDirectionalParticles')) {\n        var particlesAccessor = accessorFn(state.linkDirectionalParticles);\n        var particleWidthAccessor = accessorFn(state.linkDirectionalParticleWidth);\n        var particleColorAccessor = accessorFn(state.linkDirectionalParticleColor);\n        var particleMaterials = {}; // indexed by link color\n\n        var particleGeometries = {}; // indexed by particle width\n\n        threeDigest(visibleLinks.filter(particlesAccessor), state.graphScene, {\n          objBindAttr: '__photonsObj',\n          objFilter: function objFilter(obj) {\n            return obj.__linkThreeObjType === 'photons';\n          },\n          createObj: function createObj() {\n            var obj = new three.Group();\n            obj.__linkThreeObjType = 'photons'; // Add object type\n\n            return obj;\n          },\n          updateObj: function updateObj(obj, link) {\n            var numPhotons = Math.round(Math.abs(particlesAccessor(link)));\n            var curPhoton = !!obj.children.length && obj.children[0];\n            var photonR = Math.ceil(particleWidthAccessor(link) * 10) / 10 / 2;\n            var numSegments = state.linkDirectionalParticleResolution;\n            var particleGeometry;\n\n            if (curPhoton && curPhoton.geometry.parameters.radius === photonR && curPhoton.geometry.parameters.widthSegments === numSegments) {\n              particleGeometry = curPhoton.geometry;\n            } else {\n              if (!particleGeometries.hasOwnProperty(photonR)) {\n                particleGeometries[photonR] = new three.SphereBufferGeometry(photonR, numSegments, numSegments);\n              }\n\n              particleGeometry = particleGeometries[photonR];\n              curPhoton && curPhoton.geometry.dispose();\n            }\n\n            var photonColor = particleColorAccessor(link) || _colorAccessor(link) || '#f0f0f0';\n            var materialColor = new three.Color(colorStr2Hex(photonColor));\n            var opacity = state.linkOpacity * 3;\n            var particleMaterial;\n\n            if (curPhoton && curPhoton.material.color.equals(materialColor) && curPhoton.material.opacity === opacity) {\n              particleMaterial = curPhoton.material;\n            } else {\n              if (!particleMaterials.hasOwnProperty(photonColor)) {\n                particleMaterials[photonColor] = new three.MeshLambertMaterial({\n                  color: materialColor,\n                  transparent: true,\n                  opacity: opacity\n                });\n              }\n\n              particleMaterial = particleMaterials[photonColor];\n              curPhoton && curPhoton.material.dispose();\n            } // digest cycle for each photon\n\n\n            threeDigest(_toConsumableArray(new Array(numPhotons)).map(function (_, idx) {\n              return {\n                idx: idx\n              };\n            }), obj, {\n              idAccessor: function idAccessor(d) {\n                return d.idx;\n              },\n              createObj: function createObj() {\n                return new three.Mesh(particleGeometry, particleMaterial);\n              },\n              updateObj: function updateObj(obj) {\n                obj.geometry = particleGeometry;\n                obj.material = particleMaterial;\n              }\n            });\n          }\n        });\n      }\n    }\n\n    state._flushObjects = false; // reset objects refresh flag\n    // simulation engine\n\n    if (hasAnyPropChanged(['graphData', 'nodeId', 'linkSource', 'linkTarget', 'numDimensions', 'forceEngine', 'dagMode', 'dagLevelDistance'])) {\n      state.engineRunning = false; // Pause simulation\n      // parse links\n\n      state.graphData.links.forEach(function (link) {\n        link.source = link[state.linkSource];\n        link.target = link[state.linkTarget];\n      }); // Feed data to force-directed layout\n\n      var isD3Sim = state.forceEngine !== 'ngraph';\n      var layout;\n\n      if (isD3Sim) {\n        // D3-force\n        (layout = state.d3ForceLayout).stop().alpha(1) // re-heat the simulation\n        .numDimensions(state.numDimensions).nodes(state.graphData.nodes); // add links (if link force is still active)\n\n        var linkForce = state.d3ForceLayout.force('link');\n\n        if (linkForce) {\n          linkForce.id(function (d) {\n            return d[state.nodeId];\n          }).links(state.graphData.links);\n        } // setup dag force constraints\n\n\n        var nodeDepths = state.dagMode && getDagDepths(state.graphData, function (node) {\n          return node[state.nodeId];\n        });\n        var maxDepth = Math.max.apply(Math, _toConsumableArray(Object.values(nodeDepths || [])));\n        var dagLevelDistance = state.dagLevelDistance || state.graphData.nodes.length / (maxDepth || 1) * DAG_LEVEL_NODE_RATIO * (['radialin', 'radialout'].indexOf(state.dagMode) !== -1 ? 0.7 : 1); // Fix nodes to x,y,z for dag mode\n\n        if (state.dagMode) {\n          var getFFn = function getFFn(fix, invert) {\n            return function (node) {\n              return !fix ? undefined : (nodeDepths[node[state.nodeId]] - maxDepth / 2) * dagLevelDistance * (invert ? -1 : 1);\n            };\n          };\n\n          var fxFn = getFFn(['lr', 'rl'].indexOf(state.dagMode) !== -1, state.dagMode === 'rl');\n          var fyFn = getFFn(['td', 'bu'].indexOf(state.dagMode) !== -1, state.dagMode === 'td');\n          var fzFn = getFFn(['zin', 'zout'].indexOf(state.dagMode) !== -1, state.dagMode === 'zout');\n          state.graphData.nodes.forEach(function (node) {\n            node.fx = fxFn(node);\n            node.fy = fyFn(node);\n            node.fz = fzFn(node);\n          });\n        } // Use radial force for radial dags\n\n\n        state.d3ForceLayout.force('dagRadial', ['radialin', 'radialout'].indexOf(state.dagMode) !== -1 ? forceRadial(function (node) {\n          var nodeDepth = nodeDepths[node[state.nodeId]];\n          return (state.dagMode === 'radialin' ? maxDepth - nodeDepth : nodeDepth) * dagLevelDistance;\n        }).strength(1) : null);\n      } else {\n        // ngraph\n        var _graph = ngraph.graph();\n\n        state.graphData.nodes.forEach(function (node) {\n          _graph.addNode(node[state.nodeId]);\n        });\n        state.graphData.links.forEach(function (link) {\n          _graph.addLink(link.source, link.target);\n        });\n        layout = ngraph['forcelayout' + (state.numDimensions === 2 ? '' : '3d')](_graph);\n        layout.graph = _graph; // Attach graph reference to layout\n      }\n\n      for (var i = 0; i < state.warmupTicks && !(isD3Sim && state.d3AlphaMin > 0 && state.d3ForceLayout.alpha() < state.d3AlphaMin); i++) {\n        layout[isD3Sim ? \"tick\" : \"step\"]();\n      } // Initial ticks before starting to render\n\n\n      state.layout = layout;\n      this.resetCountdown();\n    }\n\n    state.engineRunning = true; // resume simulation\n\n    state.onFinishUpdate();\n  }\n});\n\nfunction fromKapsule(kapsule) {\n  var baseClass = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Object;\n  var initKapsuleWithSelf = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var FromKapsule = /*#__PURE__*/function (_baseClass) {\n    _inherits(FromKapsule, _baseClass);\n\n    var _super = _createSuper(FromKapsule);\n\n    function FromKapsule() {\n      var _this;\n\n      _classCallCheck(this, FromKapsule);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _super.call.apply(_super, [this].concat(args));\n      _this.__kapsuleInstance = kapsule().apply(void 0, [].concat(_toConsumableArray(initKapsuleWithSelf ? [_assertThisInitialized(_this)] : []), args));\n      return _this;\n    }\n\n    return FromKapsule;\n  }(baseClass); // attach kapsule props/methods to class prototype\n\n\n  Object.keys(kapsule()).forEach(function (m) {\n    return FromKapsule.prototype[m] = function () {\n      var _this$__kapsuleInstan;\n\n      var returnVal = (_this$__kapsuleInstan = this.__kapsuleInstance)[m].apply(_this$__kapsuleInstan, arguments);\n\n      return returnVal === this.__kapsuleInstance ? this // chain based on this class, not the kapsule obj\n      : returnVal;\n    };\n  });\n  return FromKapsule;\n}\n\nvar three$1 = window.THREE ? window.THREE : {\n  Group: Group\n}; // Prefer consumption from global THREE, if exists\n\nvar threeForcegraph = fromKapsule(ForceGraph, three$1.Group, true);\nexport default threeForcegraph;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport all from 'prop-types-extra/lib/all';\nimport React, { useContext } from 'react';\nimport warning from 'warning';\nimport Feedback from './Feedback';\nimport FormContext from './FormContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar FormControl = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      bsCustomPrefix = _ref.bsCustomPrefix,\n      type = _ref.type,\n      size = _ref.size,\n      id = _ref.id,\n      className = _ref.className,\n      isValid = _ref.isValid,\n      isInvalid = _ref.isInvalid,\n      plaintext = _ref.plaintext,\n      readOnly = _ref.readOnly,\n      custom = _ref.custom,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'input' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"bsCustomPrefix\", \"type\", \"size\", \"id\", \"className\", \"isValid\", \"isInvalid\", \"plaintext\", \"readOnly\", \"custom\", \"as\"]);\n\n  var _useContext = useContext(FormContext),\n      controlId = _useContext.controlId;\n\n  var _ref2 = custom ? [bsCustomPrefix, 'custom'] : [bsPrefix, 'form-control'],\n      prefix = _ref2[0],\n      defaultPrefix = _ref2[1];\n\n  bsPrefix = useBootstrapPrefix(prefix, defaultPrefix);\n  var classes;\n\n  if (plaintext) {\n    var _classes;\n\n    classes = (_classes = {}, _classes[bsPrefix + \"-plaintext\"] = true, _classes);\n  } else if (type === 'file') {\n    var _classes2;\n\n    classes = (_classes2 = {}, _classes2[bsPrefix + \"-file\"] = true, _classes2);\n  } else if (type === 'range') {\n    var _classes3;\n\n    classes = (_classes3 = {}, _classes3[bsPrefix + \"-range\"] = true, _classes3);\n  } else if (Component === 'select' && custom) {\n    var _classes4;\n\n    classes = (_classes4 = {}, _classes4[bsPrefix + \"-select\"] = true, _classes4[bsPrefix + \"-select-\" + size] = size, _classes4);\n  } else {\n    var _classes5;\n\n    classes = (_classes5 = {}, _classes5[bsPrefix] = true, _classes5[bsPrefix + \"-\" + size] = size, _classes5);\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(controlId == null || !id, '`controlId` is ignored on `<FormControl>` when `id` is specified.') : void 0;\n  return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n    type: type,\n    ref: ref,\n    readOnly: readOnly,\n    id: id || controlId,\n    className: classNames(className, classes, isValid && \"is-valid\", isInvalid && \"is-invalid\")\n  }));\n});\nFormControl.displayName = 'FormControl';\nFormControl.Feedback = Feedback;\nexport default FormControl;","// 20.1.2.10 Number.MIN_SAFE_INTEGER\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { MIN_SAFE_INTEGER: -0x1fffffffffffff });\n","/**\n * Flat-shaded ocean primitive.\n *\n * Based on a Codrops tutorial:\n * http://tympanus.net/codrops/2016/04/26/the-aviator-animating-basic-3d-scene-threejs/\n */\nmodule.exports.Primitive = AFRAME.registerPrimitive('a-ocean', {\n  defaultComponents: {\n    ocean: {},\n    rotation: {\n      x: -90,\n      y: 0,\n      z: 0\n    }\n  },\n  mappings: {\n    width: 'ocean.width',\n    depth: 'ocean.depth',\n    density: 'ocean.density',\n    amplitude: 'ocean.amplitude',\n    amplitudeVariance: 'ocean.amplitudeVariance',\n    speed: 'ocean.speed',\n    speedVariance: 'ocean.speedVariance',\n    color: 'ocean.color',\n    opacity: 'ocean.opacity'\n  }\n});\nmodule.exports.Component = AFRAME.registerComponent('ocean', {\n  schema: {\n    // Dimensions of the ocean area.\n    width: {\n      \"default\": 10,\n      min: 0\n    },\n    depth: {\n      \"default\": 10,\n      min: 0\n    },\n    // Density of waves.\n    density: {\n      \"default\": 10\n    },\n    // Wave amplitude and variance.\n    amplitude: {\n      \"default\": 0.1\n    },\n    amplitudeVariance: {\n      \"default\": 0.3\n    },\n    // Wave speed and variance.\n    speed: {\n      \"default\": 1\n    },\n    speedVariance: {\n      \"default\": 2\n    },\n    // Material.\n    color: {\n      \"default\": '#7AD2F7',\n      type: 'color'\n    },\n    opacity: {\n      \"default\": 0.8\n    }\n  },\n\n  /**\n   * Use play() instead of init(), because component mappings  unavailable as dependencies  are\n   * not guaranteed to have parsed when this component is initialized.\n   */\n  play: function play() {\n    var el = this.el,\n        data = this.data;\n    var material = el.components.material;\n    var geometry = new THREE.PlaneGeometry(data.width, data.depth, data.density, data.density);\n    geometry.mergeVertices();\n    this.waves = [];\n\n    for (var v, i = 0, l = geometry.vertices.length; i < l; i++) {\n      v = geometry.vertices[i];\n      this.waves.push({\n        z: v.z,\n        ang: Math.random() * Math.PI * 2,\n        amp: data.amplitude + Math.random() * data.amplitudeVariance,\n        speed: (data.speed + Math.random() * data.speedVariance) / 1000 // radians / frame\n\n      });\n    }\n\n    if (!material) {\n      material = {};\n      material.material = new THREE.MeshPhongMaterial({\n        color: data.color,\n        transparent: data.opacity < 1,\n        opacity: data.opacity,\n        shading: THREE.FlatShading\n      });\n    }\n\n    this.mesh = new THREE.Mesh(geometry, material.material);\n    el.setObject3D('mesh', this.mesh);\n  },\n  remove: function remove() {\n    this.el.removeObject3D('mesh');\n  },\n  tick: function tick(t, dt) {\n    if (!dt) return;\n    var verts = this.mesh.geometry.vertices;\n\n    for (var v, vprops, i = 0; v = verts[i]; i++) {\n      vprops = this.waves[i];\n      v.z = vprops.z + Math.sin(vprops.ang) * vprops.amp;\n      vprops.ang += vprops.speed * dt;\n    }\n\n    this.mesh.geometry.verticesNeedUpdate = true;\n  }\n});","module.exports = InsertStack;\n/**\n * Our implmentation of QuadTree is non-recursive to avoid GC hit\n * This data structure represent stack of elements\n * which we are trying to insert into quad tree.\n */\n\nfunction InsertStack() {\n  this.stack = [];\n  this.popIdx = 0;\n}\n\nInsertStack.prototype = {\n  isEmpty: function isEmpty() {\n    return this.popIdx === 0;\n  },\n  push: function push(node, body) {\n    var item = this.stack[this.popIdx];\n\n    if (!item) {\n      // we are trying to avoid memory pressue: create new element\n      // only when absolutely necessary\n      this.stack[this.popIdx] = new InsertStackElement(node, body);\n    } else {\n      item.node = node;\n      item.body = body;\n    }\n\n    ++this.popIdx;\n  },\n  pop: function pop() {\n    if (this.popIdx > 0) {\n      return this.stack[--this.popIdx];\n    }\n  },\n  reset: function reset() {\n    this.popIdx = 0;\n  }\n};\n\nfunction InsertStackElement(node, body) {\n  this.node = node; // QuadTree node\n\n  this.body = body; // physical body which needs to be inserted to node\n}","require('./animation-mixer');\n\nrequire('./collada-model-legacy');\n\nrequire('./fbx-model');\n\nrequire('./gltf-model-legacy');\n\nrequire('./object-model');","import \"core-js/modules/es7.object.entries\";\nimport \"core-js/modules/es7.object.values\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.reduce\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nvar index = function index() {\n  var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var keyAccessors = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var multiItem = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  var flattenKeys = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var keys = (keyAccessors instanceof Array ? keyAccessors.length ? keyAccessors : [undefined] : [keyAccessors]).map(function (key) {\n    return {\n      keyAccessor: key,\n      isProp: !(key instanceof Function)\n    };\n  });\n  var indexedResult = list.reduce(function (res, item) {\n    var iterObj = res;\n    var itemVal = item;\n    keys.forEach(function (_ref, idx) {\n      var keyAccessor = _ref.keyAccessor,\n          isProp = _ref.isProp;\n      var key;\n\n      if (isProp) {\n        var _itemVal = itemVal,\n            propVal = _itemVal[keyAccessor],\n            rest = _objectWithoutProperties(_itemVal, [keyAccessor].map(_toPropertyKey));\n\n        key = propVal;\n        itemVal = rest;\n      } else {\n        key = keyAccessor(itemVal, idx);\n      }\n\n      if (idx + 1 < keys.length) {\n        if (!iterObj.hasOwnProperty(key)) {\n          iterObj[key] = {};\n        }\n\n        iterObj = iterObj[key];\n      } else {\n        // Leaf key\n        if (multiItem) {\n          if (!iterObj.hasOwnProperty(key)) {\n            iterObj[key] = [];\n          }\n\n          iterObj[key].push(itemVal);\n        } else {\n          iterObj[key] = itemVal;\n        }\n      }\n    });\n    return res;\n  }, {});\n\n  if (multiItem instanceof Function) {\n    // Reduce leaf multiple values\n    (function reduce(node) {\n      var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n      if (level === keys.length) {\n        Object.keys(node).forEach(function (k) {\n          return node[k] = multiItem(node[k]);\n        });\n      } else {\n        Object.values(node).forEach(function (child) {\n          return reduce(child, level + 1);\n        });\n      }\n    })(indexedResult); // IIFE\n\n  }\n\n  var result = indexedResult;\n\n  if (flattenKeys) {\n    // flatten into array\n    result = [];\n\n    (function flatten(node) {\n      var accKeys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n      if (accKeys.length === keys.length) {\n        result.push({\n          keys: accKeys,\n          vals: node\n        });\n      } else {\n        Object.entries(node).forEach(function (_ref2) {\n          var _ref3 = _slicedToArray(_ref2, 2),\n              key = _ref3[0],\n              val = _ref3[1];\n\n          return flatten(val, [].concat(_toConsumableArray(accKeys), [key]));\n        });\n      }\n    })(indexedResult); //IIFE\n\n\n    if (keyAccessors instanceof Array && keyAccessors.length === 0 && result.length === 1) {\n      // clear keys if there's no key accessors (single result)\n      result[0].keys = [];\n    }\n  }\n\n  return result;\n};\n\nexport default index;","var _slicedToArray = require(\"/home/renato/github/renato145.github.io/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _toConsumableArray = require(\"/home/renato/github/renato145.github.io/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nrequire(\"core-js/modules/es6.array.reduce\");\n\nmodule.exports = function fromEntries(iterable) {\n  return _toConsumableArray(iterable).reduce(function (obj, _ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        key = _ref2[0],\n        val = _ref2[1];\n\n    obj[key] = val;\n    return obj;\n  }, {});\n};","require('./nav-mesh');\n\nrequire('./nav-agent');\n\nrequire('./system');","require(\"core-js/modules/es6.array.map\");\n\nTHREE.ColladaLoader = require('../../lib/ColladaLoader');\n/**\n * collada-model-legacy\n *\n * Loader for COLLADA (.dae) format.\n */\n\nmodule.exports.Component = AFRAME.registerComponent('collada-model-legacy', {\n  schema: {\n    type: 'asset'\n  },\n  init: function init() {\n    this.model = null;\n    this.loader = new THREE.ColladaLoader();\n  },\n  update: function update() {\n    var self = this;\n    var el = this.el;\n    var src = this.data;\n    var rendererSystem = this.el.sceneEl.systems.renderer;\n\n    if (!src) {\n      return;\n    }\n\n    this.remove();\n    this.loader.load(src, function (colladaModel) {\n      self.model = colladaModel.scene;\n      self.model.traverse(function (object) {\n        if (object.isMesh) {\n          var material = object.material;\n          if (material.color) rendererSystem.applyColorCorrection(material.color);\n          if (material.map) rendererSystem.applyColorCorrection(material.map);\n          if (material.emissive) rendererSystem.applyColorCorrection(material.emissive);\n          if (material.emissiveMap) rendererSystem.applyColorCorrection(material.emissiveMap);\n        }\n      });\n      el.setObject3D('mesh', self.model);\n      el.emit('model-loaded', {\n        format: 'collada',\n        model: self.model\n      });\n    });\n  },\n  remove: function remove() {\n    if (!this.model) {\n      return;\n    }\n\n    this.el.removeObject3D('mesh');\n  }\n});","function GamepadButtonEvent(type, index, details) {\n  this.type = type;\n  this.index = index;\n  this.pressed = details.pressed;\n  this.value = details.value;\n}\n\nmodule.exports = GamepadButtonEvent;","export default function (node) {\n  return node.ownerDocument && node.ownerDocument.defaultView || // node is a Node\n  node.document && node // node is a Window\n  || node.defaultView; // node is a Document\n}","require(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.array.is-array\");\n\nrequire(\"core-js/modules/es6.string.sub\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\n/**\n * @author Eberhard Graether / http://egraether.com/\n * @author Mark Lundin \t/ http://mark-lundin.com\n * @author Simone Manini / http://daron1337.github.io\n * @author Luca Antiga \t/ http://lantiga.github.io\n\n ** three-trackballcontrols module\n ** @author Jon Lim / http://jonlim.ca\n */\nvar THREE = window.THREE || require('three');\n\nvar TrackballControls;\n\nmodule.exports = TrackballControls = function TrackballControls(object, domElement) {\n  var _this = this;\n\n  var STATE = {\n    NONE: -1,\n    ROTATE: 0,\n    ZOOM: 1,\n    PAN: 2,\n    TOUCH_ROTATE: 3,\n    TOUCH_ZOOM_PAN: 4\n  };\n  this.object = object;\n  this.domElement = domElement !== undefined ? domElement : document; // API\n\n  this.enabled = true;\n  this.screen = {\n    left: 0,\n    top: 0,\n    width: 0,\n    height: 0\n  };\n  this.rotateSpeed = 1.0;\n  this.zoomSpeed = 1.2;\n  this.panSpeed = 0.3;\n  this.noRotate = false;\n  this.noZoom = false;\n  this.noPan = false;\n  this.staticMoving = false;\n  this.dynamicDampingFactor = 0.2;\n  this.minDistance = 0;\n  this.maxDistance = Infinity;\n  /**\n   * `KeyboardEvent.keyCode` values which should trigger the different \n   * interaction states. Each element can be a single code or an array\n   * of codes. All elements are required.\n   */\n\n  this.keys = [65\n  /*A*/\n  , 83\n  /*S*/\n  , 68\n  /*D*/\n  ]; // internals\n\n  this.target = new THREE.Vector3();\n  var EPS = 0.000001;\n  var lastPosition = new THREE.Vector3();\n\n  var _state = STATE.NONE,\n      _prevState = STATE.NONE,\n      _eye = new THREE.Vector3(),\n      _movePrev = new THREE.Vector2(),\n      _moveCurr = new THREE.Vector2(),\n      _lastAxis = new THREE.Vector3(),\n      _lastAngle = 0,\n      _zoomStart = new THREE.Vector2(),\n      _zoomEnd = new THREE.Vector2(),\n      _touchZoomDistanceStart = 0,\n      _touchZoomDistanceEnd = 0,\n      _panStart = new THREE.Vector2(),\n      _panEnd = new THREE.Vector2(); // for reset\n\n\n  this.target0 = this.target.clone();\n  this.position0 = this.object.position.clone();\n  this.up0 = this.object.up.clone(); // events\n\n  var changeEvent = {\n    type: 'change'\n  };\n  var startEvent = {\n    type: 'start'\n  };\n  var endEvent = {\n    type: 'end'\n  }; // methods\n\n  this.handleResize = function () {\n    if (this.domElement === document) {\n      this.screen.left = 0;\n      this.screen.top = 0;\n      this.screen.width = window.innerWidth;\n      this.screen.height = window.innerHeight;\n    } else {\n      var box = this.domElement.getBoundingClientRect(); // adjustments come from similar code in the jquery offset() function\n\n      var d = this.domElement.ownerDocument.documentElement;\n      this.screen.left = box.left + window.pageXOffset - d.clientLeft;\n      this.screen.top = box.top + window.pageYOffset - d.clientTop;\n      this.screen.width = box.width;\n      this.screen.height = box.height;\n    }\n  };\n\n  this.handleEvent = function (event) {\n    if (typeof this[event.type] == 'function') {\n      this[event.type](event);\n    }\n  };\n\n  var getMouseOnScreen = function () {\n    var vector = new THREE.Vector2();\n    return function getMouseOnScreen(pageX, pageY) {\n      vector.set((pageX - _this.screen.left) / _this.screen.width, (pageY - _this.screen.top) / _this.screen.height);\n      return vector;\n    };\n  }();\n\n  var getMouseOnCircle = function () {\n    var vector = new THREE.Vector2();\n    return function getMouseOnCircle(pageX, pageY) {\n      vector.set((pageX - _this.screen.width * 0.5 - _this.screen.left) / (_this.screen.width * 0.5), (_this.screen.height + 2 * (_this.screen.top - pageY)) / _this.screen.width // screen.width intentional\n      );\n      return vector;\n    };\n  }();\n\n  this.rotateCamera = function () {\n    var axis = new THREE.Vector3(),\n        quaternion = new THREE.Quaternion(),\n        eyeDirection = new THREE.Vector3(),\n        objectUpDirection = new THREE.Vector3(),\n        objectSidewaysDirection = new THREE.Vector3(),\n        moveDirection = new THREE.Vector3(),\n        angle;\n    return function rotateCamera() {\n      moveDirection.set(_moveCurr.x - _movePrev.x, _moveCurr.y - _movePrev.y, 0);\n      angle = moveDirection.length();\n\n      if (angle) {\n        _eye.copy(_this.object.position).sub(_this.target);\n\n        eyeDirection.copy(_eye).normalize();\n        objectUpDirection.copy(_this.object.up).normalize();\n        objectSidewaysDirection.crossVectors(objectUpDirection, eyeDirection).normalize();\n        objectUpDirection.setLength(_moveCurr.y - _movePrev.y);\n        objectSidewaysDirection.setLength(_moveCurr.x - _movePrev.x);\n        moveDirection.copy(objectUpDirection.add(objectSidewaysDirection));\n        axis.crossVectors(moveDirection, _eye).normalize();\n        angle *= _this.rotateSpeed;\n        quaternion.setFromAxisAngle(axis, angle);\n\n        _eye.applyQuaternion(quaternion);\n\n        _this.object.up.applyQuaternion(quaternion);\n\n        _lastAxis.copy(axis);\n\n        _lastAngle = angle;\n      } else if (!_this.staticMoving && _lastAngle) {\n        _lastAngle *= Math.sqrt(1.0 - _this.dynamicDampingFactor);\n\n        _eye.copy(_this.object.position).sub(_this.target);\n\n        quaternion.setFromAxisAngle(_lastAxis, _lastAngle);\n\n        _eye.applyQuaternion(quaternion);\n\n        _this.object.up.applyQuaternion(quaternion);\n      }\n\n      _movePrev.copy(_moveCurr);\n    };\n  }();\n\n  this.zoomCamera = function () {\n    var factor;\n\n    if (_state === STATE.TOUCH_ZOOM_PAN) {\n      factor = _touchZoomDistanceStart / _touchZoomDistanceEnd;\n      _touchZoomDistanceStart = _touchZoomDistanceEnd;\n\n      _eye.multiplyScalar(factor);\n    } else {\n      factor = 1.0 + (_zoomEnd.y - _zoomStart.y) * _this.zoomSpeed;\n\n      if (factor !== 1.0 && factor > 0.0) {\n        _eye.multiplyScalar(factor);\n      }\n\n      if (_this.staticMoving) {\n        _zoomStart.copy(_zoomEnd);\n      } else {\n        _zoomStart.y += (_zoomEnd.y - _zoomStart.y) * this.dynamicDampingFactor;\n      }\n    }\n  };\n\n  this.panCamera = function () {\n    var mouseChange = new THREE.Vector2(),\n        objectUp = new THREE.Vector3(),\n        pan = new THREE.Vector3();\n    return function panCamera() {\n      mouseChange.copy(_panEnd).sub(_panStart);\n\n      if (mouseChange.lengthSq()) {\n        mouseChange.multiplyScalar(_eye.length() * _this.panSpeed);\n        pan.copy(_eye).cross(_this.object.up).setLength(mouseChange.x);\n        pan.add(objectUp.copy(_this.object.up).setLength(mouseChange.y));\n\n        _this.object.position.add(pan);\n\n        _this.target.add(pan);\n\n        if (_this.staticMoving) {\n          _panStart.copy(_panEnd);\n        } else {\n          _panStart.add(mouseChange.subVectors(_panEnd, _panStart).multiplyScalar(_this.dynamicDampingFactor));\n        }\n      }\n    };\n  }();\n\n  this.checkDistances = function () {\n    if (!_this.noZoom || !_this.noPan) {\n      if (_eye.lengthSq() > _this.maxDistance * _this.maxDistance) {\n        _this.object.position.addVectors(_this.target, _eye.setLength(_this.maxDistance));\n\n        _zoomStart.copy(_zoomEnd);\n      }\n\n      if (_eye.lengthSq() < _this.minDistance * _this.minDistance) {\n        _this.object.position.addVectors(_this.target, _eye.setLength(_this.minDistance));\n\n        _zoomStart.copy(_zoomEnd);\n      }\n    }\n  };\n\n  this.update = function () {\n    _eye.subVectors(_this.object.position, _this.target);\n\n    if (!_this.noRotate) {\n      _this.rotateCamera();\n    }\n\n    if (!_this.noZoom) {\n      _this.zoomCamera();\n    }\n\n    if (!_this.noPan) {\n      _this.panCamera();\n    }\n\n    _this.object.position.addVectors(_this.target, _eye);\n\n    _this.checkDistances();\n\n    _this.object.lookAt(_this.target);\n\n    if (lastPosition.distanceToSquared(_this.object.position) > EPS) {\n      _this.dispatchEvent(changeEvent);\n\n      lastPosition.copy(_this.object.position);\n    }\n  };\n\n  this.reset = function () {\n    _state = STATE.NONE;\n    _prevState = STATE.NONE;\n\n    _this.target.copy(_this.target0);\n\n    _this.object.position.copy(_this.position0);\n\n    _this.object.up.copy(_this.up0);\n\n    _eye.subVectors(_this.object.position, _this.target);\n\n    _this.object.lookAt(_this.target);\n\n    _this.dispatchEvent(changeEvent);\n\n    lastPosition.copy(_this.object.position);\n  }; // helpers\n\n  /**\n   * Checks if the pressed key is any of the configured modifier keys for\n   * a specified behavior.\n   * \n   * @param {number | number[]} keys \n   * @param {number} key \n   * \n   * @returns {boolean} `true` if `keys` contains or equals `key`\n   */\n\n\n  function containsKey(keys, key) {\n    if (Array.isArray(keys)) {\n      return keys.indexOf(key) !== -1;\n    } else {\n      return keys === key;\n    }\n  } // listeners\n\n\n  function keydown(event) {\n    if (_this.enabled === false) return;\n    window.removeEventListener('keydown', keydown);\n    _prevState = _state;\n\n    if (_state !== STATE.NONE) {\n      return;\n    } else if (containsKey(_this.keys[STATE.ROTATE], event.keyCode) && !_this.noRotate) {\n      _state = STATE.ROTATE;\n    } else if (containsKey(_this.keys[STATE.ZOOM], event.keyCode) && !_this.noZoom) {\n      _state = STATE.ZOOM;\n    } else if (containsKey(_this.keys[STATE.PAN], event.keyCode) && !_this.noPan) {\n      _state = STATE.PAN;\n    }\n  }\n\n  function keyup(event) {\n    if (_this.enabled === false) return;\n    _state = _prevState;\n    window.addEventListener('keydown', keydown, false);\n  }\n\n  function mousedown(event) {\n    if (_this.enabled === false) return;\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (_state === STATE.NONE) {\n      _state = event.button;\n    }\n\n    if (_state === STATE.ROTATE && !_this.noRotate) {\n      _moveCurr.copy(getMouseOnCircle(event.pageX, event.pageY));\n\n      _movePrev.copy(_moveCurr);\n    } else if (_state === STATE.ZOOM && !_this.noZoom) {\n      _zoomStart.copy(getMouseOnScreen(event.pageX, event.pageY));\n\n      _zoomEnd.copy(_zoomStart);\n    } else if (_state === STATE.PAN && !_this.noPan) {\n      _panStart.copy(getMouseOnScreen(event.pageX, event.pageY));\n\n      _panEnd.copy(_panStart);\n    }\n\n    document.addEventListener('mousemove', mousemove, false);\n    document.addEventListener('mouseup', mouseup, false);\n\n    _this.dispatchEvent(startEvent);\n  }\n\n  function mousemove(event) {\n    if (_this.enabled === false) return;\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (_state === STATE.ROTATE && !_this.noRotate) {\n      _movePrev.copy(_moveCurr);\n\n      _moveCurr.copy(getMouseOnCircle(event.pageX, event.pageY));\n    } else if (_state === STATE.ZOOM && !_this.noZoom) {\n      _zoomEnd.copy(getMouseOnScreen(event.pageX, event.pageY));\n    } else if (_state === STATE.PAN && !_this.noPan) {\n      _panEnd.copy(getMouseOnScreen(event.pageX, event.pageY));\n    }\n  }\n\n  function mouseup(event) {\n    if (_this.enabled === false) return;\n    event.preventDefault();\n    event.stopPropagation();\n    _state = STATE.NONE;\n    document.removeEventListener('mousemove', mousemove);\n    document.removeEventListener('mouseup', mouseup);\n\n    _this.dispatchEvent(endEvent);\n  }\n\n  function mousewheel(event) {\n    if (_this.enabled === false) return;\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch (event.deltaMode) {\n      case 2:\n        // Zoom in pages\n        _zoomStart.y -= event.deltaY * 0.025;\n        break;\n\n      case 1:\n        // Zoom in lines\n        _zoomStart.y -= event.deltaY * 0.01;\n        break;\n\n      default:\n        // undefined, 0, assume pixels\n        _zoomStart.y -= event.deltaY * 0.00025;\n        break;\n    }\n\n    _this.dispatchEvent(startEvent);\n\n    _this.dispatchEvent(endEvent);\n  }\n\n  function touchstart(event) {\n    if (_this.enabled === false) return;\n\n    switch (event.touches.length) {\n      case 1:\n        _state = STATE.TOUCH_ROTATE;\n\n        _moveCurr.copy(getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\n\n        _movePrev.copy(_moveCurr);\n\n        break;\n\n      default:\n        // 2 or more\n        _state = STATE.TOUCH_ZOOM_PAN;\n        var dx = event.touches[0].pageX - event.touches[1].pageX;\n        var dy = event.touches[0].pageY - event.touches[1].pageY;\n        _touchZoomDistanceEnd = _touchZoomDistanceStart = Math.sqrt(dx * dx + dy * dy);\n        var x = (event.touches[0].pageX + event.touches[1].pageX) / 2;\n        var y = (event.touches[0].pageY + event.touches[1].pageY) / 2;\n\n        _panStart.copy(getMouseOnScreen(x, y));\n\n        _panEnd.copy(_panStart);\n\n        break;\n    }\n\n    _this.dispatchEvent(startEvent);\n  }\n\n  function touchmove(event) {\n    if (_this.enabled === false) return;\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch (event.touches.length) {\n      case 1:\n        _movePrev.copy(_moveCurr);\n\n        _moveCurr.copy(getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\n\n        break;\n\n      default:\n        // 2 or more\n        var dx = event.touches[0].pageX - event.touches[1].pageX;\n        var dy = event.touches[0].pageY - event.touches[1].pageY;\n        _touchZoomDistanceEnd = Math.sqrt(dx * dx + dy * dy);\n        var x = (event.touches[0].pageX + event.touches[1].pageX) / 2;\n        var y = (event.touches[0].pageY + event.touches[1].pageY) / 2;\n\n        _panEnd.copy(getMouseOnScreen(x, y));\n\n        break;\n    }\n  }\n\n  function touchend(event) {\n    if (_this.enabled === false) return;\n\n    switch (event.touches.length) {\n      case 0:\n        _state = STATE.NONE;\n        break;\n\n      case 1:\n        _state = STATE.TOUCH_ROTATE;\n\n        _moveCurr.copy(getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\n\n        _movePrev.copy(_moveCurr);\n\n        break;\n    }\n\n    _this.dispatchEvent(endEvent);\n  }\n\n  function contextmenu(event) {\n    if (_this.enabled === false) return;\n    event.preventDefault();\n  }\n\n  this.dispose = function () {\n    this.domElement.removeEventListener('contextmenu', contextmenu, false);\n    this.domElement.removeEventListener('mousedown', mousedown, false);\n    this.domElement.removeEventListener('wheel', mousewheel, false);\n    this.domElement.removeEventListener('touchstart', touchstart, false);\n    this.domElement.removeEventListener('touchend', touchend, false);\n    this.domElement.removeEventListener('touchmove', touchmove, false);\n    document.removeEventListener('mousemove', mousemove, false);\n    document.removeEventListener('mouseup', mouseup, false);\n    window.removeEventListener('keydown', keydown, false);\n    window.removeEventListener('keyup', keyup, false);\n  };\n\n  this.domElement.addEventListener('contextmenu', contextmenu, false);\n  this.domElement.addEventListener('mousedown', mousedown, false);\n  this.domElement.addEventListener('wheel', mousewheel, false);\n  this.domElement.addEventListener('touchstart', touchstart, false);\n  this.domElement.addEventListener('touchend', touchend, false);\n  this.domElement.addEventListener('touchmove', touchmove, false);\n  window.addEventListener('keydown', keydown, false);\n  window.addEventListener('keyup', keyup, false);\n  this.handleResize(); // force an update at start\n\n  this.update();\n};\n\nfunction preventEvent(event) {\n  event.preventDefault();\n}\n\nTrackballControls.prototype = Object.create(THREE.EventDispatcher.prototype);","/** @license React v16.8.3\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: !0\n});\nvar b = \"function\" === typeof Symbol && Symbol[\"for\"],\n    c = b ? Symbol[\"for\"](\"react.element\") : 60103,\n    d = b ? Symbol[\"for\"](\"react.portal\") : 60106,\n    e = b ? Symbol[\"for\"](\"react.fragment\") : 60107,\n    f = b ? Symbol[\"for\"](\"react.strict_mode\") : 60108,\n    g = b ? Symbol[\"for\"](\"react.profiler\") : 60114,\n    h = b ? Symbol[\"for\"](\"react.provider\") : 60109,\n    k = b ? Symbol[\"for\"](\"react.context\") : 60110,\n    l = b ? Symbol[\"for\"](\"react.async_mode\") : 60111,\n    m = b ? Symbol[\"for\"](\"react.concurrent_mode\") : 60111,\n    n = b ? Symbol[\"for\"](\"react.forward_ref\") : 60112,\n    p = b ? Symbol[\"for\"](\"react.suspense\") : 60113,\n    q = b ? Symbol[\"for\"](\"react.memo\") : 60115,\n    r = b ? Symbol[\"for\"](\"react.lazy\") : 60116;\n\nfunction t(a) {\n  if (\"object\" === typeof a && null !== a) {\n    var u = a.$$typeof;\n\n    switch (u) {\n      case c:\n        switch (a = a.type, a) {\n          case l:\n          case m:\n          case e:\n          case g:\n          case f:\n          case p:\n            return a;\n\n          default:\n            switch (a = a && a.$$typeof, a) {\n              case k:\n              case n:\n              case h:\n                return a;\n\n              default:\n                return u;\n            }\n\n        }\n\n      case r:\n      case q:\n      case d:\n        return u;\n    }\n  }\n}\n\nfunction v(a) {\n  return t(a) === m;\n}\n\nexports.typeOf = t;\nexports.AsyncMode = l;\nexports.ConcurrentMode = m;\nexports.ContextConsumer = k;\nexports.ContextProvider = h;\nexports.Element = c;\nexports.ForwardRef = n;\nexports.Fragment = e;\nexports.Lazy = r;\nexports.Memo = q;\nexports.Portal = d;\nexports.Profiler = g;\nexports.StrictMode = f;\nexports.Suspense = p;\n\nexports.isValidElementType = function (a) {\n  return \"string\" === typeof a || \"function\" === typeof a || a === e || a === m || a === g || a === f || a === p || \"object\" === typeof a && null !== a && (a.$$typeof === r || a.$$typeof === q || a.$$typeof === h || a.$$typeof === k || a.$$typeof === n);\n};\n\nexports.isAsyncMode = function (a) {\n  return v(a) || t(a) === l;\n};\n\nexports.isConcurrentMode = v;\n\nexports.isContextConsumer = function (a) {\n  return t(a) === k;\n};\n\nexports.isContextProvider = function (a) {\n  return t(a) === h;\n};\n\nexports.isElement = function (a) {\n  return \"object\" === typeof a && null !== a && a.$$typeof === c;\n};\n\nexports.isForwardRef = function (a) {\n  return t(a) === n;\n};\n\nexports.isFragment = function (a) {\n  return t(a) === e;\n};\n\nexports.isLazy = function (a) {\n  return t(a) === r;\n};\n\nexports.isMemo = function (a) {\n  return t(a) === q;\n};\n\nexports.isPortal = function (a) {\n  return t(a) === d;\n};\n\nexports.isProfiler = function (a) {\n  return t(a) === g;\n};\n\nexports.isStrictMode = function (a) {\n  return t(a) === f;\n};\n\nexports.isSuspense = function (a) {\n  return t(a) === p;\n};","module.exports = function isSamePosition(point1, point2) {\n  var dx = Math.abs(point1.x - point2.x);\n  var dy = Math.abs(point1.y - point2.y);\n  var dz = Math.abs(point1.z - point2.z);\n  return dx < 1e-8 && dy < 1e-8 && dz < 1e-8;\n};","/**\n * Performs 3d forces integration, using given timestep. Uses Euler method to solve\n * differential equation (http://en.wikipedia.org/wiki/Euler_method ).\n *\n * @returns {Number} squared distance of total position updates.\n */\nmodule.exports = integrate;\n\nfunction integrate(bodies, timeStep) {\n  var dx = 0,\n      tx = 0,\n      dy = 0,\n      ty = 0,\n      dz = 0,\n      tz = 0,\n      i,\n      max = bodies.length;\n\n  for (i = 0; i < max; ++i) {\n    var body = bodies[i],\n        coeff = timeStep / body.mass;\n    body.velocity.x += coeff * body.force.x;\n    body.velocity.y += coeff * body.force.y;\n    body.velocity.z += coeff * body.force.z;\n    var vx = body.velocity.x,\n        vy = body.velocity.y,\n        vz = body.velocity.z,\n        v = Math.sqrt(vx * vx + vy * vy + vz * vz);\n\n    if (v > 1) {\n      body.velocity.x = vx / v;\n      body.velocity.y = vy / v;\n      body.velocity.z = vz / v;\n    }\n\n    dx = timeStep * body.velocity.x;\n    dy = timeStep * body.velocity.y;\n    dz = timeStep * body.velocity.z;\n    body.pos.x += dx;\n    body.pos.y += dy;\n    body.pos.z += dz;\n    tx += Math.abs(dx);\n    ty += Math.abs(dy);\n    tz += Math.abs(dz);\n  }\n\n  return (tx * tx + ty * ty + tz * tz) / bodies.length;\n}","require(\"core-js/modules/es6.object.define-properties\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.string.sub\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nmodule.exports = function (THREE) {\n  /**\n   * @author qiao / https://github.com/qiao\n   * @author mrdoob / http://mrdoob.com\n   * @author alteredq / http://alteredqualia.com/\n   * @author WestLangley / http://github.com/WestLangley\n   * @author erich666 / http://erichaines.com\n   */\n  // This set of controls performs orbiting, dollying (zooming), and panning.\n  // Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n  //\n  //    Orbit - left mouse / touch: one finger move\n  //    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n  //    Pan - right mouse, or arrow keys / touch: three finter swipe\n  function OrbitControls(object, domElement) {\n    this.object = object;\n    this.domElement = domElement !== undefined ? domElement : document; // Set to false to disable this control\n\n    this.enabled = true; // \"target\" sets the location of focus, where the object orbits around\n\n    this.target = new THREE.Vector3(); // How far you can dolly in and out ( PerspectiveCamera only )\n\n    this.minDistance = 0;\n    this.maxDistance = Infinity; // How far you can zoom in and out ( OrthographicCamera only )\n\n    this.minZoom = 0;\n    this.maxZoom = Infinity; // How far you can orbit vertically, upper and lower limits.\n    // Range is 0 to Math.PI radians.\n\n    this.minPolarAngle = 0; // radians\n\n    this.maxPolarAngle = Math.PI; // radians\n    // How far you can orbit horizontally, upper and lower limits.\n    // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n\n    this.minAzimuthAngle = -Infinity; // radians\n\n    this.maxAzimuthAngle = Infinity; // radians\n    // Set to true to enable damping (inertia)\n    // If damping is enabled, you must call controls.update() in your animation loop\n\n    this.enableDamping = false;\n    this.dampingFactor = 0.25; // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n    // Set to false to disable zooming\n\n    this.enableZoom = true;\n    this.zoomSpeed = 1.0; // Set to false to disable rotating\n\n    this.enableRotate = true;\n    this.rotateSpeed = 1.0; // Set to false to disable panning\n\n    this.enablePan = true;\n    this.keyPanSpeed = 7.0; // pixels moved per arrow key push\n    // Set to true to automatically rotate around the target\n    // If auto-rotate is enabled, you must call controls.update() in your animation loop\n\n    this.autoRotate = false;\n    this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n    // Set to false to disable use of the keys\n\n    this.enableKeys = true; // The four arrow keys\n\n    this.keys = {\n      LEFT: 37,\n      UP: 38,\n      RIGHT: 39,\n      BOTTOM: 40\n    }; // Mouse buttons\n\n    this.mouseButtons = {\n      ORBIT: THREE.MOUSE.LEFT,\n      ZOOM: THREE.MOUSE.MIDDLE,\n      PAN: THREE.MOUSE.RIGHT\n    }; // for reset\n\n    this.target0 = this.target.clone();\n    this.position0 = this.object.position.clone();\n    this.zoom0 = this.object.zoom; //\n    // public methods\n    //\n\n    this.getPolarAngle = function () {\n      return spherical.phi;\n    };\n\n    this.getAzimuthalAngle = function () {\n      return spherical.theta;\n    };\n\n    this.reset = function () {\n      scope.target.copy(scope.target0);\n      scope.object.position.copy(scope.position0);\n      scope.object.zoom = scope.zoom0;\n      scope.object.updateProjectionMatrix();\n      scope.dispatchEvent(changeEvent);\n      scope.update();\n      state = STATE.NONE;\n    }; // this method is exposed, but perhaps it would be better if we can make it private...\n\n\n    this.update = function () {\n      var offset = new THREE.Vector3(); // so camera.up is the orbit axis\n\n      var quat = new THREE.Quaternion().setFromUnitVectors(object.up, new THREE.Vector3(0, 1, 0));\n      var quatInverse = quat.clone().inverse();\n      var lastPosition = new THREE.Vector3();\n      var lastQuaternion = new THREE.Quaternion();\n      return function update() {\n        var position = scope.object.position;\n        offset.copy(position).sub(scope.target); // rotate offset to \"y-axis-is-up\" space\n\n        offset.applyQuaternion(quat); // angle from z-axis around y-axis\n\n        spherical.setFromVector3(offset);\n\n        if (scope.autoRotate && state === STATE.NONE) {\n          rotateLeft(getAutoRotationAngle());\n        }\n\n        spherical.theta += sphericalDelta.theta;\n        spherical.phi += sphericalDelta.phi; // restrict theta to be between desired limits\n\n        spherical.theta = Math.max(scope.minAzimuthAngle, Math.min(scope.maxAzimuthAngle, spherical.theta)); // restrict phi to be between desired limits\n\n        spherical.phi = Math.max(scope.minPolarAngle, Math.min(scope.maxPolarAngle, spherical.phi));\n        spherical.makeSafe();\n        spherical.radius *= scale; // restrict radius to be between desired limits\n\n        spherical.radius = Math.max(scope.minDistance, Math.min(scope.maxDistance, spherical.radius)); // move target to panned location\n\n        scope.target.add(panOffset);\n        offset.setFromSpherical(spherical); // rotate offset back to \"camera-up-vector-is-up\" space\n\n        offset.applyQuaternion(quatInverse);\n        position.copy(scope.target).add(offset);\n        scope.object.lookAt(scope.target);\n\n        if (scope.enableDamping === true) {\n          sphericalDelta.theta *= 1 - scope.dampingFactor;\n          sphericalDelta.phi *= 1 - scope.dampingFactor;\n        } else {\n          sphericalDelta.set(0, 0, 0);\n        }\n\n        scale = 1;\n        panOffset.set(0, 0, 0); // update condition is:\n        // min(camera displacement, camera rotation in radians)^2 > EPS\n        // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n        if (zoomChanged || lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {\n          scope.dispatchEvent(changeEvent);\n          lastPosition.copy(scope.object.position);\n          lastQuaternion.copy(scope.object.quaternion);\n          zoomChanged = false;\n          return true;\n        }\n\n        return false;\n      };\n    }();\n\n    this.dispose = function () {\n      scope.domElement.removeEventListener('contextmenu', onContextMenu, false);\n      scope.domElement.removeEventListener('mousedown', onMouseDown, false);\n      scope.domElement.removeEventListener('wheel', onMouseWheel, false);\n      scope.domElement.removeEventListener('touchstart', onTouchStart, false);\n      scope.domElement.removeEventListener('touchend', onTouchEnd, false);\n      scope.domElement.removeEventListener('touchmove', onTouchMove, false);\n      document.removeEventListener('mousemove', onMouseMove, false);\n      document.removeEventListener('mouseup', onMouseUp, false);\n      window.removeEventListener('keydown', onKeyDown, false); //scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n    }; //\n    // internals\n    //\n\n\n    var scope = this;\n    var changeEvent = {\n      type: 'change'\n    };\n    var startEvent = {\n      type: 'start'\n    };\n    var endEvent = {\n      type: 'end'\n    };\n    var STATE = {\n      NONE: -1,\n      ROTATE: 0,\n      DOLLY: 1,\n      PAN: 2,\n      TOUCH_ROTATE: 3,\n      TOUCH_DOLLY: 4,\n      TOUCH_PAN: 5\n    };\n    var state = STATE.NONE;\n    var EPS = 0.000001; // current position in spherical coordinates\n\n    var spherical = new THREE.Spherical();\n    var sphericalDelta = new THREE.Spherical();\n    var scale = 1;\n    var panOffset = new THREE.Vector3();\n    var zoomChanged = false;\n    var rotateStart = new THREE.Vector2();\n    var rotateEnd = new THREE.Vector2();\n    var rotateDelta = new THREE.Vector2();\n    var panStart = new THREE.Vector2();\n    var panEnd = new THREE.Vector2();\n    var panDelta = new THREE.Vector2();\n    var dollyStart = new THREE.Vector2();\n    var dollyEnd = new THREE.Vector2();\n    var dollyDelta = new THREE.Vector2();\n\n    function getAutoRotationAngle() {\n      return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n    }\n\n    function getZoomScale() {\n      return Math.pow(0.95, scope.zoomSpeed);\n    }\n\n    function rotateLeft(angle) {\n      sphericalDelta.theta -= angle;\n    }\n\n    function rotateUp(angle) {\n      sphericalDelta.phi -= angle;\n    }\n\n    var panLeft = function () {\n      var v = new THREE.Vector3();\n      return function panLeft(distance, objectMatrix) {\n        v.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\n\n        v.multiplyScalar(-distance);\n        panOffset.add(v);\n      };\n    }();\n\n    var panUp = function () {\n      var v = new THREE.Vector3();\n      return function panUp(distance, objectMatrix) {\n        v.setFromMatrixColumn(objectMatrix, 1); // get Y column of objectMatrix\n\n        v.multiplyScalar(distance);\n        panOffset.add(v);\n      };\n    }(); // deltaX and deltaY are in pixels; right and down are positive\n\n\n    var pan = function () {\n      var offset = new THREE.Vector3();\n      return function pan(deltaX, deltaY) {\n        var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n        if (scope.object instanceof THREE.PerspectiveCamera) {\n          // perspective\n          var position = scope.object.position;\n          offset.copy(position).sub(scope.target);\n          var targetDistance = offset.length(); // half of the fov is center to top of screen\n\n          targetDistance *= Math.tan(scope.object.fov / 2 * Math.PI / 180.0); // we actually don't use screenWidth, since perspective camera is fixed to screen height\n\n          panLeft(2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix);\n          panUp(2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix);\n        } else if (scope.object instanceof THREE.OrthographicCamera) {\n          // orthographic\n          panLeft(deltaX * (scope.object.right - scope.object.left) / scope.object.zoom / element.clientWidth, scope.object.matrix);\n          panUp(deltaY * (scope.object.top - scope.object.bottom) / scope.object.zoom / element.clientHeight, scope.object.matrix);\n        } else {\n          // camera neither orthographic nor perspective\n          console.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\n          scope.enablePan = false;\n        }\n      };\n    }();\n\n    function dollyIn(dollyScale) {\n      if (scope.object instanceof THREE.PerspectiveCamera) {\n        scale /= dollyScale;\n      } else if (scope.object instanceof THREE.OrthographicCamera) {\n        scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom * dollyScale));\n        scope.object.updateProjectionMatrix();\n        zoomChanged = true;\n      } else {\n        console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n        scope.enableZoom = false;\n      }\n    }\n\n    function dollyOut(dollyScale) {\n      if (scope.object instanceof THREE.PerspectiveCamera) {\n        scale *= dollyScale;\n      } else if (scope.object instanceof THREE.OrthographicCamera) {\n        scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom / dollyScale));\n        scope.object.updateProjectionMatrix();\n        zoomChanged = true;\n      } else {\n        console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n        scope.enableZoom = false;\n      }\n    } //\n    // event callbacks - update the object state\n    //\n\n\n    function handleMouseDownRotate(event) {\n      //console.log( 'handleMouseDownRotate' );\n      rotateStart.set(event.clientX, event.clientY);\n    }\n\n    function handleMouseDownDolly(event) {\n      //console.log( 'handleMouseDownDolly' );\n      dollyStart.set(event.clientX, event.clientY);\n    }\n\n    function handleMouseDownPan(event) {\n      //console.log( 'handleMouseDownPan' );\n      panStart.set(event.clientX, event.clientY);\n    }\n\n    function handleMouseMoveRotate(event) {\n      //console.log( 'handleMouseMoveRotate' );\n      rotateEnd.set(event.clientX, event.clientY);\n      rotateDelta.subVectors(rotateEnd, rotateStart);\n      var element = scope.domElement === document ? scope.domElement.body : scope.domElement; // rotating across whole screen goes 360 degrees around\n\n      rotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed); // rotating up and down along whole screen attempts to go 360, but limited to 180\n\n      rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n      rotateStart.copy(rotateEnd);\n      scope.update();\n    }\n\n    function handleMouseMoveDolly(event) {\n      //console.log( 'handleMouseMoveDolly' );\n      dollyEnd.set(event.clientX, event.clientY);\n      dollyDelta.subVectors(dollyEnd, dollyStart);\n\n      if (dollyDelta.y > 0) {\n        dollyIn(getZoomScale());\n      } else if (dollyDelta.y < 0) {\n        dollyOut(getZoomScale());\n      }\n\n      dollyStart.copy(dollyEnd);\n      scope.update();\n    }\n\n    function handleMouseMovePan(event) {\n      //console.log( 'handleMouseMovePan' );\n      panEnd.set(event.clientX, event.clientY);\n      panDelta.subVectors(panEnd, panStart);\n      pan(panDelta.x, panDelta.y);\n      panStart.copy(panEnd);\n      scope.update();\n    }\n\n    function handleMouseUp(event) {//console.log( 'handleMouseUp' );\n    }\n\n    function handleMouseWheel(event) {\n      //console.log( 'handleMouseWheel' );\n      if (event.deltaY < 0) {\n        dollyOut(getZoomScale());\n      } else if (event.deltaY > 0) {\n        dollyIn(getZoomScale());\n      }\n\n      scope.update();\n    }\n\n    function handleKeyDown(event) {\n      //console.log( 'handleKeyDown' );\n      switch (event.keyCode) {\n        case scope.keys.UP:\n          pan(0, scope.keyPanSpeed);\n          scope.update();\n          break;\n\n        case scope.keys.BOTTOM:\n          pan(0, -scope.keyPanSpeed);\n          scope.update();\n          break;\n\n        case scope.keys.LEFT:\n          pan(scope.keyPanSpeed, 0);\n          scope.update();\n          break;\n\n        case scope.keys.RIGHT:\n          pan(-scope.keyPanSpeed, 0);\n          scope.update();\n          break;\n      }\n    }\n\n    function handleTouchStartRotate(event) {\n      //console.log( 'handleTouchStartRotate' );\n      rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n    }\n\n    function handleTouchStartDolly(event) {\n      //console.log( 'handleTouchStartDolly' );\n      var dx = event.touches[0].pageX - event.touches[1].pageX;\n      var dy = event.touches[0].pageY - event.touches[1].pageY;\n      var distance = Math.sqrt(dx * dx + dy * dy);\n      dollyStart.set(0, distance);\n    }\n\n    function handleTouchStartPan(event) {\n      //console.log( 'handleTouchStartPan' );\n      panStart.set(event.touches[0].pageX, event.touches[0].pageY);\n    }\n\n    function handleTouchMoveRotate(event) {\n      //console.log( 'handleTouchMoveRotate' );\n      rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n      rotateDelta.subVectors(rotateEnd, rotateStart);\n      var element = scope.domElement === document ? scope.domElement.body : scope.domElement; // rotating across whole screen goes 360 degrees around\n\n      rotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed); // rotating up and down along whole screen attempts to go 360, but limited to 180\n\n      rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n      rotateStart.copy(rotateEnd);\n      scope.update();\n    }\n\n    function handleTouchMoveDolly(event) {\n      //console.log( 'handleTouchMoveDolly' );\n      var dx = event.touches[0].pageX - event.touches[1].pageX;\n      var dy = event.touches[0].pageY - event.touches[1].pageY;\n      var distance = Math.sqrt(dx * dx + dy * dy);\n      dollyEnd.set(0, distance);\n      dollyDelta.subVectors(dollyEnd, dollyStart);\n\n      if (dollyDelta.y > 0) {\n        dollyOut(getZoomScale());\n      } else if (dollyDelta.y < 0) {\n        dollyIn(getZoomScale());\n      }\n\n      dollyStart.copy(dollyEnd);\n      scope.update();\n    }\n\n    function handleTouchMovePan(event) {\n      //console.log( 'handleTouchMovePan' );\n      panEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n      panDelta.subVectors(panEnd, panStart);\n      pan(panDelta.x, panDelta.y);\n      panStart.copy(panEnd);\n      scope.update();\n    }\n\n    function handleTouchEnd(event) {} //console.log( 'handleTouchEnd' );\n    //\n    // event handlers - FSM: listen for events and reset state\n    //\n\n\n    function onMouseDown(event) {\n      if (scope.enabled === false) return;\n      event.preventDefault();\n\n      if (event.button === scope.mouseButtons.ORBIT) {\n        if (scope.enableRotate === false) return;\n        handleMouseDownRotate(event);\n        state = STATE.ROTATE;\n      } else if (event.button === scope.mouseButtons.ZOOM) {\n        if (scope.enableZoom === false) return;\n        handleMouseDownDolly(event);\n        state = STATE.DOLLY;\n      } else if (event.button === scope.mouseButtons.PAN) {\n        if (scope.enablePan === false) return;\n        handleMouseDownPan(event);\n        state = STATE.PAN;\n      }\n\n      if (state !== STATE.NONE) {\n        document.addEventListener('mousemove', onMouseMove, false);\n        document.addEventListener('mouseup', onMouseUp, false);\n        scope.dispatchEvent(startEvent);\n      }\n    }\n\n    function onMouseMove(event) {\n      if (scope.enabled === false) return;\n      event.preventDefault();\n\n      if (state === STATE.ROTATE) {\n        if (scope.enableRotate === false) return;\n        handleMouseMoveRotate(event);\n      } else if (state === STATE.DOLLY) {\n        if (scope.enableZoom === false) return;\n        handleMouseMoveDolly(event);\n      } else if (state === STATE.PAN) {\n        if (scope.enablePan === false) return;\n        handleMouseMovePan(event);\n      }\n    }\n\n    function onMouseUp(event) {\n      if (scope.enabled === false) return;\n      handleMouseUp(event);\n      document.removeEventListener('mousemove', onMouseMove, false);\n      document.removeEventListener('mouseup', onMouseUp, false);\n      scope.dispatchEvent(endEvent);\n      state = STATE.NONE;\n    }\n\n    function onMouseWheel(event) {\n      if (scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE && state !== STATE.ROTATE) return;\n      event.preventDefault();\n      event.stopPropagation();\n      handleMouseWheel(event);\n      scope.dispatchEvent(startEvent); // not sure why these are here...\n\n      scope.dispatchEvent(endEvent);\n    }\n\n    function onKeyDown(event) {\n      if (scope.enabled === false || scope.enableKeys === false || scope.enablePan === false) return;\n      handleKeyDown(event);\n    }\n\n    function onTouchStart(event) {\n      if (scope.enabled === false) return;\n\n      switch (event.touches.length) {\n        case 1:\n          // one-fingered touch: rotate\n          if (scope.enableRotate === false) return;\n          handleTouchStartRotate(event);\n          state = STATE.TOUCH_ROTATE;\n          break;\n\n        case 2:\n          // two-fingered touch: dolly\n          if (scope.enableZoom === false) return;\n          handleTouchStartDolly(event);\n          state = STATE.TOUCH_DOLLY;\n          break;\n\n        case 3:\n          // three-fingered touch: pan\n          if (scope.enablePan === false) return;\n          handleTouchStartPan(event);\n          state = STATE.TOUCH_PAN;\n          break;\n\n        default:\n          state = STATE.NONE;\n      }\n\n      if (state !== STATE.NONE) {\n        scope.dispatchEvent(startEvent);\n      }\n    }\n\n    function onTouchMove(event) {\n      if (scope.enabled === false) return;\n      event.preventDefault();\n      event.stopPropagation();\n\n      switch (event.touches.length) {\n        case 1:\n          // one-fingered touch: rotate\n          if (scope.enableRotate === false) return;\n          if (state !== STATE.TOUCH_ROTATE) return; // is this needed?...\n\n          handleTouchMoveRotate(event);\n          break;\n\n        case 2:\n          // two-fingered touch: dolly\n          if (scope.enableZoom === false) return;\n          if (state !== STATE.TOUCH_DOLLY) return; // is this needed?...\n\n          handleTouchMoveDolly(event);\n          break;\n\n        case 3:\n          // three-fingered touch: pan\n          if (scope.enablePan === false) return;\n          if (state !== STATE.TOUCH_PAN) return; // is this needed?...\n\n          handleTouchMovePan(event);\n          break;\n\n        default:\n          state = STATE.NONE;\n      }\n    }\n\n    function onTouchEnd(event) {\n      if (scope.enabled === false) return;\n      handleTouchEnd(event);\n      scope.dispatchEvent(endEvent);\n      state = STATE.NONE;\n    }\n\n    function onContextMenu(event) {\n      event.preventDefault();\n    } //\n\n\n    scope.domElement.addEventListener('contextmenu', onContextMenu, false);\n    scope.domElement.addEventListener('mousedown', onMouseDown, false);\n    scope.domElement.addEventListener('wheel', onMouseWheel, false);\n    scope.domElement.addEventListener('touchstart', onTouchStart, false);\n    scope.domElement.addEventListener('touchend', onTouchEnd, false);\n    scope.domElement.addEventListener('touchmove', onTouchMove, false);\n    window.addEventListener('keydown', onKeyDown, false); // force an update at start\n\n    this.update();\n  }\n\n  ;\n  OrbitControls.prototype = Object.create(THREE.EventDispatcher.prototype);\n  OrbitControls.prototype.constructor = OrbitControls;\n  Object.defineProperties(OrbitControls.prototype, {\n    center: {\n      get: function get() {\n        console.warn('THREE.OrbitControls: .center has been renamed to .target');\n        return this.target;\n      }\n    },\n    // backward compatibility\n    noZoom: {\n      get: function get() {\n        console.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n        return !this.enableZoom;\n      },\n      set: function set(value) {\n        console.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n        this.enableZoom = !value;\n      }\n    },\n    noRotate: {\n      get: function get() {\n        console.warn('THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.');\n        return !this.enableRotate;\n      },\n      set: function set(value) {\n        console.warn('THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.');\n        this.enableRotate = !value;\n      }\n    },\n    noPan: {\n      get: function get() {\n        console.warn('THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.');\n        return !this.enablePan;\n      },\n      set: function set(value) {\n        console.warn('THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.');\n        this.enablePan = !value;\n      }\n    },\n    noKeys: {\n      get: function get() {\n        console.warn('THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.');\n        return !this.enableKeys;\n      },\n      set: function set(value) {\n        console.warn('THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.');\n        this.enableKeys = !value;\n      }\n    },\n    staticMoving: {\n      get: function get() {\n        console.warn('THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.');\n        return !this.enableDamping;\n      },\n      set: function set(value) {\n        console.warn('THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.');\n        this.enableDamping = !value;\n      }\n    },\n    dynamicDampingFactor: {\n      get: function get() {\n        console.warn('THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.');\n        return this.dampingFactor;\n      },\n      set: function set(value) {\n        console.warn('THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.');\n        this.dampingFactor = value;\n      }\n    }\n  });\n  return OrbitControls;\n};","require(\"core-js/modules/es6.date.now\");\n\n/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate) {\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  }\n\n  ;\n\n  var debounced = function debounced() {\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function () {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  debounced.flush = function () {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n}\n\n; // Adds compatibility for ES modules\n\ndebounce.debounce = debounce;\nmodule.exports = debounce;","require('./_typed-array')('Int8', 1, function (init) {\n  return function Int8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","import { Timer } from \"./timer.js\";\nexport default function (callback, delay, time) {\n  var t = new Timer();\n  delay = delay == null ? 0 : +delay;\n  t.restart(function (elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}","import \"core-js/modules/es6.function.name\";\nimport { dispatch } from \"d3-dispatch\";\nimport { timer, timeout } from \"d3-timer\";\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\nexport default function (node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index,\n    // For context during callback.\n    group: group,\n    // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween; // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time); // If the elapsed delay is less than our first sleep, start immediately.\n\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o; // If the state is not SCHEDULED, then we previously errored on start.\n\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue; // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n\n      if (o.state === STARTED) return timeout(start); // Interrupt the active transition, if any.\n\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      } // Cancel any pre-empted transitions.\n      else if (+i < id) {\n          o.state = ENDED;\n          o.timer.stop();\n          o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n          delete schedules[i];\n        }\n    } // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n\n\n    timeout(function () {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    }); // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n\n    self.state = STARTED; // Initialize the tween, deleting null tween.\n\n    tween = new Array(n = self.tween.length);\n\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    } // Dispatch the end event.\n\n\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n\n    for (var i in schedules) {\n      return;\n    } // eslint-disable-line no-unused-vars\n\n\n    delete node.__transition;\n  }\n}","import \"core-js/modules/es6.function.name\";\nimport { STARTING, ENDING, ENDED } from \"./transition/schedule.js\";\nexport default function (node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n  if (!schedules) return;\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) {\n      empty = false;\n      continue;\n    }\n\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}","import \"core-js/modules/es6.function.name\";\nimport { get, set } from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function () {\n    var schedule = set(this, id),\n        tween = schedule.tween; // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error();\n  return function () {\n    var schedule = set(this, id),\n        tween = schedule.tween; // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n\n      for (var t = {\n        name: name,\n        value: value\n      }, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function (name, value) {\n  var id = this._id;\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n  transition.each(function () {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n  return function (node) {\n    return get(node, id).value[name];\n  };\n}","import { color } from \"d3-color\";\nimport { interpolateNumber, interpolateRgb, interpolateString } from \"d3-interpolate\";\nexport default function (a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber : b instanceof color ? interpolateRgb : (c = color(b)) ? (b = c, interpolateRgb) : interpolateString)(a, b);\n}","import { interpolateTransformSvg as interpolateTransform } from \"d3-interpolate\";\nimport { namespace } from \"d3-selection\";\nimport { tweenValue } from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function () {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function () {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function () {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function () {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00, string10, interpolate0;\n  return function () {\n    var string0,\n        value1 = value(this),\n        string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00, string10, interpolate0;\n  return function () {\n    var string0,\n        value1 = value(this),\n        string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function (name, value) {\n  var fullname = namespace(name),\n      i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\" ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value)) : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname) : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}","import { namespace } from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function (t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function (t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n\n  tween._value = value;\n  return tween;\n}\n\nexport default function (name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error();\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}","import { get, init } from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function () {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function () {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function (value) {\n  var id = this._id;\n  return arguments.length ? this.each((typeof value === \"function\" ? delayFunction : delayConstant)(id, value)) : get(this.node(), id).delay;\n}","import { get, set } from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function () {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function () {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function (value) {\n  var id = this._id;\n  return arguments.length ? this.each((typeof value === \"function\" ? durationFunction : durationConstant)(id, value)) : get(this.node(), id).duration;\n}","import { get, set } from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error();\n  return function () {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function (value) {\n  var id = this._id;\n  return arguments.length ? this.each(easeConstant(id, value)) : get(this.node(), id).ease;\n}","import \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.string.trim\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.array.is-array\";\nimport { get, set, init } from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function (t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0,\n      on1,\n      sit = start(name) ? init : set;\n  return function () {\n    var schedule = sit(this, id),\n        on = schedule.on; // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n    schedule.on = on1;\n  };\n}\n\nexport default function (name, listener) {\n  var id = this._id;\n  return arguments.length < 2 ? get(this.node(), id).on.on(name) : this.each(onFunction(id, name, listener));\n}","function removeFunction(id) {\n  return function () {\n    var parent = this.parentNode;\n\n    for (var i in this.__transition) {\n      if (+i !== id) return;\n    }\n\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function () {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}","import { selection } from \"d3-selection\";\nvar Selection = selection.prototype.constructor;\nexport default function () {\n  return new Selection(this._groups, this._parents);\n}","import { interpolateTransformCss as interpolateTransform } from \"d3-interpolate\";\nimport { style } from \"d3-selection\";\nimport { set } from \"./schedule.js\";\nimport { tweenValue } from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00, string10, interpolate0;\n  return function () {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function () {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function () {\n    var string0 = style(this, name);\n    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00, string10, interpolate0;\n  return function () {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0,\n      on1,\n      listener0,\n      key = \"style.\" + name,\n      event = \"end.\" + key,\n      remove;\n  return function () {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined; // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n    schedule.on = on1;\n  };\n}\n\nexport default function (name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this.styleTween(name, styleNull(name, i)).on(\"end.style.\" + name, styleRemove(name)) : typeof value === \"function\" ? this.styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value))).each(styleMaybeRemove(this._id, name)) : this.styleTween(name, styleConstant(name, i, value), priority).on(\"end.style.\" + name, null);\n}","function styleInterpolate(name, i, priority) {\n  return function (t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n\n  tween._value = value;\n  return tween;\n}\n\nexport default function (name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error();\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}","function textInterpolate(i) {\n  return function (t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n\n  tween._value = value;\n  return tween;\n}\n\nexport default function (value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error();\n  return this.tween(key, textTween(value));\n}","import { selection } from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\nvar id = 0;\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\nexport default function transition(name) {\n  return selection().transition(name);\n}\nexport function newId() {\n  return ++id;\n}\nvar selection_prototype = selection.prototype;\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  end: transition_end\n};","import { selector } from \"d3-selection\";\nimport { Transition } from \"./index.js\";\nimport schedule, { get } from \"./schedule.js\";\nexport default function (select) {\n  var name = this._name,\n      id = this._id;\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}","import { selectorAll } from \"d3-selection\";\nimport { Transition } from \"./index.js\";\nimport schedule, { get } from \"./schedule.js\";\nexport default function (select) {\n  var name = this._name,\n      id = this._id;\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}","import { matcher } from \"d3-selection\";\nimport { Transition } from \"./index.js\";\nexport default function (match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}","import { Transition } from \"./index.js\";\nexport default function (transition) {\n  if (transition._id !== this._id) throw new Error();\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}","import { Transition, newId } from \"./index.js\";\nimport schedule, { get } from \"./schedule.js\";\nexport default function () {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}","import { tweenValue } from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function () {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function () {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function (value) {\n  return this.tween(\"text\", typeof value === \"function\" ? textFunction(tweenValue(this, \"text\", value)) : textConstant(value == null ? \"\" : value + \"\"));\n}","import \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.to-string\";\nimport { set } from \"./schedule.js\";\nexport default function () {\n  var on0,\n      on1,\n      that = this,\n      id = that._id,\n      size = that.size();\n  return new Promise(function (resolve, reject) {\n    var cancel = {\n      value: reject\n    },\n        end = {\n      value: function value() {\n        if (--size === 0) resolve();\n      }\n    };\n    that.each(function () {\n      var schedule = set(this, id),\n          on = schedule.on; // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and were done!\n      // Otherwise, copy-on-write.\n\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n\n        on1._.cancel.push(cancel);\n\n        on1._.interrupt.push(cancel);\n\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n  });\n}","import { Transition, newId } from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport { easeCubicInOut } from \"d3-ease\";\nimport { now } from \"d3-timer\";\nvar defaultTiming = {\n  time: null,\n  // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n\n  return timing;\n}\n\nexport default function (name) {\n  var id, timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}","export function cubicIn(t) {\n  return t * t * t;\n}\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}","import { selection } from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;","import interrupt from \"../interrupt.js\";\nexport default function (name) {\n  return this.each(function () {\n    interrupt(this, name);\n  });\n}","var fetchScript = require('../../lib/fetch-script')();\n\nvar LOADER_SRC = 'https://cdn.jsdelivr.net/gh/mrdoob/three.js@r86/examples/js/loaders/GLTFLoader.js';\n\nvar loadLoader = function () {\n  var promise;\n  return function () {\n    promise = promise || fetchScript(LOADER_SRC);\n    return promise;\n  };\n}();\n/**\n * Legacy loader for glTF 1.0 models.\n * Asynchronously loads THREE.GLTFLoader from jsdelivr.\n */\n\n\nmodule.exports = AFRAME.registerComponent('gltf-model-legacy', {\n  schema: {\n    type: 'model'\n  },\n  init: function init() {\n    var _this = this;\n\n    this.model = null;\n    this.loader = null;\n    this.loaderPromise = loadLoader().then(function () {\n      _this.loader = new THREE.GLTFLoader();\n\n      _this.loader.setCrossOrigin('Anonymous');\n    });\n  },\n  update: function update() {\n    var _this2 = this;\n\n    var self = this;\n    var el = this.el;\n    var src = this.data;\n\n    if (!src) {\n      return;\n    }\n\n    this.remove();\n    this.loaderPromise.then(function () {\n      _this2.loader.load(src, function gltfLoaded(gltfModel) {\n        self.model = gltfModel.scene;\n        self.model.animations = gltfModel.animations;\n        el.setObject3D('mesh', self.model);\n        el.emit('model-loaded', {\n          format: 'gltf',\n          model: self.model\n        });\n      });\n    });\n  },\n  remove: function remove() {\n    if (!this.model) {\n      return;\n    }\n\n    this.el.removeObject3D('mesh');\n  }\n});","module.exports = require('./lib/bezier');","import { select } from \"d3-selection\";\nimport noevent from \"./noevent.js\";\nexport default function (view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, true);\n\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function () {\n      selection.on(\"click.drag\", null);\n    }, 0);\n  }\n\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}","'use strict';\n// B.2.3.10 String.prototype.link(url)\nrequire('./_string-html')('link', function (createHTML) {\n  return function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  };\n});\n","/**\n * Performs forces integration, using given timestep. Uses Euler method to solve\n * differential equation (http://en.wikipedia.org/wiki/Euler_method ).\n *\n * @returns {Number} squared distance of total position updates.\n */\nmodule.exports = integrate;\n\nfunction integrate(bodies, timeStep) {\n  var dx = 0,\n      tx = 0,\n      dy = 0,\n      ty = 0,\n      i,\n      max = bodies.length;\n\n  if (max === 0) {\n    return 0;\n  }\n\n  for (i = 0; i < max; ++i) {\n    var body = bodies[i],\n        coeff = timeStep / body.mass;\n    body.velocity.x += coeff * body.force.x;\n    body.velocity.y += coeff * body.force.y;\n    var vx = body.velocity.x,\n        vy = body.velocity.y,\n        v = Math.sqrt(vx * vx + vy * vy);\n\n    if (v > 1) {\n      // We normalize it so that we move within timeStep range. \n      // for the case when v <= 1 - we let velocity to fade out.\n      body.velocity.x = vx / v;\n      body.velocity.y = vy / v;\n    }\n\n    dx = timeStep * body.velocity.x;\n    dy = timeStep * body.velocity.y;\n    body.pos.x += dx;\n    body.pos.y += dy;\n    tx += Math.abs(dx);\n    ty += Math.abs(dy);\n  }\n\n  return (tx * tx + ty * ty) / max;\n}","import \"core-js/modules/es6.map\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.set\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.regexp.search\";\nimport \"core-js/modules/es6.string.sub\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.number.constructor\";\n\nvar e = function e() {};\n\ne.computeCentroids = function (e) {\n  var t, n, r;\n\n  for (t = 0, n = e.faces.length; t < n; t++) {\n    (r = e.faces[t]).centroid = new THREE.Vector3(0, 0, 0), r.centroid.add(e.vertices[r.a]), r.centroid.add(e.vertices[r.b]), r.centroid.add(e.vertices[r.c]), r.centroid.divideScalar(3);\n  }\n}, e.roundNumber = function (e, t) {\n  return Number(e.toFixed(t));\n}, e.sample = function (e) {\n  return e[Math.floor(Math.random() * e.length)];\n}, e.mergeVertexIds = function (e, t) {\n  var n = [];\n  if (e.forEach(function (e) {\n    t.indexOf(e) >= 0 && n.push(e);\n  }), n.length < 2) return [];\n  n.includes(e[0]) && n.includes(e[e.length - 1]) && e.push(e.shift()), n.includes(t[0]) && n.includes(t[t.length - 1]) && t.push(t.shift()), n = [], e.forEach(function (e) {\n    t.includes(e) && n.push(e);\n  });\n\n  for (var r = n[1], o = n[0], i = e.slice(); i[0] !== r;) {\n    i.push(i.shift());\n  }\n\n  for (var s = 0, u = t.slice(); u[0] !== o;) {\n    if (u.push(u.shift()), s++ > 10) throw new Error(\"Unexpected state\");\n  }\n\n  return u.shift(), u.pop(), i = i.concat(u);\n}, e.setPolygonCentroid = function (e, t) {\n  var n = new THREE.Vector3(),\n      r = t.vertices;\n  e.vertexIds.forEach(function (e) {\n    n.add(r[e]);\n  }), n.divideScalar(e.vertexIds.length), e.centroid.copy(n);\n}, e.cleanPolygon = function (e, t) {\n  for (var n = [], r = t.vertices, o = 0; o < e.vertexIds.length; o++) {\n    var i,\n        s,\n        u,\n        c = r[e.vertexIds[o]];\n    0 === o ? (i = e.vertexIds[1], s = e.vertexIds[e.vertexIds.length - 1]) : o === e.vertexIds.length - 1 ? (i = e.vertexIds[0], s = e.vertexIds[e.vertexIds.length - 2]) : (i = e.vertexIds[o + 1], s = e.vertexIds[o - 1]), u = r[s];\n    var h = r[i].clone().sub(c),\n        a = u.clone().sub(c),\n        d = h.angleTo(a);\n\n    if (d > Math.PI - .01 && d < Math.PI + .01) {\n      var f = [];\n      e.neighbours.forEach(function (t) {\n        t.vertexIds.includes(e.vertexIds[o]) || f.push(t);\n      }), e.neighbours = f;\n    } else n.push(e.vertexIds[o]);\n  }\n\n  e.vertexIds = n, this.setPolygonCentroid(e, t);\n}, e.isConvex = function (e, t) {\n  var n = t.vertices;\n  if (e.vertexIds.length < 3) return !1;\n\n  for (var r = !0, o = [], i = 0; i < e.vertexIds.length; i++) {\n    var s,\n        u,\n        c = n[e.vertexIds[i]];\n    0 === i ? (s = n[e.vertexIds[1]], u = n[e.vertexIds[e.vertexIds.length - 1]]) : i === e.vertexIds.length - 1 ? (s = n[e.vertexIds[0]], u = n[e.vertexIds[e.vertexIds.length - 2]]) : (s = n[e.vertexIds[i + 1]], u = n[e.vertexIds[i - 1]]);\n    var h = s.clone().sub(c),\n        a = u.clone().sub(c),\n        d = h.angleTo(a);\n    if (d === Math.PI || 0 === d) return !1;\n    var f = h.cross(a).y;\n    o.push(f);\n  }\n\n  return o.forEach(function (e) {\n    0 === e && (r = !1);\n  }), o.forEach(o[0] > 0 ? function (e) {\n    e < 0 && (r = !1);\n  } : function (e) {\n    e > 0 && (r = !1);\n  }), r;\n}, e.distanceToSquared = function (e, t) {\n  var n = e.x - t.x,\n      r = e.y - t.y,\n      o = e.z - t.z;\n  return n * n + r * r + o * o;\n}, e.isPointInPoly = function (e, t) {\n  for (var n = !1, r = -1, o = e.length, i = o - 1; ++r < o; i = r) {\n    (e[r].z <= t.z && t.z < e[i].z || e[i].z <= t.z && t.z < e[r].z) && t.x < (e[i].x - e[r].x) * (t.z - e[r].z) / (e[i].z - e[r].z) + e[r].x && (n = !n);\n  }\n\n  return n;\n}, e.isVectorInPolygon = function (e, t, n) {\n  var r = 1e5,\n      o = -1e5,\n      i = [];\n  return t.vertexIds.forEach(function (e) {\n    r = Math.min(n[e].y, r), o = Math.max(n[e].y, o), i.push(n[e]);\n  }), !!(e.y < o + .5 && e.y > r - .5 && this.isPointInPoly(i, e));\n}, e.triarea2 = function (e, t, n) {\n  return (n.x - e.x) * (t.z - e.z) - (t.x - e.x) * (n.z - e.z);\n}, e.vequal = function (e, t) {\n  return this.distanceToSquared(e, t) < 1e-5;\n};\n\nvar t = function t(e) {\n  this.content = [], this.scoreFunction = e;\n};\n\nt.prototype.push = function (e) {\n  this.content.push(e), this.sinkDown(this.content.length - 1);\n}, t.prototype.pop = function () {\n  var e = this.content[0],\n      t = this.content.pop();\n  return this.content.length > 0 && (this.content[0] = t, this.bubbleUp(0)), e;\n}, t.prototype.remove = function (e) {\n  var t = this.content.indexOf(e),\n      n = this.content.pop();\n  t !== this.content.length - 1 && (this.content[t] = n, this.scoreFunction(n) < this.scoreFunction(e) ? this.sinkDown(t) : this.bubbleUp(t));\n}, t.prototype.size = function () {\n  return this.content.length;\n}, t.prototype.rescoreElement = function (e) {\n  this.sinkDown(this.content.indexOf(e));\n}, t.prototype.sinkDown = function (e) {\n  for (var t = this.content[e]; e > 0;) {\n    var n = (e + 1 >> 1) - 1,\n        r = this.content[n];\n    if (!(this.scoreFunction(t) < this.scoreFunction(r))) break;\n    this.content[n] = t, this.content[e] = r, e = n;\n  }\n}, t.prototype.bubbleUp = function (e) {\n  for (var t = this.content.length, n = this.content[e], r = this.scoreFunction(n);;) {\n    var o = e + 1 << 1,\n        i = o - 1,\n        s = null,\n        u = void 0;\n    if (i < t) (u = this.scoreFunction(this.content[i])) < r && (s = i);\n    if (o < t) this.scoreFunction(this.content[o]) < (null === s ? r : u) && (s = o);\n    if (null === s) break;\n    this.content[e] = this.content[s], this.content[s] = n, e = s;\n  }\n};\n\nvar n = function n() {};\n\nn.init = function (e) {\n  for (var t = 0; t < e.length; t++) {\n    var n = e[t];\n    n.f = 0, n.g = 0, n.h = 0, n.cost = 1, n.visited = !1, n.closed = !1, n.parent = null;\n  }\n}, n.cleanUp = function (e) {\n  for (var t = 0; t < e.length; t++) {\n    var n = e[t];\n    delete n.f, delete n.g, delete n.h, delete n.cost, delete n.visited, delete n.closed, delete n.parent;\n  }\n}, n.heap = function () {\n  return new t(function (e) {\n    return e.f;\n  });\n}, n.search = function (e, t, n) {\n  this.init(e);\n  var r = this.heap();\n\n  for (r.push(t); r.size() > 0;) {\n    var o = r.pop();\n\n    if (o === n) {\n      for (var i = o, s = []; i.parent;) {\n        s.push(i), i = i.parent;\n      }\n\n      return this.cleanUp(s), s.reverse();\n    }\n\n    o.closed = !0;\n\n    for (var u = this.neighbours(e, o), c = 0, h = u.length; c < h; c++) {\n      var a = u[c];\n\n      if (!a.closed) {\n        var d = o.g + a.cost,\n            f = a.visited;\n\n        if (!f || d < a.g) {\n          if (a.visited = !0, a.parent = o, !a.centroid || !n.centroid) throw new Error(\"Unexpected state\");\n          a.h = a.h || this.heuristic(a.centroid, n.centroid), a.g = d, a.f = a.g + a.h, f ? r.rescoreElement(a) : r.push(a);\n        }\n      }\n    }\n  }\n\n  return [];\n}, n.heuristic = function (t, n) {\n  return e.distanceToSquared(t, n);\n}, n.neighbours = function (e, t) {\n  for (var n = [], r = 0; r < t.neighbours.length; r++) {\n    n.push(e[t.neighbours[r]]);\n  }\n\n  return n;\n};\n\nvar r = 1,\n    o = function o() {};\n\no.buildZone = function (t) {\n  var n = this,\n      r = this._buildNavigationMesh(t),\n      o = {};\n\n  r.vertices.forEach(function (t) {\n    t.x = e.roundNumber(t.x, 2), t.y = e.roundNumber(t.y, 2), t.z = e.roundNumber(t.z, 2);\n  }), o.vertices = r.vertices;\n\n  var i = this._buildPolygonGroups(r);\n\n  o.groups = [];\n\n  var s = function s(e, t) {\n    for (var n = 0; n < e.length; n++) {\n      if (t === e[n]) return n;\n    }\n  };\n\n  return i.forEach(function (t) {\n    var r = [];\n    t.forEach(function (o) {\n      var i = o.neighbours.map(function (e) {\n        return s(t, e);\n      }),\n          u = o.neighbours.map(function (e) {\n        return n._getSharedVerticesInOrder(o, e);\n      });\n      o.centroid.x = e.roundNumber(o.centroid.x, 2), o.centroid.y = e.roundNumber(o.centroid.y, 2), o.centroid.z = e.roundNumber(o.centroid.z, 2), r.push({\n        id: s(t, o),\n        neighbours: i,\n        vertexIds: o.vertexIds,\n        centroid: o.centroid,\n        portals: u\n      });\n    }), o.groups.push(r);\n  }), o;\n}, o._buildNavigationMesh = function (t) {\n  return e.computeCentroids(t), t.mergeVertices(), this._buildPolygonsFromGeometry(t);\n}, o._buildPolygonGroups = function (e) {\n  var t = [],\n      n = 0,\n      r = function r(e) {\n    e.neighbours.forEach(function (t) {\n      void 0 === t.group && (t.group = e.group, r(t));\n    });\n  };\n\n  return e.polygons.forEach(function (e) {\n    void 0 === e.group && (e.group = n++, r(e)), t[e.group] || (t[e.group] = []), t[e.group].push(e);\n  }), t;\n}, o._buildPolygonNeighbours = function (e, t, n) {\n  var r = new Set(),\n      o = n.get(e.vertexIds[0]),\n      i = n.get(e.vertexIds[1]),\n      s = n.get(e.vertexIds[2]);\n  o.forEach(function (e) {\n    (i.has(e) || s.has(e)) && r.add(t.polygons[e]);\n  }), i.forEach(function (e) {\n    s.has(e) && r.add(t.polygons[e]);\n  }), e.neighbours = Array.from(r);\n}, o._buildPolygonsFromGeometry = function (e) {\n  for (var t = this, n = [], o = e.vertices, i = e.faceVertexUvs, s = new Map(), u = 0; u < o.length; u++) {\n    s.set(u, new Set());\n  }\n\n  e.faces.forEach(function (e) {\n    n.push({\n      id: r++,\n      vertexIds: [e.a, e.b, e.c],\n      centroid: e.centroid,\n      normal: e.normal,\n      neighbours: []\n    }), s.get(e.a).add(n.length - 1), s.get(e.b).add(n.length - 1), s.get(e.c).add(n.length - 1);\n  });\n  var c = {\n    polygons: n,\n    vertices: o,\n    faceVertexUvs: i\n  };\n  return n.forEach(function (e) {\n    t._buildPolygonNeighbours(e, c, s);\n  }), c;\n}, o._getSharedVerticesInOrder = function (e, t) {\n  var n = e.vertexIds,\n      r = t.vertexIds,\n      o = new Set();\n  if (n.forEach(function (e) {\n    r.includes(e) && o.add(e);\n  }), o.size < 2) return [];\n  o.has(n[0]) && o.has(n[n.length - 1]) && n.push(n.shift()), o.has(r[0]) && o.has(r[r.length - 1]) && r.push(r.shift());\n  var i = [];\n  return n.forEach(function (e) {\n    r.includes(e) && i.push(e);\n  }), i;\n};\n\nvar i = function i() {\n  this.portals = [];\n};\n\ni.prototype.push = function (e, t) {\n  void 0 === t && (t = e), this.portals.push({\n    left: e,\n    right: t\n  });\n}, i.prototype.stringPull = function () {\n  var t,\n      n,\n      r,\n      o = this.portals,\n      i = [],\n      s = 0,\n      u = 0,\n      c = 0;\n  n = o[0].left, r = o[0].right, i.push(t = o[0].left);\n\n  for (var h = 1; h < o.length; h++) {\n    var a = o[h].left,\n        d = o[h].right;\n\n    if (e.triarea2(t, r, d) <= 0) {\n      if (!(e.vequal(t, r) || e.triarea2(t, n, d) > 0)) {\n        i.push(n), n = t = n, r = t, u = s = u, c = s, h = s;\n        continue;\n      }\n\n      r = d, c = h;\n    }\n\n    if (e.triarea2(t, n, a) >= 0) {\n      if (!(e.vequal(t, n) || e.triarea2(t, r, a) < 0)) {\n        i.push(r), n = t = r, r = t, u = s = c, c = s, h = s;\n        continue;\n      }\n\n      n = a, u = h;\n    }\n  }\n\n  return 0 !== i.length && e.vequal(i[i.length - 1], o[o.length - 1].left) || i.push(o[o.length - 1].left), this.path = i, i;\n};\n\nvar s,\n    u,\n    c,\n    h,\n    a,\n    d,\n    f = function f() {\n  this.zones = {};\n};\n\nf.createZone = function (e) {\n  return o.buildZone(e);\n}, f.prototype.setZoneData = function (e, t) {\n  this.zones[e] = t;\n}, f.prototype.getGroup = function (t, n) {\n  if (!this.zones[t]) return null;\n  var r = null,\n      o = Math.pow(50, 2);\n  return this.zones[t].groups.forEach(function (t, i) {\n    t.forEach(function (t) {\n      var s = e.distanceToSquared(t.centroid, n);\n      s < o && (r = i, o = s);\n    });\n  }), r;\n}, f.prototype.getRandomNode = function (t, n, r, o) {\n  if (!this.zones[t]) return new THREE.Vector3();\n  r = r || null, o = o || 0;\n  var i = [];\n  return this.zones[t].groups[n].forEach(function (t) {\n    r && o ? e.distanceToSquared(r, t.centroid) < o * o && i.push(t.centroid) : i.push(t.centroid);\n  }), e.sample(i) || new THREE.Vector3();\n}, f.prototype.getClosestNode = function (t, n, r, o) {\n  void 0 === o && (o = !1);\n  var i = this.zones[n].vertices,\n      s = null,\n      u = Infinity;\n  return this.zones[n].groups[r].forEach(function (n) {\n    var r = e.distanceToSquared(n.centroid, t);\n    r < u && (!o || e.isVectorInPolygon(t, n, i)) && (s = n, u = r);\n  }), s;\n}, f.prototype.findPath = function (e, t, r, o) {\n  var s = this.zones[r].groups[o],\n      u = this.zones[r].vertices,\n      c = this.getClosestNode(e, r, o),\n      h = this.getClosestNode(t, r, o, !0);\n  if (!c || !h) return null;\n\n  var a = n.search(s, c, h),\n      d = function d(e, t) {\n    for (var n = 0; n < e.neighbours.length; n++) {\n      if (e.neighbours[n] === t.id) return e.portals[n];\n    }\n  },\n      f = new i();\n\n  f.push(e);\n\n  for (var l = 0; l < a.length; l++) {\n    var v = a[l + 1];\n\n    if (v) {\n      var p = d(a[l], v);\n      f.push(u[p[0]], u[p[1]]);\n    }\n  }\n\n  f.push(t), f.stringPull();\n  var g = f.path.map(function (e) {\n    return new THREE.Vector3(e.x, e.y, e.z);\n  });\n  return g.shift(), g;\n}, f.prototype.clampStep = (c = new THREE.Vector3(), h = new THREE.Plane(), a = new THREE.Triangle(), d = new THREE.Vector3(), function (e, t, n, r, o, i) {\n  var f = this.zones[r].vertices,\n      l = this.zones[r].groups[o],\n      v = [n],\n      p = {};\n  p[n.id] = 0, s = void 0, d.set(0, 0, 0), u = Infinity, h.setFromCoplanarPoints(f[n.vertexIds[0]], f[n.vertexIds[1]], f[n.vertexIds[2]]), h.projectPoint(t, c), t.copy(c);\n\n  for (var g = v.pop(); g; g = v.pop()) {\n    a.set(f[g.vertexIds[0]], f[g.vertexIds[1]], f[g.vertexIds[2]]), a.closestPointToPoint(t, c), c.distanceToSquared(t) < u && (s = g, d.copy(c), u = c.distanceToSquared(t));\n    var x = p[g];\n    if (!(x > 2)) for (var I = 0; I < g.neighbours.length; I++) {\n      var b = l[g.neighbours[I]];\n      b.id in p || (v.push(b), p[b.id] = x + 1);\n    }\n  }\n\n  return i.copy(d), s;\n});\nexport { f as Pathfinding };","require(\"core-js/modules/es6.array.index-of\");\n\n/**\n * Manages a simulation of physical forces acting on bodies and springs.\n */\nmodule.exports = physicsSimulator;\n\nfunction physicsSimulator(settings) {\n  var Spring = require('./lib/spring');\n\n  var expose = require('ngraph.expose');\n\n  var merge = require('ngraph.merge');\n\n  var eventify = require('ngraph.events');\n\n  settings = merge(settings, {\n    /**\n     * Ideal length for links (springs in physical model).\n     */\n    springLength: 30,\n\n    /**\n     * Hook's law coefficient. 1 - solid spring.\n     */\n    springCoeff: 0.0008,\n\n    /**\n     * Coulomb's law coefficient. It's used to repel nodes thus should be negative\n     * if you make it positive nodes start attract each other :).\n     */\n    gravity: -1.2,\n\n    /**\n     * Theta coefficient from Barnes Hut simulation. Ranged between (0, 1).\n     * The closer it's to 1 the more nodes algorithm will have to go through.\n     * Setting it to one makes Barnes Hut simulation no different from\n     * brute-force forces calculation (each node is considered).\n     */\n    theta: 0.8,\n\n    /**\n     * Drag force coefficient. Used to slow down system, thus should be less than 1.\n     * The closer it is to 0 the less tight system will be.\n     */\n    dragCoeff: 0.02,\n\n    /**\n     * Default time step (dt) for forces integration\n     */\n    timeStep: 20\n  }); // We allow clients to override basic factory methods:\n\n  var createQuadTree = settings.createQuadTree || require('ngraph.quadtreebh');\n\n  var createBounds = settings.createBounds || require('./lib/bounds');\n\n  var createDragForce = settings.createDragForce || require('./lib/dragForce');\n\n  var createSpringForce = settings.createSpringForce || require('./lib/springForce');\n\n  var integrate = settings.integrator || require('./lib/eulerIntegrator');\n\n  var createBody = settings.createBody || require('./lib/createBody');\n\n  var bodies = [],\n      // Bodies in this simulation.\n  springs = [],\n      // Springs in this simulation.\n  quadTree = createQuadTree(settings),\n      bounds = createBounds(bodies, settings),\n      springForce = createSpringForce(settings),\n      dragForce = createDragForce(settings);\n  var bboxNeedsUpdate = true;\n  var totalMovement = 0; // how much movement we made on last step\n\n  var publicApi = {\n    /**\n     * Array of bodies, registered with current simulator\n     *\n     * Note: To add new body, use addBody() method. This property is only\n     * exposed for testing/performance purposes.\n     */\n    bodies: bodies,\n    quadTree: quadTree,\n\n    /**\n     * Array of springs, registered with current simulator\n     *\n     * Note: To add new spring, use addSpring() method. This property is only\n     * exposed for testing/performance purposes.\n     */\n    springs: springs,\n\n    /**\n     * Returns settings with which current simulator was initialized\n     */\n    settings: settings,\n\n    /**\n     * Performs one step of force simulation.\n     *\n     * @returns {boolean} true if system is considered stable; False otherwise.\n     */\n    step: function step() {\n      accumulateForces();\n      var movement = integrate(bodies, settings.timeStep);\n      bounds.update();\n      return movement;\n    },\n\n    /**\n     * Adds body to the system\n     *\n     * @param {ngraph.physics.primitives.Body} body physical body\n     *\n     * @returns {ngraph.physics.primitives.Body} added body\n     */\n    addBody: function addBody(body) {\n      if (!body) {\n        throw new Error('Body is required');\n      }\n\n      bodies.push(body);\n      return body;\n    },\n\n    /**\n     * Adds body to the system at given position\n     *\n     * @param {Object} pos position of a body\n     *\n     * @returns {ngraph.physics.primitives.Body} added body\n     */\n    addBodyAt: function addBodyAt(pos) {\n      if (!pos) {\n        throw new Error('Body position is required');\n      }\n\n      var body = createBody(pos);\n      bodies.push(body);\n      return body;\n    },\n\n    /**\n     * Removes body from the system\n     *\n     * @param {ngraph.physics.primitives.Body} body to remove\n     *\n     * @returns {Boolean} true if body found and removed. falsy otherwise;\n     */\n    removeBody: function removeBody(body) {\n      if (!body) {\n        return;\n      }\n\n      var idx = bodies.indexOf(body);\n\n      if (idx < 0) {\n        return;\n      }\n\n      bodies.splice(idx, 1);\n\n      if (bodies.length === 0) {\n        bounds.reset();\n      }\n\n      return true;\n    },\n\n    /**\n     * Adds a spring to this simulation.\n     *\n     * @returns {Object} - a handle for a spring. If you want to later remove\n     * spring pass it to removeSpring() method.\n     */\n    addSpring: function addSpring(body1, body2, springLength, springWeight, springCoefficient) {\n      if (!body1 || !body2) {\n        throw new Error('Cannot add null spring to force simulator');\n      }\n\n      if (typeof springLength !== 'number') {\n        springLength = -1; // assume global configuration\n      }\n\n      var spring = new Spring(body1, body2, springLength, springCoefficient >= 0 ? springCoefficient : -1, springWeight);\n      springs.push(spring); // TODO: could mark simulator as dirty.\n\n      return spring;\n    },\n\n    /**\n     * Returns amount of movement performed on last step() call\n     */\n    getTotalMovement: function getTotalMovement() {\n      return totalMovement;\n    },\n\n    /**\n     * Removes spring from the system\n     *\n     * @param {Object} spring to remove. Spring is an object returned by addSpring\n     *\n     * @returns {Boolean} true if spring found and removed. falsy otherwise;\n     */\n    removeSpring: function removeSpring(spring) {\n      if (!spring) {\n        return;\n      }\n\n      var idx = springs.indexOf(spring);\n\n      if (idx > -1) {\n        springs.splice(idx, 1);\n        return true;\n      }\n    },\n    getBestNewBodyPosition: function getBestNewBodyPosition(neighbors) {\n      return bounds.getBestNewPosition(neighbors);\n    },\n\n    /**\n     * Returns bounding box which covers all bodies\n     */\n    getBBox: function getBBox() {\n      if (bboxNeedsUpdate) {\n        bounds.update();\n        bboxNeedsUpdate = false;\n      }\n\n      return bounds.box;\n    },\n    invalidateBBox: function invalidateBBox() {\n      bboxNeedsUpdate = true;\n    },\n    gravity: function gravity(value) {\n      if (value !== undefined) {\n        settings.gravity = value;\n        quadTree.options({\n          gravity: value\n        });\n        return this;\n      } else {\n        return settings.gravity;\n      }\n    },\n    theta: function theta(value) {\n      if (value !== undefined) {\n        settings.theta = value;\n        quadTree.options({\n          theta: value\n        });\n        return this;\n      } else {\n        return settings.theta;\n      }\n    }\n  }; // allow settings modification via public API:\n\n  expose(settings, publicApi);\n  eventify(publicApi);\n  return publicApi;\n\n  function accumulateForces() {\n    // Accumulate forces acting on bodies.\n    var body,\n        i = bodies.length;\n\n    if (i) {\n      // only add bodies if there the array is not empty:\n      quadTree.insertBodies(bodies); // performance: O(n * log n)\n\n      while (i--) {\n        body = bodies[i]; // If body is pinned there is no point updating its forces - it should\n        // never move:\n\n        if (!body.isPinned) {\n          body.force.reset();\n          quadTree.updateBodyForce(body);\n          dragForce.update(body);\n        }\n      }\n    }\n\n    i = springs.length;\n\n    while (i--) {\n      springForce.update(springs[i]);\n    }\n  }\n}\n\n;","import \"core-js/modules/es6.array.some\";\nimport \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es6.array.reduce\";\nimport \"core-js/modules/es6.array.last-index-of\";\nimport \"core-js/modules/es6.set\";\nimport \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.map\";\nimport \"core-js/modules/es6.typed.uint32-array\";\nimport \"core-js/modules/es6.string.trim\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.object.freeze\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.object.assign\";\nimport { typeOf, isElement, isValidElementType } from 'react-is';\nimport React, { useState, useContext, useMemo, useEffect, useRef, createElement, useDebugValue } from 'react';\nimport shallowequal from 'shallowequal';\nimport Stylis from '@emotion/stylis';\nimport unitless from '@emotion/unitless';\nimport validAttr from '@emotion/is-prop-valid';\nimport hoist from 'hoist-non-react-statics';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n} // \n\n\nvar interleave = function interleave(strings, interpolations) {\n  var result = [strings[0]];\n\n  for (var i = 0, len = interpolations.length; i < len; i += 1) {\n    result.push(interpolations[i], strings[i + 1]);\n  }\n\n  return result;\n}; // \n\n\nvar isPlainObject = function isPlainObject(x) {\n  return x !== null && typeof x === 'object' && (x.toString ? x.toString() : Object.prototype.toString.call(x)) === '[object Object]' && !typeOf(x);\n}; // \n\n\nvar EMPTY_ARRAY = Object.freeze([]);\nvar EMPTY_OBJECT = Object.freeze({}); // \n\nfunction isFunction(test) {\n  return typeof test === 'function';\n} // \n\n\nfunction getComponentName(target) {\n  return (process.env.NODE_ENV !== 'production' ? typeof target === 'string' && target : false) || // $FlowFixMe\n  target.displayName || // $FlowFixMe\n  target.name || 'Component';\n} // \n\n\nfunction isStatelessFunction(test) {\n  return typeof test === 'function' && !(test.prototype && test.prototype.isReactComponent);\n} // \n\n\nfunction isStyledComponent(target) {\n  return target && typeof target.styledComponentId === 'string';\n} // \n\n\nvar SC_ATTR = typeof process !== 'undefined' && (process.env.REACT_APP_SC_ATTR || process.env.SC_ATTR) || 'data-styled';\nvar SC_ATTR_ACTIVE = 'active';\nvar SC_ATTR_VERSION = 'data-styled-version';\nvar SC_VERSION = \"5.1.0\";\nvar SPLITTER = '/*!sc*/\\n';\nvar IS_BROWSER = typeof window !== 'undefined' && 'HTMLElement' in window;\nvar DISABLE_SPEEDY = typeof SC_DISABLE_SPEEDY === 'boolean' && SC_DISABLE_SPEEDY || typeof process !== 'undefined' && (process.env.REACT_APP_SC_DISABLE_SPEEDY || process.env.SC_DISABLE_SPEEDY) || process.env.NODE_ENV !== 'production'; // Shared empty execution context when generating static styles\n\nvar STATIC_EXECUTION_CONTEXT = {}; // \n\n/* eslint-disable camelcase, no-undef */\n\nvar getNonce = function getNonce() {\n  return typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n};\n\nvar errorMap = {\n  \"1\": \"Cannot create styled-component for component: %s.\\n\\n\",\n  \"2\": \"Can't collect styles once you've consumed a `ServerStyleSheet`'s styles! `ServerStyleSheet` is a one off instance for each server-side render cycle.\\n\\n- Are you trying to reuse it across renders?\\n- Are you accidentally calling collectStyles twice?\\n\\n\",\n  \"3\": \"Streaming SSR is only supported in a Node.js environment; Please do not try to call this method in the browser.\\n\\n\",\n  \"4\": \"The `StyleSheetManager` expects a valid target or sheet prop!\\n\\n- Does this error occur on the client and is your target falsy?\\n- Does this error occur on the server and is the sheet falsy?\\n\\n\",\n  \"5\": \"The clone method cannot be used on the client!\\n\\n- Are you running in a client-like environment on the server?\\n- Are you trying to run SSR on the client?\\n\\n\",\n  \"6\": \"Trying to insert a new style tag, but the given Node is unmounted!\\n\\n- Are you using a custom target that isn't mounted?\\n- Does your document not have a valid head element?\\n- Have you accidentally removed a style tag manually?\\n\\n\",\n  \"7\": \"ThemeProvider: Please return an object from your \\\"theme\\\" prop function, e.g.\\n\\n```js\\ntheme={() => ({})}\\n```\\n\\n\",\n  \"8\": \"ThemeProvider: Please make your \\\"theme\\\" prop an object.\\n\\n\",\n  \"9\": \"Missing document `<head>`\\n\\n\",\n  \"10\": \"Cannot find a StyleSheet instance. Usually this happens if there are multiple copies of styled-components loaded at once. Check out this issue for how to troubleshoot and fix the common cases where this situation can happen: https://github.com/styled-components/styled-components/issues/1941#issuecomment-417862021\\n\\n\",\n  \"11\": \"_This error was replaced with a dev-time warning, it will be deleted for v4 final._ [createGlobalStyle] received children which will not be rendered. Please use the component without passing children elements.\\n\\n\",\n  \"12\": \"It seems you are interpolating a keyframe declaration (%s) into an untagged string. This was supported in styled-components v3, but is not longer supported in v4 as keyframes are now injected on-demand. Please wrap your string in the css\\\\`\\\\` helper which ensures the styles are injected correctly. See https://www.styled-components.com/docs/api#css\\n\\n\",\n  \"13\": \"%s is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.\\n\\n\",\n  \"14\": \"ThemeProvider: \\\"theme\\\" prop is required.\\n\\n\",\n  \"15\": \"A stylis plugin has been supplied that is not named. We need a name for each plugin to be able to prevent styling collisions between different stylis configurations within the same app. Before you pass your plugin to `<StyleSheetManager stylisPlugins={[]}>`, please make sure each plugin is uniquely-named, e.g.\\n\\n```js\\nObject.defineProperty(importedPlugin, 'name', { value: 'some-unique-name' });\\n```\\n\\n\",\n  \"16\": \"Reached the limit of how many styled components may be created at group %s.\\nYou may only create up to 1,073,741,824 components. If you're creating components dynamically,\\nas for instance in your render method then you may be running into this limitation.\\n\\n\",\n  \"17\": \"CSSStyleSheet could not be found on HTMLStyleElement.\\nHas styled-components' style tag been unmounted or altered by another script?\\n\"\n}; // \n\nvar ERRORS = process.env.NODE_ENV !== 'production' ? errorMap : {};\n/**\n * super basic version of sprintf\n */\n\nfunction format() {\n  var a = arguments.length <= 0 ? undefined : arguments[0];\n  var b = [];\n\n  for (var c = 1, len = arguments.length; c < len; c += 1) {\n    b.push(c < 0 || arguments.length <= c ? undefined : arguments[c]);\n  }\n\n  b.forEach(function (d) {\n    a = a.replace(/%[a-z]/, d);\n  });\n  return a;\n}\n/**\n * Create an error file out of errors.md for development and a simple web link to the full errors\n * in production mode.\n */\n\n\nfunction throwStyledComponentsError(code) {\n  for (var _len = arguments.length, interpolations = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    interpolations[_key - 1] = arguments[_key];\n  }\n\n  if (process.env.NODE_ENV === 'production') {\n    throw new Error(\"An error occurred. See https://github.com/styled-components/styled-components/blob/master/packages/styled-components/src/utils/errors.md#\" + code + \" for more information.\" + (interpolations.length > 0 ? \" Additional arguments: \" + interpolations.join(', ') : ''));\n  } else {\n    throw new Error(format.apply(void 0, [ERRORS[code]].concat(interpolations)).trim());\n  }\n} // \n\n\nvar ELEMENT_TYPE = 1;\n/* Node.ELEMENT_TYPE */\n\n/** Find last style element if any inside target */\n\nvar findLastStyleTag = function findLastStyleTag(target) {\n  var childNodes = target.childNodes;\n\n  for (var i = childNodes.length; i >= 0; i--) {\n    var child = childNodes[i];\n\n    if (child && child.nodeType === ELEMENT_TYPE && child.hasAttribute(SC_ATTR)) {\n      return child;\n    }\n  }\n\n  return undefined;\n};\n/** Create a style element inside `target` or <head> after the last */\n\n\nvar makeStyleTag = function makeStyleTag(target) {\n  var head = document.head;\n  var parent = target || head;\n  var style = document.createElement('style');\n  var prevStyle = findLastStyleTag(parent);\n  var nextSibling = prevStyle !== undefined ? prevStyle.nextSibling : null;\n  style.setAttribute(SC_ATTR, SC_ATTR_ACTIVE);\n  style.setAttribute(SC_ATTR_VERSION, SC_VERSION);\n  var nonce = getNonce();\n  if (nonce) style.setAttribute('nonce', nonce);\n  parent.insertBefore(style, nextSibling);\n  return style;\n};\n/** Get the CSSStyleSheet instance for a given style element */\n\n\nvar getSheet = function getSheet(tag) {\n  if (tag.sheet) {\n    return tag.sheet;\n  } // Avoid Firefox quirk where the style element might not have a sheet property\n\n\n  var _document = document,\n      styleSheets = _document.styleSheets;\n\n  for (var i = 0, l = styleSheets.length; i < l; i++) {\n    var sheet = styleSheets[i];\n\n    if (sheet.ownerNode === tag) {\n      return sheet;\n    }\n  }\n\n  throwStyledComponentsError(17);\n  return undefined;\n}; // \n\n/** Create a CSSStyleSheet-like tag depending on the environment */\n\n\nvar makeTag = function makeTag(_ref) {\n  var isServer = _ref.isServer,\n      useCSSOMInjection = _ref.useCSSOMInjection,\n      target = _ref.target;\n\n  if (isServer) {\n    return new VirtualTag(target);\n  } else if (useCSSOMInjection) {\n    return new CSSOMTag(target);\n  } else {\n    return new TextTag(target);\n  }\n};\n\nvar CSSOMTag = /*#__PURE__*/function () {\n  function CSSOMTag(target) {\n    var element = this.element = makeStyleTag(target); // Avoid Edge bug where empty style elements don't create sheets\n\n    element.appendChild(document.createTextNode(''));\n    this.sheet = getSheet(element);\n    this.length = 0;\n  }\n\n  var _proto = CSSOMTag.prototype;\n\n  _proto.insertRule = function insertRule(index, rule) {\n    try {\n      this.sheet.insertRule(rule, index);\n      this.length++;\n      return true;\n    } catch (_error) {\n      return false;\n    }\n  };\n\n  _proto.deleteRule = function deleteRule(index) {\n    this.sheet.deleteRule(index);\n    this.length--;\n  };\n\n  _proto.getRule = function getRule(index) {\n    var rule = this.sheet.cssRules[index]; // Avoid IE11 quirk where cssText is inaccessible on some invalid rules\n\n    if (rule !== undefined && typeof rule.cssText === 'string') {\n      return rule.cssText;\n    } else {\n      return '';\n    }\n  };\n\n  return CSSOMTag;\n}();\n/** A Tag that emulates the CSSStyleSheet API but uses text nodes */\n\n\nvar TextTag = /*#__PURE__*/function () {\n  function TextTag(target) {\n    var element = this.element = makeStyleTag(target);\n    this.nodes = element.childNodes;\n    this.length = 0;\n  }\n\n  var _proto2 = TextTag.prototype;\n\n  _proto2.insertRule = function insertRule(index, rule) {\n    if (index <= this.length && index >= 0) {\n      var node = document.createTextNode(rule);\n      var refNode = this.nodes[index];\n      this.element.insertBefore(node, refNode || null);\n      this.length++;\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  _proto2.deleteRule = function deleteRule(index) {\n    this.element.removeChild(this.nodes[index]);\n    this.length--;\n  };\n\n  _proto2.getRule = function getRule(index) {\n    if (index < this.length) {\n      return this.nodes[index].textContent;\n    } else {\n      return '';\n    }\n  };\n\n  return TextTag;\n}();\n/** A completely virtual (server-side) Tag that doesn't manipulate the DOM */\n\n\nvar VirtualTag = /*#__PURE__*/function () {\n  function VirtualTag(_target) {\n    this.rules = [];\n    this.length = 0;\n  }\n\n  var _proto3 = VirtualTag.prototype;\n\n  _proto3.insertRule = function insertRule(index, rule) {\n    if (index <= this.length) {\n      this.rules.splice(index, 0, rule);\n      this.length++;\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  _proto3.deleteRule = function deleteRule(index) {\n    this.rules.splice(index, 1);\n    this.length--;\n  };\n\n  _proto3.getRule = function getRule(index) {\n    if (index < this.length) {\n      return this.rules[index];\n    } else {\n      return '';\n    }\n  };\n\n  return VirtualTag;\n}(); // \n\n/** Create a GroupedTag with an underlying Tag implementation */\n\n\nvar makeGroupedTag = function makeGroupedTag(tag) {\n  return new DefaultGroupedTag(tag);\n};\n\nvar BASE_SIZE = 1 << 9;\n\nvar DefaultGroupedTag = /*#__PURE__*/function () {\n  function DefaultGroupedTag(tag) {\n    this.groupSizes = new Uint32Array(BASE_SIZE);\n    this.length = BASE_SIZE;\n    this.tag = tag;\n  }\n\n  var _proto = DefaultGroupedTag.prototype;\n\n  _proto.indexOfGroup = function indexOfGroup(group) {\n    var index = 0;\n\n    for (var i = 0; i < group; i++) {\n      index += this.groupSizes[i];\n    }\n\n    return index;\n  };\n\n  _proto.insertRules = function insertRules(group, rules) {\n    if (group >= this.groupSizes.length) {\n      var oldBuffer = this.groupSizes;\n      var oldSize = oldBuffer.length;\n      var newSize = oldSize;\n\n      while (group >= newSize) {\n        newSize <<= 1;\n\n        if (newSize < 0) {\n          throwStyledComponentsError(16, \"\" + group);\n        }\n      }\n\n      this.groupSizes = new Uint32Array(newSize);\n      this.groupSizes.set(oldBuffer);\n      this.length = newSize;\n\n      for (var i = oldSize; i < newSize; i++) {\n        this.groupSizes[i] = 0;\n      }\n    }\n\n    var ruleIndex = this.indexOfGroup(group + 1);\n\n    for (var _i = 0, l = rules.length; _i < l; _i++) {\n      if (this.tag.insertRule(ruleIndex, rules[_i])) {\n        this.groupSizes[group]++;\n        ruleIndex++;\n      }\n    }\n  };\n\n  _proto.clearGroup = function clearGroup(group) {\n    if (group < this.length) {\n      var length = this.groupSizes[group];\n      var startIndex = this.indexOfGroup(group);\n      var endIndex = startIndex + length;\n      this.groupSizes[group] = 0;\n\n      for (var i = startIndex; i < endIndex; i++) {\n        this.tag.deleteRule(startIndex);\n      }\n    }\n  };\n\n  _proto.getGroup = function getGroup(group) {\n    var css = '';\n\n    if (group >= this.length || this.groupSizes[group] === 0) {\n      return css;\n    }\n\n    var length = this.groupSizes[group];\n    var startIndex = this.indexOfGroup(group);\n    var endIndex = startIndex + length;\n\n    for (var i = startIndex; i < endIndex; i++) {\n      css += \"\" + this.tag.getRule(i) + SPLITTER;\n    }\n\n    return css;\n  };\n\n  return DefaultGroupedTag;\n}(); // \n\n\nvar MAX_SMI = 1 << 31 - 1;\nvar groupIDRegister = new Map();\nvar reverseRegister = new Map();\nvar nextFreeGroup = 1;\n\nvar getGroupForId = function getGroupForId(id) {\n  if (groupIDRegister.has(id)) {\n    return groupIDRegister.get(id);\n  }\n\n  var group = nextFreeGroup++;\n\n  if (process.env.NODE_ENV !== 'production' && ((group | 0) < 0 || group > MAX_SMI)) {\n    throwStyledComponentsError(16, \"\" + group);\n  }\n\n  groupIDRegister.set(id, group);\n  reverseRegister.set(group, id);\n  return group;\n};\n\nvar getIdForGroup = function getIdForGroup(group) {\n  return reverseRegister.get(group);\n};\n\nvar setGroupForId = function setGroupForId(id, group) {\n  if (group >= nextFreeGroup) {\n    nextFreeGroup = group + 1;\n  }\n\n  groupIDRegister.set(id, group);\n  reverseRegister.set(group, id);\n}; // \n\n\nvar SELECTOR = \"style[\" + SC_ATTR + \"][\" + SC_ATTR_VERSION + \"=\\\"\" + SC_VERSION + \"\\\"]\";\nvar MARKER_RE = new RegExp(\"^\" + SC_ATTR + \"\\\\.g(\\\\d+)\\\\[id=\\\"([\\\\w\\\\d-]+)\\\"\\\\].*?\\\"([^\\\"]*)\");\n\nvar outputSheet = function outputSheet(sheet) {\n  var tag = sheet.getTag();\n  var length = tag.length;\n  var css = '';\n\n  for (var group = 0; group < length; group++) {\n    var id = getIdForGroup(group);\n    if (id === undefined) continue;\n    var names = sheet.names.get(id);\n    var rules = tag.getGroup(group);\n    if (names === undefined || rules.length === 0) continue;\n    var selector = SC_ATTR + \".g\" + group + \"[id=\\\"\" + id + \"\\\"]\";\n    var content = '';\n\n    if (names !== undefined) {\n      names.forEach(function (name) {\n        if (name.length > 0) {\n          content += name + \",\";\n        }\n      });\n    } // NOTE: It's easier to collect rules and have the marker\n    // after the actual rules to simplify the rehydration\n\n\n    css += \"\" + rules + selector + \"{content:\\\"\" + content + \"\\\"}\" + SPLITTER;\n  }\n\n  return css;\n};\n\nvar rehydrateNamesFromContent = function rehydrateNamesFromContent(sheet, id, content) {\n  var names = content.split(',');\n  var name;\n\n  for (var i = 0, l = names.length; i < l; i++) {\n    // eslint-disable-next-line\n    if (name = names[i]) {\n      sheet.registerName(id, name);\n    }\n  }\n};\n\nvar rehydrateSheetFromTag = function rehydrateSheetFromTag(sheet, style) {\n  var parts = style.innerHTML.split(SPLITTER);\n  var rules = [];\n\n  for (var i = 0, l = parts.length; i < l; i++) {\n    var part = parts[i].trim();\n    if (!part) continue;\n    var marker = part.match(MARKER_RE);\n\n    if (marker) {\n      var group = parseInt(marker[1], 10) | 0;\n      var id = marker[2];\n\n      if (group !== 0) {\n        // Rehydrate componentId to group index mapping\n        setGroupForId(id, group); // Rehydrate names and rules\n        // looks like: data-styled.g11[id=\"idA\"]{content:\"nameA,\"}\n\n        rehydrateNamesFromContent(sheet, id, marker[3]);\n        sheet.getTag().insertRules(group, rules);\n      }\n\n      rules.length = 0;\n    } else {\n      rules.push(part);\n    }\n  }\n};\n\nvar rehydrateSheet = function rehydrateSheet(sheet) {\n  var nodes = document.querySelectorAll(SELECTOR);\n\n  for (var i = 0, l = nodes.length; i < l; i++) {\n    var node = nodes[i];\n\n    if (node && node.getAttribute(SC_ATTR) !== SC_ATTR_ACTIVE) {\n      rehydrateSheetFromTag(sheet, node);\n\n      if (node.parentNode) {\n        node.parentNode.removeChild(node);\n      }\n    }\n  }\n};\n\nvar SHOULD_REHYDRATE = IS_BROWSER;\nvar defaultOptions = {\n  isServer: !IS_BROWSER,\n  useCSSOMInjection: !DISABLE_SPEEDY\n};\n/** Contains the main stylesheet logic for stringification and caching */\n\nvar StyleSheet = /*#__PURE__*/function () {\n  /** Register a group ID to give it an index */\n  StyleSheet.registerId = function registerId(id) {\n    return getGroupForId(id);\n  };\n\n  function StyleSheet(options, globalStyles, names) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    if (globalStyles === void 0) {\n      globalStyles = {};\n    }\n\n    this.options = _extends({}, defaultOptions, {}, options);\n    this.gs = globalStyles;\n    this.names = new Map(names); // We rehydrate only once and use the sheet that is created first\n\n    if (!this.options.isServer && IS_BROWSER && SHOULD_REHYDRATE) {\n      SHOULD_REHYDRATE = false;\n      rehydrateSheet(this);\n    }\n  }\n\n  var _proto = StyleSheet.prototype;\n\n  _proto.reconstructWithOptions = function reconstructWithOptions(options) {\n    return new StyleSheet(_extends({}, this.options, {}, options), this.gs, this.names);\n  };\n\n  _proto.allocateGSInstance = function allocateGSInstance(id) {\n    return this.gs[id] = (this.gs[id] || 0) + 1;\n  }\n  /** Lazily initialises a GroupedTag for when it's actually needed */\n  ;\n\n  _proto.getTag = function getTag() {\n    return this.tag || (this.tag = makeGroupedTag(makeTag(this.options)));\n  }\n  /** Check whether a name is known for caching */\n  ;\n\n  _proto.hasNameForId = function hasNameForId(id, name) {\n    return this.names.has(id) && this.names.get(id).has(name);\n  }\n  /** Mark a group's name as known for caching */\n  ;\n\n  _proto.registerName = function registerName(id, name) {\n    getGroupForId(id);\n\n    if (!this.names.has(id)) {\n      var groupNames = new Set();\n      groupNames.add(name);\n      this.names.set(id, groupNames);\n    } else {\n      this.names.get(id).add(name);\n    }\n  }\n  /** Insert new rules which also marks the name as known */\n  ;\n\n  _proto.insertRules = function insertRules(id, name, rules) {\n    this.registerName(id, name);\n    this.getTag().insertRules(getGroupForId(id), rules);\n  }\n  /** Clears all cached names for a given group ID */\n  ;\n\n  _proto.clearNames = function clearNames(id) {\n    if (this.names.has(id)) {\n      this.names.get(id).clear();\n    }\n  }\n  /** Clears all rules for a given group ID */\n  ;\n\n  _proto.clearRules = function clearRules(id) {\n    this.getTag().clearGroup(getGroupForId(id));\n    this.clearNames(id);\n  }\n  /** Clears the entire tag which deletes all rules but not its names */\n  ;\n\n  _proto.clearTag = function clearTag() {\n    // NOTE: This does not clear the names, since it's only used during SSR\n    // so that we can continuously output only new rules\n    this.tag = undefined;\n  }\n  /** Outputs the current sheet as a CSS string with markers for SSR */\n  ;\n\n  _proto.toString = function toString() {\n    return outputSheet(this);\n  };\n\n  return StyleSheet;\n}(); // \n\n/* eslint-disable */\n\n\nvar SEED = 5381; // When we have separate strings it's useful to run a progressive\n// version of djb2 where we pretend that we're still looping over\n// the same string\n\nvar phash = function phash(h, x) {\n  var i = x.length;\n\n  while (i) {\n    h = h * 33 ^ x.charCodeAt(--i);\n  }\n\n  return h;\n}; // This is a djb2 hashing function\n\n\nvar hash = function hash(x) {\n  return phash(SEED, x);\n};\n/**\n * MIT License\n *\n * Copyright (c) 2016 Sultan Tarimo\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of\n * this software and associated documentation files (the \"Software\"),\n * to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n * OR IMPLIED INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR\n * IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/* eslint-disable */\n\n\nfunction insertRulePlugin(insertRule) {\n  var delimiter = '/*|*/';\n  var needle = delimiter + \"}\";\n\n  function toSheet(block) {\n    if (block) {\n      try {\n        insertRule(block + \"}\");\n      } catch (e) {}\n    }\n  }\n\n  return function ruleSheet(context, content, selectors, parents, line, column, length, ns, depth, at) {\n    switch (context) {\n      // property\n      case 1:\n        // @import\n        if (depth === 0 && content.charCodeAt(0) === 64) return insertRule(content + \";\"), '';\n        break;\n      // selector\n\n      case 2:\n        if (ns === 0) return content + delimiter;\n        break;\n      // at-rule\n\n      case 3:\n        switch (ns) {\n          // @font-face, @page\n          case 102:\n          case 112:\n            return insertRule(selectors[0] + content), '';\n\n          default:\n            return content + (at === 0 ? delimiter : '');\n        }\n\n      case -2:\n        content.split(needle).forEach(toSheet);\n    }\n  };\n}\n\nvar COMMENT_REGEX = /^\\s*\\/\\/.*$/gm;\n\nfunction createStylisInstance(_temp) {\n  var _ref = _temp === void 0 ? EMPTY_OBJECT : _temp,\n      _ref$options = _ref.options,\n      options = _ref$options === void 0 ? EMPTY_OBJECT : _ref$options,\n      _ref$plugins = _ref.plugins,\n      plugins = _ref$plugins === void 0 ? EMPTY_ARRAY : _ref$plugins;\n\n  var stylis = new Stylis(options); // Wrap `insertRulePlugin to build a list of rules,\n  // and then make our own plugin to return the rules. This\n  // makes it easier to hook into the existing SSR architecture\n\n  var parsingRules = []; // eslint-disable-next-line consistent-return\n\n  var returnRulesPlugin = function returnRulesPlugin(context) {\n    if (context === -2) {\n      var parsedRules = parsingRules;\n      parsingRules = [];\n      return parsedRules;\n    }\n  };\n\n  var parseRulesPlugin = insertRulePlugin(function (rule) {\n    parsingRules.push(rule);\n  });\n\n  var _componentId;\n\n  var _selector;\n\n  var _selectorRegexp;\n\n  var selfReferenceReplacer = function selfReferenceReplacer(match, offset, string) {\n    if ( // the first self-ref is always untouched\n    offset > 0 && // there should be at least two self-refs to do a replacement (.b > .b)\n    string.slice(0, offset).indexOf(_selector) !== -1 && // no consecutive self refs (.b.b); that is a precedence boost and treated differently\n    string.slice(offset - _selector.length, offset) !== _selector) {\n      return \".\" + _componentId;\n    }\n\n    return match;\n  };\n  /**\n   * When writing a style like\n   *\n   * & + & {\n   *   color: red;\n   * }\n   *\n   * The second ampersand should be a reference to the static component class. stylis\n   * has no knowledge of static class so we have to intelligently replace the base selector.\n   *\n   * https://github.com/thysultan/stylis.js#plugins <- more info about the context phase values\n   * \"2\" means this plugin is taking effect at the very end after all other processing is complete\n   */\n\n\n  var selfReferenceReplacementPlugin = function selfReferenceReplacementPlugin(context, _, selectors) {\n    if (context === 2 && selectors.length && selectors[0].lastIndexOf(_selector) > 0) {\n      // eslint-disable-next-line no-param-reassign\n      selectors[0] = selectors[0].replace(_selectorRegexp, selfReferenceReplacer);\n    }\n  };\n\n  stylis.use([].concat(plugins, [selfReferenceReplacementPlugin, parseRulesPlugin, returnRulesPlugin]));\n\n  function stringifyRules(css, selector, prefix, componentId) {\n    if (componentId === void 0) {\n      componentId = '&';\n    }\n\n    var flatCSS = css.replace(COMMENT_REGEX, '');\n    var cssStr = selector && prefix ? prefix + \" \" + selector + \" { \" + flatCSS + \" }\" : flatCSS; // stylis has no concept of state to be passed to plugins\n    // but since JS is single=threaded, we can rely on that to ensure\n    // these properties stay in sync with the current stylis run\n\n    _componentId = componentId;\n    _selector = selector;\n    _selectorRegexp = new RegExp(\"\\\\\" + _selector + \"\\\\b\", 'g');\n    return stylis(prefix || !selector ? '' : selector, cssStr);\n  }\n\n  stringifyRules.hash = plugins.length ? plugins.reduce(function (acc, plugin) {\n    if (!plugin.name) {\n      throwStyledComponentsError(15);\n    }\n\n    return phash(acc, plugin.name);\n  }, SEED).toString() : '';\n  return stringifyRules;\n} // \n\n\nvar StyleSheetContext = React.createContext();\nvar StyleSheetConsumer = StyleSheetContext.Consumer;\nvar StylisContext = React.createContext();\nvar StylisConsumer = StylisContext.Consumer;\nvar masterSheet = new StyleSheet();\nvar masterStylis = createStylisInstance();\n\nfunction useStyleSheet() {\n  return useContext(StyleSheetContext) || masterSheet;\n}\n\nfunction useStylis() {\n  return useContext(StylisContext) || masterStylis;\n}\n\nfunction StyleSheetManager(props) {\n  var _useState = useState(props.stylisPlugins),\n      plugins = _useState[0],\n      setPlugins = _useState[1];\n\n  var contextStyleSheet = useStyleSheet();\n  var styleSheet = useMemo(function () {\n    var sheet = contextStyleSheet;\n\n    if (props.sheet) {\n      // eslint-disable-next-line prefer-destructuring\n      sheet = props.sheet;\n    } else if (props.target) {\n      sheet = sheet.reconstructWithOptions({\n        target: props.target\n      });\n    }\n\n    if (props.disableCSSOMInjection) {\n      sheet = sheet.reconstructWithOptions({\n        useCSSOMInjection: false\n      });\n    }\n\n    return sheet;\n  }, [props.disableCSSOMInjection, props.sheet, props.target]);\n  var stylis = useMemo(function () {\n    return createStylisInstance({\n      options: {\n        prefix: !props.disableVendorPrefixes\n      },\n      plugins: plugins\n    });\n  }, [props.disableVendorPrefixes, plugins]);\n  useEffect(function () {\n    if (!shallowequal(plugins, props.stylisPlugins)) setPlugins(props.stylisPlugins);\n  }, [props.stylisPlugins]);\n  return /*#__PURE__*/React.createElement(StyleSheetContext.Provider, {\n    value: styleSheet\n  }, /*#__PURE__*/React.createElement(StylisContext.Provider, {\n    value: stylis\n  }, process.env.NODE_ENV !== 'production' ? React.Children.only(props.children) : props.children));\n} // \n\n\nvar Keyframes = /*#__PURE__*/function () {\n  function Keyframes(name, stringifyArgs) {\n    var _this = this;\n\n    this.inject = function (styleSheet) {\n      if (!styleSheet.hasNameForId(_this.id, _this.name)) {\n        styleSheet.insertRules(_this.id, _this.name, masterStylis.apply(void 0, _this.stringifyArgs));\n      }\n    };\n\n    this.toString = function () {\n      return throwStyledComponentsError(12, String(_this.name));\n    };\n\n    this.name = name;\n    this.id = \"sc-keyframes-\" + name;\n    this.stringifyArgs = stringifyArgs;\n  }\n\n  var _proto = Keyframes.prototype;\n\n  _proto.getName = function getName() {\n    return this.name;\n  };\n\n  return Keyframes;\n}(); // \n\n/**\n * inlined version of\n * https://github.com/facebook/fbjs/blob/master/packages/fbjs/src/core/hyphenateStyleName.js\n */\n\n\nvar uppercasePattern = /([A-Z])/g;\nvar msPattern = /^ms-/;\n/**\n * Hyphenates a camelcased CSS property name, for example:\n *\n *   > hyphenateStyleName('backgroundColor')\n *   < \"background-color\"\n *   > hyphenateStyleName('MozTransition')\n *   < \"-moz-transition\"\n *   > hyphenateStyleName('msTransition')\n *   < \"-ms-transition\"\n *\n * As Modernizr suggests (http://modernizr.com/docs/#prefixed), an `ms` prefix\n * is converted to `-ms-`.\n *\n * @param {string} string\n * @return {string}\n */\n\nfunction hyphenateStyleName(string) {\n  return string.replace(uppercasePattern, '-$1').toLowerCase().replace(msPattern, '-ms-');\n} // \n\n\nfunction addUnitIfNeeded(name, value) {\n  // https://github.com/amilajack/eslint-plugin-flowtype-errors/issues/133\n  // $FlowFixMe\n  if (value == null || typeof value === 'boolean' || value === '') {\n    return '';\n  }\n\n  if (typeof value === 'number' && value !== 0 && !(name in unitless)) {\n    return value + \"px\"; // Presumes implicit 'px' suffix for unitless numbers\n  }\n\n  return String(value).trim();\n} // \n\n/**\n * It's falsish not falsy because 0 is allowed.\n */\n\n\nvar isFalsish = function isFalsish(chunk) {\n  return chunk === undefined || chunk === null || chunk === false || chunk === '';\n};\n\nvar objToCssArray = function objToCssArray(obj, prevKey) {\n  var rules = [];\n  var keys = Object.keys(obj);\n  keys.forEach(function (key) {\n    if (!isFalsish(obj[key])) {\n      if (isPlainObject(obj[key])) {\n        rules.push.apply(rules, objToCssArray(obj[key], key));\n        return rules;\n      } else if (isFunction(obj[key])) {\n        rules.push(hyphenateStyleName(key) + \":\", obj[key], ';');\n        return rules;\n      }\n\n      rules.push(hyphenateStyleName(key) + \": \" + addUnitIfNeeded(key, obj[key]) + \";\");\n    }\n\n    return rules;\n  });\n  return prevKey ? [prevKey + \" {\"].concat(rules, ['}']) : rules;\n};\n\nfunction flatten(chunk, executionContext, styleSheet) {\n  if (Array.isArray(chunk)) {\n    var ruleSet = [];\n\n    for (var i = 0, len = chunk.length, result; i < len; i += 1) {\n      result = flatten(chunk[i], executionContext, styleSheet);\n      if (result === '') continue;else if (Array.isArray(result)) ruleSet.push.apply(ruleSet, result);else ruleSet.push(result);\n    }\n\n    return ruleSet;\n  }\n\n  if (isFalsish(chunk)) {\n    return '';\n  }\n  /* Handle other components */\n\n\n  if (isStyledComponent(chunk)) {\n    return \".\" + chunk.styledComponentId;\n  }\n  /* Either execute or defer the function */\n\n\n  if (isFunction(chunk)) {\n    if (isStatelessFunction(chunk) && executionContext) {\n      var _result = chunk(executionContext);\n\n      if (process.env.NODE_ENV !== 'production' && isElement(_result)) {\n        // eslint-disable-next-line no-console\n        console.warn(getComponentName(chunk) + \" is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.\");\n      }\n\n      return flatten(_result, executionContext, styleSheet);\n    } else return chunk;\n  }\n\n  if (chunk instanceof Keyframes) {\n    if (styleSheet) {\n      chunk.inject(styleSheet);\n      return chunk.getName();\n    } else return chunk;\n  }\n  /* Handle objects */\n\n\n  return isPlainObject(chunk) ? objToCssArray(chunk) : chunk.toString();\n} // \n\n\nfunction css(styles) {\n  for (var _len = arguments.length, interpolations = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    interpolations[_key - 1] = arguments[_key];\n  }\n\n  if (isFunction(styles) || isPlainObject(styles)) {\n    // $FlowFixMe\n    return flatten(interleave(EMPTY_ARRAY, [styles].concat(interpolations)));\n  }\n\n  if (interpolations.length === 0 && styles.length === 1 && typeof styles[0] === \"string\") {\n    // $FlowFixMe\n    return styles;\n  } // $FlowFixMe\n\n\n  return flatten(interleave(styles, interpolations));\n}\n\nfunction constructWithOptions(componentConstructor, tag, options) {\n  if (options === void 0) {\n    options = EMPTY_OBJECT;\n  }\n\n  if (!isValidElementType(tag)) {\n    return throwStyledComponentsError(1, String(tag));\n  }\n  /* This is callable directly as a template function */\n  // $FlowFixMe: Not typed to avoid destructuring arguments\n\n\n  var templateFunction = function templateFunction() {\n    return componentConstructor(tag, options, css.apply(void 0, arguments));\n  };\n  /* If config methods are called, wrap up a new template function and merge options */\n\n\n  templateFunction.withConfig = function (config) {\n    return constructWithOptions(componentConstructor, tag, _extends({}, options, {}, config));\n  };\n  /* Modify/inject new props at runtime */\n\n\n  templateFunction.attrs = function (attrs) {\n    return constructWithOptions(componentConstructor, tag, _extends({}, options, {\n      attrs: Array.prototype.concat(options.attrs, attrs).filter(Boolean)\n    }));\n  };\n\n  return templateFunction;\n}\n/* eslint-disable */\n\n/**\n  mixin-deep; https://github.com/jonschlinkert/mixin-deep\n  Inlined such that it will be consistently transpiled to an IE-compatible syntax.\n\n  The MIT License (MIT)\n\n  Copyright (c) 2014-present, Jon Schlinkert.\n\n  Permission is hereby granted, free of charge, to any person obtaining a copy\n  of this software and associated documentation files (the \"Software\"), to deal\n  in the Software without restriction, including without limitation the rights\n  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n  copies of the Software, and to permit persons to whom the Software is\n  furnished to do so, subject to the following conditions:\n\n  The above copyright notice and this permission notice shall be included in\n  all copies or substantial portions of the Software.\n\n  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n  THE SOFTWARE.\n*/\n\n\nvar isObject = function isObject(val) {\n  return typeof val === 'function' || typeof val === 'object' && val !== null && !Array.isArray(val);\n};\n\nvar isValidKey = function isValidKey(key) {\n  return key !== '__proto__' && key !== 'constructor' && key !== 'prototype';\n};\n\nfunction mixin(target, val, key) {\n  var obj = target[key];\n\n  if (isObject(val) && isObject(obj)) {\n    mixinDeep(obj, val);\n  } else {\n    target[key] = val;\n  }\n}\n\nfunction mixinDeep(target) {\n  for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    rest[_key - 1] = arguments[_key];\n  }\n\n  for (var _i = 0, _rest = rest; _i < _rest.length; _i++) {\n    var obj = _rest[_i];\n\n    if (isObject(obj)) {\n      for (var key in obj) {\n        if (isValidKey(key)) {\n          mixin(target, obj[key], key);\n        }\n      }\n    }\n  }\n\n  return target;\n} // \n\n/* eslint-disable no-bitwise */\n\n\nvar AD_REPLACER_R = /(a)(d)/gi;\n/* This is the \"capacity\" of our alphabet i.e. 2x26 for all letters plus their capitalised\n * counterparts */\n\nvar charsLength = 52;\n/* start at 75 for 'a' until 'z' (25) and then start at 65 for capitalised letters */\n\nvar getAlphabeticChar = function getAlphabeticChar(code) {\n  return String.fromCharCode(code + (code > 25 ? 39 : 97));\n};\n/* input a number, usually a hash and convert it to base-52 */\n\n\nfunction generateAlphabeticName(code) {\n  var name = '';\n  var x;\n  /* get a char and divide by alphabet-length */\n\n  for (x = Math.abs(code); x > charsLength; x = x / charsLength | 0) {\n    name = getAlphabeticChar(x % charsLength) + name;\n  }\n\n  return (getAlphabeticChar(x % charsLength) + name).replace(AD_REPLACER_R, '$1-$2');\n} // \n\n\nfunction isStaticRules(rules) {\n  for (var i = 0; i < rules.length; i += 1) {\n    var rule = rules[i];\n\n    if (isFunction(rule) && !isStyledComponent(rule)) {\n      // functions are allowed to be static if they're just being\n      // used to get the classname of a nested styled component\n      return false;\n    }\n  }\n\n  return true;\n} // \n\n/*\n ComponentStyle is all the CSS-specific stuff, not\n the React-specific stuff.\n */\n\n\nvar ComponentStyle = /*#__PURE__*/function () {\n  function ComponentStyle(rules, componentId) {\n    this.rules = rules;\n    this.staticRulesId = '';\n    this.isStatic = process.env.NODE_ENV === 'production' && isStaticRules(rules);\n    this.componentId = componentId;\n    this.baseHash = hash(componentId); // NOTE: This registers the componentId, which ensures a consistent order\n    // for this component's styles compared to others\n\n    StyleSheet.registerId(componentId);\n  }\n  /*\n   * Flattens a rule set into valid CSS\n   * Hashes it, wraps the whole chunk in a .hash1234 {}\n   * Returns the hash to be injected on render()\n   * */\n\n\n  var _proto = ComponentStyle.prototype;\n\n  _proto.generateAndInjectStyles = function generateAndInjectStyles(executionContext, styleSheet, stylis) {\n    var componentId = this.componentId; // force dynamic classnames if user-supplied stylis plugins are in use\n\n    if (this.isStatic && !stylis.hash) {\n      if (this.staticRulesId && styleSheet.hasNameForId(componentId, this.staticRulesId)) {\n        return this.staticRulesId;\n      }\n\n      var cssStatic = flatten(this.rules, executionContext, styleSheet).join('');\n      var name = generateAlphabeticName(phash(this.baseHash, cssStatic.length) >>> 0);\n\n      if (!styleSheet.hasNameForId(componentId, name)) {\n        var cssStaticFormatted = stylis(cssStatic, \".\" + name, undefined, componentId);\n        styleSheet.insertRules(componentId, name, cssStaticFormatted);\n      }\n\n      this.staticRulesId = name;\n      return name;\n    } else {\n      var length = this.rules.length;\n      var dynamicHash = phash(this.baseHash, stylis.hash);\n      var css = '';\n\n      for (var i = 0; i < length; i++) {\n        var partRule = this.rules[i];\n\n        if (typeof partRule === 'string') {\n          css += partRule;\n          if (process.env.NODE_ENV !== 'production') dynamicHash = phash(dynamicHash, partRule + i);\n        } else {\n          var partChunk = flatten(partRule, executionContext, styleSheet);\n          var partString = Array.isArray(partChunk) ? partChunk.join('') : partChunk;\n          dynamicHash = phash(dynamicHash, partString + i);\n          css += partString;\n        }\n      }\n\n      var _name = generateAlphabeticName(dynamicHash >>> 0);\n\n      if (!styleSheet.hasNameForId(componentId, _name)) {\n        var cssFormatted = stylis(css, \".\" + _name, undefined, componentId);\n        styleSheet.insertRules(componentId, _name, cssFormatted);\n      }\n\n      return _name;\n    }\n  };\n\n  return ComponentStyle;\n}(); // \n\n\nvar LIMIT = 200;\n\nvar createWarnTooManyClasses = function createWarnTooManyClasses(displayName, componentId) {\n  var generatedClasses = {};\n  var warningSeen = false;\n  return function (className) {\n    if (!warningSeen) {\n      generatedClasses[className] = true;\n\n      if (Object.keys(generatedClasses).length >= LIMIT) {\n        // Unable to find latestRule in test environment.\n\n        /* eslint-disable no-console, prefer-template */\n        var parsedIdString = componentId ? \" with the id of \\\"\" + componentId + \"\\\"\" : '';\n        console.warn(\"Over \" + LIMIT + \" classes were generated for component \" + displayName + parsedIdString + \".\\n\" + 'Consider using the attrs method, together with a style object for frequently changed styles.\\n' + 'Example:\\n' + '  const Component = styled.div.attrs(props => ({\\n' + '    style: {\\n' + '      background: props.background,\\n' + '    },\\n' + '  }))`width: 100%;`\\n\\n' + '  <Component />');\n        warningSeen = true;\n        generatedClasses = {};\n      }\n    }\n  };\n}; // \n\n\nvar invalidHookCallRe = /invalid hook call/i;\nvar seen = new Set();\n\nvar checkDynamicCreation = function checkDynamicCreation(displayName, componentId) {\n  if (process.env.NODE_ENV !== 'production') {\n    var parsedIdString = componentId ? \" with the id of \\\"\" + componentId + \"\\\"\" : '';\n    var message = \"The component \" + displayName + parsedIdString + \" has been created dynamically.\\n\" + 'You may see this warning because you\\'ve called styled inside another component.\\n' + 'To resolve this only create new StyledComponents outside of any render method and function component.';\n\n    try {\n      // We purposefully call `useRef` outside of a component and expect it to throw\n      // If it doesn't, then we're inside another component.\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      useRef();\n\n      if (!seen.has(message)) {\n        // eslint-disable-next-line no-console\n        console.warn(message);\n        seen.add(message);\n      }\n    } catch (error) {\n      // The error here is expected, since we're expecting anything that uses `checkDynamicCreation` to\n      // be called outside of a React component.\n      if (invalidHookCallRe.test(error.message)) {\n        // This shouldn't happen, but resets `warningSeen` if we had this error happen intermittently\n        seen[\"delete\"](message);\n      }\n    }\n  }\n}; // \n\n\nvar determineTheme = function determineTheme(props, providedTheme, defaultProps) {\n  if (defaultProps === void 0) {\n    defaultProps = EMPTY_OBJECT;\n  }\n\n  return props.theme !== defaultProps.theme && props.theme || providedTheme || defaultProps.theme;\n}; // \n\n\nvar escapeRegex = /[[\\].#*$><+~=|^:(),\"'`-]+/g;\nvar dashesAtEnds = /(^-|-$)/g;\n/**\n * TODO: Explore using CSS.escape when it becomes more available\n * in evergreen browsers.\n */\n\nfunction escape(str) {\n  return str // Replace all possible CSS selectors\n  .replace(escapeRegex, '-') // Remove extraneous hyphens at the start and end\n  .replace(dashesAtEnds, '');\n} // \n\n\nfunction isTag(target) {\n  return typeof target === 'string' && (process.env.NODE_ENV !== 'production' ? target.charAt(0) === target.charAt(0).toLowerCase() : true);\n} // \n\n\nfunction generateDisplayName(target) {\n  // $FlowFixMe\n  return isTag(target) ? \"styled.\" + target : \"Styled(\" + getComponentName(target) + \")\";\n} // \n\n\nvar generateComponentId = function generateComponentId(str) {\n  return generateAlphabeticName(hash(str) >>> 0);\n};\n/**\n * Convenience function for joining strings to form className chains\n */\n\n\nfunction joinStrings(a, b) {\n  return a && b ? a + \" \" + b : a || b;\n}\n\nvar ThemeContext = React.createContext();\nvar ThemeConsumer = ThemeContext.Consumer;\n\nfunction mergeTheme(theme, outerTheme) {\n  if (!theme) {\n    return throwStyledComponentsError(14);\n  }\n\n  if (isFunction(theme)) {\n    var mergedTheme = theme(outerTheme);\n\n    if (process.env.NODE_ENV !== 'production' && (mergedTheme === null || Array.isArray(mergedTheme) || typeof mergedTheme !== 'object')) {\n      return throwStyledComponentsError(7);\n    }\n\n    return mergedTheme;\n  }\n\n  if (Array.isArray(theme) || typeof theme !== 'object') {\n    return throwStyledComponentsError(8);\n  }\n\n  return outerTheme ? _extends({}, outerTheme, {}, theme) : theme;\n}\n/**\n * Provide a theme to an entire react component tree via context\n */\n\n\nfunction ThemeProvider(props) {\n  var outerTheme = useContext(ThemeContext);\n  var themeContext = useMemo(function () {\n    return mergeTheme(props.theme, outerTheme);\n  }, [props.theme, outerTheme]);\n\n  if (!props.children) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(ThemeContext.Provider, {\n    value: themeContext\n  }, props.children);\n}\n/* global $Call */\n\n\nvar identifiers = {};\n/* We depend on components having unique IDs */\n\nfunction generateId(displayName, parentComponentId) {\n  var name = typeof displayName !== 'string' ? 'sc' : escape(displayName); // Ensure that no displayName can lead to duplicate componentIds\n\n  identifiers[name] = (identifiers[name] || 0) + 1;\n  var componentId = name + \"-\" + generateComponentId(name + identifiers[name]);\n  return parentComponentId ? parentComponentId + \"-\" + componentId : componentId;\n}\n\nfunction useResolvedAttrs(theme, props, attrs) {\n  if (theme === void 0) {\n    theme = EMPTY_OBJECT;\n  } // NOTE: can't memoize this\n  // returns [context, resolvedAttrs]\n  // where resolvedAttrs is only the things injected by the attrs themselves\n\n\n  var context = _extends({}, props, {\n    theme: theme\n  });\n\n  var resolvedAttrs = {};\n  attrs.forEach(function (attrDef) {\n    var resolvedAttrDef = attrDef;\n    var key;\n\n    if (isFunction(resolvedAttrDef)) {\n      resolvedAttrDef = resolvedAttrDef(context);\n    }\n    /* eslint-disable guard-for-in */\n\n\n    for (key in resolvedAttrDef) {\n      context[key] = resolvedAttrs[key] = key === 'className' ? joinStrings(resolvedAttrs[key], resolvedAttrDef[key]) : resolvedAttrDef[key];\n    }\n    /* eslint-enable guard-for-in */\n\n  });\n  return [context, resolvedAttrs];\n}\n\nfunction useInjectedStyle(componentStyle, hasAttrs, resolvedAttrs, warnTooManyClasses) {\n  var styleSheet = useStyleSheet();\n  var stylis = useStylis(); // statically styled-components don't need to build an execution context object,\n  // and shouldn't be increasing the number of class names\n\n  var isStatic = componentStyle.isStatic && !hasAttrs;\n  var className = isStatic ? componentStyle.generateAndInjectStyles(EMPTY_OBJECT, styleSheet, stylis) : componentStyle.generateAndInjectStyles(resolvedAttrs, styleSheet, stylis);\n  useDebugValue(className);\n\n  if (process.env.NODE_ENV !== 'production' && !isStatic && warnTooManyClasses) {\n    warnTooManyClasses(className);\n  }\n\n  return className;\n}\n\nfunction useStyledComponentImpl(forwardedComponent, props, forwardedRef) {\n  var componentAttrs = forwardedComponent.attrs,\n      componentStyle = forwardedComponent.componentStyle,\n      defaultProps = forwardedComponent.defaultProps,\n      foldedComponentIds = forwardedComponent.foldedComponentIds,\n      shouldForwardProp = forwardedComponent.shouldForwardProp,\n      styledComponentId = forwardedComponent.styledComponentId,\n      target = forwardedComponent.target;\n  useDebugValue(styledComponentId); // NOTE: the non-hooks version only subscribes to this when !componentStyle.isStatic,\n  // but that'd be against the rules-of-hooks. We could be naughty and do it anyway as it\n  // should be an immutable value, but behave for now.\n\n  var theme = determineTheme(props, useContext(ThemeContext), defaultProps);\n\n  var _useResolvedAttrs = useResolvedAttrs(theme || EMPTY_OBJECT, props, componentAttrs),\n      context = _useResolvedAttrs[0],\n      attrs = _useResolvedAttrs[1];\n\n  var generatedClassName = useInjectedStyle(componentStyle, componentAttrs.length > 0, context, process.env.NODE_ENV !== 'production' ? forwardedComponent.warnTooManyClasses : undefined);\n  var refToForward = forwardedRef;\n  var elementToBeCreated = attrs.$as || props.$as || attrs.as || props.as || target;\n  var isTargetTag = isTag(elementToBeCreated);\n  var computedProps = attrs !== props ? _extends({}, props, {}, attrs) : props;\n  var propFilterFn = shouldForwardProp || isTargetTag && validAttr;\n  var propsForElement = {}; // eslint-disable-next-line guard-for-in\n\n  for (var key in computedProps) {\n    if (key[0] === '$' || key === 'as') continue;else if (key === 'forwardedAs') {\n      propsForElement.as = computedProps[key];\n    } else if (!propFilterFn || propFilterFn(key, validAttr)) {\n      // Don't pass through non HTML tags through to HTML elements\n      propsForElement[key] = computedProps[key];\n    }\n  }\n\n  if (props.style && attrs.style !== props.style) {\n    propsForElement.style = _extends({}, props.style, {}, attrs.style);\n  }\n\n  propsForElement.className = Array.prototype.concat(foldedComponentIds, styledComponentId, generatedClassName !== styledComponentId ? generatedClassName : null, props.className, attrs.className).filter(Boolean).join(' ');\n  propsForElement.ref = refToForward;\n  return createElement(elementToBeCreated, propsForElement);\n}\n\nfunction createStyledComponent(target, options, rules) {\n  var isTargetStyledComp = isStyledComponent(target);\n  var isCompositeComponent = !isTag(target);\n  var _options$displayName = options.displayName,\n      displayName = _options$displayName === void 0 ? generateDisplayName(target) : _options$displayName,\n      _options$componentId = options.componentId,\n      componentId = _options$componentId === void 0 ? generateId(options.displayName, options.parentComponentId) : _options$componentId,\n      _options$attrs = options.attrs,\n      attrs = _options$attrs === void 0 ? EMPTY_ARRAY : _options$attrs;\n  var styledComponentId = options.displayName && options.componentId ? escape(options.displayName) + \"-\" + options.componentId : options.componentId || componentId; // fold the underlying StyledComponent attrs up (implicit extend)\n\n  var finalAttrs = // $FlowFixMe\n  isTargetStyledComp && target.attrs ? Array.prototype.concat(target.attrs, attrs).filter(Boolean) : attrs; // eslint-disable-next-line prefer-destructuring\n\n  var shouldForwardProp = options.shouldForwardProp; // $FlowFixMe\n\n  if (isTargetStyledComp && target.shouldForwardProp) {\n    if (shouldForwardProp) {\n      // compose nested shouldForwardProp calls\n      shouldForwardProp = function shouldForwardProp(prop, filterFn) {\n        return (// $FlowFixMe\n          target.shouldForwardProp(prop, filterFn) && options.shouldForwardProp(prop, filterFn)\n        );\n      };\n    } else {\n      // eslint-disable-next-line prefer-destructuring\n      shouldForwardProp = target.shouldForwardProp;\n    }\n  }\n\n  var componentStyle = new ComponentStyle(isTargetStyledComp ? // fold the underlying StyledComponent rules up (implicit extend)\n  // $FlowFixMe\n  target.componentStyle.rules.concat(rules) : rules, styledComponentId);\n  /**\n   * forwardRef creates a new interim component, which we'll take advantage of\n   * instead of extending ParentComponent to create _another_ interim class\n   */\n\n  var WrappedStyledComponent; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n  var forwardRef = function forwardRef(props, ref) {\n    return useStyledComponentImpl(WrappedStyledComponent, props, ref);\n  };\n\n  forwardRef.displayName = displayName; // $FlowFixMe this is a forced cast to merge it StyledComponentWrapperProperties\n\n  WrappedStyledComponent = React.forwardRef(forwardRef);\n  WrappedStyledComponent.attrs = finalAttrs;\n  WrappedStyledComponent.componentStyle = componentStyle;\n  WrappedStyledComponent.displayName = displayName;\n  WrappedStyledComponent.shouldForwardProp = shouldForwardProp; // this static is used to preserve the cascade of static classes for component selector\n  // purposes; this is especially important with usage of the css prop\n\n  WrappedStyledComponent.foldedComponentIds = isTargetStyledComp ? // $FlowFixMe\n  Array.prototype.concat(target.foldedComponentIds, target.styledComponentId) : EMPTY_ARRAY;\n  WrappedStyledComponent.styledComponentId = styledComponentId; // fold the underlying StyledComponent target up since we folded the styles\n\n  WrappedStyledComponent.target = isTargetStyledComp ? // $FlowFixMe\n  target.target : target; // $FlowFixMe\n\n  WrappedStyledComponent.withComponent = function withComponent(tag) {\n    var previousComponentId = options.componentId,\n        optionsToCopy = _objectWithoutPropertiesLoose(options, [\"componentId\"]);\n\n    var newComponentId = previousComponentId && previousComponentId + \"-\" + (isTag(tag) ? tag : escape(getComponentName(tag)));\n\n    var newOptions = _extends({}, optionsToCopy, {\n      attrs: finalAttrs,\n      componentId: newComponentId\n    });\n\n    return createStyledComponent(tag, newOptions, rules);\n  }; // $FlowFixMe\n\n\n  Object.defineProperty(WrappedStyledComponent, 'defaultProps', {\n    get: function get() {\n      return this._foldedDefaultProps;\n    },\n    set: function set(obj) {\n      // $FlowFixMe\n      this._foldedDefaultProps = isTargetStyledComp ? mixinDeep({}, target.defaultProps, obj) : obj;\n    }\n  });\n\n  if (process.env.NODE_ENV !== 'production') {\n    checkDynamicCreation(displayName, styledComponentId);\n    WrappedStyledComponent.warnTooManyClasses = createWarnTooManyClasses(displayName, styledComponentId);\n  } // $FlowFixMe\n\n\n  WrappedStyledComponent.toString = function () {\n    return \".\" + WrappedStyledComponent.styledComponentId;\n  };\n\n  if (isCompositeComponent) {\n    hoist(WrappedStyledComponent, target, {\n      // all SC-specific things should not be hoisted\n      attrs: true,\n      componentStyle: true,\n      displayName: true,\n      foldedComponentIds: true,\n      shouldForwardProp: true,\n      self: true,\n      styledComponentId: true,\n      target: true,\n      withComponent: true\n    });\n  }\n\n  return WrappedStyledComponent;\n} // \n// Thanks to ReactDOMFactories for this handy list!\n\n\nvar domElements = ['a', 'abbr', 'address', 'area', 'article', 'aside', 'audio', 'b', 'base', 'bdi', 'bdo', 'big', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'cite', 'code', 'col', 'colgroup', 'data', 'datalist', 'dd', 'del', 'details', 'dfn', 'dialog', 'div', 'dl', 'dt', 'em', 'embed', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'iframe', 'img', 'input', 'ins', 'kbd', 'keygen', 'label', 'legend', 'li', 'link', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meta', 'meter', 'nav', 'noscript', 'object', 'ol', 'optgroup', 'option', 'output', 'p', 'param', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'script', 'section', 'select', 'small', 'source', 'span', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'textarea', 'tfoot', 'th', 'thead', 'time', 'title', 'tr', 'track', 'u', 'ul', 'var', 'video', 'wbr', // SVG\n'circle', 'clipPath', 'defs', 'ellipse', 'foreignObject', 'g', 'image', 'line', 'linearGradient', 'marker', 'mask', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'stop', 'svg', 'text', 'tspan']; // \n\nvar styled = function styled(tag) {\n  return constructWithOptions(createStyledComponent, tag);\n}; // Shorthands for all valid HTML Elements\n\n\ndomElements.forEach(function (domElement) {\n  styled[domElement] = styled(domElement);\n}); // \n\nvar GlobalStyle = /*#__PURE__*/function () {\n  function GlobalStyle(rules, componentId) {\n    this.rules = rules;\n    this.componentId = componentId;\n    this.isStatic = isStaticRules(rules);\n  }\n\n  var _proto = GlobalStyle.prototype;\n\n  _proto.createStyles = function createStyles(instance, executionContext, styleSheet, stylis) {\n    var flatCSS = flatten(this.rules, executionContext, styleSheet);\n    var css = stylis(flatCSS.join(''), '');\n    var id = this.componentId + instance; // NOTE: We use the id as a name as well, since these rules never change\n\n    styleSheet.insertRules(id, id, css);\n  };\n\n  _proto.removeStyles = function removeStyles(instance, styleSheet) {\n    styleSheet.clearRules(this.componentId + instance);\n  };\n\n  _proto.renderStyles = function renderStyles(instance, executionContext, styleSheet, stylis) {\n    StyleSheet.registerId(this.componentId + instance); // NOTE: Remove old styles, then inject the new ones\n\n    this.removeStyles(instance, styleSheet);\n    this.createStyles(instance, executionContext, styleSheet, stylis);\n  };\n\n  return GlobalStyle;\n}();\n\nfunction createGlobalStyle(strings) {\n  for (var _len = arguments.length, interpolations = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    interpolations[_key - 1] = arguments[_key];\n  }\n\n  var rules = css.apply(void 0, [strings].concat(interpolations));\n  var styledComponentId = \"sc-global-\" + generateComponentId(JSON.stringify(rules));\n  var globalStyle = new GlobalStyle(rules, styledComponentId);\n\n  if (process.env.NODE_ENV !== 'production') {\n    checkDynamicCreation(styledComponentId);\n  }\n\n  function GlobalStyleComponent(props) {\n    var styleSheet = useStyleSheet();\n    var stylis = useStylis();\n    var theme = useContext(ThemeContext);\n    var instanceRef = useRef(null);\n\n    if (instanceRef.current === null) {\n      instanceRef.current = styleSheet.allocateGSInstance(styledComponentId);\n    }\n\n    var instance = instanceRef.current;\n\n    if (process.env.NODE_ENV !== 'production' && React.Children.count(props.children)) {\n      // eslint-disable-next-line no-console\n      console.warn(\"The global style component \" + styledComponentId + \" was given child JSX. createGlobalStyle does not render children.\");\n    }\n\n    if (process.env.NODE_ENV !== 'production' && rules.some(function (rule) {\n      return typeof rule === 'string' && rule.indexOf('@import') !== -1;\n    })) {\n      console.warn(\"Please do not use @import CSS syntax in createGlobalStyle at this time, as the CSSOM APIs we use in production do not handle it well. Instead, we recommend using a library such as react-helmet to inject a typical <link> meta tag to the stylesheet, or simply embedding it manually in your index.html <head> section for a simpler app.\");\n    }\n\n    if (globalStyle.isStatic) {\n      globalStyle.renderStyles(instance, STATIC_EXECUTION_CONTEXT, styleSheet, stylis);\n    } else {\n      var context = _extends({}, props, {\n        theme: determineTheme(props, theme, GlobalStyleComponent.defaultProps)\n      });\n\n      globalStyle.renderStyles(instance, context, styleSheet, stylis);\n    }\n\n    useEffect(function () {\n      return function () {\n        return globalStyle.removeStyles(instance, styleSheet);\n      };\n    }, EMPTY_ARRAY);\n    return null;\n  } // $FlowFixMe\n\n\n  return React.memo(GlobalStyleComponent);\n} // \n\n\nfunction keyframes(strings) {\n  /* Warning if you've used keyframes on React Native */\n  if (process.env.NODE_ENV !== 'production' && typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n    // eslint-disable-next-line no-console\n    console.warn('`keyframes` cannot be used on ReactNative, only on the web. To do animation in ReactNative please use Animated.');\n  }\n\n  for (var _len = arguments.length, interpolations = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    interpolations[_key - 1] = arguments[_key];\n  }\n\n  var rules = css.apply(void 0, [strings].concat(interpolations)).join('');\n  var name = generateComponentId(rules);\n  return new Keyframes(name, [rules, name, '@keyframes']);\n}\n\nvar ServerStyleSheet = /*#__PURE__*/function () {\n  function ServerStyleSheet() {\n    var _this = this;\n\n    this._emitSheetCSS = function () {\n      var css = _this.instance.toString();\n\n      var nonce = getNonce();\n      var attrs = [nonce && \"nonce=\\\"\" + nonce + \"\\\"\", SC_ATTR + \"=\\\"true\\\"\", SC_ATTR_VERSION + \"=\\\"\" + SC_VERSION + \"\\\"\"];\n      var htmlAttr = attrs.filter(Boolean).join(' ');\n      return \"<style \" + htmlAttr + \">\" + css + \"</style>\";\n    };\n\n    this.getStyleTags = function () {\n      if (_this.sealed) {\n        return throwStyledComponentsError(2);\n      }\n\n      return _this._emitSheetCSS();\n    };\n\n    this.getStyleElement = function () {\n      var _props;\n\n      if (_this.sealed) {\n        return throwStyledComponentsError(2);\n      }\n\n      var props = (_props = {}, _props[SC_ATTR] = '', _props[SC_ATTR_VERSION] = SC_VERSION, _props.dangerouslySetInnerHTML = {\n        __html: _this.instance.toString()\n      }, _props);\n      var nonce = getNonce();\n\n      if (nonce) {\n        props.nonce = nonce;\n      } // v4 returned an array for this fn, so we'll do the same for v5 for backward compat\n\n\n      return [/*#__PURE__*/React.createElement(\"style\", _extends({}, props, {\n        key: \"sc-0-0\"\n      }))];\n    };\n\n    this.seal = function () {\n      _this.sealed = true;\n    };\n\n    this.instance = new StyleSheet({\n      isServer: true\n    });\n    this.sealed = false;\n  }\n\n  var _proto = ServerStyleSheet.prototype;\n\n  _proto.collectStyles = function collectStyles(children) {\n    if (this.sealed) {\n      return throwStyledComponentsError(2);\n    }\n\n    return /*#__PURE__*/React.createElement(StyleSheetManager, {\n      sheet: this.instance\n    }, children);\n  }; // eslint-disable-next-line consistent-return\n\n\n  _proto.interleaveWithNodeStream = function interleaveWithNodeStream(input) {\n    {\n      return throwStyledComponentsError(3);\n    }\n  };\n\n  return ServerStyleSheet;\n}(); // export default <Config: { theme?: any }, Instance>(\n//  Component: AbstractComponent<Config, Instance>\n// ): AbstractComponent<$Diff<Config, { theme?: any }> & { theme?: any }, Instance>\n//\n// but the old build system tooling doesn't support the syntax\n\n\nvar withTheme = function withTheme(Component) {\n  // $FlowFixMe This should be React.forwardRef<Config, Instance>\n  var WithTheme = React.forwardRef(function (props, ref) {\n    var theme = useContext(ThemeContext); // $FlowFixMe defaultProps isn't declared so it can be inferrable\n\n    var defaultProps = Component.defaultProps;\n    var themeProp = determineTheme(props, theme, defaultProps);\n\n    if (process.env.NODE_ENV !== 'production' && themeProp === undefined) {\n      // eslint-disable-next-line no-console\n      console.warn(\"[withTheme] You are not using a ThemeProvider nor passing a theme prop or a theme in defaultProps in component class \\\"\" + getComponentName(Component) + \"\\\"\");\n    }\n\n    return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n      theme: themeProp,\n      ref: ref\n    }));\n  });\n  hoist(WithTheme, Component);\n  WithTheme.displayName = \"WithTheme(\" + getComponentName(Component) + \")\";\n  return WithTheme;\n}; // \n\n\nvar useTheme = function useTheme() {\n  return useContext(ThemeContext);\n}; // \n\n\nvar __PRIVATE__ = {\n  StyleSheet: StyleSheet,\n  masterSheet: masterSheet\n}; // \n\n/* Define bundle version for export */\n\nvar version = \"5.1.0\";\n/* Warning if you've imported this file on React Native */\n\nif (process.env.NODE_ENV !== 'production' && typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n  // eslint-disable-next-line no-console\n  console.warn(\"It looks like you've imported 'styled-components' on React Native.\\n\" + \"Perhaps you're looking to import 'styled-components/native'?\\n\" + 'Read more about this at https://www.styled-components.com/docs/basics#react-native');\n}\n/* Warning if there are several instances of styled-components */\n\n\nif (process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'test' && typeof window !== 'undefined') {\n  window['__styled-components-init__'] = window['__styled-components-init__'] || 0;\n\n  if (window['__styled-components-init__'] === 1) {\n    // eslint-disable-next-line no-console\n    console.warn(\"It looks like there are several instances of 'styled-components' initialized in this application. \" + 'This may cause dynamic styles not rendering properly, errors happening during rehydration process, ' + 'missing theme prop, and makes your application bigger without a good reason.\\n\\n' + 'See https://s-c.sh/2BAXzed for more info.');\n  }\n\n  window['__styled-components-init__'] += 1;\n}\n\nexport default styled;\nexport { ServerStyleSheet, StyleSheetConsumer, StyleSheetContext, StyleSheetManager, ThemeConsumer, ThemeContext, ThemeProvider, __PRIVATE__, createGlobalStyle, css, isStyledComponent, keyframes, useTheme, version, withTheme };","import colors from \"../colors.js\";\nexport default colors(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\");","export default function (specifier) {\n  var n = specifier.length / 6 | 0,\n      colors = new Array(n),\n      i = 0;\n\n  while (i < n) {\n    colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  }\n\n  return colors;\n}","'use strict';\nvar weak = require('./_collection-weak');\nvar validate = require('./_validate-collection');\nvar WEAK_SET = 'WeakSet';\n\n// 23.4 WeakSet Objects\nrequire('./_collection')(WEAK_SET, function (get) {\n  return function WeakSet() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.4.3.1 WeakSet.prototype.add(value)\n  add: function add(value) {\n    return weak.def(validate(this, WEAK_SET), value, true);\n  }\n}, weak, false, true);\n","module.exports = function isSamePosition(point1, point2) {\n  var dx = Math.abs(point1.x - point2.x);\n  var dy = Math.abs(point1.y - point2.y);\n  return dx < 1e-8 && dy < 1e-8;\n};","require(\"core-js/modules/es6.function.bind\");\n\n/**\n * 3dof (Gear VR, Daydream) controls for mobile.\n */\nmodule.exports = AFRAME.registerComponent('trackpad-controls', {\n  schema: {\n    enabled: {\n      \"default\": true\n    },\n    enableNegX: {\n      \"default\": true\n    },\n    enablePosX: {\n      \"default\": true\n    },\n    enableNegZ: {\n      \"default\": true\n    },\n    enablePosZ: {\n      \"default\": true\n    },\n    mode: {\n      \"default\": 'touch',\n      oneOf: ['swipe', 'touch', 'press']\n    }\n  },\n  init: function init() {\n    this.dVelocity = new THREE.Vector3();\n    this.zVel = 0;\n    this.xVel = 0;\n    this.bindMethods();\n  },\n  play: function play() {\n    this.addEventListeners();\n  },\n  pause: function pause() {\n    this.removeEventListeners();\n    this.dVelocity.set(0, 0, 0);\n  },\n  remove: function remove() {\n    this.pause();\n  },\n  addEventListeners: function addEventListeners() {\n    var data = this.data;\n    var sceneEl = this.el.sceneEl;\n    sceneEl.addEventListener('axismove', this.onAxisMove);\n\n    switch (data.mode) {\n      case 'swipe':\n      case 'touch':\n        sceneEl.addEventListener('trackpadtouchstart', this.onTouchStart);\n        sceneEl.addEventListener('trackpadtouchend', this.onTouchEnd);\n        break;\n\n      case 'press':\n        sceneEl.addEventListener('trackpaddown', this.onTouchStart);\n        sceneEl.addEventListener('trackpadup', this.onTouchEnd);\n        break;\n    }\n  },\n  removeEventListeners: function removeEventListeners() {\n    var sceneEl = this.el.sceneEl;\n    sceneEl.removeEventListener('axismove', this.onAxisMove);\n    sceneEl.removeEventListener('trackpadtouchstart', this.onTouchStart);\n    sceneEl.removeEventListener('trackpadtouchend', this.onTouchEnd);\n    sceneEl.removeEventListener('trackpaddown', this.onTouchStart);\n    sceneEl.removeEventListener('trackpadup', this.onTouchEnd);\n  },\n  isVelocityActive: function isVelocityActive() {\n    return this.data.enabled && this.isMoving;\n  },\n  getVelocityDelta: function getVelocityDelta() {\n    this.dVelocity.z = this.isMoving ? -this.zVel : 1;\n    this.dVelocity.x = this.isMoving ? this.xVel : 1;\n    return this.dVelocity.clone();\n  },\n  bindMethods: function bindMethods() {\n    this.onTouchStart = this.onTouchStart.bind(this);\n    this.onTouchEnd = this.onTouchEnd.bind(this);\n    this.onAxisMove = this.onAxisMove.bind(this);\n  },\n  onTouchStart: function onTouchStart(e) {\n    switch (this.data.mode) {\n      case 'swipe':\n        this.canRecordAxis = true;\n        this.startingAxisData = [];\n        break;\n\n      case 'touch':\n        this.isMoving = true;\n        break;\n\n      case 'press':\n        this.isMoving = true;\n        break;\n    }\n\n    e.preventDefault();\n  },\n  onTouchEnd: function onTouchEnd(e) {\n    if (this.data.mode == 'swipe') {\n      this.startingAxisData = [];\n    }\n\n    this.isMoving = false;\n    e.preventDefault();\n  },\n  onAxisMove: function onAxisMove(e) {\n    switch (this.data.mode) {\n      case 'swipe':\n        return this.handleSwipeAxis(e);\n\n      case 'touch':\n      case 'press':\n        return this.handleTouchAxis(e);\n    }\n  },\n  handleSwipeAxis: function handleSwipeAxis(e) {\n    var data = this.data;\n    var axisData = e.detail.axis;\n\n    if (this.startingAxisData.length === 0 && this.canRecordAxis) {\n      this.canRecordAxis = false;\n      this.startingAxisData[0] = axisData[0];\n      this.startingAxisData[1] = axisData[1];\n    }\n\n    if (this.startingAxisData.length > 0) {\n      var velX = 0;\n      var velZ = 0;\n\n      if (data.enableNegX && axisData[0] < this.startingAxisData[0]) {\n        velX = -1;\n      }\n\n      if (data.enablePosX && axisData[0] > this.startingAxisData[0]) {\n        velX = 1;\n      }\n\n      if (data.enablePosZ && axisData[1] > this.startingAxisData[1]) {\n        velZ = -1;\n      }\n\n      if (data.enableNegZ && axisData[1] < this.startingAxisData[1]) {\n        velZ = 1;\n      }\n\n      var absChangeZ = Math.abs(this.startingAxisData[1] - axisData[1]);\n      var absChangeX = Math.abs(this.startingAxisData[0] - axisData[0]);\n\n      if (absChangeX > absChangeZ) {\n        this.zVel = 0;\n        this.xVel = velX;\n        this.isMoving = true;\n      } else {\n        this.xVel = 0;\n        this.zVel = velZ;\n        this.isMoving = true;\n      }\n    }\n  },\n  handleTouchAxis: function handleTouchAxis(e) {\n    var data = this.data;\n    var axisData = e.detail.axis;\n    var velX = 0;\n    var velZ = 0;\n\n    if (data.enableNegX && axisData[0] < 0) {\n      velX = -1;\n    }\n\n    if (data.enablePosX && axisData[0] > 0) {\n      velX = 1;\n    }\n\n    if (data.enablePosZ && axisData[1] > 0) {\n      velZ = -1;\n    }\n\n    if (data.enableNegZ && axisData[1] < 0) {\n      velZ = 1;\n    }\n\n    if (Math.abs(axisData[0]) > Math.abs(axisData[1])) {\n      this.zVel = 0;\n      this.xVel = velX;\n    } else {\n      this.xVel = 0;\n      this.zVel = velZ;\n    }\n  }\n});","require(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.array.is-array\");\n\nrequire(\"core-js/modules/es6.function.bind\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.array.sort\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.date.now\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nvar vg = module.exports = {\n  VERSION: \"0.1.1\",\n  PI: Math.PI,\n  TAU: 2 * Math.PI,\n  DEG_TO_RAD: .0174532925,\n  RAD_TO_DEG: 57.2957795,\n  SQRT3: Math.sqrt(3),\n  TILE: \"tile\",\n  ENT: \"entity\",\n  STR: \"structure\",\n  HEX: \"hex\",\n  SQR: \"square\",\n  ABS: \"abstract\"\n};\nvg.Board = function (e, t) {\n  if (!e) throw new Error(\"You must pass in a grid system for the board to use.\");\n  this.tiles = [], this.tileGroup = null, this.group = new THREE.Object3D(), this.grid = null, this.overlay = null, this.finder = new vg.AStarFinder(t), vg.Loader.init(), this.setGrid(e);\n}, vg.Board.prototype = {\n  setEntityOnTile: function setEntityOnTile(e, t) {\n    var i = this.grid.cellToPixel(t.cell);\n    e.position.copy(i), e.position.y += e.heightOffset || 0, e.tile && (e.tile.entity = null), e.tile = t, t.entity = e;\n  },\n  addTile: function addTile(e) {\n    var t = this.tiles.indexOf(e);\n    -1 === t && (this.tiles.push(e), this.snapTileToGrid(e), e.position.y = 0, this.tileGroup.add(e.mesh), this.grid.add(e.cell), e.cell.tile = e);\n  },\n  removeTile: function removeTile(e) {\n    if (e) {\n      var t = this.tiles.indexOf(e);\n      this.grid.remove(e.cell), -1 !== t && this.tiles.splice(t, 1), e.dispose();\n    }\n  },\n  removeAllTiles: function removeAllTiles() {\n    if (this.tileGroup) for (var e = this.tileGroup.children, t = 0; t < e.length; t++) {\n      this.tileGroup.remove(e[t]);\n    }\n  },\n  getTileAtCell: function getTileAtCell(e) {\n    var t = this.grid.cellToHash(e);\n    return e.tile || (\"undefined\" != typeof this.grid.cells[t] ? this.grid.cells[t].tile : null);\n  },\n  snapToGrid: function snapToGrid(e) {\n    var t = this.grid.pixelToCell(e);\n    e.copy(this.grid.cellToPixel(t));\n  },\n  snapTileToGrid: function snapTileToGrid(e) {\n    if (e.cell) e.position.copy(this.grid.cellToPixel(e.cell));else {\n      var t = this.grid.pixelToCell(e.position);\n      e.position.copy(this.grid.cellToPixel(t));\n    }\n    return e;\n  },\n  getRandomTile: function getRandomTile() {\n    var e = vg.Tools.randomInt(0, this.tiles.length - 1);\n    return this.tiles[e];\n  },\n  findPath: function findPath(e, t, i) {\n    return this.finder.findPath(e.cell, t.cell, i, this.grid);\n  },\n  setGrid: function setGrid(e) {\n    this.group.remove(this.tileGroup), this.grid && e !== this.grid && (this.removeAllTiles(), this.tiles.forEach(function (e) {\n      this.grid.remove(e.cell), e.dispose();\n    }), this.grid.dispose()), this.grid = e, this.tiles = [], this.tileGroup = new THREE.Object3D(), this.group.add(this.tileGroup);\n  },\n  generateOverlay: function generateOverlay(e) {\n    var t = new THREE.LineBasicMaterial({\n      color: 0,\n      opacity: .3\n    });\n    this.overlay && this.group.remove(this.overlay), this.overlay = new THREE.Object3D(), this.grid.generateOverlay(e, this.overlay, t), this.group.add(this.overlay);\n  },\n  generateTilemap: function generateTilemap(e) {\n    this.reset();\n    var t = this.grid.generateTiles(e);\n    this.tiles = t, this.tileGroup = new THREE.Object3D();\n\n    for (var i = 0; i < t.length; i++) {\n      this.tileGroup.add(t[i].mesh);\n    }\n\n    this.group.add(this.tileGroup);\n  },\n  reset: function reset() {\n    this.removeAllTiles(), this.tileGroup && this.group.remove(this.tileGroup);\n  }\n}, vg.Board.prototype.constructor = vg.Board, vg.Cell = function (e, t, i, s) {\n  this.q = e || 0, this.r = t || 0, this.s = i || 0, this.h = s || 1, this.tile = null, this.userData = {}, this.walkable = !0, this._calcCost = 0, this._priority = 0, this._visited = !1, this._parent = null, this.uniqueID = vg.LinkedList.generateID();\n}, vg.Cell.prototype = {\n  set: function set(e, t, i) {\n    return this.q = e, this.r = t, this.s = i, this;\n  },\n  copy: function copy(e) {\n    return this.q = e.q, this.r = e.r, this.s = e.s, this.h = e.h, this.tile = e.tile || null, this.userData = e.userData || {}, this.walkable = e.walkable, this;\n  },\n  add: function add(e) {\n    return this.q += e.q, this.r += e.r, this.s += e.s, this;\n  },\n  equals: function equals(e) {\n    return this.q === e.q && this.r === e.r && this.s === e.s;\n  }\n}, vg.Cell.prototype.constructor = vg.Cell, vg.HexGrid = function (e) {\n  e = e || {}, this.type = vg.HEX, this.size = 5, this.cellSize = \"undefined\" == typeof e.cellSize ? 10 : e.cellSize, this.cells = {}, this.numCells = 0, this.extrudeSettings = null, this.autogenerated = !1;\n  var t,\n      i = [];\n\n  for (t = 0; 6 > t; t++) {\n    i.push(this._createVertex(t));\n  }\n\n  for (this.cellShape = new THREE.Shape(), this.cellShape.moveTo(i[0].x, i[0].y), t = 1; 6 > t; t++) {\n    this.cellShape.lineTo(i[t].x, i[t].y);\n  }\n\n  this.cellShape.lineTo(i[0].x, i[0].y), this.cellShape.autoClose = !0, this.cellGeo = new THREE.Geometry(), this.cellGeo.vertices = i, this.cellGeo.verticesNeedUpdate = !0, this.cellShapeGeo = new THREE.ShapeGeometry(this.cellShape), this._cellWidth = 2 * this.cellSize, this._cellLength = .5 * vg.SQRT3 * this._cellWidth, this._hashDelimeter = \".\", this._directions = [new vg.Cell(1, -1, 0), new vg.Cell(1, 0, -1), new vg.Cell(0, 1, -1), new vg.Cell(-1, 1, 0), new vg.Cell(-1, 0, 1), new vg.Cell(0, -1, 1)], this._diagonals = [new vg.Cell(2, -1, -1), new vg.Cell(1, 1, -2), new vg.Cell(-1, 2, -1), new vg.Cell(-2, 1, 1), new vg.Cell(-1, -1, 2), new vg.Cell(1, -2, 1)], this._list = [], this._vec3 = new THREE.Vector3(), this._cel = new vg.Cell(), this._conversionVec = new THREE.Vector3(), this._geoCache = [], this._matCache = [];\n}, vg.HexGrid.TWO_THIRDS = 2 / 3, vg.HexGrid.prototype = {\n  cellToPixel: function cellToPixel(e) {\n    return this._vec3.x = e.q * this._cellWidth * .75, this._vec3.y = e.h, this._vec3.z = -((e.s - e.r) * this._cellLength * .5), this._vec3;\n  },\n  pixelToCell: function pixelToCell(e) {\n    var t = e.x * (vg.HexGrid.TWO_THIRDS / this.cellSize),\n        i = (-e.x / 3 + vg.SQRT3 / 3 * e.z) / this.cellSize;\n    return this._cel.set(t, i, -t - i), this._cubeRound(this._cel);\n  },\n  getCellAt: function getCellAt(e) {\n    var t = e.x * (vg.HexGrid.TWO_THIRDS / this.cellSize),\n        i = (-e.x / 3 + vg.SQRT3 / 3 * e.z) / this.cellSize;\n    return this._cel.set(t, i, -t - i), this._cubeRound(this._cel), this.cells[this.cellToHash(this._cel)];\n  },\n  getNeighbors: function getNeighbors(e, t, i) {\n    var s,\n        n,\n        l = this._directions.length;\n\n    for (this._list.length = 0, s = 0; l > s; s++) {\n      this._cel.copy(e), this._cel.add(this._directions[s]), n = this.cells[this.cellToHash(this._cel)], !n || i && !i(e, n) || this._list.push(n);\n    }\n\n    if (t) for (s = 0; l > s; s++) {\n      this._cel.copy(e), this._cel.add(this._diagonals[s]), n = this.cells[this.cellToHash(this._cel)], !n || i && !i(e, n) || this._list.push(n);\n    }\n    return this._list;\n  },\n  getRandomCell: function getRandomCell() {\n    var e,\n        t = 0,\n        i = vg.Tools.randomInt(0, this.numCells);\n\n    for (e in this.cells) {\n      if (t === i) return this.cells[e];\n      t++;\n    }\n\n    return this.cells[e];\n  },\n  cellToHash: function cellToHash(e) {\n    return e.q + this._hashDelimeter + e.r + this._hashDelimeter + e.s;\n  },\n  distance: function distance(e, t) {\n    var i = Math.max(Math.abs(e.q - t.q), Math.abs(e.r - t.r), Math.abs(e.s - t.s));\n    return i += t.h - e.h;\n  },\n  clearPath: function clearPath() {\n    var e, t;\n\n    for (e in this.cells) {\n      t = this.cells[e], t._calcCost = 0, t._priority = 0, t._parent = null, t._visited = !1;\n    }\n  },\n  traverse: function traverse(e) {\n    var t;\n\n    for (t in this.cells) {\n      e(this.cells[t]);\n    }\n  },\n  generateTile: function generateTile(e, t, i) {\n    var s = Math.abs(e.h);\n    1 > s && (s = 1);\n    var n = this._geoCache[s];\n    n || (this.extrudeSettings.amount = s, n = new THREE.ExtrudeGeometry(this.cellShape, this.extrudeSettings), this._geoCache[s] = n);\n    var l = new vg.Tile({\n      size: this.cellSize,\n      scale: t,\n      cell: e,\n      geometry: n,\n      material: i\n    });\n    return e.tile = l, l;\n  },\n  generateTiles: function generateTiles(e) {\n    e = e || {};\n    var t = [],\n        i = {\n      tileScale: .95,\n      cellSize: this.cellSize,\n      material: null,\n      extrudeSettings: {\n        amount: 1,\n        bevelEnabled: !0,\n        bevelSegments: 1,\n        steps: 1,\n        bevelSize: .5,\n        bevelThickness: .5\n      }\n    };\n    i = vg.Tools.merge(i, e), this.cellSize = i.cellSize, this._cellWidth = 2 * this.cellSize, this._cellLength = .5 * vg.SQRT3 * this._cellWidth, this.autogenerated = !0, this.extrudeSettings = i.extrudeSettings;\n    var s, n, l;\n\n    for (s in this.cells) {\n      l = this.cells[s], n = this.generateTile(l, i.tileScale, i.material), n.position.copy(this.cellToPixel(l)), n.position.y = 0, t.push(n);\n    }\n\n    return t;\n  },\n  generateTilePoly: function generateTilePoly(e) {\n    e || (e = new THREE.MeshBasicMaterial({\n      color: 2405631\n    }));\n    var t = new THREE.Mesh(this.cellShapeGeo, e);\n    return this._vec3.set(1, 0, 0), t.rotateOnAxis(this._vec3, vg.PI / 2), t;\n  },\n  generate: function generate(e) {\n    e = e || {}, this.size = \"undefined\" == typeof e.size ? this.size : e.size;\n    var t, i, s, n;\n\n    for (t = -this.size; t < this.size + 1; t++) {\n      for (i = -this.size; i < this.size + 1; i++) {\n        s = -t - i, Math.abs(t) <= this.size && Math.abs(i) <= this.size && Math.abs(s) <= this.size && (n = new vg.Cell(t, i, s), this.add(n));\n      }\n    }\n  },\n  generateOverlay: function generateOverlay(e, t, i) {\n    var s,\n        n,\n        l,\n        r = this.cellShape.createPointsGeometry();\n\n    for (s = -e; e + 1 > s; s++) {\n      for (n = -e; e + 1 > n; n++) {\n        if (l = -s - n, Math.abs(s) <= e && Math.abs(n) <= e && Math.abs(l) <= e) {\n          this._cel.set(s, n, l);\n\n          var h = new THREE.Line(r, i);\n          h.position.copy(this.cellToPixel(this._cel)), h.rotation.x = 90 * vg.DEG_TO_RAD, t.add(h);\n        }\n      }\n    }\n  },\n  add: function add(e) {\n    var t = this.cellToHash(e);\n    if (!this.cells[t]) return this.cells[t] = e, this.numCells++, e;\n  },\n  remove: function remove(e) {\n    var t = this.cellToHash(e);\n    this.cells[t] && (delete this.cells[t], this.numCells--);\n  },\n  dispose: function dispose() {\n    this.cells = null, this.numCells = 0, this.cellShape = null, this.cellGeo.dispose(), this.cellGeo = null, this.cellShapeGeo.dispose(), this.cellShapeGeo = null, this._list = null, this._vec3 = null, this._conversionVec = null, this._geoCache = null, this._matCache = null;\n  },\n  load: function load(e, t, i) {\n    var s = this;\n    vg.Tools.getJSON({\n      url: e,\n      callback: function callback(e) {\n        s.fromJSON(e), t.call(i || null, e);\n      },\n      cache: !1,\n      scope: s\n    });\n  },\n  fromJSON: function fromJSON(e) {\n    var t,\n        i,\n        s = e.cells;\n\n    for (this.cells = {}, this.numCells = 0, this.size = e.size, this.cellSize = e.cellSize, this._cellWidth = 2 * this.cellSize, this._cellLength = .5 * vg.SQRT3 * this._cellWidth, this.extrudeSettings = e.extrudeSettings, this.autogenerated = e.autogenerated, t = 0; t < s.length; t++) {\n      i = new vg.Cell(), i.copy(s[t]), this.add(i);\n    }\n  },\n  toJSON: function toJSON() {\n    var e,\n        t,\n        i = {\n      size: this.size,\n      cellSize: this.cellSize,\n      extrudeSettings: this.extrudeSettings,\n      autogenerated: this.autogenerated\n    },\n        s = [];\n\n    for (t in this.cells) {\n      e = this.cells[t], s.push({\n        q: e.q,\n        r: e.r,\n        s: e.s,\n        h: e.h,\n        walkable: e.walkable,\n        userData: e.userData\n      });\n    }\n\n    return i.cells = s, i;\n  },\n  _createVertex: function _createVertex(e) {\n    var t = vg.TAU / 6 * e;\n    return new THREE.Vector3(this.cellSize * Math.cos(t), this.cellSize * Math.sin(t), 0);\n  },\n  _cubeRound: function _cubeRound(e) {\n    var t = Math.round(e.q),\n        i = Math.round(e.r),\n        s = Math.round(e.s),\n        n = Math.abs(t - e.q),\n        l = Math.abs(i - e.r),\n        r = Math.abs(s - e.s);\n    return n > l && n > r ? t = -i - s : l > r ? i = -t - s : s = -t - i, this._cel.set(t, i, s);\n  }\n}, vg.HexGrid.prototype.constructor = vg.HexGrid, vg.SqrGrid = function (e) {\n  e = e || {}, this.type = vg.SQR, this.size = 5, this.cellSize = \"undefined\" == typeof e.cellSize ? 10 : e.cellSize, this.cells = {}, this.numCells = 0, this.extrudeSettings = null, this.autogenerated = !1;\n  var t = [];\n  t.push(new THREE.Vector3()), t.push(new THREE.Vector3(-this.cellSize, this.cellSize)), t.push(new THREE.Vector3(this.cellSize, this.cellSize)), t.push(new THREE.Vector3(this.cellSize, -this.cellSize)), this.cellShape = new THREE.Shape(), this.cellShape.moveTo(-this.cellSize, -this.cellSize), this.cellShape.lineTo(-this.cellSize, this.cellSize), this.cellShape.lineTo(this.cellSize, this.cellSize), this.cellShape.lineTo(this.cellSize, -this.cellSize), this.cellShape.lineTo(-this.cellSize, -this.cellSize), this.cellGeo = new THREE.Geometry(), this.cellGeo.vertices = t, this.cellGeo.verticesNeedUpdate = !0, this.cellShapeGeo = new THREE.ShapeGeometry(this.cellShape), this._fullCellSize = 2 * this.cellSize, this._hashDelimeter = \".\", this._directions = [new vg.Cell(1, 0, 0), new vg.Cell(0, -1, 0), new vg.Cell(-1, 0, 0), new vg.Cell(0, 1, 0)], this._diagonals = [new vg.Cell(-1, -1, 0), new vg.Cell(-1, 1, 0), new vg.Cell(1, 1, 0), new vg.Cell(1, -1, 0)], this._list = [], this._vec3 = new THREE.Vector3(), this._cel = new vg.Cell(), this._conversionVec = new THREE.Vector3(), this._geoCache = [], this._matCache = [];\n}, vg.SqrGrid.prototype = {\n  cellToPixel: function cellToPixel(e) {\n    return this._vec3.x = e.q * this._fullCellSize, this._vec3.y = e.h, this._vec3.z = e.r * this._fullCellSize, this._vec3;\n  },\n  pixelToCell: function pixelToCell(e) {\n    var t = Math.round(e.x / this._fullCellSize),\n        i = Math.round(e.z / this._fullCellSize);\n    return this._cel.set(t, i, 0);\n  },\n  getCellAt: function getCellAt(e) {\n    var t = Math.round(e.x / this._fullCellSize),\n        i = Math.round(e.z / this._fullCellSize);\n    return this._cel.set(t, i), this.cells[this.cellToHash(this._cel)];\n  },\n  getNeighbors: function getNeighbors(e, t, i) {\n    var s,\n        n,\n        l = this._directions.length;\n\n    for (this._list.length = 0, s = 0; l > s; s++) {\n      this._cel.copy(e), this._cel.add(this._directions[s]), n = this.cells[this.cellToHash(this._cel)], !n || i && !i(e, n) || this._list.push(n);\n    }\n\n    if (t) for (s = 0; l > s; s++) {\n      this._cel.copy(e), this._cel.add(this._diagonals[s]), n = this.cells[this.cellToHash(this._cel)], !n || i && !i(e, n) || this._list.push(n);\n    }\n    return this._list;\n  },\n  getRandomCell: function getRandomCell() {\n    var e,\n        t = 0,\n        i = vg.Tools.randomInt(0, this.numCells);\n\n    for (e in this.cells) {\n      if (t === i) return this.cells[e];\n      t++;\n    }\n\n    return this.cells[e];\n  },\n  cellToHash: function cellToHash(e) {\n    return e.q + this._hashDelimeter + e.r;\n  },\n  distance: function distance(e, t) {\n    var i = Math.max(Math.abs(e.q - t.q), Math.abs(e.r - t.r));\n    return i += t.h - e.h;\n  },\n  clearPath: function clearPath() {\n    var e, t;\n\n    for (e in this.cells) {\n      t = this.cells[e], t._calcCost = 0, t._priority = 0, t._parent = null, t._visited = !1;\n    }\n  },\n  traverse: function traverse(e) {\n    var t;\n\n    for (t in this.cells) {\n      e(this.cells[t]);\n    }\n  },\n  generateTile: function generateTile(e, t, i) {\n    var s = Math.abs(e.h);\n    1 > s && (s = 1);\n    var n = this._geoCache[s];\n    n || (this.extrudeSettings.amount = s, n = new THREE.ExtrudeGeometry(this.cellShape, this.extrudeSettings), this._geoCache[s] = n);\n    var l = new vg.Tile({\n      size: this.cellSize,\n      scale: t,\n      cell: e,\n      geometry: n,\n      material: i\n    });\n    return e.tile = l, l;\n  },\n  generateTiles: function generateTiles(e) {\n    e = e || {};\n    var t = [],\n        i = {\n      tileScale: .95,\n      cellSize: this.cellSize,\n      material: null,\n      extrudeSettings: {\n        amount: 1,\n        bevelEnabled: !0,\n        bevelSegments: 1,\n        steps: 1,\n        bevelSize: .5,\n        bevelThickness: .5\n      }\n    };\n    i = vg.Tools.merge(i, e), this.cellSize = i.cellSize, this._fullCellSize = 2 * this.cellSize, this.autogenerated = !0, this.extrudeSettings = i.extrudeSettings;\n    var s, n, l;\n\n    for (s in this.cells) {\n      l = this.cells[s], n = this.generateTile(l, i.tileScale, i.material), n.position.copy(this.cellToPixel(l)), n.position.y = 0, t.push(n);\n    }\n\n    return t;\n  },\n  generateTilePoly: function generateTilePoly(e) {\n    e || (e = new THREE.MeshBasicMaterial({\n      color: 2405631\n    }));\n    var t = new THREE.Mesh(this.cellShapeGeo, e);\n    return this._vec3.set(1, 0, 0), t.rotateOnAxis(this._vec3, vg.PI / 2), t;\n  },\n  generate: function generate(e) {\n    e = e || {}, this.size = \"undefined\" == typeof e.size ? this.size : e.size;\n    var t,\n        i,\n        s,\n        n = Math.ceil(this.size / 2);\n\n    for (t = -n; n > t; t++) {\n      for (i = -n; n > i; i++) {\n        s = new vg.Cell(t, i + 1), this.add(s);\n      }\n    }\n  },\n  generateOverlay: function generateOverlay(e, t, i) {\n    var s,\n        n,\n        l = Math.ceil(e / 2);\n\n    for (s = -l; l > s; s++) {\n      for (n = -l; l > n; n++) {\n        this._cel.set(s, n);\n\n        var r = new THREE.Line(this.cellGeo, i);\n        r.position.copy(this.cellToPixel(this._cel)), r.rotation.x = 90 * vg.DEG_TO_RAD, t.add(r);\n      }\n    }\n  },\n  add: function add(e) {\n    var t = this.cellToHash(e);\n    if (!this.cells[t]) return this.cells[t] = e, this.numCells++, e;\n  },\n  remove: function remove(e) {\n    var t = this.cellToHash(e);\n    this.cells[t] && (delete this.cells[t], this.numCells--);\n  },\n  dispose: function dispose() {\n    this.cells = null, this.numCells = 0, this.cellShape = null, this.cellGeo.dispose(), this.cellGeo = null, this.cellShapeGeo.dispose(), this.cellShapeGeo = null, this._list = null, this._vec3 = null, this._conversionVec = null, this._geoCache = null, this._matCache = null;\n  },\n  load: function load(e, t, i) {\n    vg.Tools.getJSON({\n      url: e,\n      callback: function callback(e) {\n        this.fromJSON(e), t.call(i || null, e);\n      },\n      cache: !1,\n      scope: this\n    });\n  },\n  fromJSON: function fromJSON(e) {\n    var t,\n        i,\n        s = e.cells;\n\n    for (this.cells = {}, this.numCells = 0, this.size = e.size, this.cellSize = e.cellSize, this._fullCellSize = 2 * this.cellSize, this.extrudeSettings = e.extrudeSettings, this.autogenerated = e.autogenerated, t = 0; t < s.length; t++) {\n      i = new vg.Cell(), i.copy(s[t]), this.add(i);\n    }\n  },\n  toJSON: function toJSON() {\n    var e,\n        t,\n        i = {\n      size: this.size,\n      cellSize: this.cellSize,\n      extrudeSettings: this.extrudeSettings,\n      autogenerated: this.autogenerated\n    },\n        s = [];\n\n    for (t in this.cells) {\n      e = this.cells[t], s.push({\n        q: e.q,\n        r: e.r,\n        s: e.s,\n        h: e.h,\n        walkable: e.walkable,\n        userData: e.userData\n      });\n    }\n\n    return i.cells = s, i;\n  }\n}, vg.SqrGrid.prototype.constructor = vg.SqrGrid, vg.Tile = function (e) {\n  e = e || {};\n  var t = {\n    cell: null,\n    geometry: null,\n    material: null\n  };\n  if (t = vg.Tools.merge(t, e), !t.cell || !t.geometry) throw new Error(\"Missing vg.Tile configuration\");\n  this.cell = t.cell, this.cell.tile && this.cell.tile !== this && this.cell.tile.dispose(), this.cell.tile = this, this.uniqueID = vg.Tools.generateID(), this.geometry = t.geometry, this.material = t.material, this.material || (this.material = new THREE.MeshPhongMaterial({\n    color: vg.Tools.randomizeRGB(\"30, 30, 30\", 13)\n  })), this.objectType = vg.TILE, this.entity = null, this.userData = {}, this.selected = !1, this.highlight = \"0x0084cc\", this.mesh = new THREE.Mesh(this.geometry, this.material), this.mesh.userData.structure = this, this.position = this.mesh.position, this.rotation = this.mesh.rotation, this.rotation.x = -90 * vg.DEG_TO_RAD, this.mesh.scale.set(t.scale, t.scale, 1), this.material.emissive ? this._emissive = this.material.emissive.getHex() : this._emissive = null;\n}, vg.Tile.prototype = {\n  select: function select() {\n    return this.material.emissive && this.material.emissive.setHex(this.highlight), this.selected = !0, this;\n  },\n  deselect: function deselect() {\n    return null !== this._emissive && this.material.emissive && this.material.emissive.setHex(this._emissive), this.selected = !1, this;\n  },\n  toggle: function toggle() {\n    return this.selected ? this.deselect() : this.select(), this;\n  },\n  dispose: function dispose() {\n    this.cell && this.cell.tile && (this.cell.tile = null), this.cell = null, this.position = null, this.rotation = null, this.mesh.parent && this.mesh.parent.remove(this.mesh), this.mesh.userData.structure = null, this.mesh = null, this.material = null, this.userData = null, this.entity = null, this.geometry = null, this._emissive = null;\n  }\n}, vg.Tile.prototype.constructor = vg.Tile, function () {\n  var e = function e() {\n    this.obj = null, this.next = null, this.prev = null, this.free = !0;\n  },\n      t = function t() {\n    this.first = null, this.last = null, this.length = 0, this.objToNodeMap = {}, this.uniqueID = Date.now() + \"\" + Math.floor(1e3 * Math.random()), this.sortArray = [];\n  };\n\n  t.generateID = function () {\n    return Math.random().toString(36).slice(2) + Date.now();\n  }, t.prototype = {\n    getNode: function getNode(e) {\n      return this.objToNodeMap[e.uniqueID];\n    },\n    addNode: function addNode(i) {\n      var s = new e();\n      if (!i.uniqueID) try {\n        i.uniqueID = t.generateID();\n      } catch (n) {\n        return console.error(\"[LinkedList.addNode] obj passed is immutable: cannot attach necessary identifier\"), null;\n      }\n      return s.obj = i, s.free = !1, this.objToNodeMap[i.uniqueID] = s, s;\n    },\n    swapObjects: function swapObjects(e, t) {\n      this.objToNodeMap[e.obj.uniqueID] = null, this.objToNodeMap[t.uniqueID] = e, e.obj = t;\n    },\n    add: function add(e) {\n      var t = this.objToNodeMap[e.uniqueID];\n\n      if (t) {\n        if (t.free === !1) return;\n        t.obj = e, t.free = !1, t.next = null, t.prev = null;\n      } else t = this.addNode(e);\n\n      if (this.first) {\n        if (!this.last) throw new Error(\"[LinkedList.add] No last in the list -- that shouldn't happen here\");\n        this.last.next = t, t.prev = this.last, this.last = t, t.next = null;\n      } else this.first = t, this.last = t, t.next = null, t.prev = null;\n\n      this.length++, this.showDebug && this.dump(\"after add\");\n    },\n    has: function has(e) {\n      return !!this.objToNodeMap[e.uniqueID];\n    },\n    moveUp: function moveUp(e) {\n      this.dump(\"before move up\");\n      var t = this.getNode(e);\n      if (!t) throw \"Oops, trying to move an object that isn't in the list\";\n\n      if (t.prev) {\n        var i = t.prev,\n            s = i.prev;\n        t == this.last && (this.last = i);\n        var n = t.next;\n        s && (s.next = t), t.next = i, t.prev = i.prev, i.next = n, i.prev = t, this.first == i && (this.first = t);\n      }\n    },\n    moveDown: function moveDown(e) {\n      var t = this.getNode(e);\n      if (!t) throw \"Oops, trying to move an object that isn't in the list\";\n\n      if (t.next) {\n        var i = t.next;\n        this.moveUp(i.obj), this.last == i && (this.last = t);\n      }\n    },\n    sort: function sort(e) {\n      var t,\n          i,\n          s = this.sortArray,\n          n = this.first;\n\n      for (s.length = 0; n;) {\n        s.push(n.obj), n = n.next;\n      }\n\n      for (this.clear(), s.sort(e), i = s.length, t = 0; i > t; t++) {\n        this.add(s[t]);\n      }\n    },\n    remove: function remove(e) {\n      var t = this.getNode(e);\n      return !t || t.free ? !1 : (t.prev && (t.prev.next = t.next), t.next && (t.next.prev = t.prev), t.prev || (this.first = t.next), t.next || (this.last = t.prev), t.free = !0, t.prev = null, t.next = null, this.length--, !0);\n    },\n    shift: function shift() {\n      var e = this.first;\n      return 0 === this.length ? null : (e.prev && (e.prev.next = e.next), e.next && (e.next.prev = e.prev), this.first = e.next, e.next || (this.last = null), e.free = !0, e.prev = null, e.next = null, this.length--, e.obj);\n    },\n    pop: function pop() {\n      var e = this.last;\n      return 0 === this.length ? null : (e.prev && (e.prev.next = e.next), e.next && (e.next.prev = e.prev), this.last = e.prev, e.prev || (this.first = null), e.free = !0, e.prev = null, e.next = null, this.length--, e.obj);\n    },\n    concat: function concat(e) {\n      for (var t = e.first; t;) {\n        this.add(t.obj), t = t.next;\n      }\n    },\n    clear: function clear() {\n      for (var e = this.first; e;) {\n        e.free = !0, e = e.next;\n      }\n\n      this.first = null, this.length = 0;\n    },\n    dispose: function dispose() {\n      for (var e = this.first; e;) {\n        e.obj = null, e = e.next;\n      }\n\n      this.first = null, this.objToNodeMap = null;\n    },\n    dump: function dump(e) {\n      console.log(\"====================\" + e + \"=====================\");\n\n      for (var t = this.first; t;) {\n        console.log(\"{\" + t.obj.toString() + \"} previous=\" + (t.prev ? t.prev.obj : \"NULL\")), t = t.next();\n      }\n\n      console.log(\"===================================\"), console.log(\"Last: {\" + (this.last ? this.last.obj : \"NULL\") + \"} First: {\" + (this.first ? this.first.obj : \"NULL\") + \"}\");\n    }\n  }, t.prototype.constructor = t, vg.LinkedList = t;\n}(), function () {\n  var e = function e(_e, t, i, s, n) {\n    this._listener = t, this.isOnce = i, this.context = s, this.signal = _e, this._priority = n || 0;\n  };\n\n  e.prototype = {\n    active: !0,\n    params: null,\n    execute: function execute(e) {\n      var t, i;\n      return this.active && this._listener && (i = this.params ? this.params.concat(e) : e, t = this._listener.apply(this.context, i), this.isOnce && this.detach()), t;\n    },\n    detach: function detach() {\n      return this.isBound() ? this.signal.remove(this._listener, this.context) : null;\n    },\n    isBound: function isBound() {\n      return !!this.signal && !!this._listener;\n    },\n    _destroy: function _destroy() {\n      delete this.signal, delete this._listener, delete this.context;\n    },\n    toString: function toString() {\n      return \"[SignalBinding isOnce:\" + this.isOnce + \", isBound:\" + this.isBound() + \", active:\" + this.active + \"]\";\n    }\n  }, e.prototype.constructor = e;\n\n  var t = function t() {\n    this._bindings = [], this._prevParams = null;\n    var e = this;\n\n    this.dispatch = function () {\n      t.prototype.dispatch.apply(e, arguments);\n    };\n  };\n\n  t.prototype = {\n    memorize: !1,\n    _shouldPropagate: !0,\n    active: !0,\n    validateListener: function validateListener(e, t) {\n      if (\"function\" != typeof e) throw new Error(\"Signal: listener is a required param of {fn}() and should be a Function.\".replace(\"{fn}\", t));\n    },\n    _registerListener: function _registerListener(t, i, s, n) {\n      var l,\n          r = this._indexOfListener(t, s);\n\n      if (-1 !== r) {\n        if (l = this._bindings[r], l.isOnce !== i) throw new Error(\"You cannot add\" + (i ? \"\" : \"Once\") + \"() then add\" + (i ? \"Once\" : \"\") + \"() the same listener without removing the relationship first.\");\n      } else l = new e(this, t, i, s, n), this._addBinding(l);\n\n      return this.memorize && this._prevParams && l.execute(this._prevParams), l;\n    },\n    _addBinding: function _addBinding(e) {\n      var t = this._bindings.length;\n\n      do {\n        t--;\n      } while (this._bindings[t] && e._priority <= this._bindings[t]._priority);\n\n      this._bindings.splice(t + 1, 0, e);\n    },\n    _indexOfListener: function _indexOfListener(e, t) {\n      for (var i, s = this._bindings.length; s--;) {\n        if (i = this._bindings[s], i._listener === e && i.context === t) return s;\n      }\n\n      return -1;\n    },\n    has: function has(e, t) {\n      return -1 !== this._indexOfListener(e, t);\n    },\n    add: function add(e, t, i) {\n      return this.validateListener(e, \"add\"), this._registerListener(e, !1, t, i);\n    },\n    addOnce: function addOnce(e, t, i) {\n      return this.validateListener(e, \"addOnce\"), this._registerListener(e, !0, t, i);\n    },\n    remove: function remove(e, t) {\n      this.validateListener(e, \"remove\");\n\n      var i = this._indexOfListener(e, t);\n\n      return -1 !== i && (this._bindings[i]._destroy(), this._bindings.splice(i, 1)), e;\n    },\n    removeAll: function removeAll(e) {\n      \"undefined\" == typeof e && (e = null);\n\n      for (var t = this._bindings.length; t--;) {\n        e ? this._bindings[t].context === e && (this._bindings[t]._destroy(), this._bindings.splice(t, 1)) : this._bindings[t]._destroy();\n      }\n\n      e || (this._bindings.length = 0);\n    },\n    getNumListeners: function getNumListeners() {\n      return this._bindings.length;\n    },\n    halt: function halt() {\n      this._shouldPropagate = !1;\n    },\n    dispatch: function dispatch() {\n      if (this.active) {\n        var e,\n            t = Array.prototype.slice.call(arguments),\n            i = this._bindings.length;\n\n        if (this.memorize && (this._prevParams = t), i) {\n          e = this._bindings.slice(), this._shouldPropagate = !0;\n\n          do {\n            i--;\n          } while (e[i] && this._shouldPropagate && e[i].execute(t) !== !1);\n        }\n      }\n    },\n    forget: function forget() {\n      this._prevParams = null;\n    },\n    dispose: function dispose() {\n      this.removeAll(), delete this._bindings, delete this._prevParams;\n    },\n    toString: function toString() {\n      return \"[Signal active:\" + this.active + \" numListeners:\" + this.getNumListeners() + \"]\";\n    }\n  }, t.prototype.constructor = t, vg.Signal = t;\n}(), vg.AStarFinder = function (e) {\n  e = e || {};\n  var t = {\n    allowDiagonal: !1,\n    heuristicFilter: null\n  };\n  t = vg.Tools.merge(t, e), this.allowDiagonal = t.allowDiagonal, this.heuristicFilter = t.heuristicFilter, this.list = new vg.LinkedList();\n}, vg.AStarFinder.prototype = {\n  findPath: function findPath(e, t, i, s) {\n    var n, l, r, h, o, a;\n\n    for (i = i || this.heuristicFilter, s.clearPath(), this.list.clear(), this.list.add(e); this.list.length > 0;) {\n      if (this.list.sort(this.compare), n = this.list.shift(), n._visited = !0, n === t) return vg.PathUtil.backtrace(t);\n\n      for (r = s.getNeighbors(n, this.allowDiagonal, i), o = 0, a = r.length; a > o; o++) {\n        if (h = r[o], h.walkable && (l = n._calcCost + s.distance(n, h), !h._visited || l < h._calcCost)) {\n          if (h._visited = !0, h._parent = n, h._calcCost = l, h._priority = l + s.distance(t, h), h === t) return vg.PathUtil.backtrace(t);\n          this.list.add(h);\n        }\n      }\n    }\n\n    return null;\n  },\n  compare: function compare(e, t) {\n    return e._priority - t._priority;\n  }\n}, vg.AStarFinder.prototype.constructor = vg.AStarFinder, vg.PathUtil = {\n  backtrace: function backtrace(e) {\n    for (var t = [e]; e._parent;) {\n      e = e._parent, t.push(e);\n    }\n\n    return t.reverse();\n  },\n  biBacktrace: function biBacktrace(e, t) {\n    var i = this.backtrace(e),\n        s = this.backtrace(t);\n    return i.concat(s.reverse());\n  },\n  pathLength: function pathLength(e) {\n    var t,\n        i,\n        s,\n        n,\n        l,\n        r = 0;\n\n    for (t = 1; t < e.length; ++t) {\n      i = e[t - 1], s = e[t], n = i[0] - s[0], l = i[1] - s[1], r += Math.sqrt(n * n + l * l);\n    }\n\n    return r;\n  },\n  interpolate: function interpolate(e, t, i, s) {\n    var n,\n        l,\n        r,\n        h,\n        o,\n        a,\n        c = Math.abs,\n        u = [];\n\n    for (r = c(i - e), h = c(s - t), n = i > e ? 1 : -1, l = s > t ? 1 : -1, o = r - h; e !== i || t !== s;) {\n      u.push([e, t]), a = 2 * o, a > -h && (o -= h, e += n), r > a && (o += r, t += l);\n    }\n\n    return u;\n  },\n  expandPath: function expandPath(e) {\n    var t,\n        i,\n        s,\n        n,\n        l,\n        r,\n        h = [],\n        o = e.length;\n    if (2 > o) return h;\n\n    for (l = 0; o - 1 > l; ++l) {\n      for (t = e[l], i = e[l + 1], s = this.interpolate(t[0], t[1], i[0], i[1]), n = s.length, r = 0; n - 1 > r; ++r) {\n        h.push(s[r]);\n      }\n    }\n\n    return h.push(e[o - 1]), h;\n  },\n  smoothenPath: function smoothenPath(e, t) {\n    var i,\n        s,\n        n,\n        l,\n        r,\n        h,\n        o,\n        a,\n        c,\n        u,\n        d,\n        g,\n        p = t.length,\n        v = t[0][0],\n        f = t[0][1],\n        m = t[p - 1][0],\n        _ = t[p - 1][1];\n\n    for (i = v, s = f, r = [[i, s]], o = 2; p > o; ++o) {\n      for (c = t[o], n = c[0], l = c[1], u = this.interpolate(i, s, n, l), g = !1, a = 1; a < u.length; ++a) {\n        if (d = u[a], !e.isWalkableAt(d[0], d[1])) {\n          g = !0;\n          break;\n        }\n      }\n\n      g && (h = t[o - 1], r.push(h), i = h[0], s = h[1]);\n    }\n\n    return r.push([m, _]), r;\n  },\n  compressPath: function compressPath(e) {\n    if (e.length < 3) return e;\n    var t,\n        i,\n        s,\n        n,\n        l,\n        r,\n        h = [],\n        o = e[0][0],\n        a = e[0][1],\n        c = e[1][0],\n        u = e[1][1],\n        d = c - o,\n        g = u - a;\n\n    for (l = Math.sqrt(d * d + g * g), d /= l, g /= l, h.push([o, a]), r = 2; r < e.length; r++) {\n      t = c, i = u, s = d, n = g, c = e[r][0], u = e[r][1], d = c - t, g = u - i, l = Math.sqrt(d * d + g * g), d /= l, g /= l, (d !== s || g !== n) && h.push([t, i]);\n    }\n\n    return h.push([c, u]), h;\n  }\n}, vg.Loader = {\n  manager: null,\n  imageLoader: null,\n  crossOrigin: !1,\n  init: function init(e) {\n    this.crossOrigin = e || !1, this.manager = new THREE.LoadingManager(function () {}, function () {}, function () {\n      console.warn(\"Error loading images\");\n    }), this.imageLoader = new THREE.ImageLoader(this.manager), this.imageLoader.crossOrigin = e;\n  },\n  loadTexture: function loadTexture(e, t, i, s) {\n    var n = new THREE.Texture(null, t);\n    return this.imageLoader.load(e, function (e) {\n      n.image = e, n.needsUpdate = !0, i && i(n);\n    }, null, function (e) {\n      s && s(e);\n    }), n.sourceFile = e, n;\n  }\n}, vg.MouseCaster = function (e, t, i) {\n  this.down = !1, this.rightDown = !1, this.pickedObject = null, this.selectedObject = null, this.allHits = null, this.active = !0, this.shift = !1, this.ctrl = !1, this.wheel = 0, this.position = new THREE.Vector3(), this.screenPosition = new THREE.Vector2(), this.signal = new vg.Signal(), this.group = e, this._camera = t, this._raycaster = new THREE.Raycaster(), this._preventDefault = !1, i = i || document, i.addEventListener(\"mousemove\", this._onDocumentMouseMove.bind(this), !1), i.addEventListener(\"mousedown\", this._onDocumentMouseDown.bind(this), !1), i.addEventListener(\"mouseup\", this._onDocumentMouseUp.bind(this), !1), i.addEventListener(\"mousewheel\", this._onMouseWheel.bind(this), !1), i.addEventListener(\"DOMMouseScroll\", this._onMouseWheel.bind(this), !1);\n}, vg.MouseCaster.OVER = \"over\", vg.MouseCaster.OUT = \"out\", vg.MouseCaster.DOWN = \"down\", vg.MouseCaster.UP = \"up\", vg.MouseCaster.CLICK = \"click\", vg.MouseCaster.WHEEL = \"wheel\", vg.MouseCaster.prototype = {\n  update: function update() {\n    if (this.active) {\n      this._raycaster.setFromCamera(this.screenPosition, this._camera);\n\n      var e,\n          t,\n          i = this._raycaster.intersectObject(this.group, !0);\n\n      i.length > 0 ? (e = i[0], t = e.object.userData.structure, this.pickedObject != t && (this.pickedObject && this.signal.dispatch(vg.MouseCaster.OUT, this.pickedObject), this.pickedObject = t, this.selectedObject = null, this.signal.dispatch(vg.MouseCaster.OVER, this.pickedObject)), this.position.copy(e.point), this.screenPosition.z = e.distance) : (this.pickedObject && this.signal.dispatch(vg.MouseCaster.OUT, this.pickedObject), this.pickedObject = null, this.selectedObject = null), this.allHits = i;\n    }\n  },\n  preventDefault: function preventDefault() {\n    this._preventDefault = !0;\n  },\n  _onDocumentMouseDown: function _onDocumentMouseDown(e) {\n    return e = e || window.event, e.preventDefault(), this._preventDefault ? (this._preventDefault = !1, !1) : (this.pickedObject && (this.selectedObject = this.pickedObject), this.shift = e.shiftKey, this.ctrl = e.ctrlKey, this.down = 1 === e.which, this.rightDown = 3 === e.which, void this.signal.dispatch(vg.MouseCaster.DOWN, this.pickedObject));\n  },\n  _onDocumentMouseUp: function _onDocumentMouseUp(e) {\n    return e.preventDefault(), this._preventDefault ? (this._preventDefault = !1, !1) : (this.shift = e.shiftKey, this.ctrl = e.ctrlKey, this.signal.dispatch(vg.MouseCaster.UP, this.pickedObject), this.selectedObject && this.pickedObject && this.selectedObject.uniqueID === this.pickedObject.uniqueID && this.signal.dispatch(vg.MouseCaster.CLICK, this.pickedObject), this.down = 1 === e.which ? !1 : this.down, void (this.rightDown = 3 === e.which ? !1 : this.rightDown));\n  },\n  _onDocumentMouseMove: function _onDocumentMouseMove(e) {\n    e.preventDefault(), this.screenPosition.x = e.clientX / window.innerWidth * 2 - 1, this.screenPosition.y = 2 * -(e.clientY / window.innerHeight) + 1;\n  },\n  _onMouseWheel: function _onMouseWheel(e) {\n    if (this.active) {\n      e.preventDefault(), e.stopPropagation();\n      var t = 0;\n      void 0 !== e.wheelDelta ? t = e.wheelDelta : void 0 !== e.detail && (t = -e.detail), t > 0 ? this.wheel++ : this.wheel--, this.signal.dispatch(vg.MouseCaster.WHEEL, this.wheel);\n    }\n  }\n}, vg.MouseCaster.prototype.constructor = vg.MouseCaster, vg.Scene = function (e, t) {\n  var i = {\n    element: document.body,\n    alpha: !0,\n    antialias: !0,\n    clearColor: \"#fff\",\n    sortObjects: !1,\n    fog: null,\n    light: new THREE.DirectionalLight(16777215),\n    lightPosition: null,\n    cameraType: \"PerspectiveCamera\",\n    cameraPosition: null,\n    orthoZoom: 4\n  },\n      s = {\n    minDistance: 100,\n    maxDistance: 1e3,\n    zoomSpeed: 2,\n    noZoom: !1\n  };\n\n  if (i = vg.Tools.merge(i, e), \"boolean\" != typeof t && (s = vg.Tools.merge(s, t)), this.renderer = new THREE.WebGLRenderer({\n    alpha: i.alpha,\n    antialias: i.antialias\n  }), this.renderer.setClearColor(i.clearColor, 0), this.renderer.sortObjects = i.sortObjects, this.width = window.innerWidth, this.height = window.innerHeight, this.orthoZoom = i.orthoZoom, this.container = new THREE.Scene(), this.container.fog = i.fog, this.container.add(new THREE.AmbientLight(14540253)), i.lightPosition || i.light.position.set(-1, 1, -1).normalize(), this.container.add(i.light), \"OrthographicCamera\" === i.cameraType) {\n    var n = window.innerWidth / this.orthoZoom,\n        l = window.innerHeight / this.orthoZoom;\n    this.camera = new THREE.OrthographicCamera(n / -2, n / 2, l / 2, l / -2, 1, 5e3);\n  } else this.camera = new THREE.PerspectiveCamera(50, this.width / this.height, 1, 5e3);\n\n  this.contolled = !!t, this.contolled && (this.controls = new THREE.OrbitControls(this.camera, this.renderer.domElement), this.controls.minDistance = s.minDistance, this.controls.maxDistance = s.maxDistance, this.controls.zoomSpeed = s.zoomSpeed, this.controls.noZoom = s.noZoom), i.cameraPosition && this.camera.position.copy(i.cameraPosition), window.addEventListener(\"resize\", function () {\n    if (this.width = window.innerWidth, this.height = window.innerHeight, \"OrthographicCamera\" === this.camera.type) {\n      var e = this.width / this.orthoZoom,\n          t = this.height / this.orthoZoom;\n      this.camera.left = e / -2, this.camera.right = e / 2, this.camera.top = t / 2, this.camera.bottom = t / -2;\n    } else this.camera.aspect = this.width / this.height;\n\n    this.camera.updateProjectionMatrix(), this.renderer.setSize(this.width, this.height);\n  }.bind(this), !1), this.attachTo(i.element);\n}, vg.Scene.prototype = {\n  attachTo: function attachTo(e) {\n    e.style.width = this.width + \"px\", e.style.height = this.height + \"px\", this.renderer.setPixelRatio(window.devicePixelRatio), this.renderer.setSize(this.width, this.height), e.appendChild(this.renderer.domElement);\n  },\n  add: function add(e) {\n    this.container.add(e);\n  },\n  remove: function remove(e) {\n    this.container.remove(e);\n  },\n  render: function render() {\n    this.contolled && this.controls.update(), this.renderer.render(this.container, this.camera);\n  },\n  updateOrthoZoom: function updateOrthoZoom() {\n    if (this.orthoZoom <= 0) return void (this.orthoZoom = 0);\n    var e = this.width / this.orthoZoom,\n        t = this.height / this.orthoZoom;\n    this.camera.left = e / -2, this.camera.right = e / 2, this.camera.top = t / 2, this.camera.bottom = t / -2, this.camera.updateProjectionMatrix();\n  },\n  focusOn: function focusOn(e) {\n    this.camera.lookAt(e.position);\n  }\n}, vg.Scene.prototype.constructor = vg.Scene, vg.SelectionManager = function (e) {\n  this.mouse = e, this.onSelect = new vg.Signal(), this.onDeselect = new vg.Signal(), this.selected = null, this.toggleSelection = !1, this.mouse.signal.add(this.onMouse, this);\n}, vg.SelectionManager.prototype = {\n  select: function select(e, t) {\n    e && (t = t || !0, this.selected !== e && this.clearSelection(t), e.selected ? this.toggleSelection && (t && this.onDeselect.dispatch(e), e.deselect()) : e.select(), this.selected = e, t && this.onSelect.dispatch(e));\n  },\n  clearSelection: function clearSelection(e) {\n    e = e || !0, this.selected && (e && this.onDeselect.dispatch(this.selected), this.selected.deselect()), this.selected = null;\n  },\n  onMouse: function onMouse(e, t) {\n    switch (e) {\n      case vg.MouseCaster.DOWN:\n        t || this.clearSelection();\n        break;\n\n      case vg.MouseCaster.CLICK:\n        this.select(t);\n    }\n  }\n}, vg.SelectionManager.prototype.constructor = vg.SelectionManager, vg.Tools = {\n  clamp: function clamp(e, t, i) {\n    return Math.max(t, Math.min(i, e));\n  },\n  sign: function sign(e) {\n    return e && e / Math.abs(e);\n  },\n  random: function random(e, t) {\n    return 1 === arguments.length ? Math.random() * e - .5 * e : Math.random() * (t - e) + e;\n  },\n  randomInt: function randomInt(e, t) {\n    return 1 === arguments.length ? Math.random() * e - .5 * e | 0 : Math.random() * (t - e + 1) + e | 0;\n  },\n  normalize: function normalize(e, t, i) {\n    return (e - t) / (i - t);\n  },\n  getShortRotation: function getShortRotation(e) {\n    return e %= this.TAU, e > this.PI ? e -= this.TAU : e < -this.PI && (e += this.TAU), e;\n  },\n  generateID: function generateID() {\n    return Math.random().toString(36).slice(2) + Date.now();\n  },\n  isPlainObject: function isPlainObject(e) {\n    if (\"object\" != typeof e || e.nodeType || e === e.window) return !1;\n\n    try {\n      if (e.constructor && !Object.prototype.hasOwnProperty.call(e.constructor.prototype, \"isPrototypeOf\")) return !1;\n    } catch (t) {\n      return !1;\n    }\n\n    return !0;\n  },\n  merge: function merge(e, t) {\n    var i = this,\n        s = Array.isArray(t),\n        n = s && [] || {};\n    return s ? (e = e || [], n = n.concat(e), t.forEach(function (t, s) {\n      \"undefined\" == typeof n[s] ? n[s] = t : i.isPlainObject(t) ? n[s] = i.merge(e[s], t) : -1 === e.indexOf(t) && n.push(t);\n    }), n) : (e && i.isPlainObject(e) && Object.keys(e).forEach(function (t) {\n      n[t] = e[t];\n    }), Object.keys(t).forEach(function (s) {\n      t[s] && i.isPlainObject(t[s]) && e[s] ? n[s] = i.merge(e[s], t[s]) : n[s] = t[s];\n    }), n);\n  },\n  now: function now() {\n    return window.nwf ? window.nwf.system.Performance.elapsedTime : window.performance.now();\n  },\n  empty: function empty(e) {\n    for (; e.lastChild;) {\n      e.removeChild(e.lastChild);\n    }\n  },\n  radixSort: function radixSort(e, t, i, s) {\n    if (t = t || 0, i = i || e.length, s = s || 31, !(t >= i - 1 || 0 > s)) {\n      for (var n = t, l = i, r = 1 << s; l > n;) {\n        if (e[n] & r) {\n          --l;\n          var h = e[n];\n          e[n] = e[l], e[l] = h;\n        } else ++n;\n      }\n\n      this.radixSort(e, t, l, s - 1), this.radixSort(e, l, i, s - 1);\n    }\n  },\n  randomizeRGB: function randomizeRGB(e, t) {\n    var i,\n        s,\n        n = e.split(\",\"),\n        l = \"rgb(\";\n\n    for (t = this.randomInt(t), i = 0; 3 > i; i++) {\n      s = parseInt(n[i]) + t, 0 > s ? s = 0 : s > 255 && (s = 255), l += s + \",\";\n    }\n\n    return l = l.substring(0, l.length - 1), l += \")\";\n  },\n  getJSON: function getJSON(e) {\n    var t = new XMLHttpRequest(),\n        i = \"undefined\" == typeof e.cache ? !1 : e.cache,\n        s = i ? e.url : e.url + \"?t=\" + Math.floor(1e4 * Math.random()) + Date.now();\n    t.onreadystatechange = function () {\n      if (200 === this.status) {\n        var t = null;\n\n        try {\n          t = JSON.parse(this.responseText);\n        } catch (i) {\n          return;\n        }\n\n        return void e.callback.call(e.scope || null, t);\n      }\n\n      0 !== this.status && console.warn(\"[Tools.getJSON] Error: \" + this.status + \" (\" + this.statusText + \") :: \" + e.url);\n    }, t.open(\"GET\", s, !0), t.setRequestHeader(\"Accept\", \"application/json\"), t.setRequestHeader(\"Content-Type\", \"application/json\"), t.send(\"\");\n  }\n};"],"sourceRoot":""}