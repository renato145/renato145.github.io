{"version":3,"sources":["webpack:///./src/pages/index.tsx","webpack:///./src/components/PostPreview.tsx","webpack:///./src/components/Posts.tsx"],"names":["Index","data","location","site","siteMetadata","title","description","posts","allMdx","edges","headerConfig","autoLoadMore","className","pageQuery","PostPreview","node","props","postTitle","frontmatter","fields","slug","tags","to","date","TagList","dangerouslySetInnerHTML","__html","excerpt","Posts","showLimit","showLoadMore","loadMoreText","useState","limit","setLimit","visiblePosts","slice","length","increaseLimit","useCallback","useOnNoScrollLoad","useOnScrollEnd","map","key","LinkButton","onClick"],"mappings":"4FAAA,8GA6BeA,UAlBgB,SAAC,GAAuB,IAArBC,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,SAAe,EACtBD,EAAKE,KAAKC,aAAjCC,EAD6C,EAC7CA,MAAOC,EADsC,EACtCA,YACTC,EAAQN,EAAKO,OAAOC,MAE1B,OACE,kBAAC,IAAD,CACEP,SAAUA,EACVG,MAAOA,EACPC,YAAaA,EACbI,aAAc,CAAEL,MAAO,SAEvB,kBAAC,IAAD,CAAOE,MAAOA,EAAOI,cAAc,EAAON,OAAK,IAC/C,wBAAIO,UAAU,SACd,kBAAC,IAAD,CAAaA,UAAU,OAAOP,OAAK,MAOlC,IAAMQ,EAAY,c,iICtBZC,EAA+B,SAAC,GAAuB,IAArBC,EAAqB,EAArBA,KAASC,EAAY,wBAC5DC,EAAYF,EAAKG,YAAYb,OAASU,EAAKI,OAAOC,KAClDC,EAAON,EAAKG,YAAYG,KAE9B,OACE,wBAASL,EACP,6BACE,kBAAC,OAAD,CAAMM,GAAIP,EAAKI,OAAOC,KAAMR,UAAU,uBACnCK,IAGL,yBAAKL,UAAU,8BACb,2BAAIG,EAAKG,YAAYK,MACrB,uBAAGX,UAAU,QAAb,KACA,kBAACY,EAAA,EAAD,CAASH,KAAMA,KAEjB,uBACET,UAAU,OACVa,wBAAyB,CACvBC,OAAQX,EAAKG,YAAYZ,aAAeS,EAAKY,a,oCCZ1CC,EAAyB,SAAC,GAQjC,QAPJvB,aAOI,aANJwB,iBAMI,MANQ,EAMR,MALJC,oBAKI,aAJJC,oBAII,MAJW,YAIX,MAHJpB,oBAGI,SAFJJ,EAEI,EAFJA,MACGS,EACC,4FACsBgB,mBAASH,GAA5BI,EADH,KACUC,EADV,KAEEC,EAAe5B,EAAM6B,MAAM,EAAGH,GAAS1B,EAAM8B,QAC7CC,EAAgBC,uBAAY,WAC5BN,EAAQ1B,EAAM8B,QAAQH,GAAS,SAACD,GAAD,OAAWA,EAAQJ,OACrD,CAACtB,EAAM8B,OAAQR,IAKlB,OAHAW,YAAkBF,EAAeL,GAC7BtB,GAAc8B,YAAeH,GAG/B,wBAAStB,EACNX,GAAS,wBAAIO,UAAU,eAAd,SACV,yBAAKA,UAAU,uBACZuB,EAAaO,KAAI,gBAAG3B,EAAH,EAAGA,KAAH,OAChB,kBAAC,EAAD,CACEA,KAAMA,EACN4B,IAAK5B,EAAKI,OAAOC,KACjBR,UAAU,6BAIfkB,GAAgBK,EAAaE,OAAS9B,EAAM8B,QAC3C,yBAAKzB,UAAU,aACb,kBAACgC,EAAA,EAAD,CAAYC,QAAS,kBAAMX,GAAS,SAACD,GAAD,OAAWA,EAAQJ,OACpDE,IAIW,IAAjBxB,EAAM8B,QAAgB","file":"component---src-pages-index-tsx-5a1395bd44e8137e456c.js","sourcesContent":["import React from 'react';\nimport { graphql, PageProps } from 'gatsby';\nimport { Layout } from '../components/Layout';\nimport { Posts } from '../components/Posts';\nimport { Experiments } from '../components/Experiments';\nimport { GraphqlSite, MdxAllNodes } from '../components/Types';\n\ninterface Props extends PageProps {\n  data: GraphqlSite & MdxAllNodes;\n}\n\nconst Index: React.FC<Props> = ({ data, location }) => {\n  const { title, description } = data.site.siteMetadata;\n  const posts = data.allMdx.edges;\n\n  return (\n    <Layout\n      location={location}\n      title={title}\n      description={description}\n      headerConfig={{ title: 'Home' }}\n    >\n      <Posts posts={posts} autoLoadMore={false} title />\n      <hr className=\"mt-6\" />\n      <Experiments className=\"mt-6\" title />\n    </Layout>\n  );\n};\n\nexport default Index;\n\nexport const pageQuery = graphql`\n  query {\n    site {\n      siteMetadata {\n        title\n        description\n      }\n    }\n    allMdx(sort: { fields: [frontmatter___date], order: DESC }) {\n      edges {\n        node {\n          fields {\n            slug\n          }\n          frontmatter {\n            date(formatString: \"MMMM DD, YYYY\")\n            title\n            description\n            tags\n          }\n        }\n      }\n    }\n  }\n`;\n","import React, { HTMLProps } from 'react';\nimport { Link } from 'gatsby';\nimport { TagList } from './TagList';\nimport { MdxNode } from './Types';\n\ninterface Props extends HTMLProps<HTMLDivElement> {\n  node: MdxNode;\n}\n\nexport const PostPreview: React.FC<Props> = ({ node, ...props }) => {\n  const postTitle = node.frontmatter.title || node.fields.slug;\n  const tags = node.frontmatter.tags;\n\n  return (\n    <div {...props}>\n      <div>\n        <Link to={node.fields.slug} className=\"text-xl font-medium\">\n          {postTitle}\n        </Link>\n      </div>\n      <div className=\"flex text-xs text-gray-600\">\n        <p>{node.frontmatter.date}</p>\n        <p className=\"px-1\">-</p>\n        <TagList tags={tags} />\n      </div>\n      <p\n        className=\"mt-1\"\n        dangerouslySetInnerHTML={{\n          __html: node.frontmatter.description || node.excerpt,\n        }}\n      />\n    </div>\n  );\n};\n","import React, { HTMLProps, useCallback, useEffect, useState } from 'react';\nimport { PostPreview } from './PostPreview';\nimport { LinkButton } from './LinkButton';\nimport { MdxNode, NodesOf } from './Types';\nimport { useOnScrollEnd } from '../hooks/useOnScrollEnd';\nimport { useOnNoScrollLoad } from '../hooks/useOnNoScrollLoad';\n\ninterface Props extends Omit<HTMLProps<HTMLDivElement>, 'title'> {\n  title?: boolean;\n  showLimit?: number;\n  showLoadMore?: boolean;\n  loadMoreText?: string;\n  autoLoadMore?: boolean;\n  posts: NodesOf<MdxNode>;\n}\n\nexport const Posts: React.FC<Props> = ({\n  title = false,\n  showLimit = 6,\n  showLoadMore = true,\n  loadMoreText = 'Load more',\n  autoLoadMore = true,\n  posts,\n  ...props\n}) => {\n  const [limit, setLimit] = useState(showLimit);\n  const visiblePosts = posts.slice(0, limit || posts.length);\n  const increaseLimit = useCallback(() => {\n    if (limit < posts.length) setLimit((limit) => limit + showLimit);\n  }, [posts.length, showLimit]);\n\n  useOnNoScrollLoad(increaseLimit, limit);\n  if (autoLoadMore) useOnScrollEnd(increaseLimit);\n\n  return (\n    <div {...props}>\n      {title && <h2 className=\"font-medium\">Posts</h2>}\n      <div className=\"mt-2 flex flex-wrap\">\n        {visiblePosts.map(({ node }) => (\n          <PostPreview\n            node={node}\n            key={node.fields.slug}\n            className=\"w-full lg:w-1/2 mb-4\"\n          />\n        ))}\n      </div>\n      {showLoadMore && visiblePosts.length < posts.length && (\n        <div className=\"mt-0 ml-2\">\n          <LinkButton onClick={() => setLimit((limit) => limit + showLimit)}>\n            {loadMoreText}\n          </LinkButton>\n        </div>\n      )}\n      {posts.length === 0 && <div>...</div>}\n    </div>\n  );\n};\n"],"sourceRoot":""}