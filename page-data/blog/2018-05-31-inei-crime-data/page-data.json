{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/2018-05-31-inei-crime-data/","result":{"data":{"mdx":{"id":"f9f9efcf-a7f9-5b89-b9df-6b8ec424e3e8","excerpt":"In Perú, the Instituto Nacional de Estadística e Informática ( INEN ) is the government agency in charge of statistical information. In this post, we will be…","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"INEI Crime Data\",\n  \"date\": \"2018-05-31T00:00:00.000Z\",\n  \"tags\": [\"visualization\", \"python\", \"altair\", \"peru\"],\n  \"description\": \"Exploring crime data from INEI.\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"In Per\\xFA, the Instituto Nacional de Estad\\xEDstica e Inform\\xE1tica (\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.inei.gob.pe/\"\n  }), \"INEN\"), \") is the government agency in charge of statistical information. In this post, we will be looking at crime data from \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://criminalidad.inei.gob.pe\"\n  }), \"http://criminalidad.inei.gob.pe\"), \".\"), mdx(\"p\", null, \"We can download the number of crime complaints by type and region. As we would like to compare different regions it\\u2019s important to express the numbers as a population ratio rather than absolute counts. We can find the population by region on \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://webapp.inei.gob.pe:8080/sirtod-series\"\n  }), \"INEI series\"), \".\"), mdx(\"p\", null, \"Here is a view of the numbers and ratio of complaints by region and type:\"), mdx(AltairPlot, {\n    data: data1,\n    id: 'data1',\n    mdxType: \"AltairPlot\"\n  }), mdx(\"br\", null), mdx(\"h2\", null, \"Region similarities\"), mdx(\"p\", null, \"Now let\\u2019s use some dimensionality reduction like PCA to see how similar are the different regions by crime types.\"), mdx(AltairPlot, {\n    data: data2,\n    id: 'data2',\n    mdxType: \"AltairPlot\"\n  }), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The X axis is showing the first component, which explains 95% of the variation.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The size indicates population.\")), mdx(\"br\", null), mdx(\"h2\", null, \"Maps\"), mdx(\"p\", null, \"Now, using geopandas and matplotlib, we can plot some maps. Here we have the crime complaints / population by region:\"), mdx(\"center\", null, mdx(\"span\", _extends({\n    parentName: \"center\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"432px\"\n    }\n  }), \"\\n      \", mdx(\"a\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/4c4c5a2cdb7f91a3f7dfa39e13dc7098/0e0c3/delitos-ratio-map.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"150%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAAAsSAAALEgHS3X78AAAEP0lEQVRIx42W61MTVxiH81f2U8eZjh/6pbdpFajFWhxAQGCgA9MSxQIz1RYs0BTNRdFKCzFQGRBIYiUXSEJIsslmb9n7/jy7m8sGQvTMnDnJyXue895PXHAMwzCsVdM08DyPSqXSNBmGsVZBEKDretOZ2nC1AkqShHg8jkQigWQyac18PodwOGztmdOUeS+wlYCtsYpWo5VsSw3N1Z46zB2WioIvbEM3anK6Q8ZoOtsWCEOzvgvFPai5JfDUfh3qONWkqQvmYXNbr95qE+sCIp+HkvcCJT+U02XwpbdQyT2yxENRpLpoXUPjjC9qUEkkEaUjkPN+GMXH0CkfUPQRuB+V3BrE0wAqWR8EOt5klasG4+JHUBjW/pyNgg7PEdAjGJTXghnFxgpyAWgvcYMHFTZ93odi/gjJ6UFw6TjM7KqEf4dwMAW1GKgCvQTka6yFFcg5H7jTDdBUsmaaraHl9EwY2sYwtM0JlI5egtlxg43OEi0ClplOmJp/jAoJkulDTT8faQsoC2UwT0cR+akLhegfEPbuoPB6BuU00ST7F7Sa2dQKKoUgNKMR4bMZ4rJXFan1J1j4uAOJ4DKBeJAPTYDPrRKzVkEnl4FyABoxVaAP2+aiy96wb0mFQkiu3SP59gIne7+Re7bBpL1QiKli8iHKib9t7Rwgo5E3jaDYSWxvsNsPwDwfQub5GMTsEzBZP5jDBVB3e0DPua2goV2lNDbs7iFzReLPQTD+XmSjyzjeXcTJQCeKk70Q+zrB7WzVCrxlTbucyWzebGL5A5Jna31g3y5BK26hEJxH9ukcpJ5vUJ4aAZew/SiVaSgC35zYTpNrWopUCqWVHmSDs2DZXXByBMzxBtiBbqi3voUw2gNu8T6y0z9CkhUbWO2PrqaSc/hkfeoelr/8DicxL7jUCkrhh8hM3wQ73A2WQEs3PgczcRPCboiUZ7buNte5TlO9qZQ6xfwn17D/6yAJ/wzk6DTYAzcobz9O3dcgjV2HNvkD5KErEObGoapK6/ZlOKCvlwK4/9EXiL2YA10MIhOagv5yBNKzIdCjXdAJ1Bi/DrX/Kwiv1tv3Q3OY74bn6gAS28+gaG+QjxHT18ag/jMM3ncLhV+6QT8YATs/Dj59ePETYE3N1jI0NoPNu1MQhRDYTMBK+kraA4PUPvufm1wUhaJGIEpsa2AdWjU7t/cGK5c7kd5cIN9egUr4kVicRNFzA2zsTyL8P0R2H4osXQyslX0NerITwVb/bSQ9boT7+rF3qQM7n36N9L8LEKQwivlE/dSFGuJM1GWWR2x2CZHPehC93IHwpS5Eb/dCoIIol49JOxPfo6HzWahCrergOWQ8q9i/8j2oO1eRW/sZPBeBqijtgec0dQTKeiZOUqA8A+C8pGqysfOJ3Q5an3Ww3RhkJodKLAi9+kegXssfOhp52uyGCx/6D4Y6ta32xtpv7wBbnsuUHLaZBwAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"ratios per region\",\n    \"title\": \"ratios per region\",\n    \"src\": \"/static/4c4c5a2cdb7f91a3f7dfa39e13dc7098/0e0c3/delitos-ratio-map.png\",\n    \"srcSet\": [\"/static/4c4c5a2cdb7f91a3f7dfa39e13dc7098/12f09/delitos-ratio-map.png 148w\", \"/static/4c4c5a2cdb7f91a3f7dfa39e13dc7098/e4a3f/delitos-ratio-map.png 295w\", \"/static/4c4c5a2cdb7f91a3f7dfa39e13dc7098/0e0c3/delitos-ratio-map.png 432w\"],\n    \"sizes\": \"(max-width: 432px) 100vw, 432px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n  \"), \"\\n    \")), mdx(\"br\", null), mdx(\"p\", null, \"Finally we can show maps for the most recurrent crimes types:\"), mdx(\"center\", null, mdx(\"span\", _extends({\n    parentName: \"center\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }), \"\\n      \", mdx(\"a\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/f5d2a2448a50f4c3f33d776a0268fb5f/6d2da/delitos-crim-maps.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"115.54054054054055%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAAsSAAALEgHS3X78AAAEIUlEQVQ4y1VVaW8bVRT17674BEh8pFIQaj6AAJVWgbZJQQGaJkVAlZKEWNnseF8yY8++vpl5s/pwZ579DFfyduct555z7nVrtVqhDk0zmlcdeZ4jZBG0pQ7bchCGIYqiQBwneNB0mJ7X/K6jrFZQVQ1xkja/W/VbkaXI4iU4G6Ms8+ZBmkTIcgdpaiHPMpGjdfyvI8TtDyghIucMqdNGGs6x2hzoPwywuH2GPJqgqsRCZ3SJRec1IWDYhD6+gP7Vx6iG9zL3cHME5+ZrVLkvEG5K7r3fh9beQ5mKB1WRY/hyB90nu4h9tkYTYnS4g8nLH5FyUUkcmujvP4b25rcGDB0oIPlLE5M3u2BmX94eKX3cfv4RPZvLnD9vo/vdp0gCT+aUi3e4+34HJfHaqvFVVYmCjmemiTQSCOuLsrxE7JnEK5e5NMspp1MFmczxOEVo6vS9RKuig+KEwzBMWLaNiJSsL6jDtEz4frDeKKhZLNTGASJWpHZFKitgtE+qnIQuEjYljuYocnFzqKlI7A6hU6VFGLORZQ/IUgPVWj3mL5HxEb0s1Hc2B8aBjml3n2wzxxoInMktukdfwFUeJFfWogN18hYFUbBZp03PoM1PiD++UblaPzjF/PpbZGyJ9VqMzw/Q+YnI5q4osCgxvdyDNvoF1UqoXOYc4+4hLO2yoaW1ub0iQ9///hqhPZOIiiiAfr6POLJlLmM61LM9KjGROZdc0PvwloCQKHWbxXFE5IfwyG8sDNacreB5AYKANd/r23mSkHAeHNunThIlJkkMy3JpXSgQ5iQCJysw34JvjBFFUdPLdQRhvdASFZAIWbGCY8zg2yryQjghTXM4jk6CeVtRAkODdfoNqvmvUj1LGcJR/yFsDhEuNrtKB3zwFKuwK3l2jR4pP0CFaHsgJ9f3//gSwZIOKMSBESEbXB8gYgvpwXDZxeWTR1jebXvZNsckyjG459bMkMprRK52h9HBJ4hnHbnYWHYwvXtGfDkyNzt+jvvdR6TudmgM28cYHD5FSbw2w2GDQL84pTK3fQuylKffkJFDmaryGH73Txp5W5XLisMmOgoac3LaeJ4Pn4lFZUk9TOIYhgXXi0hJ3nAbxzF03ULAOHWUEK4WUTPqISzWtIQH6wZ3aRQpBKpsENeHxJGBMFDBORe2oc8oIkVDg6wlhOJpAmZcgTlTMvtaFGvSg9J+RbakybJB7CpE+N+ksCXbzDJG5Ndr2shkTrl+D3/4A5VlbYdDRfAn/ROYwzOUnhhfBY2n0dUreOq5tEjKAwx7J3DNmeQ9MBWM2i+g9bo00qptLzNqr8nPnyEYXkqyPWuKWf8QyX9aT1O6uDp53gyITSy673D94jFNKy4Qbm5LPPqj4p4cnA0C16DRFv5vJkYNh+naCau6MRHR3oq67l8mVdYinsr4xwAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"crime complaint maps\",\n    \"title\": \"crime complaint maps\",\n    \"src\": \"/static/f5d2a2448a50f4c3f33d776a0268fb5f/fcda8/delitos-crim-maps.png\",\n    \"srcSet\": [\"/static/f5d2a2448a50f4c3f33d776a0268fb5f/12f09/delitos-crim-maps.png 148w\", \"/static/f5d2a2448a50f4c3f33d776a0268fb5f/e4a3f/delitos-crim-maps.png 295w\", \"/static/f5d2a2448a50f4c3f33d776a0268fb5f/fcda8/delitos-crim-maps.png 590w\", \"/static/f5d2a2448a50f4c3f33d776a0268fb5f/efc66/delitos-crim-maps.png 885w\", \"/static/f5d2a2448a50f4c3f33d776a0268fb5f/6d2da/delitos-crim-maps.png 936w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n  \"), \"\\n    \")), mdx(\"br\", null), mdx(\"h2\", null, \"Code used in the post\"), mdx(\"p\", null, \"You can find the python code here: \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://nbviewer.jupyter.org/github/renato145/peru-stats/blob/master/nbs/explore-delitos.ipynb\"\n  }), \"Notebook\"), \".\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"INEI Crime Data","date":"May 31, 2018","description":"Exploring crime data from INEI.","tags":["visualization","python","altair","peru"]}}},"pageContext":{"slug":"/blog/2018-05-31-inei-crime-data/","previous":{"fields":{"slug":"/blog/2018-05-29-plotting-with-altair/"},"frontmatter":{"title":"Plotting with altair"}},"next":{"fields":{"slug":"/blog/2018-06-07-violence-against-women-in-peru/"},"frontmatter":{"title":"Violence against women in Perú"}}}},"staticQueryHashes":["2845909689","2957314285","559075325"]}