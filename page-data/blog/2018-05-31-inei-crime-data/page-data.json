{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/2018-05-31-inei-crime-data/","result":{"data":{"mdx":{"id":"f9f9efcf-a7f9-5b89-b9df-6b8ec424e3e8","excerpt":"In Perú, the Instituto Nacional de Estadística e Informática ( INEN ) is the government agency in charge of statistical information. In this post, we will be…","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"INEI Crime Data\",\n  \"date\": \"2018-05-31T00:00:00.000Z\",\n  \"tags\": [\"visualization\", \"python\", \"altair\", \"peru\"],\n  \"description\": \"Exploring crime data from INEI.\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"In Per\\xFA, the Instituto Nacional de Estad\\xEDstica e Inform\\xE1tica (\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.inei.gob.pe/\"\n  }), \"INEN\"), \") is the government agency in charge of statistical information. In this post, we will be looking at crime data from \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://criminalidad.inei.gob.pe\"\n  }), \"http://criminalidad.inei.gob.pe\"), \".\"), mdx(\"p\", null, \"We can download the number of crime complaints by type and region. As we would like to compare different regions it\\u2019s important to express the numbers as a population ratio rather than absolute counts. We can find the population by region on \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://webapp.inei.gob.pe:8080/sirtod-series\"\n  }), \"INEI series\"), \".\"), mdx(\"p\", null, \"Here is a view of the numbers and ratio of complaints by region and type:\"), mdx(AltairPlot, {\n    data: data1,\n    id: 'data1',\n    mdxType: \"AltairPlot\"\n  }), mdx(\"br\", null), mdx(\"h2\", null, \"Region similarities\"), mdx(\"p\", null, \"Now let\\u2019s use some dimensionality reduction like PCA to see how similar are the different regions by crime types.\"), mdx(AltairPlot, {\n    data: data2,\n    id: 'data2',\n    mdxType: \"AltairPlot\"\n  }), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The X axis is showing the first component, which explains 95% of the variation.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The size indicates population.\")), mdx(\"br\", null), mdx(\"h2\", null, \"Maps\"), mdx(\"p\", null, \"Now, using geopandas and matplotlib, we can plot some maps. Here we have the crime complaints / population by region:\"), mdx(\"center\", null, mdx(\"span\", _extends({\n    parentName: \"center\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"432px\"\n    }\n  }), \"\\n      \", mdx(\"a\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/4c4c5a2cdb7f91a3f7dfa39e13dc7098/0e0c3/delitos-ratio-map.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"150%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAAAsSAAALEgHS3X78AAAENklEQVRIx42W2W8TVxTG/Vf2qUKqeOhLN7XshdIgCAECChWoTSAUIhVaAiR13dgJW0lLjKFEgQTbFBwb7MSxPePxbPZsnl/lGa/ECVzp6NpH5373O+udAF3LdV1vdxwHTdOoVqs9Isuyt+u6Tr1e7znTWoF+gIZhsLq6SjqdJpPJeFIsFojH456uIQ2b9wL2M/AZ2/Rb/Wz7MmzsvtRpaBQhiVZapO627OpdNm7P2W0BcR3vvy4uYxem0ISVNmjXqR6mARqHG+p681YfsW1Q04pYxTCUZ7E2ptHKr7AdMA0NyzLapm2G7juxaIEaNZmqlMAszuKKM9SFCIgRrOIs1cI8tY05qvkIurTa41WgBaauvsGSFf93PokUn8AV/8QVwh6YK3Z2xBmQwtiFIFUltzmGteIbMuMnUHOrNKqrGv8N/cUotjjXBAzjipHOXgphFiKoGwtIQqblms/QC/paHGdhGOfxOcpvHiEvjaEkr4A057nZDWYXZ6iKy14MnfrmTHuApl5BvnOGxI/7KCVvoi9foPT8MpVcCDP/B07LbSFEtRTFcTsZfrdCAv5uk314m8mP95COTmPmgxRj59AKd1E37iJlpqEyh1MKoUuvt63FgK/wb8nGYmTmL6EJD1hf/hXsReRcGEuMUMvcoJL+y2fXBeR26qaTFL+IfYWyeA35/knW7o9Qy99Gzs8iv55EuDiANDHmJY3tOqWj8KeHqYrId04gzx4ln5zm7bNbrA/tRTx/lNqxvahLT1oN3renA93F3Li5Aau9mIH5YyivpnDEJ5Si18nfmcAY+IbK6GnUtB9HoyJh6VpvYXe73GJZE7KUQwPko1dQlGeoZgL57QLK0EHs4/vRzwyg3rpKfvwHDNPyAZvzMdDTcl0xeTh6iekvv2U9FUbNhijHb7A2fgRl+CDK8f2UD3+OfO4I+rMYZjHfDltg06Rp3lTObnD9kwOs/HICspcxk+MoL8YQwoNsjB3AGDmEc/57zJO70CfOYttW//HldoE+n5rj6kdfkHowgSRGWYuNUn90GuPeSaQz+6iPHMI9ewh78Cv0pw+3n4eN1Xg3gruHSC/ew3JeUkyFKM+PYP89jBY5Tunng0jXTqNcP4uWe731E+CJ47OMjVzm8cVRanoMZW3OK/pqLoi7MIzy7xiWk8SyE9QMpT9gG7TpdmH5JaGde8k9ngSeIqRnSd86jxg8jJL6Hdz/qCkrWKaxNWCr7Vug60sJngyeIhMcI35skOUde1j69Gty/0yiG3HEYrp9akuGvJN1U9FIXZki8dkAyZ17iO/YR/LUUXQhSqXyFtOovYdh97PQBPW6Q1NZC95lZdd3CBd2U5j/CU1NYFvW9oCbmHYlynsm1rMIwSHU8ABqPrW5sLcDbUsb2B8MplygmopSb34ItHv5Q1enTnvDsOVD/8Gg3Wybs7HF8H9bnsuUCZELZgAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"ratios per region\",\n    \"title\": \"ratios per region\",\n    \"src\": \"/static/4c4c5a2cdb7f91a3f7dfa39e13dc7098/0e0c3/delitos-ratio-map.png\",\n    \"srcSet\": [\"/static/4c4c5a2cdb7f91a3f7dfa39e13dc7098/12f09/delitos-ratio-map.png 148w\", \"/static/4c4c5a2cdb7f91a3f7dfa39e13dc7098/e4a3f/delitos-ratio-map.png 295w\", \"/static/4c4c5a2cdb7f91a3f7dfa39e13dc7098/0e0c3/delitos-ratio-map.png 432w\"],\n    \"sizes\": \"(max-width: 432px) 100vw, 432px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n  \"), \"\\n    \")), mdx(\"br\", null), mdx(\"p\", null, \"Finally we can show maps for the most recurrent crimes types:\"), mdx(\"center\", null, mdx(\"span\", _extends({\n    parentName: \"center\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }), \"\\n      \", mdx(\"a\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/f5d2a2448a50f4c3f33d776a0268fb5f/6d2da/delitos-crim-maps.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"115.54054054054055%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAAsSAAALEgHS3X78AAAEFklEQVQ4y1WU24/bVBDG83dXPAESj1RahNoHEKDSqtB226IFetkioGrpZaNuu0l3N7fN5uJbHF+O7ePLOf4h24kDIyWyvzOe+c58M9Mpy5LKDMOqf5XleU4oIoylycpxCcOQoiiI44RLw8T2vPq9MqVL5nODOEnr9071V2QpWbxEihFK5fVBmkRkuUuaOuRZ1mBZivz7MXH3JYrGcilI3S5pOKXcBvQvz1l8uEkejdG6cXSHRyx6D1BasDVz9Abzm0/Rg48tdvn+Me77b9G53zDcXvn0+T5G9zYqbQ50kTO4u0f/2nViX2zYhAwP9hjf/ZlUNjeJQ5uz/asYj36vyXTKsqHkL23Gj64j7LM2ezQ748OXn+Avpy3mT7v0f/icJPBabPbmGSc/7qGKgk7FT2tFoTXCtkmjhmGVKMsVsWejlGyxNMuJPRNdZC0m45TQNilLRUdrTZxILMvGWa2I4qROUJnt2Ph+sPmwKc1iMa87oLGSotDM5zNEnOxUTsI1iZiQyylF3mQOjTnJqodS87ZFhFiRZZdkqYXeqCf8JZkckkmHKmcdMA5MJv19pJiyIYI7/kD/8VesZ5dtrZxFj/n4CYWSrZ8xeYUxPUQVcquy3hy8YHr8PZlYsvFl9Po+vYd7KLluLlgoJke3MYa/ostGZZVLRv0DHOOoLktnm12rnI9/PCBcXbSMiijAfL1PHK1aLBMm81e3yWTSYuvllNOXTyhRdKoxi+MI3w/xfIEIg03NSjwvIAhE/Vxll0mCs/JwVz5p0lwxSWIcZ00QhA3DPM+QWY7wHXxrRBRF9SxXFoSVo9PcQGuyosS1LvBXc/Ki6YQ0zXFdEyG8nSiBZeC8+A49/a1Vz5kNcOdvKXFRm4/Xsx7y/AZl2G/rvLZOybJzNNEuoAw8zv78mmD5lrJoAkaBw/nxfSKxaHswXPY5unaF5clullf2iFH/KdJbV5WhU24YrY0Thvc/I77otc7Wssfk5CZp4rbYxdNbfLx+BZXvlsag+5TzgxuoRDbLYcvAfPMCd76bW0qNZ74nS8MW0nmM3/+LItuprLRkNetRZNlu23iejy8aJ6UUcRRhWQ5rLyJJZF3bOI4xTYdASIqNcJWIhlUt4can0/RgNeBr4nBGqVXNuAoSRxZhMEdK2bSNlESRiQgtio1QMk0Q1juEO0FvRXHGp8y691DYqC3j9YyV/Q+qcNoxc6whvn+MLkWLzY6f4w9+AuXsloPOc8Znh9iDVyivWV9FkTF8dw9v/rptkVQGDE4PWdsXbd0De8awewfjtI8u9G6WRbRi/MsXBIOjttieM+Hi7IDkP6NnzPq8O7xVL4itLfrPOL5zlVzKhuE2W+ItkdJrF2fNYG2RiPB/OzGqa5huOqGsBpPIW6LzjH8BJlXWIgeWAlkAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"crime complaint maps\",\n    \"title\": \"crime complaint maps\",\n    \"src\": \"/static/f5d2a2448a50f4c3f33d776a0268fb5f/fcda8/delitos-crim-maps.png\",\n    \"srcSet\": [\"/static/f5d2a2448a50f4c3f33d776a0268fb5f/12f09/delitos-crim-maps.png 148w\", \"/static/f5d2a2448a50f4c3f33d776a0268fb5f/e4a3f/delitos-crim-maps.png 295w\", \"/static/f5d2a2448a50f4c3f33d776a0268fb5f/fcda8/delitos-crim-maps.png 590w\", \"/static/f5d2a2448a50f4c3f33d776a0268fb5f/efc66/delitos-crim-maps.png 885w\", \"/static/f5d2a2448a50f4c3f33d776a0268fb5f/6d2da/delitos-crim-maps.png 936w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n  \"), \"\\n    \")), mdx(\"br\", null), mdx(\"h2\", null, \"Code used in the post\"), mdx(\"p\", null, \"You can find the python code here: \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://nbviewer.jupyter.org/github/renato145/peru-stats/blob/master/nbs/explore-delitos.ipynb\"\n  }), \"Notebook\"), \".\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"INEI Crime Data","date":"May 31, 2018","description":"Exploring crime data from INEI.","tags":["visualization","python","altair","peru"]}}},"pageContext":{"slug":"/blog/2018-05-31-inei-crime-data/","previous":{"fields":{"slug":"/blog/2018-05-29-plotting-with-altair/"},"frontmatter":{"title":"Plotting with altair"}},"next":{"fields":{"slug":"/blog/2018-06-07-violence-against-women-in-peru/"},"frontmatter":{"title":"Violence against women in Perú"}}}},"staticQueryHashes":["2845909689","2957314285","559075325"]}