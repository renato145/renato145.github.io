{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/2018-05-31-inei-crime-data/","result":{"data":{"mdx":{"id":"f9f9efcf-a7f9-5b89-b9df-6b8ec424e3e8","excerpt":"In Perú, the Instituto Nacional de Estadística e Informática ( INEN ) is the government agency in charge of statistical information. In this post, we will be…","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"INEI Crime Data\",\n  \"date\": \"2018-05-31T00:00:00.000Z\",\n  \"tags\": [\"visualization\", \"python\", \"altair\", \"peru\"],\n  \"description\": \"Exploring crime data from INEI.\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"In Per\\xFA, the Instituto Nacional de Estad\\xEDstica e Inform\\xE1tica (\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.inei.gob.pe/\"\n  }), \"INEN\"), \") is the government agency in charge of statistical information. In this post, we will be looking at crime data from \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://criminalidad.inei.gob.pe\"\n  }), \"http://criminalidad.inei.gob.pe\"), \".\"), mdx(\"p\", null, \"We can download the number of crime complaints by type and region. As we would like to compare different regions it\\u2019s important to express the numbers as a population ratio rather than absolute counts. We can find the population by region on \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://webapp.inei.gob.pe:8080/sirtod-series\"\n  }), \"INEI series\"), \".\"), mdx(\"p\", null, \"Here is a view of the numbers and ratio of complaints by region and type:\"), mdx(AltairPlot, {\n    data: data1,\n    id: 'data1',\n    mdxType: \"AltairPlot\"\n  }), mdx(\"br\", null), mdx(\"h2\", null, \"Region similarities\"), mdx(\"p\", null, \"Now let\\u2019s use some dimensionality reduction like PCA to see how similar are the different regions by crime types.\"), mdx(AltairPlot, {\n    data: data2,\n    id: 'data2',\n    mdxType: \"AltairPlot\"\n  }), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The X axis is showing the first component, which explains 95% of the variation.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The size indicates population.\")), mdx(\"br\", null), mdx(\"h2\", null, \"Maps\"), mdx(\"p\", null, \"Now, using geopandas and matplotlib, we can plot some maps. Here we have the crime complaints / population by region:\"), mdx(\"center\", null, mdx(\"span\", _extends({\n    parentName: \"center\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"432px\"\n    }\n  }), \"\\n      \", mdx(\"a\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/4c4c5a2cdb7f91a3f7dfa39e13dc7098/0e0c3/delitos-ratio-map.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"150%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAAAsSAAALEgHS3X78AAAEQ0lEQVRIx41WWU8bVxj1n+xbFantQ1/aKmpToCmJQkQIEEBQ0Yq1DVRNU0hqtsZma0JSjAyFhs2YBBvH2Hgdj2ff5/TO2B7G2Di50tWdGX333POdb7njgWuYpmmvuq6D53mIomhPSZLslWVZ+1kQBBiGUbWnMjz1AGVZRjQatWcsFsMpmdlMBqFQyPlu2bwXsJ5BibGGeqOebV2G1lqaBqwvbD4MPrcDw6zYGS4bs2pvQ0CYuv0uUPvQMl7w+QMH1LWriqmn9IlMo3xqCdExkPgc1KwfKCxCTc+AL7yBTuKhyAJUVXFMHYZu2lWBkRiIdBhKdhEm9QxGnoBSfgK+CDHzClJ6CWLKD4GOVHnluMxF30Fl2NJz+hh0aJIA/QUz77PBTOpiBTkAtI/IMAeRSdRqKOXiiI13gUtEYWWXGPoDwuEwNGqpDOgjQP6LNbcAJeMnBwdA52MV10oMdaKycH4EPdADfXMQhXdBMK9HwYYnCItl2003mJZ9BpHaIxrysPZejrTHelQEBsxKH8JDLciFn0I4GEVu7yGYBGGSmrfBbHfzCxBzATsolQhf1r6soYaz9WVMf9yEaMBLojmPbHAQfGaVuLUKOjYDFJegE1eFwtuGuVgV5bNgELG1n8FTazjff0zO2SEsfVCJq1LsCYqnL6Db+WnWgMHN0CwbWYPdeQzmeTeSzwcgpZbBpBbBRJ4gP9YG+tdRO2hoVCkXH0rCKBxF9OxC0d+OVHgG8V0vzjubQQ22Q7rXDO6/rUqB161px2WzfLIFyx+SPHt5D+xbL3RqC7mNKaRWJiG3fYPiUC/J2ZNS8hdpqAJfm9imo0uJpUSdobDQhtTGBOmBu+CUIzDxANjOVmj3v4PQ1wbuz0dIjf8AWVFKgOX+6HHTdmuyPjyOmevfIxnxgTtbQCH0FMnxu2B7WsES0MLtL8EM3oWwu0nKM+3I5qnpNOWTCmcpTH1yE/u/dZHwT0AJj4E9HEHe14H0yE3I/a3Qf7wDpfsGhMkBaJpWv32ZLtA97xIeffQVIi8mQFMbSAaHYWz0Qv67G3RfC4z+WzAHbkHruA5he71xP7SGdW/MNXUiur0KVT9GNkJcf9kP7VUPeP995H5pBf17L9ipAfCJk6uvAHuW6ys48BCbY8OQhCDY5BK43BrExBxMUvvMvyNQtSMyQ5Bktj6gA1p2O7N/jIVPm5HcmiZv28jHFnHq/QmF+TtgI7PE+A1k9gCqIl8N6O7i1jjfDWOr4wFicyMIdXRg/1oTXn/+NRL/TEOQj0BlT51dVzLEpagrLI/IhBdHX7Qh/FkTQtdaEH7QDoF0n2IxTtqZ9B6G7mvBcPoVZI5DcnYFBzduIz/6LTJrQ+A5oqOqNgasYerS1b4mknHkZzvB+UjVpE5qE7sRqLveTatLlxuDUkxDPAnAKP8IVF1SHzIu8rRahisv+g8GrbCt/F24ZPkfiBDLjQrsMZIAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"ratios per region\",\n    \"title\": \"ratios per region\",\n    \"src\": \"/static/4c4c5a2cdb7f91a3f7dfa39e13dc7098/0e0c3/delitos-ratio-map.png\",\n    \"srcSet\": [\"/static/4c4c5a2cdb7f91a3f7dfa39e13dc7098/12f09/delitos-ratio-map.png 148w\", \"/static/4c4c5a2cdb7f91a3f7dfa39e13dc7098/e4a3f/delitos-ratio-map.png 295w\", \"/static/4c4c5a2cdb7f91a3f7dfa39e13dc7098/0e0c3/delitos-ratio-map.png 432w\"],\n    \"sizes\": \"(max-width: 432px) 100vw, 432px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n  \"), \"\\n    \")), mdx(\"br\", null), mdx(\"p\", null, \"Finally we can show maps for the most recurrent crimes types:\"), mdx(\"center\", null, mdx(\"span\", _extends({\n    parentName: \"center\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }), \"\\n      \", mdx(\"a\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/f5d2a2448a50f4c3f33d776a0268fb5f/6d2da/delitos-crim-maps.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"115.54054054054055%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAAsSAAALEgHS3X78AAAEIElEQVQ4y1VU227bRhD1b7foU/PStwZNUNQPLdLCSJMiqZ0gTlPHhovCiOHWl9iWdZdomRSv4nVJLq86HXKlFTqAIHI4O3P2nJnZWi6XaEw3LBj0a6woCkQshqGbWDguoihCWZZIkhQPhgnb99v3xqp6CW1u0Dfevm+1zjxHnhjgbIKqLNoPWRojL1xkmYOcvre+IgM/+Yjk8hQVhBWcIXOvkEUzLNcJg4ch5rfPUcRT1LUIdMcX0O/eEoIIazMn/8L88WvUw670PdwcwL35CXXhC4TrK/dPdqFfvECVBe17TUhHr5+g+8M2Ep+t0EQY7z/F5PVvyLi4SRLZGOw9hvHhjxYMJRSQAt3G9M9tRHZfVo/VAW6//Qq+fi99wcMVur88Qhr60qedH6Oz8x3RVVLCBk1doaT0zLbAY4GwKVQUFaGzKTCVviwncXyTbpBLH08zAmLQc4WtmhIlKYdl2XAWC8SkZF0Jym3Hhh+Eq4OCmvlcaztA2JLUrqFpKliSblROIw8pU4ije5SFqBwZGtLFHapKlS3C2IIUf0CeEcKVeizQkfMx/Ww0NduESWhC6e5S29xjBQTu9Bbdg6fw1JnkypnfQZ18RFlxGWcoZzBmR0QLX6ssKunKJ8yuf0bOdKxiMT7bQ+ftE1SpKy5ISJWLlzDG71EvhcpVwTHp7cMxLlpattbV66pA7/gNQkeRiEoWwPxnFwlzpC9nJrSzF3TFVPo8fYb+6QEBIVGaMUuSGEEYkQAMLAoFZ1StESQMWUt+U52nKRzXh+sENEniimmawHE8igsFwiYhzwsi10FgThDHcTvLjYVREyjQNSLk5RKuNUOw0FCUohOyrIDrmiSYvxEltAw4n56hnr2X6jnqCK52TthcQiwOe+od+HAHy+hO8uxZfVJ+iBrxJiGnrh/89T1CnRKUIjQObAyv9xCzuezBaN7F5faX0Ds9yd/CHmPSPQT3vYYZUnmFyNVvMX7zCInSkcGW3oHSeU58udJ3f/grzfcXpC6TvtHlIYb7O9QNXCyHNQLr/BSuuplbUEsF5g01crhxFQmC7t8o843KVc2xIDpKWnNy2/h+gICJoIpGLyFxLMuBR5smpcrtiCYJTNNByDhNlBCuEdGwmiUsYrbalqCtyxMPcaTSc9UibpIksYUo1MA5F21D/3FMikaWHEeepWDWZzBXoWZfieJM+1Avd6ktbZRrxJ5K/XZGI+XIMXOsMYLgmg4y6VNvThCMXtK17M1yqAn+dHAEe0QJfLG+SlpP48+/w9POZItkPMSofwTPViTvoa1ifPkKRq9LK63ezDKLF5i++wbh8FyS7dMYKoN3SOPN6JlqD1ekdLMg1jbvHeP61WPaVlwgXFdLfZ148uXibBF4Fq22/+/EuOUwW8m+bFRATGdrWn3/AWXt1fFyH8XMAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"crime complaint maps\",\n    \"title\": \"crime complaint maps\",\n    \"src\": \"/static/f5d2a2448a50f4c3f33d776a0268fb5f/fcda8/delitos-crim-maps.png\",\n    \"srcSet\": [\"/static/f5d2a2448a50f4c3f33d776a0268fb5f/12f09/delitos-crim-maps.png 148w\", \"/static/f5d2a2448a50f4c3f33d776a0268fb5f/e4a3f/delitos-crim-maps.png 295w\", \"/static/f5d2a2448a50f4c3f33d776a0268fb5f/fcda8/delitos-crim-maps.png 590w\", \"/static/f5d2a2448a50f4c3f33d776a0268fb5f/efc66/delitos-crim-maps.png 885w\", \"/static/f5d2a2448a50f4c3f33d776a0268fb5f/6d2da/delitos-crim-maps.png 936w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n  \"), \"\\n    \")), mdx(\"br\", null), mdx(\"h2\", null, \"Code used in the post\"), mdx(\"p\", null, \"You can find the python code here: \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://nbviewer.jupyter.org/github/renato145/peru-stats/blob/master/nbs/explore-delitos.ipynb\"\n  }), \"Notebook\"), \".\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"INEI Crime Data","date":"May 31, 2018","description":"Exploring crime data from INEI.","tags":["visualization","python","altair","peru"]}}},"pageContext":{"slug":"/blog/2018-05-31-inei-crime-data/","previous":{"fields":{"slug":"/blog/2018-05-29-plotting-with-altair/"},"frontmatter":{"title":"Plotting with altair"}},"next":{"fields":{"slug":"/blog/2018-06-07-violence-against-women-in-peru/"},"frontmatter":{"title":"Violence against women in Perú"}}}},"staticQueryHashes":["2845909689","2957314285","559075325"]}