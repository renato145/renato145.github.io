{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/2018-05-31-inei-crime-data/","result":{"data":{"mdx":{"id":"f9f9efcf-a7f9-5b89-b9df-6b8ec424e3e8","excerpt":"In Perú, the Instituto Nacional de Estadística e Informática ( INEN ) is the government agency in charge of statistical information. In this post, we will be…","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"INEI Crime Data\",\n  \"date\": \"2018-05-31T00:00:00.000Z\",\n  \"tags\": [\"visualization\", \"python\", \"altair\", \"peru\"],\n  \"description\": \"Exploring crime data from INEI.\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"In Per\\xFA, the Instituto Nacional de Estad\\xEDstica e Inform\\xE1tica (\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.inei.gob.pe/\"\n  }), \"INEN\"), \") is the government agency in charge of statistical information. In this post, we will be looking at crime data from \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://criminalidad.inei.gob.pe\"\n  }), \"http://criminalidad.inei.gob.pe\"), \".\"), mdx(\"p\", null, \"We can download the number of crime complaints by type and region. As we would like to compare different regions it\\u2019s important to express the numbers as a population ratio rather than absolute counts. We can find the population by region on \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://webapp.inei.gob.pe:8080/sirtod-series\"\n  }), \"INEI series\"), \".\"), mdx(\"p\", null, \"Here is a view of the numbers and ratio of complaints by region and type:\"), mdx(AltairPlot, {\n    data: data1,\n    id: 'data1',\n    mdxType: \"AltairPlot\"\n  }), mdx(\"br\", null), mdx(\"h2\", null, \"Region similarities\"), mdx(\"p\", null, \"Now let\\u2019s use some dimensionality reduction like PCA to see how similar are the different regions by crime types.\"), mdx(AltairPlot, {\n    data: data2,\n    id: 'data2',\n    mdxType: \"AltairPlot\"\n  }), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The X axis is showing the first component, which explains 95% of the variation.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The size indicates population.\")), mdx(\"br\", null), mdx(\"h2\", null, \"Maps\"), mdx(\"p\", null, \"Now, using geopandas and matplotlib, we can plot some maps. Here we have the crime complaints / population by region:\"), mdx(\"center\", null, mdx(\"span\", _extends({\n    parentName: \"center\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"432px\"\n    }\n  }), \"\\n      \", mdx(\"a\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/4c4c5a2cdb7f91a3f7dfa39e13dc7098/0e0c3/delitos-ratio-map.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"150%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAAAsSAAALEgHS3X78AAAEQUlEQVRIx5WV+08bRxSF+TdbKapaqb9FbZWIhkKbkoRXIaQNQpQSokCSFtEqgHnEvGIlUJpAGkTAJQYMGLDx217b6/WuH/t1vOsY29ikHWk0u+uZM+fee+5xHSVD13VjzeVypFIpNE0zZjqtoaoqiqIY7/nn/J7SM+9HXTXAPJjT6WR/f5+DgwNj+nxe7Ha78S0/86AfBKy2IT+y2WzV36vtrcowvxrP+VW8x0M7yCE7esm+0ll69kJAXTeZJcNbpH3jyJFdzpEy9hkPJmARJFcAqQhFTUbQ/HMQmUXzTpCMHiK2ikKpZEQqCqeLF9Wdz4tZvbSmoEj7aIEF9PBTcqFZCFvF+zzJwEtS/mckfYskpaOyqIoMFY+PTCJhPCf8TiKOEQE0gx4SYOFZsVoNUF2A5i8gaiXjt6DE3edzqIY8HN7vRva6jRCU7d9J2vvJhgU7AZIL5UFK1xnSgackvEtEg65yhkbS3SLpy51k/h4gerJObGOAhGMYpAUDoBQsG5xBCa2jKlEhp4wQeLasmCZDOYpsu8PBg0ZCO0+QNwcIbg0T9wgmvikDzAg3NI0SWCGTOye/s5BNuaU5sk3yx8dXca1a0NzjBFd7RUiLJETiJdeEYDsv2E2RFNIxAbJVtVhXWuF923MOl4eFNJbxbo1ARoTvFpUNWlHdY8ROXhhSMWWi1+6Usx90pNcPkZbucLrUKyRiI+6bI3EyQWiohcjoEDnTPWp3ytkHMzGa5CO+0EZ09hZeh4Xjt2OcdjUQ7rmJ0v4N8vamuV8UpFpP152V3GgX8gHJmxZ40UbMaSHtf0XA9gjv7APU5qtEB++S9HrMy2WZjLC0c7Ixb9CLLJXAIXFrM4E3j5HlTRJpB7HDZRIdTaQ7BMueVmTrBL6H/cLGtELr5srNodJh/uzrZ/ra95y6FoiLwoTfWfD0NyN3NpFoayTy3WWk3lskd+2kpUi5DsucpnCTf++Y0UvXcDzpBvcw2rt7xLZ+ITjZgvfnBlI/fUu2rxm1qx55RHRVLfsyZgH0za8WRj/6EpeQUjQgpLQqDr7qJrX4A7HuBvS719F7rpNpv4KysXqxHxqOI/Iz/lULh+vP0LI7BPYsSM+7yS53EZ9uJTTYhDTcQfxRF/LRTu2/AGNmTZYvu++z/tuQ6N1VYp55oUsbimsc/a/bxNb60VJ2NNWOoiWqAxZBC2G7V98y9Wk9PruQEq+JuJ9xPHcPyXqD+P6k+LYnvCAPmqoNWAnqWllnrbUdt22Y7dudbH5Sz8blK3jXxlDUbSLBg2Kn1WRYCar4Q+z0Peafz5vY+exrti814PixQ5jFGlL0RDi8+mGGlaCGdwaCHIvqb33RSHCgnsDKoBC/QwBqFwOWgRb0WQosOXcJj90UHXVD2Jyz6AcXApZ1UAnb98Cp4BGKw0Yuo53vlP8yqqVBr3Rs/uc4M5KC5em5sov+BQuUy66yk30aAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"ratios per region\",\n    \"title\": \"ratios per region\",\n    \"src\": \"/static/4c4c5a2cdb7f91a3f7dfa39e13dc7098/0e0c3/delitos-ratio-map.png\",\n    \"srcSet\": [\"/static/4c4c5a2cdb7f91a3f7dfa39e13dc7098/12f09/delitos-ratio-map.png 148w\", \"/static/4c4c5a2cdb7f91a3f7dfa39e13dc7098/e4a3f/delitos-ratio-map.png 295w\", \"/static/4c4c5a2cdb7f91a3f7dfa39e13dc7098/0e0c3/delitos-ratio-map.png 432w\"],\n    \"sizes\": \"(max-width: 432px) 100vw, 432px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n  \"), \"\\n    \")), mdx(\"br\", null), mdx(\"p\", null, \"Finally we can show maps for the most recurrent crimes types:\"), mdx(\"center\", null, mdx(\"span\", _extends({\n    parentName: \"center\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"590px\"\n    }\n  }), \"\\n      \", mdx(\"a\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/f5d2a2448a50f4c3f33d776a0268fb5f/6d2da/delitos-crim-maps.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"115.54054054054055%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAAsSAAALEgHS3X78AAAEKElEQVQ4y1VVa2/cVBDNn0aIL3xBfGk/ISqIUAFVqiARhJaGlJKq0AIthaRJNo9ulo13s+v1+u1r3+u3r30YP2IX765kH43nzsyZc3ajqirUl2FaWGl6c18UBUQYQtdNWJYNIUSDJUkC1TBhegx5njexJb2/0gyKiZvnjQak4Cy2EXMFsshQH5EmMbKMIUktuk9QH5zJAvHhS4T0K8qyPTxPkXjnSII56tqahHx9De1sC7mYQLZx8BfnWL99BFn5uLls9RzG1x9Bjg56bHXxAs7pXcjMbArZuGl5+noX2sG3kInXPFdSQtndxPiLTYRO0FaTRlB++RyznW0kUdpgsXAx/ekO9CePqbuSEnalB6YL5ckmAu2kPz3SZzi9/T7sq7c9FmjnOP/yQ3Bz3WPayZ84/eoW8jhqW66TllRwaJqIA6etsCpRyAqRo6PIRI/lhUTkatRi1GEVzThHsFZRlnnbchwnDZum7SCMYkgafjMz14Xr+f2L9bVer8EC0WOSDl2tNAQiHFhOQk6zWCJL5sizlv7ItRHZRFKxJCazFot8pOkKWapTItlgIbeRxgpVaVCFVZdQOJiPf2zWpisEbDnBeP8OPHXWz8o1plCVfeQy7OPMxRHW108h867Cei7NYi8OsBjdQ8ZVdLGYH+1h9MMnKEKzBWjW18c7WE/36LZlud7b2eXPsPUDOkS2FbbzkBg/fwhXG/cVFZGA/vo7CLbqsSyyof51n8bEesy3Vrj4Y492OMVGQazFRDfnAp7HIbjfyIyOQEBYwALaAtm0mKUJPHp2bY8StiynhLkug09yLKmDjVqTcZKCBwzMnDe6zbK2HU7JGbO6bktkRQXHXMGziZhOy2mWw3FMBIHXsN60HDEP9t/bKGcPaSZtoGcs4ahvqE6bWG6xwJghudqmHo/IFLp2HYUqn9Ae80HLKVU1+e0zMPUVSa5TCXcxOXlAI1j2jArzCid3P4A2OhuYt+dQxk/JHLx6SoP0mDUhTX6McPpmMAPjErOzb0i3Zo8tn+/g7NP3iDCnx5TRC1zu3kMe8FYpNyqwyJYs5RLvXkw/oYTDy5VMwU6fkd0NLlRWGazFKQkjGtwm4JwkFfUExHEM23aJVdFIs8ZqgzUth2QW9wZbx5mWR+9TjKzdpm6cvklMKxMsuxVp9S2EjcBXm7WqsaTeBm7RRhh9wiTLyHkuwG1lkB5bXUM9fEBmqvVOzAMTjv0PsW7QIW0XrrOA74+oRR+dwLAeH4JNtmhJ1Xf/AiTmk2cwZ5SAtbOpHUc524W7eNVLMUsFria/wrPmuJEstzRcHX8P498xWZoctBwmPmaPb4Od/T5IiiqaXz5CKIwes/Qpjvbv0/KLHtOnL3G8dQsJDzqD7YiJXBWRsHozbchiJkLm/s8Tub8mmxsMtv4Il2wujfEfpg7VtfA+/zAAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"img\", _extends({\n    parentName: \"a\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"crime complaint maps\",\n    \"title\": \"crime complaint maps\",\n    \"src\": \"/static/f5d2a2448a50f4c3f33d776a0268fb5f/fcda8/delitos-crim-maps.png\",\n    \"srcSet\": [\"/static/f5d2a2448a50f4c3f33d776a0268fb5f/12f09/delitos-crim-maps.png 148w\", \"/static/f5d2a2448a50f4c3f33d776a0268fb5f/e4a3f/delitos-crim-maps.png 295w\", \"/static/f5d2a2448a50f4c3f33d776a0268fb5f/fcda8/delitos-crim-maps.png 590w\", \"/static/f5d2a2448a50f4c3f33d776a0268fb5f/efc66/delitos-crim-maps.png 885w\", \"/static/f5d2a2448a50f4c3f33d776a0268fb5f/6d2da/delitos-crim-maps.png 936w\"],\n    \"sizes\": \"(max-width: 590px) 100vw, 590px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  })), \"\\n  \"), \"\\n    \")), mdx(\"br\", null), mdx(\"h2\", null, \"Code used in the post\"), mdx(\"p\", null, \"You can find the python code here: \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://nbviewer.jupyter.org/github/renato145/peru-stats/blob/master/nbs/explore-delitos.ipynb\"\n  }), \"Notebook\"), \".\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"INEI Crime Data","date":"May 31, 2018","description":"Exploring crime data from INEI.","tags":["visualization","python","altair","peru"]}}},"pageContext":{"slug":"/blog/2018-05-31-inei-crime-data/","previous":{"fields":{"slug":"/blog/2018-05-29-plotting-with-altair/"},"frontmatter":{"title":"Plotting with altair"}},"next":{"fields":{"slug":"/blog/2018-06-07-violence-against-women-in-peru/"},"frontmatter":{"title":"Violence against women in Perú"}}}},"staticQueryHashes":["2845909689","2957314285","559075325"]}