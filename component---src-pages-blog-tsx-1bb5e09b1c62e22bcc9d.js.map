{"version":3,"file":"component---src-pages-blog-tsx-1bb5e09b1c62e22bcc9d.js","mappings":"4LAKaA,EAA8B,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAaC,GAAhB,mBACzC,wCACEC,UAAU,6GACND,GAEHD,K,4GCDQG,EAA+B,SAAC,GAAuB,IAArBC,EAAqB,EAArBA,KAASH,GAAY,YAC5DI,EAAYD,EAAKE,YAAYC,OAASH,EAAKI,OAAOC,KAClDC,EAAON,EAAKE,YAAYI,KAE9B,OACE,sBAAST,EACP,2BACE,gBAAC,EAAAU,KAAD,CACEC,GAAIR,EAAKI,OAAOC,KAChBP,UAAU,sCAETG,IAGL,uBAAKH,UAAU,6CACb,yBAAIE,EAAKE,YAAYO,MACrB,qBAAGX,UAAU,QAAb,KACA,gBAACY,EAAA,EAAD,CAASJ,KAAMA,KAEjB,qBACER,UAAU,OACVa,wBAAyB,CACvBC,OAAQZ,EAAKE,YAAYW,aAAeb,EAAKc,a,iGChB1CC,EAAyB,SAAC,GAQjC,QAPJZ,MAAAA,OAOI,aANJa,UAAAA,OAMI,MANQ,EAMR,MALJC,aAAAA,OAKI,aAJJC,aAAAA,OAII,MAJW,YAIX,MAHJC,aAAAA,OAGI,SAFJC,EAEI,EAFJA,MACGvB,GACC,YACJ,GAA0BwB,EAAAA,EAAAA,UAASL,GAA5BM,EAAP,KAAcC,EAAd,KACMC,EAAeJ,EAAMK,MAAM,EAAGH,GAASF,EAAMM,QAC7CC,GAAgBC,EAAAA,EAAAA,cAAY,WAC5BN,EAAQF,EAAMM,QAAQH,GAAS,SAACD,GAAD,OAAWA,EAAQN,OACrD,CAACI,EAAMM,OAAQV,IACZa,GAAMC,EAAAA,EAAAA,QAAuB,MAOnC,OANAC,EAAAA,EAAAA,GAAwB,CACtBC,OAAQH,EACRI,YAAaN,EACbO,QAASf,IAIT,sBAAStB,EACNM,GAAS,sBAAIL,UAAU,eAAd,SACV,uBAAKA,UAAU,uBACZ0B,EAAaW,KAAI,gBAAGnC,EAAH,EAAGA,KAAH,OAChB,gBAACD,EAAD,CACEC,KAAMA,EACNoC,IAAKpC,EAAKI,OAAOC,KACjBP,UAAU,6BAIfmB,GAAgBO,EAAaE,OAASN,EAAMM,QAC3C,uBAAKG,IAAKA,EAAK/B,UAAU,aACvB,gBAACH,EAAA,EAAD,CAAY0C,QAASV,GAAgBT,IAGvB,IAAjBE,EAAMM,QAAgB,qC,mEC5ChBK,EAAkD,SAAC,GAO1D,IANJC,EAMI,EANJA,OACAC,EAKI,EALJA,YAKI,IAJJC,QAAAA,OAII,SAHJI,EAGI,EAHJA,KAGI,IAFJC,WAAAA,OAEI,MAFS,MAET,MADJC,UAAAA,OACI,MADQ,EACR,GACJC,EAAAA,EAAAA,YAAU,WACR,GAAKP,EAAL,CAEA,IAAMQ,EAAW,IAAIC,sBACnB,SAACC,GACCA,EAAQC,SAAQ,SAACC,GAAD,OAAWA,EAAMC,gBAAkBd,SAErD,CACEK,KAAAA,EACAC,WAAAA,EACAC,UAAAA,IAIEQ,EAAKhB,GAAUA,EAAOiB,QAC5B,GAAKD,EAIL,OAFAN,EAASQ,QAAQF,GAEV,kBAAMN,EAASS,UAAUH,OAC/B,CAAChB,EAAOiB,QAASf,M,8DCXtB,UAhBmC,SAAC,GAAuB,IAArBkB,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,SACpClD,EAAQ,OACRiB,EAAQgC,EAAKE,OAAOC,MAE1B,OACE,gBAAC,IAAD,CACEF,SAAUA,EACVlD,MAAOA,EAEPqD,aAAc,CAAErD,MAAAA,IAEhB,gBAAC,IAAD,CAAOiB,MAAOA,EAAOJ,UAAW","sources":["webpack://renato-hermoza/./src/components/LinkButton.tsx","webpack://renato-hermoza/./src/components/PostPreview.tsx","webpack://renato-hermoza/./src/components/Posts.tsx","webpack://renato-hermoza/./src/hooks/useIntersectionObserver.tsx","webpack://renato-hermoza/./src/pages/blog.tsx"],"sourcesContent":["import React, { HTMLProps } from 'react';\n\ninterface Props\n  extends Omit<HTMLProps<HTMLButtonElement>, 'className' | 'type'> {}\n\nexport const LinkButton: React.FC<Props> = ({ children, ...props }) => (\n  <button\n    className=\"bg-opacity-0 p-0 text-sky-600 hover:bg-opacity-0 hover:text-sky-800 focus:shadow-none active:bg-opacity-0\"\n    {...props}\n  >\n    {children}\n  </button>\n);\n","import React, { HTMLProps } from 'react';\nimport { Link } from 'gatsby';\nimport { TagList } from './TagList';\nimport { MdxNode } from './Types';\n\ninterface Props extends HTMLProps<HTMLDivElement> {\n  node: MdxNode;\n}\n\nexport const PostPreview: React.FC<Props> = ({ node, ...props }) => {\n  const postTitle = node.frontmatter.title || node.fields.slug;\n  const tags = node.frontmatter.tags;\n\n  return (\n    <div {...props}>\n      <div>\n        <Link\n          to={node.fields.slug}\n          className=\"text-xl font-medium leading-normal\"\n        >\n          {postTitle}\n        </Link>\n      </div>\n      <div className=\"flex text-xs leading-normal text-gray-500\">\n        <p>{node.frontmatter.date}</p>\n        <p className=\"px-1\">-</p>\n        <TagList tags={tags} />\n      </div>\n      <p\n        className=\"mt-1\"\n        dangerouslySetInnerHTML={{\n          __html: node.frontmatter.description || node.excerpt,\n        }}\n      />\n    </div>\n  );\n};\n","import React, { HTMLProps, useCallback, useRef, useState } from 'react';\nimport { PostPreview } from './PostPreview';\nimport { LinkButton } from './LinkButton';\nimport { MdxNode, NodesOf } from './Types';\nimport { useIntersectionObserver } from '../hooks/useIntersectionObserver';\n\ninterface Props extends Omit<HTMLProps<HTMLDivElement>, 'title'> {\n  title?: boolean;\n  showLimit?: number;\n  showLoadMore?: boolean;\n  loadMoreText?: string;\n  autoLoadMore?: boolean;\n  posts: NodesOf<MdxNode>;\n}\n\nexport const Posts: React.FC<Props> = ({\n  title = false,\n  showLimit = 6,\n  showLoadMore = true,\n  loadMoreText = 'Load more',\n  autoLoadMore = true,\n  posts,\n  ...props\n}) => {\n  const [limit, setLimit] = useState(showLimit);\n  const visiblePosts = posts.slice(0, limit || posts.length);\n  const increaseLimit = useCallback(() => {\n    if (limit < posts.length) setLimit((limit) => limit + showLimit);\n  }, [posts.length, showLimit]);\n  const ref = useRef<HTMLDivElement>(null);\n  useIntersectionObserver({\n    target: ref,\n    onIntersect: increaseLimit,\n    enabled: autoLoadMore,\n  });\n\n  return (\n    <div {...props}>\n      {title && <h2 className=\"font-medium\">Posts</h2>}\n      <div className=\"mt-2 flex flex-wrap\">\n        {visiblePosts.map(({ node }) => (\n          <PostPreview\n            node={node}\n            key={node.fields.slug}\n            className=\"mb-4 w-full lg:w-1/2\"\n          />\n        ))}\n      </div>\n      {showLoadMore && visiblePosts.length < posts.length && (\n        <div ref={ref} className=\"mt-0 ml-2\">\n          <LinkButton onClick={increaseLimit}>{loadMoreText}</LinkButton>\n        </div>\n      )}\n      {posts.length === 0 && <div>...</div>}\n    </div>\n  );\n};\n","import React from 'react';\nimport { useEffect } from 'react';\n\ninterface Props extends IntersectionObserverInit {\n  target: React.RefObject<HTMLElement>;\n  onIntersect: () => void;\n  enabled?: boolean;\n}\n\nexport const useIntersectionObserver: (props: Props) => void = ({\n  target,\n  onIntersect,\n  enabled = true,\n  root,\n  rootMargin = '0px',\n  threshold = 1.0,\n}) => {\n  useEffect(() => {\n    if (!enabled) return;\n\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => entry.isIntersecting && onIntersect());\n      },\n      {\n        root,\n        rootMargin,\n        threshold,\n      }\n    );\n\n    const el = target && target.current;\n    if (!el) return;\n\n    observer.observe(el);\n\n    return () => observer.unobserve(el);\n  }, [target.current, enabled]);\n};\n","import React from 'react';\nimport { graphql, PageProps } from 'gatsby';\nimport { Layout } from '../components/Layout';\nimport { Posts } from '../components/Posts';\nimport { MdxAllNodes } from '../components/Types';\n\ninterface Props extends PageProps {\n  data: MdxAllNodes;\n}\n\nconst BlogIndex: React.FC<Props> = ({ data, location }) => {\n  const title = 'Blog';\n  const posts = data.allMdx.edges;\n\n  return (\n    <Layout\n      location={location}\n      title={title}\n      // description={title}\n      headerConfig={{ title }}\n    >\n      <Posts posts={posts} showLimit={9} />\n    </Layout>\n  );\n};\n\nexport default BlogIndex;\n\nexport const pageQuery = graphql`\n  query {\n    allMdx(sort: { fields: [frontmatter___date], order: DESC }) {\n      edges {\n        node {\n          fields {\n            slug\n          }\n          frontmatter {\n            date(formatString: \"MMMM DD, YYYY\")\n            title\n            description\n            tags\n          }\n        }\n      }\n    }\n  }\n`;\n"],"names":["LinkButton","children","props","className","PostPreview","node","postTitle","frontmatter","title","fields","slug","tags","Link","to","date","TagList","dangerouslySetInnerHTML","__html","description","excerpt","Posts","showLimit","showLoadMore","loadMoreText","autoLoadMore","posts","useState","limit","setLimit","visiblePosts","slice","length","increaseLimit","useCallback","ref","useRef","useIntersectionObserver","target","onIntersect","enabled","map","key","onClick","root","rootMargin","threshold","useEffect","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","el","current","observe","unobserve","data","location","allMdx","edges","headerConfig"],"sourceRoot":""}